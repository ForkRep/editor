!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.EasylogicStudio=e():t.EasylogicStudio=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"randomNumber",(function(){return b})),n.d(r,"randomByCount",(function(){return m})),n.d(r,"random",(function(){return g})),n.d(r,"randomRGBA",(function(){return w}));var o={};n.r(o),n.d(o,"round",(function(){return I})),n.d(o,"degreeToRadian",(function(){return L})),n.d(o,"div",(function(){return M})),n.d(o,"radianToDegree",(function(){return z})),n.d(o,"getXInCircle",(function(){return B})),n.d(o,"getYInCircle",(function(){return F})),n.d(o,"getXYInCircle",(function(){return G})),n.d(o,"getDist",(function(){return H})),n.d(o,"calculateAngle",(function(){return X})),n.d(o,"calculateAngleByPoints",(function(){return Y})),n.d(o,"calculateAnglePointDistance",(function(){return N})),n.d(o,"calculateAngle360",(function(){return K})),n.d(o,"uuid",(function(){return U})),n.d(o,"uuidShort",(function(){return Z})),n.d(o,"cubicBezier",(function(){return tt})),n.d(o,"getGradientLine",(function(){return et})),n.d(o,"CCW",(function(){return nt})),n.d(o,"incircle",(function(){return rt})),n.d(o,"initPolygon",(function(){return ot})),n.d(o,"Deluanay",(function(){return at})),n.d(o,"generate_sample_points",(function(){return ct})),n.d(o,"getCenterInTriangle",(function(){return ut})),n.d(o,"normalize",(function(){return lt}));var i={};n.r(i),n.d(i,"collectProps",(function(){return Yt})),n.d(i,"debounce",(function(){return Nt})),n.d(i,"throttle",(function(){return Kt})),n.d(i,"keyEach",(function(){return Wt})),n.d(i,"keyMap",(function(){return Ut})),n.d(i,"keyMapJoin",(function(){return Zt})),n.d(i,"get",(function(){return qt})),n.d(i,"defaultValue",(function(){return Jt})),n.d(i,"isUndefined",(function(){return Qt})),n.d(i,"isNotUndefined",(function(){return te})),n.d(i,"isArray",(function(){return ee})),n.d(i,"isBoolean",(function(){return ne})),n.d(i,"isString",(function(){return re})),n.d(i,"isNotString",(function(){return oe})),n.d(i,"isObject",(function(){return ie})),n.d(i,"isFunction",(function(){return ae})),n.d(i,"isNumber",(function(){return ce})),n.d(i,"clone",(function(){return ue})),n.d(i,"cleanObject",(function(){return se})),n.d(i,"combineKeyArray",(function(){return le})),n.d(i,"repeat",(function(){return fe})),n.d(i,"randomItem",(function(){return pe})),n.d(i,"html",(function(){return he})),n.d(i,"CSS_TO_STRING",(function(){return de})),n.d(i,"STRING_TO_CSS",(function(){return ve})),n.d(i,"OBJECT_TO_PROPERTY",(function(){return be})),n.d(i,"OBJECT_TO_CLASS",(function(){return me})),n.d(i,"TAG_TO_STRING",(function(){return ge})),n.d(i,"mapjoin",(function(){return we})),n.d(i,"isArrayEquals",(function(){return ke})),n.d(i,"splitMethodByKeyword",(function(){return Oe})),n.d(i,"curveToPath",(function(){return je}));var a={};n.r(a),n.d(a,"format",(function(){return Se})),n.d(a,"hex",(function(){return Pe})),n.d(a,"rgb",(function(){return xe})),n.d(a,"hsl",(function(){return $e}));var c={};n.r(c),n.d(c,"ReverseXyz",(function(){return Ee})),n.d(c,"ReverseRGB",(function(){return _e})),n.d(c,"XYZtoRGB",(function(){return Ce})),n.d(c,"LABtoXYZ",(function(){return Te})),n.d(c,"PivotXyz",(function(){return Re})),n.d(c,"XYZtoLAB",(function(){return De})),n.d(c,"LABtoRGB",(function(){return Ve}));var u={};n.r(u),n.d(u,"RGBtoHSV",(function(){return Ae})),n.d(u,"RGBtoCMYK",(function(){return Ie})),n.d(u,"RGBtoHSL",(function(){return Le})),n.d(u,"c",(function(){return Me})),n.d(u,"gray",(function(){return ze})),n.d(u,"RGBtoSimpleGray",(function(){return Be})),n.d(u,"RGBtoGray",(function(){return Fe})),n.d(u,"brightness",(function(){return Ge})),n.d(u,"RGBtoYCrCb",(function(){return He})),n.d(u,"PivotRGB",(function(){return Xe})),n.d(u,"RGBtoXYZ",(function(){return Ye})),n.d(u,"RGBtoLAB",(function(){return Ne}));var s={};n.r(s),n.d(s,"CMYKtoRGB",(function(){return Ke}));var l={};n.r(l),n.d(l,"HSVtoRGB",(function(){return We})),n.d(l,"HSVtoHSL",(function(){return Ue}));var f={};n.r(f),n.d(f,"HUEtoRGB",(function(){return Ze})),n.d(f,"HSLtoHSV",(function(){return qe})),n.d(f,"HSLtoRGB",(function(){return Je}));var p={};n.r(p),n.d(p,"YCrCbtoRGB",(function(){return Qe}));var h={};n.r(h),n.d(h,"getColorIndexString",(function(){return un})),n.d(h,"isColor",(function(){return sn})),n.d(h,"matches",(function(){return ln})),n.d(h,"convertMatches",(function(){return fn})),n.d(h,"convertMatchesArray",(function(){return pn})),n.d(h,"reverseMatches",(function(){return yn})),n.d(h,"trim",(function(){return dn})),n.d(h,"parse",(function(){return vn})),n.d(h,"parseGradient",(function(){return bn}));var d={};n.r(d),n.d(d,"interpolateRGB",(function(){return mn})),n.d(d,"interpolateRGBObject",(function(){return gn})),n.d(d,"scale",(function(){return wn})),n.d(d,"blend",(function(){return kn})),n.d(d,"mix",(function(){return On})),n.d(d,"contrast",(function(){return jn})),n.d(d,"contrastColor",(function(){return Sn})),n.d(d,"gradient",(function(){return Pn})),n.d(d,"scaleHSV",(function(){return xn})),n.d(d,"scaleH",(function(){return $n})),n.d(d,"scaleS",(function(){return En})),n.d(d,"scaleV",(function(){return _n}));var v={};n.r(v),n.d(v,"start",(function(){return Of}));n(0);function b(t,e){return Math.floor(Math.random()*(e-t+1))+t}function m(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=[],n=0;n<t;n++)e[e.length]=g();return e}function g(){return xe({r:b(0,255),g:b(0,255),b:b(0,255)})}function w(){return xe({r:b(0,255),g:b(0,255),b:b(0,255),a:b(0,1e3)/1e3})}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var j={center:50,top:0,left:0,right:100,bottom:100},S=function t(){O(this,t)};S.CENTER="center",S.TOP="top",S.RIGHT="right",S.LEFT="left",S.BOTTOM="bottom";var P=/([\d.]+)(px|pt|fr|r?em|deg|vh|vw|m?s|%|g?rad|turn)/gi,$=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(O(this,t),this.value=e,ce(this.value)&&isNaN(this.value))throw new Error("NaN is not able to set");this.unit=n}var e,n,r;return e=t,n=[{key:Symbol.toPrimitive,value:function(t){return"number"==t?this.value:this.toString()}},{key:"toString",value:function(){switch(this.unit){case"string":case"number":return this.value+"";case"var":return"var(--".concat(this.value,")");case"calc":return"calc(".concat(this.value,")");default:return this.value+this.unit}}},{key:"isUnitType",value:function(t){return this.unit===t}},{key:"isCalc",value:function(){return this.isUnitType("calc")}},{key:"isFr",value:function(){return this.isUnitType("fr")}},{key:"isPercent",value:function(){return this.isUnitType("%")}},{key:"isPx",value:function(){return this.isUnitType("px")}},{key:"isEm",value:function(){return this.isUnitType("em")}},{key:"isDeg",value:function(){return this.isUnitType("deg")}},{key:"isRad",value:function(){return this.isUnitType("rad")}},{key:"isTurn",value:function(){return this.isUnitType("turn")}},{key:"isSecond",value:function(){return this.isUnitType("s")}},{key:"isMs",value:function(){return this.isUnitType("ms")}},{key:"isNumber",value:function(){return this.isUnitType("number")}},{key:"isString",value:function(){return this.isUnitType("")}},{key:"isVar",value:function(){return this.isUnitType("--")}},{key:"isNaN",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return ce(this.value)&&isNaN(this.value)}))},{key:"set",value:function(t){return this.value=t,this}},{key:"add",value:function(t){return this.value+=+t,this}},{key:"sub",value:function(t){return this.add(-1*t)}},{key:"mul",value:function(t){return this.value*=+t,this}},{key:"div",value:function(t){return this.value/=+t,this}},{key:"mod",value:function(t){return this.value%=+t,this}},{key:"clone",value:function(){return new t(this.value,this.unit)}},{key:"getUnitName",value:function(){return"%"===this.unit?"percent":this.unit}},{key:"toJSON",value:function(){return this.toString()}},{key:"rate",value:function(t){return t/this.value}},{key:"stringToPercent",value:function(){return te(j[this.value])?t.percent(j[this.value]):t.percent(0)}},{key:"stringToEm",value:function(t){return this.stringToPercent().toEm(t)}},{key:"stringToPx",value:function(t){return this.stringToPercent().toPx(t)}},{key:"toPercent",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?this.clone():this.isPx()?t.percent(100*this.value/e):this.isEm()?t.percent(this.value*n*100/e):this.isString()?this.stringToPercent(e):this.isDeg()?t.percent(this.value/360*100):void 0}},{key:"toEm",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?t.em(this.value/100*e/n):this.isPx()?t.em(this.value/n):this.isEm()?this.clone():this.isString()?this.stringToEm(e):void 0}},{key:"toPx",value:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1],this.isPercent()?t.px(this.value/100*e):this.isPx()?this.clone():this.isEm()?t.px(this.value/100*e/16):this.isString()?this.stringToPx(e):void 0}},{key:"toDeg",value:function(){return this.isDeg()?this.clone():this.isTurn()?t.deg(360*this.value):this.isRad()?t.deg(this.value*(180/Math.PI)):void 0}},{key:"toTurn",value:function(){return this.isTurn()?this.clone():this.isDeg()?t.turn(this.value/360):void 0}},{key:"toSecond",value:function(){return this.isSecond()?this:this.isMs()?t.second(this.value/1e3):void 0}},{key:"toMs",value:function(){return this.isSecond()?t.ms(1e3*this.value):this.isMs()?this:void 0}},{key:"to",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return"px"===t?this.toPx(e,n):"%"===t||"percent"===t?this.toPercent(e,n):"em"===t?this.toEm(e,n):"deg"===t?this.toDeg():"turn"===t?this.toTurn():void 0}},{key:"toUnit",value:function(e){return new t(this.value,e)}},{key:"calculate",value:function(t,e){var n=this[t];return n?n.call(this,e):this}},{key:"includes",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.includes(this.value)}},{key:"round",value:function(e){return new t(I(this.value,e),this.unit)}},{key:"floor",value:function(){return new t(Math.floor(this.value),this.unit)}},{key:"equals",value:function(t){return this.is(t.value)&&this.isUnitType(t.unit)}},{key:"is",value:function(t){return this.value===t}},{key:"clamp",value:function(e,n){return new t(Math.max(e,Math.min(n,this.value)),this.unit)}}],r=[{key:"min",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.shift(),o=0,i=e.length;o<i;o++)r.value>e[o].value&&(r=e[o]);return r}},{key:"max",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.shift(),o=0,i=e.length;o<i;o++)r.value<e[o].value&&(r=e[o]);return r}},{key:"string",value:function(e){return new t(e+"","")}},{key:"number",value:function(e){return new t(+e,"number")}},{key:"px",value:function(e){return new t(+e,"px")}},{key:"em",value:function(e){return new t(+e,"em")}},{key:"percent",value:function(e){return new t(+e,"%")}},{key:"deg",value:function(e){return new t(+e,"deg")}},{key:"rad",value:function(e){return new t(+e,"rad")}},{key:"turn",value:function(e){return new t(+e,"turn")}},{key:"fr",value:function(e){return new t(+e,"fr")}},{key:"second",value:function(e){return new t(+e,"s")}},{key:"ms",value:function(e){return new t(+e,"ms")}},{key:"var",value:function(e){return new t(e+"","--")}},{key:"z",value:function(){return t.px(0)}},{key:"calc",value:function(e){return new t(e,"calc")}},{key:"parse",value:function(e){if(re(e=e||t.number(0))){var n=(e=e.trim()).replace(P,"$1 $2").split(" ");return+n[0]==n[0]?new t(+n[0],n[1]):new t(n[0])}if(e instanceof t)return e;if(e.unit){if("%"==e.unit||"percent"==e.unit){var r=0;return te(e.percent)?r=e.percent:te(e.value)&&(r=e.value),t.percent(r)}if("px"==e.unit)return r=0,te(e.px)?r=e.px:te(e.value)&&(r=e.value),t.px(r);if("em"==e.unit)return r=0,te(e.em)?r=e.em:te(e.value)&&(r=e.value),t.em(r);if("deg"==e.unit)return r=0,te(e.deg)?r=e.deg:te(e.value)&&(r=e.value),t.deg(r);if("turn"==e.unit)return r=0,te(e.deg)?r=e.turn:te(e.value)&&(r=e.value),t.turn(r);if("s"==e.unit)return r=0,te(e.second)?r=e.second:te(e.value)&&(r=e.value),t.second(r);if("ms"==e.unit)return r=0,te(e.ms)?r=e.ms:te(e.value)&&(r=e.value),t.ms(r);if("number"==e.unit)return r=0,te(e.value)&&(r=e.value),t.number(r);if("--"==e.unit)return r=0,te(e.value)&&(r=e.value),t.var(r);if(""===e.unit||"string"===e.unit)return r="",te(e.str)?r=e.str:te(e.value)&&(r=e.value),t.string(r)}return t.string(e)}}],n&&k(e.prototype,n),r&&k(e,r),t}();function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}$.auto=$.string("auto");var _={create:function(t,e,n){return{x:t||0,y:e||0,z:n||0}},add:function(t,e){return{x:t.x+e.x,y:t.y+e.y,z:t.z+e.z}},sub:function(t,e){return{x:t.x-e.x,y:t.y-e.y,z:t.z-e.z}},mul:function(t,e){return{x:t.x*e.x,y:t.y*e.y,z:t.z*e.z}},div:function(t,e){return{x:t.x/e.x,y:t.y/e.y,z:t.z/e.z}},muls:function(t,e){return{x:t.x*e,y:t.y*e,z:t.z*e}},divs:function(t,e){return{x:t.x/e,y:t.y/e,z:t.z/e}},len:function(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)},dot:function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},cross2d:function(t,e){return t.x*e.y-t.y*e.x},cross:function(t,e){return{x:t.y*e.z-t.z*e.y,y:t.z*e.x-t.x*e.z,z:t.x*e.y-t.y*e.x}},normalize:function(t){return _.divs(t,_.len(t))},ang:function(t,e){return Math.acos(_.dot(t,e)/(_.len(t)*_.len(e)))},copy:function(t){return{x:t.x,y:t.y,z:t.z}},equal:function(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z},rotate:function(t,e){var n=t.x,r=t.y,o=t.z,i=e.x/2,a=e.y/2,c=e.z/2,u=Math.cos(i),s=Math.cos(a),l=Math.cos(c),f=Math.sin(i),p=Math.sin(a),y=Math.sin(c),h=u*s*l+-f*p*y,d=f*s*l- -u*p*y,v=u*p*l+f*s*-y,b=u*s*y- -f*p*l;return{x:n*(1-2*(v*v+b*b))+r*(2*(d*v-b*h))+o*(2*(d*b+v*h)),y:n*(2*(d*v+b*h))+r*(1-2*(d*d+b*b))+o*(2*(v*b-d*h)),z:n*(2*(d*b-v*h))+r*(2*(b*v+d*h))+o*(1-2*(d*d+v*v))}}};function C(t,e){var n=t.m11,r=t.m21,o=t.m31,i=t.m41,a=t.m12,c=t.m22,u=t.m32,s=t.m42,l=t.m13,f=t.m23,p=t.m33,y=t.m43,h=t.m14,d=t.m24,v=t.m34,b=t.m44,m=e[0],g=e[1],w=e[2],k=e[3];return[m*n+g*a+w*l+k*h,m*r+g*c+w*f+k*d,m*o+g*u+w*p+k*v,m*i+g*s+w*y+k*b]}var T=function(t,e){return _.add(t,e)},R=function(t){var e=E(t,3);return{x:e[0],y:e[1],z:e[2]}};function D(t,e){for(var n=V(t),r=n.origin[0].toPx(t.offsetWidth).value,o=n.origin[1].toPx(t.offsetHeight).value,i={a:{x:-r,y:-o,z:0},b:{x:r,y:-o,z:0},c:{x:r,y:o,z:0},d:{x:-r,y:o,z:0}},a=[],c={x:0,y:0};1===t.nodeType;){var u=V(t);if(a.unshift({elem:t,matrix:u.matrix}),c.x+=u.position.x,c.y+=u.position.y,(t=t.parentNode)===e)break}console.log(n);var s=function(t){if(0===t.length)return{m11:1,m21:0,m31:0,m41:0,m12:0,m22:1,m32:0,m42:0,m13:0,m23:0,m33:1,m43:0,m14:0,m24:0,m34:0,m44:1};for(var e,n,r,o,i,a,c,u,s,l,f=t[0],p=1,y=t.length;p<y;p++)e=f,n=t[p],r=void 0,o=void 0,i=void 0,a=void 0,c=void 0,u=void 0,s=void 0,l=void 0,r=[n.m11,n.m21,n.m31,n.m41],o=[n.m12,n.m22,n.m32,n.m42],i=[n.m13,n.m23,n.m33,n.m43],a=[n.m14,n.m24,n.m34,n.m44],c=C(e,r),u=C(e,o),s=C(e,i),l=C(e,a),f={m11:c[0],m21:c[1],m31:c[2],m41:c[3],m12:u[0],m22:u[1],m32:u[2],m42:u[3],m13:s[0],m23:s[1],m33:s[2],m43:s[3],m14:l[0],m24:l[1],m34:l[2],m44:l[3]};return f}(a.map((function(t){return t.matrix})));return console.log(s),i.a=R(C(s,[i.a.x,i.a.y,0,1])),i.b=R(C(s,[i.b.x,i.b.y,0,1])),i.c=R(C(s,[i.c.x,i.c.y,0,1])),i.d=R(C(s,[i.d.x,i.d.y,0,1])),i.a=T(i.a,{x:c.x+r,y:c.y+o,z:0}),i.b=T(i.b,{x:c.x+r,y:c.y+o,z:0}),i.c=T(i.c,{x:c.x+r,y:c.y+o,z:0}),i.d=T(i.d,{x:c.x+r,y:c.y+o,z:0}),i.center={x:(i.a.x+i.c.x)/2,y:(i.a.y+i.c.y)/2,z:0},console.log(JSON.stringify(i)),i}function V(t){var e,n,r=getComputedStyle(t,null),o=$.parse(r.left).value,i=$.parse(r.top).value,a=E(r["transform-origin"].split(" ").map((function(t){return $.parse(t)})),3),c=a[0],u=a[1],s=a[2],l=function(t){var e=t.split(/\s*[(),]\s*/).slice(1,-1);if(6===e.length)return{m11:+e[0],m21:+e[2],m31:0,m41:+e[4],m12:+e[1],m22:+e[3],m32:0,m42:+e[5],m13:0,m23:0,m33:1,m43:0,m14:0,m24:0,m34:0,m44:1};if(16===e.length)return{m11:+e[0],m21:+e[4],m31:+e[8],m41:+e[12],m12:+e[1],m22:+e[5],m32:+e[9],m42:+e[13],m13:+e[2],m23:+e[6],m33:+e[10],m43:+e[14],m14:+e[3],m24:+e[7],m34:+e[11],m44:+e[15]};return{m11:1,m21:0,m31:0,m41:0,m12:0,m22:1,m32:0,m42:0,m13:0,m23:0,m33:1,m43:0,m14:0,m24:0,m34:0,m44:1}}(r.transform),f=Math.asin(-l.m13);return 0!==Math.cos(f)?(e=Math.atan2(l.m23,l.m33),n=Math.atan2(l.m12,l.m11)):(e=Math.atan2(-l.m31,l.m22),n=0),{matrix:l,origin:[c,u,s],position:{x:o,y:i,z:0},rotate:{x:e,y:f,z:n},translate:{x:l.m41,y:l.m42,z:l.m43}}}var A={matrix2d:{multiply:function(t){return function(e,n){var r=+e[n],o=+e[n+1];return[t[0][0]*r+t[0][1]*o+t[0][2],t[1][0]*r+t[1][1]*o+t[1][2],1]}},translate:function(t,e){return this.multiply([[1,0,t],[0,1,e],[0,0,1]])},rotate:function(t){return this.multiply([[Math.cos(t),Math.sin(t),0],[-Math.sin(t),Math.cos(t),0],[0,0,1]])},scale:function(t,e){return this.multiply([[t,0,0],[0,e,0],[0,0,1]])},skewX:function(t){return this.multiply([[1,Math.tan(t),0],[0,1,0],[0,0,1]])},skewY:function(t){return this.multiply([[1,0,0],[Math.tan(t),1,0],[0,0,1]])},flip:function(){return this.multiply([[-1,0,0],[0,-1,0],[0,0,1]])},flipX:function(){return this.multiply([[-1,0,0],[0,1,0],[0,0,1]])},flipY:function(){return this.multiply([[1,0,0],[0,-1,0],[0,0,1]])}},Vect3:_,addVector:T,rotateVector:function(t,e){return _.rotate(t,e)}};function I(t,e){return e=Qt(e)?1:e,Math.round(t*e)/e}function L(t){return t*Math.PI/180}function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return 0===t?0:t/e}function z(t){var e=180*t/Math.PI;return e<0&&(e=360+e),e}function B(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return n+e*Math.cos(L(t))}function F(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return n+e*Math.sin(L(t))}function G(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{x:B(t,e,n),y:F(t,e,r)}}function H(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Math.sqrt(Math.pow(Math.abs(n-t),2)+Math.pow(Math.abs(r-e),2))}function X(t,e){return z(Math.atan2(e,t))}function Y(t,e){return X(t.x,t.y)-X(e.x,e.y)}function N(t,e,n){var r=X(t.x-e.x,t.y-e.y);return X(t.x+n.dx-e.x,t.y+n.dy-e.y)-r}function K(t,e){return(z(Math.atan2(e,t))+180)%360}var W=/[xy]/g;function U(){var t=(new Date).getTime();return"xxx12-xx-34xx".replace(W,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}))}function Z(){var t=(new Date).getTime();return"idxxxxxxx".replace(W,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}))}var q=function(t){return 3*t*t*(1-t)},J=function(t){return 3*t*(1-t)*(1-t)},Q=function(t){return(1-t)*(1-t)*(1-t)};function tt(t,e,n,r){var o=e,i=r;return function(t){return 1-(o*q(t)+i*J(t)+Q(t))}}function et(t,e){var n=Math.abs(e.width*Math.sin(t))+Math.abs(e.height*Math.cos(t)),r={x:e.x+e.width/2,y:e.y+e.height/2},o=Math.sin(t-Math.PI/2)*n/2,i=Math.cos(t-Math.PI/2)*n/2;return{length:n,center:r,start:{x:r.x-i,y:r.y-o},end:{x:r.x+i,y:r.y+o}}}function nt(t,e,n){return Qt(n)?_.cross2d(t,e):_.cross2d(_.sub(e,t),_.sub(n,t))}function rt(t,e,n,r){var o=nt(t,e,n),i=t.x-r.x,a=t.y-r.y,c=e.x-r.x,u=e.y-r.y,s=n.x-r.x,l=n.y-r.y,f=(i*i+a*a)*(c*l-s*u)+(c*c+u*u)*(s*a-i*l)+(s*s+l*l)*(i*u-c*a);return o>0?f>=0:f<=0}function ot(t,e,n){for(var r=_.create(Math.min(e,n),Math.max(e,n)),o=-1,i=0,a=t.length;i<a;i++)if(_.equal(t[i],r)){o=i;break}o>-1?t.splice(o,1):t.push(r)}function it(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function at(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=t.length;t[e]=_.create(-2e9,-2e9),t[e+1]=_.create(2e9,-2e9),t[e+2]=_.create(0,2e9);for(var n=[_.create(e,e+1,e+2)],r=0;r<e;r++){for(var o=[],i=new Array(n.length),a=0;a<n.length;a++){if(!i[a])if(f=n[a]){var c=t[f.x],u=t[f.y],s=t[f.z],l=t[r];rt(c,u,s,l)?(ot(o,f.x,f.y),ot(o,f.y,f.z),ot(o,f.z,f.x),it(i,a,n.length-1),it(n,a,n.length-1),n.pop(),a--):i[a]=!0}}o.forEach((function(e){0===nt(t[e.x],t[e.y],t[r])||n.push(_.create(e.x,e.y,r))}))}for(r=0;r<n.length;r++){var f;((f=n[r]).x>=e||f.y>=e||f.z>=e)&&(it(n,r,n.length-1),n.pop(),r--)}return n.map((function(e){return{a:t[e.x],b:t[e.y],c:t[e.z]}}))}function ct(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){return Math.random()},c=[],u=-n,s=t+n,l=-r,f=e+r,p=u;p<s;p+=o)for(var y=l;y<f;y+=o){var h=Math.floor(p+o/2*(a()*i*2-i)),d=Math.floor(y+o/2*(a()*i*2-i));c[c.length]={x:h,y:d}}return c}function ut(t,e,n){return{x:(t.x+e.x+n.x)/3,y:(t.y+e.y+n.y)/3}}var st=/[\b\t \,\n]/g;function lt(t){return t.trim().split(st).filter((function(t){return t})).map((function(t){return+t}))}function ft(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var pt,yt={linear:!0,ease:!0,"ease-in":!0,"ease-out":!0,"ease-in-out":!0},ht={ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)"},dt=[[0,0,1,1,"linear",!0],[.25,.1,.25,1,"ease",!0],[.42,0,1,1,"ease-in",!0],[0,0,.58,1,"ease-out",!0],[.47,0,.745,.715,"ease-in-sine"],[.39,.575,.565,1,"ease-out-sine"],[.445,.05,.55,.95,"ease-in-out-sine"],[.55,.085,.68,.53,"ease-in-quad"],[.25,.46,.45,.94,"ease-out-quad"],[.455,.03,.515,.955,"ease-in-out-quad"],[.55,.055,.675,.19,"ease-in-cubic"],[.215,.61,.355,1,"ease-out-cubic"],[.645,.045,.355,1,"ease-in-out-cubic"],[.895,.03,.685,.22,"ease-in-quart"],[.165,.84,.44,1,"ease-out-quart"],[.77,0,.175,1,"ease-in-out-quart"],[.6,.04,.98,.335,"ease-in-circ"],[.075,.82,.165,1,"ease-out-circ"],[.785,.135,.15,.86,"ease-in-out-circ"],[.95,.05,.795,.035,"ease-in-expo"],[.19,1,.22,1,"ease-out-expo"],[1,0,0,1,"ease-in-out-expo"],[.755,.05,.855,.06,"ease-in-quint"],[.23,1,.32,1,"ease-out-quint"],[.86,0,.07,1,"ease-in-out-quint"],[.6,-.28,.735,.045,"ease-in-back"],[.175,.885,.32,1.275,"ease-out-back"],[.68,-.55,.265,1.55,"ease-in-out-back"]],vt=function(t){return ft(mt(ht[t]||t))},bt=function(t){t=t.map((function(t){return Math.floor(100*t)/100}));for(var e=0,n=dt.length;e<n;e++){var r=dt[e];if(r[0]==t[0]&&r[1]==t[1]&&r[2]==t[2]&&r[3]==t[3]&&r[5])return r[4]}return"cubic-bezier( ".concat(t.filter((function(t,e){return e<4})).join(",")," )")},mt=function(t){if("string"==typeof t){if(yt[t])return dt.filter((function(e){return e[4]===t}))[0];var e=t.replace("cubic-bezier","").replace("(","").replace(")","").split(",");return e=e.map((function(t){return parseFloat(t.trim())}))}return t},gt=function(t,e,n,r){var o=[t,e,n,r];return function(t){return Tt(o,t)}},wt=function(t,e,n){var r=[t,e,n];return function(t){return Rt(r,t)}},kt=function(t,e){var n=[t,e];return function(t){return Dt(n,t)}},Ot=function(t,e,n,r,o){var i=e(n),a=H(r,o,i.x,i.y);a<t.minDist&&(t.minDist=a,t.minT=n)},jt=function(t,e,n,r,o,i,a,c){for(var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1e3,s=gt({x:t,y:e},{x:n,y:r},{x:o,y:i},{x:a,y:c}),l=0,f=s(0),p=0;p<=u;p++){var y=p/u,h=s(y);l+=H(f.x,f.y,h.x,h.y),f=h}return l},St=function(t,e,n,r,o,i){for(var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e3,c=wt({x:t,y:e},{x:n,y:r},{x:o,y:i}),u=0,s=c(0),l=0;l<=a;l++){var f=l/a,p=c(f);u+=H(s.x,s.y,p.x,p.y),s=p}return u},Pt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n={minDist:1/0,minT:0};return function(r,o){for(var i=0;i<=e;i++)Ot(n,t,i/e,r,o);var a=1/(2*e),c=n.minT;for(i=0;i<e;i++)Ot(n,t,c-a,r,o),Ot(n,t,c+a,r,o),a/=2;return n.minT}},xt=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;return Pt(gt(t,e,n,r),o)},$t=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return Pt(wt(t,e,n),r)},Et=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Pt(kt(t,e),n)},_t=function(t){if("linear"===t)return kt(n={x:0,y:0},r={x:1,y:1});var e=mt(t),n={x:0,y:0},r={x:e[0],y:e[1]},o={x:e[2],y:e[3]};return gt(n,r,o,{x:1,y:1})},Ct=function(t,e,n){return{x:t.x+(e.x-t.x)*n,y:t.y+(e.y-t.y)*n}},Tt=function(t,e){var n=Ct(t[0],t[1],e),r=Ct(t[1],t[2],e),o=Ct(t[2],t[3],e),i=Ct(n,r,e),a=Ct(r,o,e);return Ct(i,a,e)},Rt=function(t,e){var n=Ct(t[0],t[1],e),r=Ct(t[1],t[2],e);return Ct(n,r,e)},Dt=function(t,e){return Ct(t[0],t[1],e)},Vt=function(t,e){var n=Ct(t[0],t[1],e),r=Ct(t[1],t[2],e),o=Ct(t[2],t[3],e),i=Ct(n,r,e),a=Ct(r,o,e),c=Ct(i,a,e);return{first:[t[0],n,i,c],second:[c,a,o,t[3]]}},At=function(t,e){var n=Ct(t[0],t[1],e),r=Ct(t[1],t[2],e),o=Ct(n,r,e);return{first:[t[0],n,o],second:[o,r,t[2]]}},It=function(t,e){var n=Ct(t[0],t[1],e);return{first:[t[0],n],second:[n,t[1]]}};function Lt(t,e){return Bt(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||zt()}function Mt(t){return Bt(t)||Xt(t)||zt()}function zt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Bt(t){if(Array.isArray(t))return t}function Ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gt(t){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ht(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||Xt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Xt(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function Yt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.__proto__,r=[];do{var o=n instanceof Object;if(!1===o)break;var i=Object.getOwnPropertyNames(n).filter((function(n){return t&&ae(t[n])&&!e[n]}));r.push.apply(r,Ht(i)),n=n.__proto__}while(n);return r}function Nt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===e)return t;var n=void 0;return function(r,o,i,a,c){n&&clearTimeout(n),n=setTimeout((function(){t(r,o,i,a,c)}),e||300)}}function Kt(t,e){var n=void 0;return function(r,o,i,a,c){n||(n=setTimeout((function(){t(r,o,i,a,c),n=null}),e||300))}}function Wt(t,e){Object.keys(t).forEach((function(n,r){e(n,t[n],r)}))}function Ut(t,e){return Object.keys(t).map((function(n,r){return e(n,t[n],r)}))}function Zt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Ut(t,e).join(n)}function qt(t,e,n){var r=Jt(t[e],e);return ae(n)?n(r):r}function Jt(t,e){return void 0===t?e:t}function Qt(t){return null==t}function te(t){return!1===Qt(t)}function ee(t){return Array.isArray(t)}function ne(t){return"boolean"==typeof t}function re(t){return"string"==typeof t}function oe(t){return!1===re(t)}function ie(t){return"object"==Gt(t)&&!ee(t)&&!ce(t)&&!re(t)&&null!==t}function ae(t){return"function"==typeof t}function ce(t){return"number"==typeof t}function ue(t){return JSON.parse(JSON.stringify(t))}function se(t){var e={};return Object.keys(t).filter((function(e){return!!t[e]})).forEach((function(n){e[n]=t[n]})),e}function le(t){return Object.keys(t).forEach((function(e){Array.isArray(t[e])&&(t[e]=t[e].join(", "))})),t}function fe(t){return Ht(Array(t))}function pe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[b(0,e.length-1)]}var ye=(Ft(pt={image:!0,input:!0,br:!0,path:!0,line:!0,circle:!0,rect:!0},"path",!0),Ft(pt,"polygon",!0),Ft(pt,"polyline",!0),Ft(pt,"use",!0),pt),he=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=t.map((function(t,e){var r=n[e]||"";return ae(r)&&(r=r()),ee(r)||(r=[r]),t+(r=r.join(""))})).join("");return o=o.replace(/\<(\w*)([^\>]*)\/\>/gim,(function(t,e){return ye[e.toLowerCase()]?t:t.replace("/>","></".concat(e,">"))}))};function de(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t;return Object.keys(n).filter((function(t){return te(n[t])})).map((function(t){return"".concat(t,": ").concat(n[t])})).join(";"+e)}function ve(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:";",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":",r={};return""===(t+="")?r:(t.split(e).forEach((function(t){var e=Mt(t.split(n).map((function(t){return t.trim()}))),o=e[0],i=e.slice(1);""!=o&&(r[o]=i.join(n))})),r)}function be(t){return Object.keys(t).map((function(e){return"class"===e&&ie(t[e])?"".concat(e,'="').concat(me(t[e]),'"'):ne(t[e])||Qt(t[e])||"undefined"===t[e]?t[e]?e:"":"".concat(e,'="').concat(t[e],'"')})).join(" ")}function me(t){return Object.keys(t).filter((function(e){return t[e]})).map((function(t){return t})).join(" ")}function ge(t){return t.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}function we(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t.map(e).join(n)}function ke(t,e){var n=new Set([].concat(Ht(t),Ht(e)));return n.size===t.length&&n.size===e.length}var Oe=function(t,e){var n=t.filter((function(t){return t.indexOf("".concat(e,"("))>-1})),r=n.map((function(t){var n=Lt(t.split("".concat(e,"("))[1].split(")")[0].trim().split(" "),2);return{target:n[0],param:n[1]}}));return[n,r]},je=function(t,e,n){var r=vt(t);return"\n        M0 30 \n        C \n        ".concat(r[0]*e," ").concat(0==r[1]?n:(1-r[1])*n,",\n        ").concat(r[2]*e," ").concat(1==r[3]?0:(1-r[3])*n,",\n        ").concat(e," 0\n    ")};function Se(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(0, 0, 0, 0)";return Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),"hex"==e?Pe(t):"rgb"==e?xe(t,n):"hsl"==e?$e(t):t}function Pe(t){Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]});var e=t.r.toString(16);t.r<16&&(e="0"+e);var n=t.g.toString(16);t.g<16&&(n="0"+n);var r=t.b.toString(16);return t.b<16&&(r="0"+r),"#".concat(e).concat(n).concat(r)}function xe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(0, 0, 0, 0)";if(ee(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),!Qt(t))return 1==t.a||Qt(t.a)?isNaN(t.r)?e:"rgb(".concat(t.r,",").concat(t.g,",").concat(t.b,")"):"rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat(t.a,")")}function $e(t){return ee(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),1==t.a||Qt(t.a)?"hsl(".concat(t.h,",").concat(t.s,"%,").concat(t.l,"%)"):"hsla(".concat(t.h,",").concat(t.s,"%,").concat(t.l,"%,").concat(t.a,")")}function Ee(t){return Math.pow(t,3)>.008856?Math.pow(t,3):(t-16/116)/7.787}function _e(t){return t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t}function Ce(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.x,e=r.y,n=r.z}var o=t/100,i=e/100,a=n/100,c=3.2406*o+-1.5372*i+-.4986*a,u=-.9689*o+1.8758*i+.0415*a,s=.0557*o+-.204*i+1.057*a;c=_e(c),u=_e(u),s=_e(s);var l=I(255*c),f=I(255*u),p=I(255*s);return{r:l,g:f,b:p}}function Te(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.l,e=r.a,n=r.b}var o=(t+16)/116,i=e/500+o,a=o-n/200;o=Ee(o);var c=95.047*(i=Ee(i)),u=100*o,s=108.883*(a=Ee(a));return{x:c,y:u,z:s}}function Re(t){return t>.008856?Math.pow(t,1/3):(7.787*t+16)/116}function De(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.x,e=r.y,n=r.z}var o=t/95.047,i=e/100,a=n/108.883;o=Re(o);var c=116*(i=Re(i))-16,u=500*(o-i),s=200*(i-(a=Re(a)));return{l:c,a:u,b:s}}function Ve(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.l,e=r.a,n=r.b}return Ce(Te(t,e,n))}function Ae(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=t/255,i=e/255,a=n/255,c=Math.max(o,i,a),u=Math.min(o,i,a),s=c-u,l=0;0==s?l=0:c==o?l=(i-a)/s%6*60:c==i?l=60*((a-o)/s+2):c==a&&(l=60*((o-i)/s+4)),l<0&&(l=360+l);return{h:l,s:0==c?0:s/c,v:c}}function Ie(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=t/255,i=e/255,a=n/255,c=1-Math.max(o,i,a),u=(1-o-c)/(1-c),s=(1-i-c)/(1-c),l=(1-a-c)/(1-c);return{c:u,m:s,y:l,k:c}}function Le(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}t/=255,e/=255,n/=255;var o,i,a=Math.max(t,e,n),c=Math.min(t,e,n),u=(a+c)/2;if(a==c)o=i=0;else{var s=a-c;switch(i=u>.5?s/(2-a-c):s/(a+c),a){case t:o=(e-n)/s+(e<n?6:0);break;case e:o=(n-t)/s+2;break;case n:o=(t-e)/s+4}o/=6}return{h:I(360*o),s:I(100*i),l:I(100*u)}}function Me(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return ze((t+e+n)/3>90?0:255)}function ze(t){return{r:t,g:t,b:t}}function Be(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return ze(Math.ceil((t+e+n)/3))}function Fe(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return ze(He(t,e,n).y)}function Ge(t,e,n){return Math.ceil(.2126*t+.7152*e+.0722*n)}function He(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=Ge(t,e,n),i=.564*(n-o),a=.713*(t-o);return{y:o,cr:a,cb:i}}function Xe(t){return 100*(t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)}function Ye(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=t/255,i=e/255,a=n/255,c=.4124*(o=Xe(o))+.3576*(i=Xe(i))+.1805*(a=Xe(a)),u=.2126*o+.7152*i+.0722*a,s=.0193*o+.1192*i+.9505*a;return{x:c,y:u,z:s}}function Ne(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return De(Ye(t,e,n))}function Ke(t,e,n,r){if(1==arguments.length){var o=arguments[0];t=o.c,e=o.m,n=o.y,r=o.k}var i=255*(1-t)*(1-r),a=255*(1-e)*(1-r),c=255*(1-n)*(1-r);return{r:i,g:a,b:c}}function We(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.v}var o=t,i=e,a=n;o>=360&&(o=0);var c=i*a,u=c*(1-Math.abs(o/60%2-1)),s=a-c,l=[];return 0<=o&&o<60?l=[c,u,0]:60<=o&&o<120?l=[u,c,0]:120<=o&&o<180?l=[0,c,u]:180<=o&&o<240?l=[0,u,c]:240<=o&&o<300?l=[u,0,c]:300<=o&&o<360&&(l=[c,0,u]),{r:I(255*(l[0]+s)),g:I(255*(l[1]+s)),b:I(255*(l[2]+s))}}function Ue(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.v}var o=We(t,e,n);return Le(o.r,o.g,o.b)}function Ze(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function qe(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.l}var o=Je(t,e,n);return Ae(o.r,o.g,o.b)}function Je(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.l}var o,i,a;if(t/=360,n/=100,0==(e/=100))o=i=a=n;else{var c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;o=Ze(u,c,t+1/3),i=Ze(u,c,t),a=Ze(u,c,t-1/3)}return{r:I(255*o),g:I(255*i),b:I(255*a)}}function Qe(t,e,n,r){if(1==arguments.length){var o=arguments[0];t=o.y,e=o.cr,n=o.cb;r=(r=o.bit)||0}var i=t+1.402*(e-r),a=t-.344*(n-r)-.714*(e-r),c=t+1.772*(n-r);return{r:Math.ceil(i),g:Math.ceil(a),b:Math.ceil(c)}}var tn={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb(0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb(0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb(0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb(95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(237, 20, 61)",cyan:"rgb(0, 255, 255)",darkblue:"rgb(0, 0, 139)",darkcyan:"rgb(0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgrey:"rgb(169, 169, 169)",darkgreen:"rgb(0, 100, 0)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb(85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb(72, 61, 139)",darkslategray:"rgb(47, 79, 79)",darkslategrey:"rgb(47, 79, 79)",darkturquoise:"rgb(0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb(0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb(30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb(34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb(75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgreen:"rgb(144, 238, 144)",lightgray:"rgb(211, 211, 211)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb(32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb(0, 255, 0)",limegreen:"rgb(50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb(0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb(60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb(0, 250, 154)",mediumturquoise:"rgb(72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb(25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb(0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",rebeccapurple:"rgb(102, 51, 153)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb(65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb(46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb(0, 255, 127)",steelblue:"rgb(70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb(0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb(64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)",transparent:"rgba(0, 0, 0, 0)",currentColor:"currentColor"};var en={isColorName:function(t){return!!tn[t]},getColorByName:function(t){return tn[t]}};function nn(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function rn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rn(Object(n),!0).forEach((function(e){an(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function an(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cn=/(#(?:[\da-f]{3}){1,2}|rgb\((?:\s*\d{1,3},\s*){2}\d{1,3}\s*\)|rgba\((?:\s*\d{1,3},\s*){3}\d*\.?\d+\s*\)|hsl\(\s*\d{1,3}(?:,\s*\d{1,3}%){2}\s*\)|hsla\(\s*\d{1,3}(?:,\s*\d{1,3}%){2},\s*\d*\.?\d+\s*\)|([\w_\-]+))/gi;function un(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"@";return"".concat(e).concat(t.startIndex).padEnd(10,"0")}function sn(t){return!!ln(t).length}function ln(t){var e=t.match(cn),n=[];if(!e)return n;for(var r=0,o=e.length;r<o;r++)if(e[r].indexOf("#")>-1||e[r].indexOf("rgb")>-1||e[r].indexOf("hsl")>-1)n.push({color:e[r]});else{var i=en.getColorByName(e[r]);i&&n.push({color:e[r],nameColor:i})}var a={next:0};return n.forEach((function(e){var n=t.indexOf(e.color,a.next);e.startIndex=n,e.endIndex=n+e.color.length,a.next=e.endIndex})),n}function fn(t){var e=ln(t);return e.forEach((function(e){t=t.replace(e.color,un(e))})),{str:t,matches:e}}function pn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=fn(t);return n.str.split(e).map((function(t,e){return t=dn(t),n.matches[e]&&(t=t.replace(un(n.matches[e]),n.matches[e].color)),t}))}function yn(t,e){return e.forEach((function(e){t=t.replace(un(e),e.color)})),t}var hn=/^\s+|\s+$/g;function dn(t){return t.replace(hn,"")}function vn(t){if(re(t)){if(en.isColorName(t)&&(t=en.getColorByName(t)),t.indexOf("rgb(")>-1){for(var e=0,n=(r=t.replace("rgb(","").replace(")","").split(",")).length;e<n;e++)r[e]=parseInt(dn(r[e]),10);return i=on({},i={type:"rgb",r:r[0],g:r[1],b:r[2],a:1},{},Le(i))}if(t.indexOf("rgba(")>-1){for(e=0,n=(r=t.replace("rgba(","").replace(")","").split(",")).length;e<n;e++)r[e]=n-1==e?parseFloat(dn(r[e])):parseInt(dn(r[e]),10);return i=on({},i={type:"rgb",r:r[0],g:r[1],b:r[2],a:r[3]},{},Le(i))}if(t.indexOf("hsl(")>-1){for(e=0,n=(r=t.replace("hsl(","").replace(")","").split(",")).length;e<n;e++)r[e]=parseFloat(dn(r[e]));return i=on({},i={type:"hsl",h:r[0],s:r[1],l:r[2],a:1},{},Je(i))}if(t.indexOf("hsla(")>-1){for(e=0,n=(r=t.replace("hsla(","").replace(")","").split(",")).length;e<n;e++)r[e]=n-1==e?parseFloat(dn(r[e])):parseInt(dn(r[e]),10);return i=on({},i={type:"hsl",h:r[0],s:r[1],l:r[2],a:r[3]},{},Je(i))}if(0==t.indexOf("#")){var r=[];if(3==(t=t.replace("#","")).length)for(e=0,n=t.length;e<n;e++){var o=t.substr(e,1);r.push(parseInt(o+o,16))}else for(e=0,n=t.length;e<n;e+=2)r.push(parseInt(t.substr(e,2),16));return i=on({},i={type:"hex",r:r[0],g:r[1],b:r[2],a:1},{},Le(i))}}else if(ce(t)){var i;if(0<=t&&t<=16777215)return i=on({},i={type:"hex",r:(16711680&t)>>16,g:(65280&t)>>8,b:(255&t)>>0,a:1},{},Le(i));if(0<=t&&t<=4294967295)return i=on({},i={type:"hex",r:(4278190080&t)>>24,g:(16711680&t)>>16,b:(65280&t)>>8,a:(255&t)/255},{},Le(i))}return t}function bn(t){re(t)&&(t=pn(t));var e=(t=t.map((function(t){if(re(t)){var e=fn(t),n=dn(e.str).split(" ");return n[1]?n[1].indexOf("%")>-1?n[1]=parseFloat(n[1].replace(/%/,""))/100:n[1]=parseFloat(n[1]):n[1]="*",n[0]=yn(n[0],e.matches),n}if(Array.isArray(t))return t[1]?re(t[1])&&(t[1].indexOf("%")>-1?t[1]=parseFloat(t[1].replace(/%/,""))/100:t[1]=+t[1]):t[1]="*",nn(t)}))).filter((function(t){return"*"===t[1]})).length;if(e>0){var n=(1-t.filter((function(t){return"*"!=t[1]&&1!=t[1]})).map((function(t){return t[1]})).reduce((function(t,e){return t+e}),0))/e;t.forEach((function(e,r){"*"==e[1]&&r>0&&(t.length-1==r||(e[1]=n))}))}return t}function mn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",o=gn(t,e,n);return Se(o,o.a<1?"rgb":r)}function gn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return{r:I(t.r+(e.r-t.r)*n),g:I(t.g+(e.g-t.g)*n),b:I(t.b+(e.b-t.b)*n),a:I(t.a+(e.a-t.a)*n,100)}}function wn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(!t)return[];re(t)&&(t=pn(t));for(var n=(t=t||[]).length,r=[],o=0;o<n-1;o++)for(var i=0;i<e;i++)r.push(kn(t[o],t[o+1],i/e));return r}function kn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",o=vn(t),i=vn(e);return mn(o,i,n,r)}function On(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex";return kn(t,e,n,r)}function jn(t){return t=vn(t),(Math.round(299*t.r)+Math.round(587*t.g)+Math.round(114*t.b))/1e3}function Sn(t){return jn(t)>=128?"black":"white"}function Pn(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=[],r=e-((t=bn(t)).length-1),o=r,i=1,a=t.length;i<a;i++){var c=t[i-1][0],u=t[i][0],s=1==i?t[i][1]:t[i][1]-t[i-1][1],l=i==t.length-1?o:Math.floor(s*r);n=n.concat(wn([c,u],l),[u]),o-=l}return n}function xn(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgb",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,c=vn(t),u=Ae(c),s=(i-o)*a/n,l=[],f=1;f<=n;f++)u[e]=Math.abs((a-s*f)/a),l.push(Se(We(u),r));return l}function $n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:360;return xn(t,"h",e,n,r,o,1)}function En(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return xn(t,"s",e,n,r,o,100)}function _n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return xn(t,"v",e,n,r,o,100)}function Cn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}wn.parula=function(t){return wn(["#352a87","#0f5cdd","#00b5a6","#ffc337","#fdff00"],t)},wn.jet=function(t){return wn(["#00008f","#0020ff","#00ffff","#51ff77","#fdff00","#ff0000","#800000"],t)},wn.hsv=function(t){return wn(["#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff0000"],t)},wn.hot=function(t){return wn(["#0b0000","#ff0000","#ffff00","#ffffff"],t)},wn.pink=function(t){return wn(["#1e0000","#bd7b7b","#e7e5b2","#ffffff"],t)},wn.bone=function(t){return wn(["#000000","#4a4a68","#a6c6c6","#ffffff"],t)},wn.copper=function(t){return wn(["#000000","#3d2618","#9d623e","#ffa167","#ffc77f"],t)};var Rn=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cn(Object(n),!0).forEach((function(e){Tn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},r,{},a,{},o,{},d,{},h,{},p,{},u,{},s,{},l,{},f,{},c,{},i),Dn=[{rgb:"#ff0000",start:0},{rgb:"#ffff00",start:.17},{rgb:"#00ff00",start:.33},{rgb:"#00ffff",start:.5},{rgb:"#0000ff",start:.67},{rgb:"#ff00ff",start:.83},{rgb:"#ff0000",start:1}];!function(){for(var t=0,e=Dn.length;t<e;t++){var n=Dn[t],r=Rn.parse(n.rgb);n.r=r.r,n.g=r.g,n.b=r.b}}();var Vn={colors:Dn,checkHueColor:function(t){for(var e,n,r=0;r<Dn.length;r++)if(Dn[r].start>=t){e=Dn[r-1],n=Dn[r];break}return e&&n?Rn.interpolateRGB(e,n,(t-e.start)/(n.start-e.start)):Dn[0].rgb}};function An(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?An(Object(n),!0).forEach((function(e){Ln(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mn=function(t,e,n,r){n?r&&n===r||function(t,e,n){"boolean"==typeof n?function(t,e,n){n?(t.setAttribute(e,e),t[e]=n):(t.removeAttribute(e),t[e]=n)}(t,e,n):t.setAttribute(e,n)}(t,e,n):function(t,e,n){"boolean"==typeof n?function(t,e){t.removeAttribute(e),t[e]=!1}(t,e):e&&function(t,e){t.removeAttribute(e)}(t,e)}(t,e,r)};function zn(t){var e={},n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value;e[c.name]=c.value}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}function Bn(t,e,n,r){if(e)if(n){if(u=e,(c=n).nodeType===Node.TEXT_NODE&&c!==u||c.nodeName!==u.nodeName)t.replaceChild(n.cloneNode(!0),e);else if(n.nodeType!==Node.TEXT_NODE){!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=In({},e,{},n);Object.keys(r).forEach((function(r){Mn(t,r,e[r],n[r])}))}(e,zn(n.attributes),zn(e.attributes));var o=Fn(e),i=Fn(n),a=Math.max(o.length,i.length);for(r=0;r<a;r++)Bn(e,o[r],i[r],r)}}else t.removeChild(e);else t.appendChild(n.cloneNode(!0));var c,u}var Fn=function(t){var e=t.firstChild;if(!e)return[];var n=[];do{n.push(e),e=e.nextSibling}while(e);return n};function Gn(t,e){t=t.el||t,e=e.el||e;for(var n=Fn(t),r=Fn(e),o=Math.max(n.length,r.length),i=0;i<o;i++)Bn(t,n[i],r[i],i)}function Hn(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Xn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Nn=function(){function t(e,n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),oe(e))this.el=e;else{var o=document.createElement(e);for(var i in n&&(o.className=n),r=r||{})o.setAttribute(i,r[i]);this.el=o}}var e,n,r;return e=t,n=[{key:"setAttr",value:function(t){var e=this;return Object.keys(t).forEach((function(n){e.attr(n,t[n])})),this}},{key:"setProp",value:function(t){var e=this;return Object.keys(t).forEach((function(n){e.el[n]!=t[n]&&(e.el[n]=t[n])})),this}},{key:"attr",value:function(t,e){return 1==arguments.length?this.el.getAttribute(t):(this.el.getAttribute(t)!=e&&this.el.setAttribute(t,e),this)}},{key:"attrKeyValue",value:function(t){return Xn({},this.el.getAttribute(t),this.val())}},{key:"attrs",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map((function(e){return t.el.getAttribute(e)}))}},{key:"styles",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map((function(e){return t.el.style[e]}))}},{key:"removeAttr",value:function(t){return this.el.removeAttribute(t),this}},{key:"removeStyle",value:function(t){return this.el.style.removeProperty(t),this}},{key:"is",value:function(t){return this.el===(t.el||t)}},{key:"isTag",value:function(t){return this.el.tagName.toLowerCase()===t.toLowerCase()}},{key:"closest",value:function(e){for(var n=this,r=!1;!(r=n.hasClass(e));){if(!n.el.parentNode)return null;n=t.create(n.el.parentNode)}return r?n:null}},{key:"parent",value:function(){return t.create(this.el.parentNode)}},{key:"hasParent",value:function(){return!!this.el.parentNode}},{key:"removeClass",value:function(){var t;return(t=this.el.classList).remove.apply(t,arguments),this}},{key:"hasClass",value:function(t){return!!this.el.classList&&this.el.classList.contains(t)}},{key:"addClass",value:function(){var t;return(t=this.el.classList).add.apply(t,arguments),this}},{key:"onlyOneClass",value:function(t){this.parent().children().forEach((function(e){e.removeClass(t)})),this.addClass(t)}},{key:"toggleClass",value:function(t,e){this.el.classList.toggle(t,e)}},{key:"html",value:function(t){return Qt(t)?this.el.innerHTML:(re(t)?this.el.innerHTML=t:this.empty().append(t),this)}},{key:"htmlDiff",value:function(t){Gn(this,t)}},{key:"updateDiff",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div";Gn(this,t.create(n).html(e))}},{key:"updateSVGDiff",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div";Gn(this,t.create(n).html("<svg>".concat(e,"</svg>")).firstChild)}},{key:"find",value:function(t){return this.el.querySelector(t)}},{key:"$",value:function(e){var n=this.find(e);return n?t.create(n):null}},{key:"findAll",value:function(t){return Hn(this.el.querySelectorAll(t))}},{key:"$$",value:function(e){return this.findAll(e).map((function(e){return t.create(e)}))}},{key:"empty",value:function(){for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild);return this}},{key:"append",value:function(t){return re(t)?this.el.appendChild(document.createTextNode(t)):this.el.appendChild(t.el||t),this}},{key:"prepend",value:function(t){return re(t)?this.el.prepend(document.createTextNode(t)):this.el.prepend(t.el||t),this}},{key:"prependHTML",value:function(e){var n=t.create("div").html(e);return this.prepend(n.createChildrenFragment()),n}},{key:"appendHTML",value:function(e){var n=t.create("div").html(e);return this.append(n.createChildrenFragment()),n}},{key:"createChildrenFragment",value:function(){var t=this.children(),e=document.createDocumentFragment();return t.forEach((function(t){return e.appendChild(t.el)})),e}},{key:"appendTo",value:function(t){return(t.el?t.el:t).appendChild(this.el),this}},{key:"remove",value:function(){return this.el.parentNode&&this.el.parentNode.removeChild(this.el),this}},{key:"removeChild",value:function(t){return this.el.removeChild(t.el||t),this}},{key:"text",value:function(e){if(Qt(e))return this.el.textContent;var n=e;return e instanceof t&&(n=e.text()),this.el.textContent!==n&&(this.el.textContent=n),this}},{key:"css",value:function(t,e){if(te(t)&&te(e))Object.assign(this.el.style,Xn({},t,e));else if(te(t)){if(re(t))return getComputedStyle(this.el)[t];Object.assign(this.el.style,t)}return this}},{key:"getComputedStyle",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){for(var t=getComputedStyle(this.el),e={},n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r.forEach((function(n){e[n]=t[n]})),e}))},{key:"getStyleList",value:function(){for(var t=this,e={},n=this.el.style.length,r=0;r<n;r++){var o=this.el.style[r];e[o]=this.el.style[o]}for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return a.forEach((function(n){e[n]=t.css(n)})),e}},{key:"cssText",value:function(t){return Qt(t)?this.el.style.cssText:(t!=this.el.tempCssText&&(this.el.style.cssText=t,this.el.tempCssText=t),this)}},{key:"cssArray",value:function(t){return t[0]&&(this.el.style[t[0]]=t[1]),t[2]&&(this.el.style[t[2]]=t[3]),t[4]&&(this.el.style[t[4]]=t[5]),t[6]&&(this.el.style[t[6]]=t[7]),t[8]&&(this.el.style[t[8]]=t[9]),this}},{key:"cssFloat",value:function(t){return parseFloat(this.css(t))}},{key:"cssInt",value:function(t){return parseInt(this.css(t))}},{key:"px",value:function(t,e){return this.css(t,$.px(e))}},{key:"rect",value:function(){return this.el.getBoundingClientRect()}},{key:"isSVG",value:function(){return"SVG"===this.el.tagName.toUpperCase()}},{key:"offsetRect",value:function(){if(this.isSVG()){var t=this.parent().rect(),e=this.rect();return{x:e.x-t.x,y:e.y-t.y,top:e.x-t.x,left:e.y-t.y,width:e.width,height:e.height}}return{x:this.el.offsetLeft,y:this.el.offsetTop,top:this.el.offsetTop,left:this.el.offsetLeft,width:this.el.offsetWidth,height:this.el.offsetHeight}}},{key:"offset",value:function(){var e=this.rect(),n=t.getScrollTop(),r=t.getScrollLeft();return{top:e.top+n,left:e.left+r}}},{key:"offsetLeft",value:function(){return this.offset().left}},{key:"offsetTop",value:function(){return this.offset().top}},{key:"position",value:function(){return this.el.style.top?{top:parseFloat(this.css("top")),left:parseFloat(this.css("left"))}:this.rect()}},{key:"size",value:function(){return[this.width(),this.height()]}},{key:"width",value:function(){return this.el.offsetWidth||this.rect().width}},{key:"contentWidth",value:function(){return this.width()-this.cssFloat("padding-left")-this.cssFloat("padding-right")}},{key:"height",value:function(){return this.el.offsetHeight||this.rect().height}},{key:"contentHeight",value:function(){return this.height()-this.cssFloat("padding-top")-this.cssFloat("padding-bottom")}},{key:"val",value:function(e){if(Qt(e))return this.el.value;if(te(e)){var n=e;e instanceof t&&(n=e.val()),this.el.value=n}return this}},{key:"matches",value:function(t){return this.el&&this.el.matches?this.el.matches(t)?this:this.parent().matches(t):null}},{key:"realVal",value:function(){switch(this.el.nodeType){case"INPUT":var t=this.attr("type");if("checkbox"==t||"radio"==t)return this.checked();case"SELECT":case"TEXTAREA":return this.el.value}return""}},{key:"int",value:function(){return parseInt(this.val(),10)}},{key:"float",value:function(){return parseFloat(this.val())}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"block";return this.css("display","none"!=t?t:"block")}},{key:"hide",value:function(){return this.css("display","none")}},{key:"isHide",value:function(){return"none"==this.css("display")}},{key:"isShow",value:function(){return!this.isHide()}},{key:"toggle",value:function(t){var e=this.isHide();return 1==arguments.length?t?this.show():this.hide():e?this.show():this.hide()}},{key:"scrollIntoView",value:function(){this.el.scrollIntoView()}},{key:"addScrollLeft",value:function(t){return this.el.scrollLeft+=t,this}},{key:"addScrollTop",value:function(t){return this.el.scrollTop+=t,this}},{key:"setScrollTop",value:function(t){return this.el.scrollTop=t,this}},{key:"setScrollLeft",value:function(t){return this.el.scrollLeft=t,this}},{key:"scrollTop",value:function(){return this.el===document.body?t.getScrollTop():this.el.scrollTop}},{key:"scrollLeft",value:function(){return this.el===document.body?t.getScrollLeft():this.el.scrollLeft}},{key:"scrollHeight",value:function(){return this.el.scrollHeight}},{key:"scrollWidth",value:function(){return this.el.scrollWidth}},{key:"on",value:function(t,e,n,r){return this.el.addEventListener(t,e,n,r),this}},{key:"off",value:function(t,e){return this.el.removeEventListener(t,e),this}},{key:"getElement",value:function(){return this.el}},{key:"createChild",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.create(e,n,r);return i.css(o),this.append(i),i}},{key:"children",value:function(){var e=this.el.firstElementChild;if(!e)return[];var n=[];do{n.push(t.create(e)),e=e.nextElementSibling}while(e);return n}},{key:"childLength",value:function(){return this.el.children.length}},{key:"replace",value:function(t){return this.el.parentNode&&this.el.parentNode.replaceChild(t.el||t,this.el),this}},{key:"replaceChild",value:function(t,e){return this.el.replaceChild(e.el||e,t.el||t),this}},{key:"checked",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return 0==arguments.length?!!this.el.checked:(this.el.checked=!!t,this)}},{key:"click",value:function(){return this.el.click(),this}},{key:"focus",value:function(){return this.el.focus(),this}},{key:"select",value:function(){return this.el.select(),this}},{key:"blur",value:function(){return this.el.blur(),this}},{key:"select",value:function(){return this.el.select(),this}},{key:"context",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2d";return this._initContext||(this._initContext=this.el.getContext(t)),this._initContext}},{key:"resize",value:function(t){var e=t.width,n=t.height;this._initContext=null;var r=this.context(),o=window.devicePixelRatio||1;this.px("width",+e),this.px("height",+n),this.el.width=e*o,this.el.height=n*o,r.scale(o,o)}},{key:"toDataURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.el.toDataURL(t,e)}},{key:"clear",value:function(){this.context().clearRect(0,0,this.el.width,this.el.height)}},{key:"update",value:function(t){this.clear(),t.call(this,this)}},{key:"drawImage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.context(),o=window.devicePixelRatio||1;r.drawImage(t,e,n,t.width,t.height,0,0,this.el.width/o,this.el.height/o)}},{key:"drawOption",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.context();Object.assign(e,t)}},{key:"drawLine",value:function(t,e,n,r){var o=this.context();o.beginPath(),o.moveTo(t,e),o.lineTo(n,r),o.stroke(),o.closePath()}},{key:"drawPath",value:function(){var t=this.context();t.beginPath();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach((function(e,n){0==n?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])})),t.stroke(),t.fill(),t.closePath()}},{key:"drawCircle",value:function(t,e,n){var r=this.context();r.beginPath(),r.arc(t,e,n,0,2*Math.PI),r.stroke(),r.fill()}},{key:"drawText",value:function(t,e,n){this.context().fillText(n,t,e)}},{key:"fullscreen",value:function(){var t=this.el;t.requestFullscreen?t.requestFullscreen():t.wekitRequestFullscreen&&t.wekitRequestFullscreen()}},{key:"value",get:function(){return this.el.value}},{key:"naturalWidth",get:function(){return this.el.naturalWidth}},{key:"naturalHeight",get:function(){return this.el.naturalHeight}},{key:"files",get:function(){return this.el.files?Hn(this.el.files):[]}},{key:"totalLength",get:function(){return this.el.getTotalLength()}},{key:"firstChild",get:function(){return t.create(this.el.firstElementChild)}}],r=[{key:"create",value:function(e,n,r){return new t(e,n,r)}},{key:"createByHTML",value:function(e){var n=t.create("div").html(e).children();return n.length?t.create(n[0].el):null}},{key:"getScrollTop",value:function(){return Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)}},{key:"getScrollLeft",value:function(){return Math.max(window.pageXOffset,document.documentElement.scrollLeft,document.body.scrollLeft)}},{key:"parse",value:function(t){return DOMParser().parseFromString(t,"text/htmll")}},{key:"body",value:function(){return t.create(document.body)}}],n&&Yn(e.prototype,n),r&&Yn(e,r),t}(),Kn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qn;return" ".concat(e," ").concat(t)},Wn=/^dom (.*)/gi,Un=/^load (.*)/gi,Zn=/^bind (.*)/gi,qn="|",Jn={},Qn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.join(":");return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"dom "+[r].concat(e).join(" ")}},tr=Qn,er=Qn("click"),nr=Qn("dblclick"),rr=(Qn("mousedown"),Qn("mouseup")),or=(Qn("mousemove"),Qn("mouseover"),Qn("mouseout"),Qn("mouseenter"),Qn("mouseleave"),Qn("touchstart"),Qn("touchmove"),Qn("touchend"),Qn("keydown")),ir=Qn("keyup"),ar=(Qn("keypress"),Qn("drag"),Qn("dragstart")),cr=Qn("drop"),ur=Qn("dragover"),sr=(Qn("dragenter"),Qn("dragleave"),Qn("dragexit"),Qn("dragout"),Qn("dragend")),lr=Qn("contextmenu"),fr=Qn("change"),pr=Qn("input"),yr=Qn("focus"),hr=Qn("focusin"),dr=Qn("focusout"),vr=Qn("blur"),br=(Qn("paste"),Qn("resize")),mr=Qn("scroll"),gr=Qn("submit"),wr=tr("pointerdown"),kr=tr("pointermove"),Or=tr("pointerup"),jr=tr("change","input"),Sr=(tr("wheel","mousewheel","DOMMouseScroll"),Qn("animationstart"),Qn("animationend"),Qn("animationiteration"),Qn("transitionstart"),Qn("transitionend")),Pr=(Qn("transitionrun"),Qn("transitioncancel"),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qn;return Kn(t,e)}),xr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qn;return Kn("after(".concat(t,")"),e)},$r=Pr,Er=Pr,_r=(Pr("ArrowUp"),Pr("ArrowDown"),Pr("ArrowLeft"),Pr("ArrowRight"),Pr("Enter")),Cr=(Pr("Space"),Pr("Escape")),Tr=Pr("isAltKey"),Rr=(Pr("isShiftKey"),Pr("isMetaKey"),Pr("isCtrlKey"),Pr("self"),Pr("fit"),Pr("passive"),Pr("vdom")),Dr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Pr("debounce(".concat(t,")"))},Vr=(Dr(1e3),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Pr("throttle(".concat(t,")"))}),Ar=(Pr("capture()"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"move";return xr("bodyMouseMove ".concat(t))}),Ir=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"end";return xr("bodyMouseUp ".concat(t))},Lr=xr("preventDefault"),Mr=xr("stopPropagation"),zr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$el";return"load "+t},Br=function(t){if(""===t)return"";var e=U();return Jn[e]=t,e},Fr=function(t){return function(){return this.prevState[t]!=this.state[t]}},Gr=function(){return!0},Hr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$el",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"bind "+t+(e?qn+Br(e):"")},Xr={addEvent:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t&&t.addEventListener(e,n,r)},removeEvent:function(t,e,n){t&&t.removeEventListener(e,n)},pos:function(t){return t.touches&&t.touches[0]?t.touches[0]:t},posXY:function(t){var e=this.pos(t);return{x:e.pageX,y:e.pageY}}};function Yr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Kr=function(){function t(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];Yr(this,t),this.cachedCallback={},this.callbacks={},this.commandes=[]}var e,n,r;return e=t,(n=[{key:"getCallbacks",value:function(t){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t]}},{key:"setCallbacks",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.callbacks[t]=e}},{key:"on",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=e;r>0?i=Nt(e,r):o>0&&(i=Kt(e,o)),this.getCallbacks(t).push({event:t,callback:i,context:n,originalCallback:e})}},{key:"off",value:function(t,e){1==arguments.length?this.setCallbacks(t):2==arguments.length&&this.setCallbacks(t,this.getCallbacks(t).filter((function(t){return t.originalCallback!==e})))}},{key:"offAll",value:function(t){var e=this;Object.keys(this.callbacks).forEach((function(n){e.setCallbacks(n,e.getCallbacks(n).filter((function(e){return e.context!==t})))}))}},{key:"getCachedCallbacks",value:function(t){return this.getCallbacks(t)}},{key:"sendMessage",value:function(t,e,n,r,o,i){var a=this;Promise.resolve().then((function(){var c=a.getCachedCallbacks(e);c&&c.filter((function(e){return e.originalCallback.source!==t})).forEach((function(t){t.callback(n,r,o,i)}))}))}},{key:"nextSendMessage",value:function(t,e,n,r,o,i){Promise.resolve().then((function(){e(n,r,o,i)}))}},{key:"triggerMessage",value:function(t,e,n,r,o,i){var a=this;Promise.resolve().then((function(){var c=a.getCachedCallbacks(e);c?c.filter((function(e){return e.originalCallback.source===t})).forEach((function(t){t.callback(n,r,o,i)})):console.warn(e," is not valid event")}))}},{key:"emit",value:function(t,e,n,r,o){this.sendMessage(this.source,t,e,n,r,o)}},{key:"nextTick",value:function(t){this.nextSendMessage(this.source,t)}},{key:"trigger",value:function(t,e,n,r,o){this.triggerMessage(this.source,t,e,n,r,o)}},{key:"execute",value:function(t,e,n,r,o){this.runCommand(this.source,t,e,n,r,o)}}])&&Nr(e.prototype,n),r&&Nr(e,r),t}();function Wr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ur(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Zr=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Wr(this,t),this.context=e,this.options=n}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){}},{key:"load",value:function(){}},{key:"refresh",value:function(){}},{key:"render",value:function(){}},{key:"getRef",value:function(t){return this.context.getRef(t)}},{key:"run",value:function(){}},{key:"destroy",value:function(){}}])&&Ur(e.prototype,n),r&&Ur(e,r),t}();function qr(t){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jr(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||Qr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Qr(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function to(t,e){return no(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||eo()}function eo(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function no(t){if(Array.isArray(t))return t}function ro(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function io(t,e){return!e||"object"!==qr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ao(t){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function co(t,e){return(co=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var uo={touchstart:!0,touchmove:!0,mousedown:!0,mouseup:!0,mousemove:!0,wheel:!0,mousewheel:!0},so=function(t){function e(){return ro(this,e),io(this,ao(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&co(t,e)}(e,t),n=e,(r=[{key:"initialize",value:function(){var t=this;this.destroy(),this._domEvents||(this._domEvents=this.context.filterProps(Wn)),this._domEvents.forEach((function(e){return t.parseEvent(e)}))}},{key:"destroy",value:function(){this.removeEventAll()}},{key:"removeEventAll",value:function(){var t=this;this.getBindings().forEach((function(e){t.removeEvent(e)})),this.initBindings()}},{key:"removeEvent",value:function(t){var e=t.eventName,n=t.dom,r=t.callback;Xr.removeEvent(n,e,r)}},{key:"getBindings",value:function(){return this._bindings||this.initBindings(),this._bindings}},{key:"addBinding",value:function(t){this.getBindings().push(t)}},{key:"initBindings",value:function(){this._bindings=[]}},{key:"matchPath",value:function(t,e){return t?t.matches(e)?t:this.matchPath(t.parentElement,e):null}},{key:"hasDelegate",value:function(t,e){return this.matchPath(t.target||t.srcElement,e.delegate)}},{key:"makeCallback",value:function(t,e){return t.delegate?this.makeDelegateCallback(t,e):this.makeDefaultCallback(t,e)}},{key:"makeDefaultCallback",value:function(t,e){var n=this;return function(r){var o=n.runEventCallback(r,t,e);if(te(o))return o}}},{key:"makeDelegateCallback",value:function(t,e){var n=this;return function(r){var o=n.hasDelegate(r,t);if(o){r.$dt=Nn.create(o);var i=n.runEventCallback(r,t,e);if(te(i))return i}}}},{key:"runEventCallback",value:function(t,e,n){var r=this.context;if(t.xy=Xr.posXY(t),e.beforeMethods.length&&e.beforeMethods.every((function(e){return r[e.target].call(r,t,e.param)})),this.checkEventType(t,e)){var o=n(t,t.$dt,t.xy);return!1!==o&&e.afterMethods.length&&e.afterMethods.forEach((function(e){return r[e.target].call(r,t,e.param)})),o}}},{key:"checkEventType",value:function(t,e){var n=this.context,r=!0;e.codes.length&&(r=!!t.code&&e.codes.indexOf(t.code.toLowerCase())>-1||!!t.key&&e.codes.indexOf(t.key.toLowerCase())>-1);var o=!0;return e.checkMethodList.length&&(o=e.checkMethodList.every((function(e){var r=n[e];return ae(r)&&r?r.call(n,t):!te(r)||!!r}))),r&&o}},{key:"getDefaultDomElement",value:function(t){var e,n=this.context;return(e=t?n.refs[t]||n[t]||window[t]:n.el||n.$el||n.$root)instanceof Nn?e.getElement():e}},{key:"getDefaultEventObject",value:function(t,e){var n=this.context,r=e,o=r.filter((function(t){return!!n[t]})),i=to(Oe(r,"after"),2),a=i[0],c=i[1],u=to(Oe(r,"before"),2),s=u[0],l=u[1],f=to(Oe(r,"debounce"),2),p=f[0],y=f[1],h=to(Oe(r,"throttle"),2),d=h[0],v=h[1],b=to(Oe(r,"capture"),1)[0],m=[].concat(Jr(o),Jr(a),Jr(s),Jr(p),Jr(d),Jr(b));return{eventName:t,codes:r.filter((function(t){return-1===m.indexOf(t)})).map((function(t){return t.toLowerCase()})),captures:b,afterMethods:c,beforeMethods:l,debounceMethods:y,throttleMethods:v,checkMethodList:o}}},{key:"addEvent",value:function(t,e){t.callback=this.makeCallback(t,e),this.addBinding(t);var n=!!t.captures.length;uo[t.eventName]&&(n={passive:!0,capture:n}),Xr.addEvent(t.dom,t.eventName,t.callback,n)}},{key:"bindingEvent",value:function(t,e,n){var r,o=no(r=t)||Qr(r)||eo(),i=o[0],a=o[1],c=o.slice(2),u=(this.context,this.getDefaultEventObject(i,e));u.dom=this.getDefaultDomElement(a),u.delegate=c.join(" "),u.debounceMethods.length?n=Nt(n,+u.debounceMethods[0].target):u.throttleMethods.length&&(n=Kt(n,+u.throttleMethods[0].target)),this.addEvent(u,n)}},{key:"getEventNames",value:function(t){var e=[];return t.split(":").forEach((function(t){var n=t.split(":");e.push.apply(e,Jr(n))})),e}},{key:"parseEvent",value:function(t){var e=this,n=this.context,r=t.split(qn).map((function(t){return t.trim()})),o=r.shift().split("dom ")[1].split(" "),i=this.getEventNames(o[0]),a=n[t].bind(n);i.forEach((function(t){o[0]=t,e.bindingEvent(o,r,a)}))}}])&&oo(n.prototype,r),o&&oo(n,o),e}(Zr);function lo(t){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function po(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ho(t,e){return!e||"object"!==lo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vo(t){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bo(t,e){return(bo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mo(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var go,wo=function(t,e,n){"cssText"!==e?"style"!==e?"class"!==e?Qt(n)?t.removeAttr(e):"TEXTAREA"===t.el.nodeName&&"value"===e?t.text(n):"text"===e||"textContent"===e?t.text(n):"innerHTML"===e||"html"===e?t.html(n):"value"===e?t.val(n):t.attr(e,n):ee(n)?t.addClass.apply(t,mo(n)):ie(n)?Wt(n,(function(e,n){return t.toggleClass(e,n)})):t.addClass(n):oe(n)&&t.css(n):t.cssText(n)},ko=function(t){function e(){return po(this,e),ho(this,vo(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bo(t,e)}(e,t),n=e,(r=[{key:"load",value:function(){this.bindData.apply(this,arguments)}},{key:"bindData",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._bindMethods||(this._bindMethods=this.context.filterProps(Zn)),this._bindMethods.filter((function(t){if(!n.length)return!0;var e=fo(t.split(qn),2),r=e[0],o=(e[1],fo(r.split(" "),2)),i=(o[0],o[1]);return n.indexOf(i)>-1})).forEach((function(e){var r=t.context[e],o=fo(e.split(qn),2),i=(e=o[0],o[1]),a=t.getRef(i),c=Gr;""!=a&&re(a)?c=Fr(a):ae(a)&&(c=a);var u=e.split("bind ")[1],s=t.context.refs[u],l=ae(c)&&c.call(t.context);if(s&&l){var f=r.call.apply(r,[t.context].concat(n));if(!f)return;Wt(f,(function(t,e){wo(s,t,e)}))}}))}},{key:"destroy",value:function(){this._bindMethods=void 0}}])&&yo(n.prototype,r),o&&yo(n,o),e}(Zr);function Oo(){var t=Eo(["",""]);return Oo=function(){return t},t}function jo(t){return xo(t)||Co(t)||Po()}function So(t,e){return xo(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Po()}function Po(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function xo(t){if(Array.isArray(t))return t}function $o(){var t=Eo(["\n        ","\n      "]);return $o=function(){return t},t}function Eo(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function _o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||Co(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Co(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function To(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ro(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Do=Nn.create("div"),Vo="[".concat("ref","]"),Ao=(Ro(go={constructor:!0,initState:!0,refresh:!0,updateData:!0},"constructor",!0),Ro(go,"initializeProperty",!0),Ro(go,"created",!0),Ro(go,"getRealEventName",!0),Ro(go,"initializeStoreEvent",!0),Ro(go,"destoryStoreEvent",!0),Ro(go,"destroy",!0),Ro(go,"emit",!0),Ro(go,"trigger",!0),Ro(go,"on",!0),Ro(go,"off",!0),Ro(go,"setState",!0),Ro(go,"_reload",!0),Ro(go,"render",!0),Ro(go,"initialize",!0),Ro(go,"afterRender",!0),Ro(go,"components",!0),Ro(go,"getRef",!0),Ro(go,"parseTemplate",!0),Ro(go,"childrenIds",!0),Ro(go,"exists",!0),Ro(go,"parseProperty",!0),Ro(go,"parseSourceName",!0),Ro(go,"parseComponent",!0),Ro(go,"clean",!0),Ro(go,"refresh",!0),Ro(go,"loadTemplate",!0),Ro(go,"load",!0),Ro(go,"bindData",!0),Ro(go,"template",!0),Ro(go,"eachChildren",!0),Ro(go,"destroy",!0),Ro(go,"collectProps",!0),Ro(go,"filterProps",!0),Ro(go,"self",!0),Ro(go,"isAltKey",!0),Ro(go,"isCtrlKey",!0),Ro(go,"isShiftKey",!0),Ro(go,"isMetaKey",!0),Ro(go,"preventDefault",!0),Ro(go,"stopPropagation",!0),Ro(go,"bodyMouseMove",!0),Ro(go,"bodyMouseUp",!0),go),Io=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state={},this.prevState={},this.refs={},this.children={},this._bindings=[],this.id=U(),this.handlers=this.initializeHandler(),this.initializeProperty(e,n),this.initComponents()}var e,n,r;return e=t,(n=[{key:"initComponents",value:function(){var t=this;this.childComponents=this.components(),this.childComponentKeys=Object.keys(this.childComponents),this.childComponentSet=new Map,this.childComponentKeys.forEach((function(e){t.childComponentSet.set(e.toLowerCase(),e)})),this.childComponentKeysString=_o(this.childComponentSet.keys()).join(",")}},{key:"initializeHandler",value:function(){return[new ko(this),new so(this)]}},{key:"initState",value:function(){return{}}},{key:"setState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.prevState=this.state,this.state=Object.assign({},this.state,t),e&&this.load()}},{key:"toggleState",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setState(Ro({},t,!this.state[t]),e)}},{key:"_reload",value:function(t){this.props=t,this.state={},this.setState(this.initState(),!1),this.refresh(!0)}},{key:"render",value:function(t){this.$el=this.parseTemplate(he($o(),this.template())),this.refs.$el=this.$el,t&&t.append(this.$el),this.load(),this.afterRender()}},{key:"initialize",value:function(){this.state=this.initState()}},{key:"afterRender",value:function(){}},{key:"components",value:function(){return{}}},{key:"getRef",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.join("");return this.refs[r]}},{key:"parseTemplate",value:function(t,e){var n=this;ee(t)&&(t=t.join("")),t=t.trim();var r=Do.html(t).children();return r.forEach((function(t){var e=t.attr("ref");e&&(n.refs[e]=t);var r=t.$$(Vo),o={};r.forEach((function(t){var r=t.attr("ref");o[r]?console.warn("".concat(e," is duplicated. - ").concat(n.sourceName),n):o[r]=!0,n.refs[r]=t}))})),e?Do.createChildrenFragment():r[0]}},{key:"childrenIds",value:function(){return Ut(this.children,(function(t,e){return e.id}))}},{key:"exists",value:function(){return!this.parent||!ae(this.parent.childrenIds)||this.parent.childrenIds().indexOf(this.id)>-1}},{key:"parseProperty",value:function(t){var e={},n=!0,r=!1,o=void 0;try{for(var i,a=t.el.attributes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value;e[c.nodeName]=c.nodeValue}}catch(t){r=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t.$$("property").forEach((function(t){var n=So(t.attrs("name","value","type"),3),r=n[0],o=n[1],i=n[2],a=o||t.text();"json"===i&&(a=JSON.parse(a)),e[r]=a})),e}},{key:"parseSourceName",value:function(t){return t.parent?[t.sourceName].concat(_o(this.parseSourceName(t.parent))):[t.sourceName]}},{key:"parseComponent",value:function(){var t=this,e=this.$el,n=[];this.childComponentKeysString&&(n=e.$$(this.childComponentKeysString)),n.forEach((function(e){var n=e.el.tagName.toLowerCase(),r=t.childComponentSet.get(n),o=t.childComponents[r],i=t.parseProperty(e),a=e.attr("ref"),c=null;t.children[a]?(c=t.children[a])._reload(i):(c=new o(t,i),t.children[a||c.id]=c,c.render()),e.replace(c.$el)})),Wt(this.children,(function(e,n){n&&n.clean()&&delete t.children[e]}))}},{key:"clean",value:function(){if(this.$el&&!this.$el.hasParent())return Wt(this.children,(function(t,e){e.clean()})),this.destroy(),this.$el=null,!0}},{key:"refresh",value:function(){this.load()}},{key:"loadTemplate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this[zr(e.join(""))].call(this)}},{key:"load",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._loadMethods||(this._loadMethods=this.filterProps(Un)),this._loadMethods.filter((function(t){var e=t.split("load ")[1].split(qn).map((function(t){return t.trim()}))[0];return!n.length||n.indexOf(e)>-1})).forEach((function(e){var r=jo(e.split("load ")[1].split(qn).map((function(t){return t.trim()}))),o=r[0],i=r.slice(1);i=i.map((function(t){return t.trim()}));var a=Boolean(i.filter((function(t){return Rr.includes(t)})).length);if(t.refs[o]){var c,u=(c=t[e]).call.apply(c,[t].concat(n));ee(u)&&(u=u.join(""));var s=t.parseTemplate(he(Oo(),u),!0);a?t.refs[o].htmlDiff(s):t.refs[o].html(s)}})),this.runHandlers("initialize"),this.bindData(),this.parseComponent()}},{key:"runHandlers",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"run",e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.handlers.forEach((function(e){return e[t].apply(e,n)}))}},{key:"bindData",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.runHandlers.apply(this,["load"].concat(e))}},{key:"template",value:function(){return"<div></div>"}},{key:"eachChildren",value:function(t){ae(t)&&Wt(this.children,(function(e,n){t(n)}))}},{key:"rerender",value:function(){var t=this.$el.parent();this.destroy(),this.render(t)}},{key:"destroy",value:function(){this.eachChildren((function(t){t.destroy()})),this.runHandlers("destroy"),this.$el.remove(),this.$el=null,this.refs={},this.children={}}},{key:"collectProps",value:function(){return Yt(this,Ao)}},{key:"filterProps",value:function(t){return this.collectProps().filter((function(e){return e.match(t)}))}},{key:"self",value:function(t){return t&&t.$dt&&t.$dt.is(t.target)}},{key:"isAltKey",value:function(t){return t.altKey}},{key:"isCtrlKey",value:function(t){return t.ctrlKey}},{key:"isShiftKey",value:function(t){return t.shiftKey}},{key:"isMetaKey",value:function(t){return t.metaKey||"Meta"==t.key||t.code.indexOf("Meta")>-1}},{key:"preventDefault",value:function(t){return t.preventDefault(),!0}},{key:"stopPropagation",value:function(t){return t.stopPropagation(),!0}},{key:"bodyMouseMove",value:function(t,e){this[e]&&this.emit("add/body/mousemove",this[e],this,t.xy)}},{key:"bodyMouseUp",value:function(t,e){this[e]&&this.emit("add/body/mouseup",this[e],this,t.xy)}}])&&To(e.prototype,n),r&&To(e,r),t}();function Lo(t){return(Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function zo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fo(t,e){return!e||"object"!==Lo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Go(t,e,n){return(Go="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ho(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ho(t){return(Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xo(t,e){return(Xo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yo,No=/^ME@/,Ko=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.join("|")},Wo=function(){return"ME@"+Ko.apply(void 0,arguments)},Uo=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return zo(this,e),(n=Fo(this,Ho(e).call(this,t,r))).created(),n.initialize(),n.initializeStoreEvent(),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xo(t,e)}(e,t),n=e,(r=[{key:"initializeProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.opt=t||{},this.parent=this.opt,this.props=e,this.source=U(),this.sourceName=this.constructor.name,t&&t.$store&&(this.$store=t.$store),t&&t.$editor&&(this.$editor=t.$editor)}},{key:"created",value:function(){}},{key:"getRealEventName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ME@",n=t.indexOf(e);return t.substr(n<0?0:n+e.length)}},{key:"splitMethod",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Oe(t.split("|"),e),o=Mo(r,2),i=o[0],a=o[1];return[i.length?+a[0].target:n,i,a]}},{key:"initializeStoreEvent",value:function(){var t=this;this.filterProps(No).forEach((function(e){var n=t.getRealEventName(e,"ME@"),r=Mo(t.splitMethod(n,"debounce"),2),o=r[0],i=r[1],a=Mo(t.splitMethod(n,"throttle"),2),c=a[0],u=a[1];n.split("|").filter((function(t){return-1===i.indexOf(t)&&-1===u.indexOf(t)})).map((function(t){return t.trim()})).forEach((function(n){var r=t[e].bind(t);r.displayName="".concat(t.sourceName,".").concat(n),r.source=t.source,t.$store.on(n,r,t,o,c)}))}))}},{key:"destoryStoreEvent",value:function(){this.$store.offAll(this)}},{key:"destroy",value:function(){Go(Ho(e.prototype),"destroy",this).call(this),this.destoryStoreEvent()}},{key:"rerender",value:function(){Go(Ho(e.prototype),"rerender",this).call(this),this.initialize(),this.initializeStoreEvent()}},{key:"emit",value:function(t){var e;this.$store.source=this.source,this.$store.sourceContext=this;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=this.$store).emit.apply(e,[t].concat(r))}},{key:"nextTick",value:function(t){this.$store.nextTick(t)}},{key:"trigger",value:function(t){var e;this.$store.source=this.source;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=this.$store).trigger.apply(e,[t].concat(r))}},{key:"on",value:function(t,e){this.$store.on(t,e)}},{key:"off",value:function(t,e){this.$store.off(t,e)}},{key:"$i18n",value:function(t){return this.$editor.i18n(t)}},{key:"$initI18n",value:function(t){return this.$editor.initI18n(t)}},{key:"command",value:function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return this.$editor.isPointerUp?this.emit.apply(this,["history.".concat(t),e].concat(r)):this.emit.apply(this,[t].concat(r))}},{key:"$theme",value:function(t){return this.$editor.themeValue(t)}},{key:"$config",get:function(){return this.$editor.config}},{key:"$selection",get:function(){return this.$editor.selection}},{key:"$timeline",get:function(){return this.$editor.timeline}},{key:"$history",get:function(){return this.$editor.history}}])&&Bo(n.prototype,r),o&&Bo(n,o),e}(Io);function Zo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qo={en_US:{"app.title":"EASYLOGIC","app.sample":function(t,e,n){return"".concat(t,"-").concat(e,"-").concat(n)},"app.lang.en_US":"English","app.lang.ko_KR":"한국어","app.lang.fr_FR":"Français","app.label.lang":"Language","app.layout.all":"All","app.layout.css":"CSS","app.layout.svg":"SVG","app.label.layout":"Menu Layout","app.theme.dark":"Dark","app.theme.light":"Light","app.theme.toon":"Toon","app.theme.gray":"Gray","app.label.theme":"Theme","app.tab.title.projects":"Projects","app.tab.title.layers":"Layers","app.tab.title.libraries":"Library","app.tab.title.components":"Object","app.tab.title.assets":"Assets","app.tab.title.keyMap":"KeyMap","menu.item.download.title":"Download","menu.item.save.title":"Save","menu.item.export.title":"Export","menu.item.codepen.title":"CodePen","menu.item.fullscreen.title":"Screen","menu.item.shortcuts.title":"ShortCuts","menu.item.github.title":"Github","menu.item.learn.title":"Learn","project.property.title":"Project","project.information.property.title":"Project information","project.information.property.name":"Name","project.information.property.description":"Description","artboard.property.title":"ArtBoards","artboard.property.layout.title.flex":"Flex","artboard.property.layout.title.grid":"Grid","layer.tree.property.title":"Layers","layer.tree.property.layout.title.flex":"Flex","layer.tree.property.layout.title.grid":"Grid","alignment.property.title":"Alignment","position.property.title":"Position","position.property.X":"X","position.property.Y":"Y","size.property.title":"Size","size.property.width":"Width","size.property.height":"Height","background.color.property.title":"Appearance","background.color.property.color":"Color","background.color.property.zindex":"z-index","background.color.property.opacity":"Opacity","background.color.property.blend":"Blend","background.color.property.overflow":"Overflow","background.color.property.overflow.visible":"Visible","background.color.property.overflow.hidden":"Hidden","background.color.property.overflow.scroll":"Scroll","background.color.property.overflow.auto":"Auto","blend.normal":"normal","blend.multiply":"multiply","blend.screen":"screen","blend.overlay":"overlay","blend.darken":"darken","blend.lighten":"lighten","blend.color-dodge":"color-dodge","blend.color-burn":"color-burn","blend.hard-light":"hard-light","blend.soft-light":"soft-light","blend.difference":"difference","blend.exclusion":"exclusion","blend.hue":"hue","blend.saturation":"saturation","blend.color":"color","blend.luminosity":"luminosity","background.image.property.title":"Fill","border.property.title":"Border","border.radius.property.title":"Border Radius","boxshadow.property.title":"Box Shadows","filter.property.title":"Filter","filter.property.blur":"Blur","filter.property.grayscale":"GrayScale","filter.property.hue-rotate":"Hue Rotate","filter.property.invert":"Invert","filter.property.brightness":"Brightness","filter.property.contrast":"Contrast","filter.property.drop-shadow":"Drop Shadow","filter.property.drop-shadow.color":"Color","filter.property.drop-shadow.offsetX":"Offset X","filter.property.drop-shadow.offsetY":"Offset Y","filter.property.drop-shadow.blurRadius":"Blur","filter.property.opacity":"Opacity","filter.property.saturate":"Saturate","filter.property.sepia":"Sepia","filter.property.svg":"SVG","font.property.title":"Font","font.property.color":"Color","font.property.size":"Size","font.property.stretch":"Stretch","font.property.weight":"Weight","font.property.style":"Style","font.property.family":"Family","font.spacing.property.title":"Font spacing","font.spacing.property.lineHeight":"Line height","font.spacing.property.letterSpacing":"Letter spacing","font.spacing.property.wordSpacing":"Word spacing","font.spacing.property.indent":"Indent","backdrop.filter.property.title":"Backdrop Filter","clippath.property.title":"Clip Path","export.property.title":"Export","export.property.download":"Download","image.property.title":"Image","image.property.origin":"Origin","image.property.size":"Size","image.property.width":"Width","image.property.height":"height","video.property.title":"Video","video.property.play":"Play","video.property.pause":"Pause","video.property.volume":"Volume","video.property.playbackRate":"Playback Rate","video.property.currentTime":"Current Time","video.property.playTime":"Play Time Distance","motion.property.title":"Motion","text.property.title":"Text Style","text.property.align":"Align","text.property.transform":"Transform","text.property.decoration":"Decoration","text.clip.property.title":"Text Clip","text.shadow.property.title":"Text Shadows","text.fill.property.title":"Text Fill","text.fill.property.fill":"Fill","text.fill.property.stroke":"Stroke","text.fill.property.strokeWidth":"Width","transform.property.title":"Transform","transform.origin.property.title":"Transform Origin","transition.property.title":"CSS Transition","keyframe.property.title":"CSS Keyframe","selector.property.title":"Selector","selector.property.none":"None selector","path.data.property.title":"Path Information","polygon.data.property.title":"Polygon Information","perspective.property.title":"Perspective","perspective.origin.property.title":"Perspective Origin","svg.item.property.title":"SVG","svg.item.property.isMotionPath":"Motion Path","svg.item.property.fill":"Fill","svg.item.property.fillOpacity":"Opacity","svg.item.property.path":"Path","svg.item.property.polygon":"Polygon","svg.item.property.totalLength":"Total Length","svg.item.property.fillRule":"Fill Rule","svg.item.property.stroke":"Stroke","svg.item.property.strokeWidth":"Width","svg.item.property.dashArray":"Dash Array","svg.item.property.dashOffset":"Dash Offset","svg.item.property.lineCap":"Line Cap","svg.item.property.lineJoin":"Line Join","svg.item.property.filter":"Filter","border.editor.all":"All","border.editor.width":"Width","border.editor.style":"Style","border.editor.color":"C","border.editor.top":"Top","border.editor.left":"Left","border.editor.right":"Right","border.editor.bottom":"Bottom","border.radius.editor.topLeft":"Top Left","border.radius.editor.topRight":"Top Right","border.radius.editor.bottomLeft":"Bottom Left","border.radius.editor.bottomRight":"Bottom Right","boxshadow.editor.blur":"Blur","boxshadow.editor.spread":"Spread","css.property.editor.properties":"Properties","offset.path.list.editor.path":"Path","offset.path.list.editor.totalLength":"Total Length","offset.path.list.editor.distance":"Distance","offset.path.list.editor.direction":"Direction","offset.path.list.editor.rotate":"Rotate","svgfilter.select.editor.message.create":"Create new svg filter","svgfilter.select.editor.message.select":"Select a filter","fill.editor.message.click.image":"Click the preview area if you want to select a image","fill.editor.message.drag.position":"Drag if you want to move center position","fill.editor.x1":"Start X","fill.editor.x2":"End X","fill.editor.y1":"Start Y","fill.editor.y2":"End Y","fill.editor.spread":"Spread","fill.editor.offset":"Offset","fill.editor.cx":"Center X","fill.editor.cy":"Center Y","fill.editor.r":"End radius","fill.editor.fx":"Start X","fill.editor.fy":"Start Y","fill.editor.fr":"Start radius","perspective.origin.editor.originX":"Origin X","perspective.origin.editor.originY":"Origin Y","path.manager.msg":"Keydown ESC or Enter key to close editing","path.manager.mode.modify":"Modify","path.manager.mode.path":"Path","path.manager.mode.transform":"Transform","path.manager.mode.flipX":"Flip X","path.manager.mode.flipY":"Flip Y","path.manager.mode.flipOrigin":"Flip Origin","colorpicker.popup.title":"ColorPicker","selector.popup.title":"Selector Property","selector.popup.selector":"Selector","background.image.position.popup.title":"Background Pattern","background.image.position.popup.size":"Size","background.image.position.popup.width":"Width","background.image.position.popup.height":"Height","background.image.position.popup.repeat":"Repeat","background.image.position.popup.blend":"Blend","background.image.position.popup.type.repeat":"repeat","background.image.position.popup.type.no-repeat":"no repeat","background.image.position.popup.type.repeat-x":"repeat-x","background.image.position.popup.type.repeat-y":"repeat-y","background.image.position.popup.type.space":"space","background.image.position.popup.type.round":"round","gradient.picker.popup.title":"Gradient & Image Picker","image.asset.property.title":"Image","video.asset.property.title":"Video","color.asset.property.title":"Color","gradient.asset.property.title":"Gradient","pattern.asset.property.title":"Pattern","svgfilter.asset.property.title":"SVG Filter","inspector.tab.title.style":"Style","inspector.tab.title.component":"Component","inspector.tab.title.transition":"Transition & Animation","inspector.tab.title.asset":"Assets","inspector.tab.title.text":"Text","inspector.tab.title.code":"Code","inspector.tab.title.history":"History","timeline.property.title":"Timeline","timeline.animation.property.title":"Animations","timeline.play.control.play":"Play","timeline.play.control.pause":"Pause","timeline.play.control.first":"First","timeline.play.control.prev":"Previous","timeline.play.control.next":"Next","timeline.play.control.last":"Last","timeline.play.control.direction":"Direction","timeline.play.control.speed":"Speed","timeline.play.control.repeat":"Repeat","timeline.play.control.infinite":"Infinite","timeline.play.control.normal":"normal","timeline.play.control.alternate":"alternate","timeline.play.control.reverse":"reverse","timeline.play.control.alternate.reverse":"alternate reverse","timeline.value.editor.value":"Value","timeline.value.editor.time":"Time","timeline.value.editor.timing":"Timing","timeline.value.editor.offset.message":"Please input enter key to change time offset.","svgfilter.popup.title":"SVG Filter","css.item.rotate":"Rotate","css.item.rotateX":"Rotate X","css.item.rotateY":"Rotate Y","css.item.rotateZ":"Rotate Z","css.item.rotate3d":"3D Rotate","css.item.skewX":"Skew X","css.item.skewY":"Skew Y","css.item.translate":"Translate","css.item.translateX":"Translate X","css.item.translateY":"Translate Y","css.item.translateZ":"Translate Z","css.item.translate3d":"3D Translate","css.item.perspective":"Perspective","css.item.scale":"Scale","css.item.scaleX":"Scale X","css.item.scaleY":"Scale Y","css.item.scaleZ":"Scale Z","css.item.scale3d":"3D Scale","css.item.matrix":"Matrix","css.item.matrix3d":"3D Matrix","animation.property.title":"CSS Animation","animation.property.direction":"Direction","animation.property.play.state":"Play State","animation.property.fill.mode":"Fill Mode","animation.property.delay":"Delay","animation.property.duration":"Duration","animation.property.iteration.count":"Iteration Count","animation.property.Select a keyframe":"Select a keyframe","animation.property.popup.title":"Animation","animation.property.popup.timing.function":"Timing Function","animation.property.popup.keyframe":"Keyframe","animation.property.popup.direction":"Direction","animation.property.popup.play.state":"Play State","animation.property.popup.fill.mode":"Fill Mode","animation.property.popup.delay":"Delay","animation.property.popup.duration":"Duration","animation.property.popup.iteration":"Iteration","animation.property.popup.normal":"normal","animation.property.popup.reverse":"reverse","animation.property.popup.alternate":"alternate","animation.property.popup.alternate-reverse":"alternate-reverse","animation.property.popup.none":"none","animation.property.popup.forwards":"forwards","animation.property.popup.backwards":"backwards","animation.property.popup.both":"both","animation.property.popup.Select a keyframe":"Select a keyframe","keyframe.popup.title":"Keyframe","code.view.property.title":"CodeView","svg.filter.editor.tab.filter":"Filter","svg.filter.editor.tab.preset":"Preset","svg.filter.editor.tab.asset":"Assets","svg.filter.editor.GRAPHIC REFERENCES":"GRAPHIC REFERENCES","svg.filter.editor.SOURCES":"SOURCES","svg.filter.editor.MODIFIER":"MODIFIER","svg.filter.editor.LIGHTING":"LIGHTING","svg.filter.editor.COMBINERS":"COMBINERS","svg.filter.editor.Template":"Template","layout.property.title":"Layout","layout.property.flex":"Flex Box","layout.property.grid":"Grid","layout.property.default":"Default","flex.layout.editor.row":"Row","flex.layout.editor.column":"column","flex.layout.editor.row-reverse":"Row Reverse","flex.layout.editor.column-reverse":"Column Reverse","flex.layout.editor.nowrap":"Nowrap","flex.layout.editor.wrap":"Wrap","flex.layout.editor.wrap-reverse":"Wrap Reverse","flex.layout.editor.flex-start":"Start","flex.layout.editor.flex-end":"End","flex.layout.editor.center":"Center","flex.layout.editor.space-between":"Between","flex.layout.editor.space-around":"Around","flex.layout.editor.baseline":"BaseLine","flex.layout.editor.stretch":"Stretch","flex.layout.editor.direction":"Direction","flex.layout.editor.justify-content":"Justify Content","flex.layout.editor.align-items":"Align Items","flex.layout.editor.align-content":"Align Content","flex.layout.item.property.title":"Layout Item Detail","flex.layout.item.property.grow":"Flex Grow","flex.layout.item.property.shrink":"Flex Shrink","flex.layout.item.property.basis":"Flex Basis","flex.layout.item.property.none":"none","flex.layout.item.property.auto":"auto","flex.layout.item.property.value":"value","grid.layout.editor.template.columns":"Columns","grid.layout.editor.column.gap":"Column Gap","grid.layout.editor.template.rows":"Rows","grid.layout.editor.row.gap":"Row Gap","grid.box.editor.box.title":"Box","grid.box.editor.type":"Type","grid.box.editor.repeat":"Repeat","grid.box.editor.length":"Length","grid.box.editor.none":"None","grid.box.editor.auto":"Auto","grid.box.editor.count":"Count","grid.box.editor.value":"Size","grid.layout.item.property.title":"Layout Item Detail","grid.layout.item.property.column":"Column","grid.layout.item.property.row":"Row","grid.layout.item.property.start":"Start","grid.layout.item.property.end":"End","grid.layout.item.property.none":"none","grid.layout.item.property.value":"value","box.model.property.title":"Box Model","box.model.property.margin":"Margin","box.model.property.padding":"Padding","component.items.canvas":"Canvas","component.items.layer":"Layer","component.items.3dlayer":"3D Layer","component.items.drawing":"Drawing","component.items.custom":"Custom Component","svg.text.property.title":"SVG Text Style","svg.text.property.textarea":"Text Area","svg.text.property.size":"Font Size","svg.text.property.weight":"Font Weight","svg.text.property.style":"Font Style","svg.text.property.anchor":"Text Anchor","svg.text.property.family":"Font Family","svg.text.property.length.adjust":"Length Adjust","svg.text.property.text.length":"Text Length","svg.text.property.start.offset":"Start Offset","fill.picker.popup.title":"SVG Fragment picker","gradient.editor.drag.message":"Drag if you want to move center pointer.","draw.manager.tolerance":"Tolerance","pattern.property.title":"Pattern","pattern.info.popup.title":"Pattern Info","pattern.info.popup.width":"Width","pattern.info.popup.height":"Height","pattern.info.popup.lineWidth":"Line Width","pattern.info.popup.lineHeight":"Line Height","pattern.info.popup.rotate":"Rotate","pattern.info.popup.blend":"Blend Mode","pattern.info.popup.foreColor":"Fore","pattern.info.popup.backColor":"Back","stroke.dasharray.editor.add":"Add Dash"},fr_FR:(Zo(Yo={"app.title":"EASYLOGIC","app.sample":function(t,e,n){return"".concat(t,"-").concat(e,"-").concat(n)},"app.lang.en_US":"English","app.lang.ko_KR":"한국어","app.lang.fr_FR":"Français","app.label.lang":"Langue","app.layout.all":"All","app.layout.css":"CSS","app.layout.svg":"SVG","app.label.layout":"Menu Layout","app.theme.dark":"Sombre","app.theme.light":"Clair","app.theme.gray":"Gris","app.label.theme":"Thème","app.tab.title.projects":"Projets","app.tab.title.layers":"Objets","app.tab.title.libraries":"Librarie","app.tab.title.components":"Objet","app.tab.title.assets":"Elements","app.tab.title.keyMap":"Clavier","menu.item.download.title":"Télécharger","menu.item.save.title":"Enregistrer","menu.item.export.title":"Exporter","menu.item.codepen.title":"CodePen","menu.item.fullscreen.title":"Ecran","menu.item.shortcuts.title":"ShortCuts","menu.item.github.title":"Github","menu.item.learn.title":"Docs","project.property.title":"Projet","project.information.property.title":"Information","project.information.property.name":"Nom","project.information.property.description":"Description","artboard.property.title":"Planche","artboard.property.layout.title.flex":"Flex","artboard.property.layout.title.grid":"Grille","layer.tree.property.title":"Objets","layer.tree.property.layout.title.flex":"Flex","layer.tree.property.layout.title.grid":"Grille","alignment.property.title":"Alignment","position.property.title":"Position","position.property.X":"X","position.property.Y":"Y","size.property.title":"Taille","size.property.width":"Largeur","size.property.height":"Hauteur","background.color.property.title":"Apparance","background.color.property.color":"Couleur","background.color.property.zindex":"z-index","background.color.property.opacity":"Opacité","background.color.property.blend":"Mélange","background.color.property.overflow":"Débordement","background.color.property.overflow.visible":"Visible","background.color.property.overflow.hidden":"Caché","background.color.property.overflow.scroll":"Scroll","background.color.property.overflow.auto":"Auto","blend.normal":"normal","blend.multiply":"multiplie","blend.screen":"écran","blend.overlay":"couche","blend.darken":"sombre","blend.lighten":"clair","blend.color-dodge":"dodge","blend.color-burn":"brulé","blend.hard-light":"dur","blend.soft-light":"doux","blend.difference":'diff"rence',"blend.exclusion":"exclusion","blend.hue":"teinte","blend.saturation":"saturation","blend.color":"couleur","blend.luminosity":"luminosité","background.image.property.title":"Remplissage","border.property.title":"Bordure","border.radius.property.title":"Rayon de bordure","boxshadow.property.title":"Ombres","filter.property.title":"Filtre","filter.property.blur":"Flou","filter.property.grayscale":"Echelle de gris","filter.property.hue-rotate":"Rotation teinte","filter.property.invert":"Invertir","filter.property.brightness":"Luminosité","filter.property.contrast":"Contraste","filter.property.drop-shadow":"Ombre portée","filter.property.drop-shadow.color":"Couleur","filter.property.drop-shadow.offsetX":"Décalage X","filter.property.drop-shadow.offsetY":"Décalage Y","filter.property.drop-shadow.blurRadius":"Flou","filter.property.opacity":"Opacité","filter.property.saturate":"Saturation","filter.property.sepia":"Sépia","filter.property.svg":"SVG","font.property.title":"Police","font.property.color":"Couleur","font.property.size":"Taille","font.property.stretch":"Etirement","font.property.weight":"Poids","font.property.style":"Style","font.property.family":"Famille","font.spacing.property.title":"Espaces du texte","font.spacing.property.lineHeight":"Hauteur de ligne","font.spacing.property.letterSpacing":"Espace inter-caractères","font.spacing.property.wordSpacing":"Espace inter-mots","font.spacing.property.indent":"Identation","backdrop.filter.property.title":"Filtre Backdrop","clippath.property.title":"Chemin du Clip","export.property.title":"Exporter","export.property.download":"Télécharger","image.property.title":"Image","image.property.origin":"Origine","image.property.size":"Taille","image.property.width":"Largeur","image.property.height":"Hauteur","video.property.title":"Video","video.property.play":"Jouer","video.property.pause":"Pause","video.property.volume":"Volume","video.property.playbackRate":"Vitesse de lecture","video.property.currentTime":"Temps actuel","video.property.playTime":"Temps de lecture","motion.property.title":"Mouvement","text.property.title":"Style Texte","text.property.align":"Alignement","text.property.transform":"Transformation","text.property.decoration":"Décoration","text.clip.property.title":"Clip Texte","text.shadow.property.title":"Ombres Texte","text.fill.property.title":"Remplissage Texte","text.fill.property.fill":"Remplissage","text.fill.property.stroke":"Trait","text.fill.property.strokeWidth":"Largeur","transform.property.title":"Transformation","transform.origin.property.title":"Origine Transformation","transition.property.title":"Transition CSS","keyframe.property.title":"Image clé CSS","selector.property.title":"Sélécteur","selector.property.none":"Aucun sélécteur","path.data.property.title":"Information Chemin","polygon.data.property.title":"Information Polygone","perspective.property.title":"Perspective","perspective.origin.property.title":"Origine Perspective","svg.item.property.title":"SVG","svg.item.property.isMotionPath":"Chemin de mouvement","svg.item.property.fill":"Remplissage","svg.item.property.fillOpacity":"Opacité","svg.item.property.path":"Chemin","svg.item.property.polygon":"Polygone","svg.item.property.totalLength":"Longueur totale","svg.item.property.fillRule":"Règle remplissage","svg.item.property.stroke":"Trait","svg.item.property.strokeWidth":"Largeur de trait","svg.item.property.dashArray":"Suite tiret","svg.item.property.dashOffset":"Décalage tiret","svg.item.property.lineCap":"Chapeau Ligne","svg.item.property.lineJoin":"Jonction ligne","svg.item.property.filter":"Filtre","border.editor.all":"Tout","border.editor.width":"Largeur","border.editor.style":"Style","border.editor.color":"Couleur","border.editor.top":"Haut","border.editor.left":"Gauche","border.editor.right":"Droite","border.editor.bottom":"Bas","border.radius.editor.topLeft":"Haut gauche","border.radius.editor.topRight":"Haut droite","border.radius.editor.bottomLeft":"Bas gauche","border.radius.editor.bottomRight":"Bas droite","boxshadow.editor.blur":"Flou","boxshadow.editor.spread":"Etalement","css.property.editor.properties":"Propriétés","offset.path.list.editor.path":"Chemin","offset.path.list.editor.totalLength":"Longueur totale","offset.path.list.editor.distance":"Distance","offset.path.list.editor.direction":"Direction","offset.path.list.editor.rotate":"Rotation","svgfilter.select.editor.message.create":"Créer un filtre svg","svgfilter.select.editor.message.select":"Sélection filtre","fill.editor.message.click.image":"Cliquez sur aperçu si vous souhaitez sélectionner une image","fill.editor.message.drag.position":"Prendre pour changer la position centrale","fill.editor.x1":"Début X","fill.editor.x2":"Fin X","fill.editor.y1":"Début Y","fill.editor.y2":"Fin Y","fill.editor.spread":"Etalement","fill.editor.offset":"Décalage","fill.editor.cx":"Centre X","fill.editor.cy":"Centre Y","fill.editor.r":"Rayon de fin","fill.editor.fx":"Départ X","fill.editor.fy":"Départ Y","fill.editor.fr":"Rayon de départ","perspective.origin.editor.originX":"Origine X","perspective.origin.editor.originY":"Origine Y","path.manager.msg":"Appuyer ESC ou Entréz keypour fermer Edition","path.manager.mode.modify":"Modifier","path.manager.mode.path":"Chemin","path.manager.mode.transform":"Transformer","path.manager.mode.flipX":"Retouner X","path.manager.mode.flipY":"Retouner Y","path.manager.mode.flipOrigin":"Retouner Origine","colorpicker.popup.title":"Pipette","selector.popup.title":"Propiété de Sélecteur","selector.popup.selector":"Sélecteur","background.image.position.popup.title":"Motif de fond","background.image.position.popup.size":"Taille","background.image.position.popup.width":"Largeur","background.image.position.popup.height":"Hauteur","background.image.position.popup.repeat":"Repète","background.image.position.popup.blend":"Mélange","background.image.position.popup.type.repeat":"repète","background.image.position.popup.type.no-repeat":"sans repétition","background.image.position.popup.type.repeat-x":"repète-x","background.image.position.popup.type.repeat-y":"repète-y","background.image.position.popup.type.space":"espace","background.image.position.popup.type.round":"rond","gradient.picker.popup.title":"Sélection Gradient & Image","image.asset.property.title":"Image","video.asset.property.title":"Vidéo","color.asset.property.title":"Couleur","gradient.asset.property.title":"Gradient","pattern.asset.property.title":"Motif","svgfilter.asset.property.title":"Filtre SVG","inspector.tab.title.style":"Style","inspector.tab.title.component":"Composant","inspector.tab.title.transition":"Transition & Animation","inspector.tab.title.asset":"Eléments","inspector.tab.title.text":"Texte","inspector.tab.title.code":"Code","inspector.tab.title.history":"History"},"inspector.tab.title.history","History"),Zo(Yo,"timeline.property.title","Chronologie"),Zo(Yo,"timeline.animation.property.title","Animations"),Zo(Yo,"timeline.play.control.play","Jouer"),Zo(Yo,"timeline.play.control.pause","Pause"),Zo(Yo,"timeline.play.control.first","Premier"),Zo(Yo,"timeline.play.control.prev","Précédent"),Zo(Yo,"timeline.play.control.next","Suivant"),Zo(Yo,"timeline.play.control.last","Dernier"),Zo(Yo,"timeline.play.control.direction","Direction"),Zo(Yo,"timeline.play.control.speed","Vitesse"),Zo(Yo,"timeline.play.control.repeat","Répéter"),Zo(Yo,"timeline.play.control.infinite","Infini"),Zo(Yo,"timeline.play.control.normal","normal"),Zo(Yo,"timeline.play.control.alternate","alternatif"),Zo(Yo,"timeline.play.control.reverse","inverse"),Zo(Yo,"timeline.play.control.alternate.reverse","inverse alternatif"),Zo(Yo,"timeline.value.editor.value","Valeur"),Zo(Yo,"timeline.value.editor.time","Temps"),Zo(Yo,"timeline.value.editor.timing","Calage temps"),Zo(Yo,"timeline.value.editor.offset.message","Please input enter key to change time offset."),Zo(Yo,"svgfilter.popup.title","Filtre SVG"),Zo(Yo,"css.item.rotate","Rotation"),Zo(Yo,"css.item.rotateX","Rotation X"),Zo(Yo,"css.item.rotateY","Rotation Y"),Zo(Yo,"css.item.rotateZ","Rotation Z"),Zo(Yo,"css.item.rotate3d","Rotation 3D"),Zo(Yo,"css.item.skewX","Oblique X"),Zo(Yo,"css.item.skewY","Oblique Y"),Zo(Yo,"css.item.translate","Translation"),Zo(Yo,"css.item.translateX","Translation X"),Zo(Yo,"css.item.translateY","Translation Y"),Zo(Yo,"css.item.translateZ","Translation Z"),Zo(Yo,"css.item.translate3d","Translation 3D"),Zo(Yo,"css.item.perspective","Perspéctive"),Zo(Yo,"css.item.scale","Echelle"),Zo(Yo,"css.item.scaleX","Echelle X"),Zo(Yo,"css.item.scaleY","Echelle Y"),Zo(Yo,"css.item.scaleZ","Echelle Z"),Zo(Yo,"css.item.scale3d","Echelle 3D"),Zo(Yo,"css.item.matrix","Matrice"),Zo(Yo,"css.item.matrix3d","Matrice 3D"),Zo(Yo,"animation.property.title","Animation CSS"),Zo(Yo,"animation.property.direction","Direction"),Zo(Yo,"animation.property.play.state","Etat lecture"),Zo(Yo,"animation.property.fill.mode","Mode remplissage"),Zo(Yo,"animation.property.delay","Délais"),Zo(Yo,"animation.property.duration","Durée"),Zo(Yo,"animation.property.iteration.count","Nombre Itérations"),Zo(Yo,"animation.property.Select a keyframe","Selectionner une image clé"),Zo(Yo,"animation.property.popup.title","Animation"),Zo(Yo,"animation.property.popup.timing.function","Fonction temps"),Zo(Yo,"animation.property.popup.keyframe","image clé"),Zo(Yo,"animation.property.popup.direction","Direction"),Zo(Yo,"animation.property.popup.play.state","Etat lecture"),Zo(Yo,"animation.property.popup.fill.mode","Mode remplissage"),Zo(Yo,"animation.property.popup.delay","Délais"),Zo(Yo,"animation.property.popup.duration","Duréé"),Zo(Yo,"animation.property.popup.iteration","Itération"),Zo(Yo,"animation.property.popup.normal","normal"),Zo(Yo,"animation.property.popup.reverse","inverse"),Zo(Yo,"animation.property.popup.alternate","alternatif"),Zo(Yo,"animation.property.popup.alternate-reverse","inverse alternatif"),Zo(Yo,"animation.property.popup.none","Aucun"),Zo(Yo,"animation.property.popup.forwards","en avant"),Zo(Yo,"animation.property.popup.backwards","en arrière"),Zo(Yo,"animation.property.popup.both","les deux"),Zo(Yo,"animation.property.popup.Select a keyframe","Selectionner une image clé"),Zo(Yo,"keyframe.popup.title","image clé"),Zo(Yo,"code.view.property.title","Vue code"),Zo(Yo,"svg.filter.editor.tab.filter","Filtrer"),Zo(Yo,"svg.filter.editor.tab.preset","Pre-rempli"),Zo(Yo,"svg.filter.editor.tab.asset","Eléments"),Zo(Yo,"svg.filter.editor.GRAPHIC REFERENCES","REFERENCES GRAPHIQUES"),Zo(Yo,"svg.filter.editor.SOURCES","SOURCES"),Zo(Yo,"svg.filter.editor.MODIFIER","MODIFIER"),Zo(Yo,"svg.filter.editor.LIGHTING","ECLAIRAGE"),Zo(Yo,"svg.filter.editor.COMBINERS","COMBINER"),Zo(Yo,"svg.filter.editor.Template","Modèle"),Zo(Yo,"layout.property.title","Disposition"),Zo(Yo,"layout.property.flex","Boîte Flex"),Zo(Yo,"layout.property.grid","Grille"),Zo(Yo,"layout.property.default","Défaut"),Zo(Yo,"flex.layout.editor.row","Ligne"),Zo(Yo,"flex.layout.editor.column","Colonne"),Zo(Yo,"flex.layout.editor.row-reverse","Inverse ligne"),Zo(Yo,"flex.layout.editor.column-reverse","Inverse Colonne"),Zo(Yo,"flex.layout.editor.nowrap","Non-emballé"),Zo(Yo,"flex.layout.editor.wrap","Emballé (wrap)"),Zo(Yo,"flex.layout.editor.wrap-reverse","Inverse emballé"),Zo(Yo,"flex.layout.editor.flex-start","Début"),Zo(Yo,"flex.layout.editor.flex-end","Fin"),Zo(Yo,"flex.layout.editor.center","Centrer"),Zo(Yo,"flex.layout.editor.space-between","Entre"),Zo(Yo,"flex.layout.editor.space-around","Autour"),Zo(Yo,"flex.layout.editor.baseline","Base"),Zo(Yo,"flex.layout.editor.stretch","Etirement"),Zo(Yo,"flex.layout.editor.direction","Direction"),Zo(Yo,"flex.layout.editor.justify-content","Justifier"),Zo(Yo,"flex.layout.editor.align-items","Aligner objets"),Zo(Yo,"flex.layout.editor.align-content","Aligner contenu"),Zo(Yo,"flex.layout.item.property.title","Détail Disposition objet"),Zo(Yo,"flex.layout.item.property.grow","Augmenter Flex"),Zo(Yo,"flex.layout.item.property.shrink","Réduire Flex"),Zo(Yo,"flex.layout.item.property.basis","Base Flex"),Zo(Yo,"flex.layout.item.property.none","Aucun"),Zo(Yo,"flex.layout.item.property.auto","auto"),Zo(Yo,"flex.layout.item.property.value","valeur"),Zo(Yo,"grid.layout.editor.template.columns","Colonne"),Zo(Yo,"grid.layout.editor.column.gap","Espace Colonne"),Zo(Yo,"grid.layout.editor.template.rows","Lignes"),Zo(Yo,"grid.layout.editor.row.gap","Espace lignes"),Zo(Yo,"grid.box.editor.box.title","Boîte"),Zo(Yo,"grid.box.editor.type","Type"),Zo(Yo,"grid.box.editor.repeat","Répéter"),Zo(Yo,"grid.box.editor.length","Longueur"),Zo(Yo,"grid.box.editor.none","Aucun"),Zo(Yo,"grid.box.editor.auto","Auto"),Zo(Yo,"grid.box.editor.count","Compte"),Zo(Yo,"grid.box.editor.value","Taille"),Zo(Yo,"grid.layout.item.property.title","Détail disposition objets"),Zo(Yo,"grid.layout.item.property.column","Colonne"),Zo(Yo,"grid.layout.item.property.row","Ligne"),Zo(Yo,"grid.layout.item.property.start","Début"),Zo(Yo,"grid.layout.item.property.end","Fin"),Zo(Yo,"grid.layout.item.property.none","Aucun"),Zo(Yo,"grid.layout.item.property.value","valeur"),Zo(Yo,"box.model.property.title","Modèle"),Zo(Yo,"box.model.property.margin","Marge"),Zo(Yo,"box.model.property.padding","Espace"),Zo(Yo,"component.items.canvas","Toile"),Zo(Yo,"component.items.layer","Objet"),Zo(Yo,"component.items.3dlayer","Objet 3D"),Zo(Yo,"component.items.drawing","Dessin"),Zo(Yo,"component.items.custom","Composant personnalisé"),Zo(Yo,"svg.text.property.title","Style SVG Texte"),Zo(Yo,"svg.text.property.textarea","Zone Texte"),Zo(Yo,"svg.text.property.size","Taille"),Zo(Yo,"svg.text.property.weight","Poids"),Zo(Yo,"svg.text.property.style","Style"),Zo(Yo,"svg.text.property.anchor","Ancre Texte"),Zo(Yo,"svg.text.property.family","Famille"),Zo(Yo,"svg.text.property.length.adjust","Ajusteement longueur"),Zo(Yo,"svg.text.property.text.length","Ajusteement Texte"),Zo(Yo,"svg.text.property.start.offset","Décallage départ"),Zo(Yo,"fill.picker.popup.title","Sélection Fragment SVG"),Zo(Yo,"gradient.editor.drag.message","Glisser pour déplacer centre."),Zo(Yo,"draw.manager.tolerance","Tolérance"),Zo(Yo,"pattern.property.title","Motif"),Zo(Yo,"pattern.info.popup.title","Info Motif"),Zo(Yo,"pattern.info.popup.width","Largeur"),Zo(Yo,"pattern.info.popup.height","Hauteur"),Zo(Yo,"pattern.info.popup.lineWidth","Largeur ligne"),Zo(Yo,"pattern.info.popup.lineHeight","Hauteur de ligne"),Zo(Yo,"pattern.info.popup.rotate","Rotatation"),Zo(Yo,"pattern.info.popup.blend","Mélange"),Zo(Yo,"pattern.info.popup.foreColor","Avant"),Zo(Yo,"pattern.info.popup.backColor","Arrière"),Zo(Yo,"stroke.dasharray.editor.add","Ajout tiret"),Yo),ko_KR:{"app.title":"EASYLOGIC","app.sample":function(t,e,n){return"".concat(t,"-").concat(e,"-").concat(n)},"app.lang.en_US":"English","app.lang.ko_KR":"한국어","app.lang.fr_FR":"Français","app.label.lang":"언어","app.layout.all":"전체","app.layout.css":"CSS","app.layout.svg":"SVG","app.label.layout":"메뉴구성","app.theme.dark":"어두운","app.theme.light":"밝은","app.theme.toon":"그리기","app.theme.gray":"회색","app.label.theme":"테마","app.tab.title.projects":"프로젝트","app.tab.title.layers":"레이어","app.tab.title.libraries":"라이브러리","app.tab.title.components":"컴포넌트","app.tab.title.assets":"에셋","app.tab.title.keyMap":"단축키","menu.item.download.title":"다운로드","menu.item.save.title":"저장","menu.item.export.title":"내보내기","menu.item.codepen.title":"CodePen","menu.item.fullscreen.title":"전체화면","menu.item.shortcuts.title":"단축키","menu.item.github.title":"Github","menu.item.learn.title":"배우기","project.property.title":"프로젝트","project.information.property.title":"프로젝트 정보","project.information.property.name":"이름","project.information.property.description":"설명","artboard.property.title":"아트보드","artboard.property.layout.title.flex":"플렉스","artboard.property.layout.title.grid":"그리드","layer.tree.property.title":"레이어","layer.tree.property.layout.title.flex":"플렉스","layer.tree.property.layout.title.grid":"그리드","alignment.property.title":"정렬","position.property.title":"위치","position.property.X":"X","position.property.Y":"Y","size.property.title":"크기","size.property.width":"넓이","size.property.height":"높이","background.color.property.title":"표시","background.color.property.color":"배경색","background.color.property.zindex":"z-index","background.color.property.opacity":"투명도","background.color.property.blend":"블렌드모드","background.color.property.overflow":"오버플로우","background.color.property.overflow.visible":"보이기","background.color.property.overflow.hidden":"숨기기","background.color.property.overflow.scroll":"스크롤","background.color.property.overflow.auto":"자동","blend.normal":"Normal(표준) 혼합모드","blend.multiply":"Multiply(곱하기) 모드","blend.screen":"Screen(스크린) 모드 ","blend.overlay":"Overlay(오버레이) 모드","blend.darken":"Darken(어둡기) 모드","blend.lighten":"Lighten(밝기) 모드 ","blend.color-dodge":"Color Dodge(컬러 닷지) 모드 ","blend.color-burn":"Color Burn(컬러 번) 모드 ","blend.hard-light":"Hard Light(하드 라이트) 모드 ","blend.soft-light":"Soft Light(소프트 라이트) 모드 ","blend.difference":"Difference(차이) 모드","blend.exclusion":"Exclusion(제외) 모드","blend.hue":"Hue(색조) 모드 ","blend.saturation":"Saturation(채도) 모드","blend.color":"Color(색상) 모드","blend.luminosity":"Luminosity(광도) 모드 ","background.image.property.title":"배경(그라디언트)","border.property.title":"외곽선","border.radius.property.title":"둥근 외곽선","boxshadow.property.title":"그림자","filter.property.title":"필터","filter.property.blur":"흐림(Blur)","filter.property.grayscale":"회색(GrayScale)","filter.property.hue-rotate":"색조(HueRotate)","filter.property.invert":"반전(Invert)","filter.property.brightness":"밝기(Brightness)","filter.property.contrast":"대\b조(Contrast)","filter.property.drop-shadow":"그림자(Drop Shadow)","filter.property.drop-shadow.color":"색","filter.property.drop-shadow.offsetX":"X 간격","filter.property.drop-shadow.offsetY":"Y 간격","filter.property.drop-shadow.blurRadius":"흐림","filter.property.opacity":"투명도(Opacity)","filter.property.saturate":"채도(Saturate)","filter.property.sepia":"갈색톤(Sepia)","filter.property.svg":"SVG","font.property.title":"폰트","font.property.color":"색","font.property.size":"크기","font.property.stretch":"뻗기","font.property.weight":"굵기","font.property.style":"스타일","font.property.family":"글꼴","font.spacing.property.title":"폰트 공간","font.spacing.property.lineHeight":"줄 높이","font.spacing.property.letterSpacing":"글자 간격","font.spacing.property.wordSpacing":"단어 간격","font.spacing.property.indent":"들여쓰기","backdrop.filter.property.title":"후면 필터","clippath.property.title":"클립패스","export.property.title":"내보내기","export.property.download":"다운로드","image.property.title":"이미지","image.property.origin":"원본","image.property.size":"크기","image.property.width":"넓이","image.property.height":"높이","video.property.title":"비디오","video.property.play":"시작","video.property.pause":"멈춤","video.property.volume":"볼륨","video.property.playbackRate":"빠르기","video.property.currentTime":"현재 시간","video.property.playTime":"플레이 시간 간격","motion.property.title":"모션","path.data.property.title":"패스 정보","polygon.data.property.title":"폴리곤 정보","text.property.title":"텍스트 스타일","text.property.align":"정렬","text.property.transform":"변형","text.property.decoration":"장식","text.clip.property.title":"텍스트 클립","text.shadow.property.title":"텍스트 그림자","text.fill.property.title":"텍스트 채우기","text.fill.property.fill":"채우기","text.fill.property.stroke":"윤곽선","text.fill.property.strokeWidth":"윤곽선 굵기","transform.property.title":"트랜스폼","transform.origin.property.title":"트랜스폼 Origin","transition.property.title":"CSS 트랜지션","keyframe.property.title":"CSS 키프레임","selector.property.title":"CSS 셀렉터","selector.property.none":"선택자 없음","perspective.property.title":"투영(perspective)","perspective.origin.property.title":"투영 중심점","svg.item.property.title":"SVG","svg.item.property.isMotionPath":"모션 패스","svg.item.property.fill":"채우기","svg.item.property.fillOpacity":"투명도","svg.item.property.path":"패스","svg.item.property.polygon":"폴리곤","svg.item.property.totalLength":"전체 길이","svg.item.property.fillRule":"채우기 규칙","svg.item.property.stroke":"선","svg.item.property.strokeWidth":"선 굵기","svg.item.property.dashArray":"점선 길이","svg.item.property.dashOffset":"점선 위치","svg.item.property.lineCap":"선 모양","svg.item.property.lineJoin":"겹친 선","svg.item.property.filter":"필터","border.editor.all":"전체","border.editor.width":"크기","border.editor.style":"스타일","border.editor.color":"색","border.editor.top":"위","border.editor.left":"왼쪽","border.editor.right":"오른쪽","border.editor.bottom":"아래","border.radius.editor.topLeft":"왼쪽 위","border.radius.editor.topRight":"오른쪽 위","border.radius.editor.bottomLeft":"왼쪽 아래","border.radius.editor.bottomRight":"오른쪽 아래","boxshadow.editor.blur":"흐림","boxshadow.editor.spread":"길이","css.property.editor.properties":"속성","offset.path.list.editor.path":"패스","offset.path.list.editor.totalLength":"전체 길이","offset.path.list.editor.distance":"거리","offset.path.list.editor.direction":"방향","offset.path.list.editor.rotate":"회전","svgfilter.select.editor.message.create":"새로운 SVG Filter 를 만드세요.","svgfilter.select.editor.message.select":"필터를 선택하세요.","fill.editor.message.click.image":"이미지를 선택하고 싶으면 프리뷰 영역을 클릭하세요.","fill.editor.message.drag.position":"가운데 위치를 드래그 해보세요.","fill.editor.x1":"시작 X","fill.editor.x2":"끝 X","fill.editor.y1":"시작 Y","fill.editor.y2":"끝 Y","fill.editor.spread":"확산","fill.editor.offset":"위치","fill.editor.cx":"중심점 X","fill.editor.cy":"중심점 Y","fill.editor.r":"끝 반지름","fill.editor.fx":"시작 X","fill.editor.fy":"시작 Y","fill.editor.fr":"시작 반지름","perspective.origin.editor.originX":"중심점 X","perspective.origin.editor.originY":"중심점 Y","path.manager.msg":"편집을 종료할 때는 ESC 키나 Enter 키를 누르세요. 또는 화면을 클릭하시면 됩니다.","path.manager.mode.modify":"점 편집","path.manager.mode.path":"점 추가","path.manager.mode.transform":"변형","path.manager.mode.flipX":"X축 회전","path.manager.mode.flipY":"Y축 회전","path.manager.mode.flipOrigin":"전체 회전","colorpicker.popup.title":"색상 선택","selector.popup.title":"선택자 속성","selector.popup.selector":"선택자","background.image.position.popup.title":"배경 패턴","background.image.position.popup.size":"크기","background.image.position.popup.width":"넓이","background.image.position.popup.height":"높이","background.image.position.popup.repeat":"반복","background.image.position.popup.blend":"블렌드","background.image.position.popup.type.repeat":"반복","background.image.position.popup.type.no-repeat":"반복 안함","background.image.position.popup.type.repeat-x":"x축 반복","background.image.position.popup.type.repeat-y":"y축 반복","background.image.position.popup.type.space":"공백유지","background.image.position.popup.type.round":"반올림","gradient.picker.popup.title":"그라디언트와 이미지","image.asset.property.title":"이미지","video.asset.property.title":"비디오","color.asset.property.title":"색","gradient.asset.property.title":"그라디언트","pattern.asset.property.title":"패턴","svgfilter.asset.property.title":"SVG 필터","inspector.tab.title.style":"스타일 속성","inspector.tab.title.component":"컴포넌트 속성","inspector.tab.title.transition":"트랜지션과 애니메이션 속성","inspector.tab.title.asset":"에셋 관리자","inspector.tab.title.text":"텍스트","inspector.tab.title.code":"코드","inspector.tab.title.history":"기록","timeline.property.title":"타임라인","timeline.animation.property.title":"애니메이션","timeline.play.control.play":"플레이","timeline.play.control.pause":"멈춤","timeline.play.control.first":"처음으로","timeline.play.control.prev":"이전으로","timeline.play.control.next":"다음으로","timeline.play.control.last":"마지막으로","timeline.play.control.direction":"방향","timeline.play.control.speed":"속력","timeline.play.control.repeat":"반복","timeline.play.control.infinite":"무한","timeline.play.control.normal":"normal","timeline.play.control.alternate":"alternate","timeline.play.control.reverse":"reverse","timeline.play.control.alternate.reverse":"alternate reverse","timeline.value.editor.value":"값","timeline.value.editor.time":"시간","timeline.value.editor.timing":"타이밍 함수","timeline.value.editor.offset.message":"Enter키를 입력하면 적용됩니다.","svgfilter.popup.title":"SVG 필터","css.item.rotate":"회전","css.item.rotateX":"X축 회전","css.item.rotateY":"Y축 회전","css.item.rotateZ":"Z축 회전","css.item.rotate3d":"3D 회전","css.item.skewX":"X축 늘이기","css.item.skewY":"Y축 늘이기","css.item.translate":"이동","css.item.translateX":"X축 이동","css.item.translateY":"Y축 이동","css.item.translateZ":"Z축 이동","css.item.translate3d":"3D 이동","css.item.perspective":"원근","css.item.scale":"크기변경","css.item.scaleX":"X축 크기변경","css.item.scaleY":"Y축 크기변경","css.item.scaleZ":"Z축 크기변경","css.item.scale3d":"3D 크기변경","css.item.matrix":"변환 행렬","css.item.matrix3d":"3D 변환 행렬","animation.property.title":"CSS 애니메이션","animation.property.direction":"방향","animation.property.play.state":"플레이 상태","animation.property.fill.mode":"채우기 모드","animation.property.delay":"대기시간","animation.property.duration":"시간","animation.property.iteration.count":"반복 횟수","animation.property.select a keyframe":"키프레임을 선택해주세요","animation.property.popup.title":"CSS 애니메이션","animation.property.popup.timing.function":"타이밍 함수","animation.property.popup.keyframe":"키프레임","animation.property.popup.direction":"방향","animation.property.popup.play.state":"플레이 상태","animation.property.popup.fill.mode":"채우기 모드","animation.property.popup.delay":"대기시간","animation.property.popup.duration":"시간","animation.property.popup.iteration":"반복 횟수","animation.property.popup.normal":"시간순","animation.property.popup.reverse":"역시간순","animation.property.popup.alternate":"왕복 시간순","animation.property.popup.alternate-reverse":"왕복 역시간순","animation.property.popup.none":"none","animation.property.popup.forwards":"forwards","animation.property.popup.backwards":"backwards","animation.property.popup.both":"both","animation.property.popup.Select a keyframe":"키프레임을 선택해주세요.","keyframe.popup.title":"키프레임","code.view.property.title":"코드뷰","svg.filter.editor.tab.filter":"필터","svg.filter.editor.tab.preset":"프리셋","svg.filter.editor.tab.asset":"에셋","svg.filter.editor.GRAPHIC REFERENCES":"참조 그래픽","svg.filter.editor.SOURCES":"원본","svg.filter.editor.MODIFIER":"수정","svg.filter.editor.LIGHTING":"빛","svg.filter.editor.COMBINERS":"결합","svg.filter.editor.Template":"템플릿","layout.property.title":"레이아웃","layout.property.flex":"플렉스 박스","layout.property.grid":"그리드","layout.property.default":"기본 좌표","flex.layout.editor.row":"행","flex.layout.editor.column":"열","flex.layout.editor.row-reverse":"역방향 행","flex.layout.editor.column-reverse":"역방향 열","flex.layout.editor.nowrap":"감싸지 않기","flex.layout.editor.wrap":"감싸기","flex.layout.editor.wrap-reverse":"역방향 감싸기","flex.layout.editor.flex-start":"시작","flex.layout.editor.flex-end":"끝","flex.layout.editor.center":"중간","flex.layout.editor.space-between":"공간 중간 채움","flex.layout.editor.space-around":"공간 양끝 채움","flex.layout.editor.baseline":"기본선","flex.layout.editor.stretch":"펼치기","flex.layout.editor.direction":"방향","flex.layout.editor.justify-content":"컨텐츠 조정","flex.layout.editor.align-items":"아이템 정렬","flex.layout.editor.align-content":"컨텐츠 정렬","flex.layout.item.property.title":"플렉스 아이템 설정","flex.layout.item.property.grow":"공간 비율","flex.layout.item.property.shrink":"축소 비율","flex.layout.item.property.basis":"초기 크기","flex.layout.item.property.none":"없음","flex.layout.item.property.auto":"자동","flex.layout.item.property.value":"값","grid.layout.editor.template.columns":"열","grid.layout.editor.column.gap":"열 간격","grid.layout.editor.template.rows":"행","grid.layout.editor.row.gap":"행 간격","grid.box.editor.box.title":"영역","grid.box.editor.type":"타입","grid.box.editor.repeat":"반복","grid.box.editor.length":"길이","grid.box.editor.none":"없음","grid.box.editor.auto":"자동","grid.box.editor.count":"개수","grid.box.editor.value":"크기","grid.layout.item.property.title":"그리드 아이템 설정","grid.layout.item.property.column":"열","grid.layout.item.property.row":"행","grid.layout.item.property.start":"시작","grid.layout.item.property.End":"끝","grid.layout.item.property.none":"없음","grid.layout.item.property.value":"값","box.model.property.title":"박스 모델","box.model.property.margin":"마진","box.model.property.padding":"패딩","component.items.canvas":"캔버스","component.items.layer":"레이어","component.items.3dlayer":"3D 레이어","component.items.drawing":"그리기","component.items.custom":"사용자 정의 컴포넌트","svg.text.property.title":"SVG Text 스타일","svg.text.property.textarea":"텍스트 입력","svg.text.property.size":"폰트 크기","svg.text.property.weight":"폰트 굵기","svg.text.property.style":"폰트 스타일","svg.text.property.anchor":"텍스트 위치","svg.text.property.family":"폰트 글꼴","svg.text.property.length.adjust":"길이 대응","svg.text.property.text.length":"텍스트 길이","svg.text.property.start.offset":"시작 지점","fill.picker.popup.title":"색 채우기","gradient.editor.drag.message":"드래그 하면 중심점을 옮길 수 있습니다.","draw.manager.tolerance":"포인트 허용 오차","pattern.property.title":"패턴","pattern.info.popup.title":"패턴 정보","pattern.info.popup.width":"넓이","pattern.info.popup.height":"높이","pattern.info.popup.lineWidth":"선 넓이","pattern.info.popup.lineHeight":"선 높이","pattern.info.popup.rotate":"회전","pattern.info.popup.blend":"블렌드","pattern.info.popup.foreColor":"패턴색","pattern.info.popup.backColor":"배경색","stroke.dasharray.editor.add":"점 추가"}},Jo={locales:qo,get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en_US",r=qo[n][t]||qo.en_US[t]||t||void 0;if(ae(r))return r(e);var o=r;return t===o?t.split(".").pop():(Wt(e,(function(t,e){o=o.replace(new RegExp("{".concat(t,"}"),"ig"),e)})),o)},hasKey:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US";return!(!qo[e][t]&&!qo.en_US[t])}},Qo={dark:{left_size:250,left_max_size:400,timeline_grid_font_color:"#ececec",timeline_line_color:"red",timeline_timeview_bottom_color:"black"},light:{left_size:250,left_max_size:400,timeline_grid_font_color:"black",timeline_line_color:"#4778d4",timeline_timeview_bottom_color:"#ececec"},toon:{left_size:250,left_max_size:400,timeline_grid_font_color:"black",timeline_line_color:"#4778d4",timeline_timeview_bottom_color:"#ececec"}};function ti(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ei(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ni(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ri(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var oi=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$editor=e,this.items=[],this.itemKeys={}}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){this.items=[],this.itemKeys={}}},{key:"currentProject",value:function(t){var e=this.$editor.selection.currentProject;e&&t&&t(e)}},{key:"empty",value:function(){this.select()}},{key:"each",value:function(t){this.items.forEach((function(e,n){t&&t(e,n)}))}},{key:"refreshCache",value:function(t){var e=this;this.items=t,this.itemKeys={},this.items.forEach((function(t){e.itemKeys[t.id]=t}))}},{key:"cachedList",value:function(){return this.items.map((function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ei(Object(n),!0).forEach((function(e){ni(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t)}))}},{key:"checked",value:function(t){return!!this.itemKeys[t]}},{key:"selectLayer",value:function(t){var e=this;this.currentProject((function(n){var r=n.getKeyframeListReturnArray().filter((function(e){return e.layerId===t}));e.refreshCache(r)}))}},{key:"toggleLayerContainer",value:function(t){this.currentProject((function(e){e.getSelectedTimeline().animations.filter((function(e){return e.id===t})).forEach((function(t){t.collapsed=!t.collapsed}))}))}},{key:"selectProperty",value:function(t,e){var n=this;this.currentProject((function(r){var o=r.getKeyframeListReturnArray().filter((function(n){return n.layerId===t&&n.property===e}));n.refreshCache(o)}))}},{key:"select",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.refreshCache(e)}},{key:"selectBySearch",value:function(t,e,n){var r=this;this.currentProject((function(o){var i=[];t.forEach((function(t){var r=[];if(t.property){var a=o.getTimelineProperty(t.layerId,t.property);r=a.keyframes.filter((function(t){return e<=t.time&&t.time<=n}))}else(a=o.getTimelineObject(t.layerId)).properties.filter((function(e){return e.property===t.property})).forEach((function(t){var o;(o=r).push.apply(o,ti(t.keyframes.filter((function(t){return e<=t.time&&t.time<=n}))))}));i.push.apply(i,ti(r))}));var a={};i.forEach((function(t){a[t.id]=t})),r.select.apply(r,ti(Object.values(a)))}))}},{key:"checkLayer",value:function(t){var e=this;return Object.keys(this.itemKeys).some((function(n){return e.itemKeys[n].layerId===t}))}},{key:"checkProperty",value:function(t,e){var n=this;return Object.keys(this.itemKeys).some((function(r){return n.itemKeys[r].layerId===t&&n.itemKeys[r].property===e}))}}])&&ri(e.prototype,n),r&&ri(e,r),t}();function ii(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ii(Object(n),!0).forEach((function(e){ci(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ii(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ci(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ui(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function si(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function li(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var fi=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ui(this,t),this.ref=new Proxy(this,{get:function(t,e){var n=t[e];return ae(n)?function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.apply(t,r)}:n||t.json[e]},set:function(t,n,r){if(!e.checkField(n,r))throw new Error("".concat(r," is invalid as ").concat(n," property value."));var o=t.json[n]!=r;return t.json[n]=r,o&&e.changed(),!0}}),n instanceof t&&(n=n.toJSON()),this.json=this.convert(Object.assign(this.getDefaultObject(),n)),this.ref}var e,n,r;return e=t,(n=[{key:"getDefaultTitle",value:function(){return"Item"}},{key:"getIcon",value:function(){return""}},{key:"isLeaf",value:function(){return!0}},{key:"isAttribute",value:function(){return!1}},{key:"isChanged",value:function(t){return this.json.timestamp!=Number(t)}},{key:"changed",value:function(){this.json.timestamp=this.json._timestamp+performance.now()}},{key:"getInnerId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.json.id+t}},{key:"recover",value:function(){}},{key:"setCache",value:function(){}},{key:"is",value:function(){if(!this.json)return!1;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.indexOf(this.json.itemType)>-1}},{key:"isNot",value:function(){return!1===this.is.apply(this,arguments)}},{key:"generateListNumber",value:function(){this.layers.forEach((function(t,e){t.no=e,t.generateListNumber()}))}},{key:"convert",value:function(t){var e=this;return t.layers&&t.layers.forEach((function(t){t.parent=e.ref})),t}},{key:"checkField",value:function(t,e){return!0}},{key:"toCloneObject",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e={itemType:this.json.itemType,elementType:this.json.elementType,type:this.json.type,visible:this.json.visible,lock:this.json.lock,selected:this.json.selected};return t&&(e.layers=this.json.layers.map((function(e){return e.clone(t)}))),e}},{key:"clone",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.constructor,n=new e(this.toCloneObject(t));return n.parent=this.json.parent,n}},{key:"reset",value:function(e){e instanceof t&&(e=e.toJSON()),this.json=this.convert(Object.assign(this.json,e)),this.changed()}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Z();return ai({id:e,_timestamp:Date.now(),_time:performance.now(),visible:!0,lock:!1,selected:!1,layers:[]},t)}},{key:"add",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"self",r={};if(t.parent&&(r=t.screenRect,t.remove()),"self"===n)t.parent=this.ref,this.json.layers.push(t);else if("before"===n){t.parent=this.parent.ref;var o=[];this.parent.layers.forEach((function(n){n===e.ref&&o.push(t),o.push(n)})),this.parent.layers=o}else"after"===n&&(t.parent=this.parent.ref,o=[],this.parent.layers.forEach((function(n){o.push(n),n===e.ref&&o.push(t)})),this.parent.layers=o);return r.left&&t.setScreenX(r.left.value),r.top&&t.setScreenY(r.top.value),t}},{key:"setPositionInPlace",value:function(t,e){this.layers.splice(t,0,e)}},{key:"toggle",value:function(t,e){Qt(e)?this.json[t]=!this.json[t]:this.json[t]=!!e}},{key:"isTreeItemHide",value:function(){var t=this.parent,e=[];do{if(t.is("project"))break;if(t.is("artboard"))break;e.push(Boolean(t.collapsed)),t=t.parent}while(t);return Boolean(e.filter(Boolean).length)}},{key:"expectJSON",value:function(t){return"parent"!==t&&!Qt(this.json[t])}},{key:"toJSON",value:function(){var t=this,e=this.json,n={};return Object.keys(e).filter((function(e){return t.expectJSON(e)})).forEach((function(t){n[t]=e[t]})),n}},{key:"resize",value:function(){}},{key:"copy",value:function(){return this.json.parent.copyItem(this.ref)}},{key:"copyItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=t.clone();n.x.add(e),n.y.add(e);for(var r=this.json.layers,o=-1,i=0,a=r.length;i<a;i++)if(r[i]===t){o=i;break}return o>-1&&this.json.layers.splice(o+1,0,n),n}},{key:"remove",value:function(){this.json.parent.removeItem(this.ref)}},{key:"removeItem",value:function(t){for(var e=this.json.layers,n=-1,r=0,o=e.length;r<o;r++)if(e[r]===t){n=r;break}n>-1&&this.json.layers.splice(n,1)}},{key:"hasParent",value:function(t){var e=this.json.parent.id===t;return e||!1!==this.json.parent.is("project")?e:this.json.parent.hasParent(t)}},{key:"searchById",value:function(t){if(this.id===t)return this.ref;for(var e=0,n=this.layers.length;e<n;e++){var r=this.layers[e];if(r.id===t)return r;var o=r.searchById(t);if(o)return o}return null}},{key:"updateFunction",value:function(t){}},{key:"title",get:function(){return this.json.name||this.getDefaultTitle()}},{key:"allLayers",get:function(){return li(function t(e){var n=[];return e.layers.length&&e.layers.forEach((function(e){n.push.apply(n,li(t(e)))})),n.push(e),n}(this.ref))}},{key:"id",get:function(){return this.json.id}},{key:"layers",get:function(){return this.json.layers}},{key:"parent",get:function(){return this.json.parent}},{key:"depth",get:function(){return this.parent?this.parent.depth+1:1}},{key:"top",get:function(){if(!this.parent)return this.ref;var t=this.parent;do{if(!t.parent)return t;t=t.parent}while(t)}},{key:"path",get:function(){return this.parent?[].concat(li(this.parent.path),[this.id]):[this.id]}},{key:"positionInParent",get:function(){if(!this.parent)return-1;for(var t=this.parent.layers,e=-1,n=0,r=t.length;n<r;n++)if(t[n]===this.ref){e=n;break}return e}}])&&si(e.prototype,n),r&&si(e,r),t}();function pi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yi(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var hi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return $.px(t).round(e)};function di(t,e){var n=[];return t.layers.length&&t.layers.forEach((function(t){n.push.apply(n,yi(di(t,e)))})),e.id?n.push(t):e.includes(t.id)&&n.push(t),n}var vi=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$editor=e,this.project=null,this.artboard=null,this.items=[],this.itemKeys={},this.ids=[],this.idsString="",this.colorsteps=[]}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){this.colorsteps=[],this.items=[],this.itemKeys={},this.ids=[],this.idsString=""}},{key:"snapshot",value:function(){var e=new t(this.$editor);e.select(this.cachedItems),this.$editor.history.add("selection","selection",{selection:e})}},{key:"getRootItem",value:function(t){var e=t||this.currentArtboard;return t&&(t.is("artboard")?e=t:t.parent&&(e=t.parent)),e}},{key:"selectColorStep",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.colorsteps=e}},{key:"isSelectedColorStep",value:function(t){return this.colorsteps.includes(t)}},{key:"selectProject",value:function(t){this.project=t,this.artboard=null,this.project.artboards.length&&this.selectArtboard(this.project.artboards[0])}},{key:"selectArtboard",value:function(t){this.artboard=t,this.items=[],this.artboard.layers.length&&this.select(this.artboard.layers[0])}},{key:"hasDifference",value:function(t){if(t.length!=this.items.length)return!0;var e=t.map((function(t){return t.id}));return e.sort(),e.join(",")!=this.idsString}},{key:"select",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=(n||[]).filter((function(t){return!t.lock&&t.isAbsolute}));return!1!==this.hasDifference(o)&&(this.items=o,this.itemKeys={},this.items.forEach((function(e){t.itemKeys[e.id]=e})),this.ids=Object.keys(this.itemKeys),this.ids.sort(),this.idsString=this.ids.join(","),this.setRectCache(),!0)}},{key:"reselect",value:function(){this.setRectCache()}},{key:"check",value:function(t){return this.itemKeys[t.id]}},{key:"get",value:function(t){return this.itemKeys[t]}},{key:"isArtBoard",value:function(){return!!this.items.length&&this.current.is("artboard")}},{key:"empty",value:function(){this.select()}},{key:"itemsByIds",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ee(t)?di(this.project,t):re(t)||ie(t)?di(this.project,[t]):this.items}},{key:"makeItemMap",value:function(t){var e={};return this.ids.forEach((function(n){e[n]=ue(t)})),e}},{key:"selectById",value:function(t){this.select.apply(this,yi(di(this.project,t)))}},{key:"addById",value:function(t){this.itemKeys[t]||this.select.apply(this,yi(this.items).concat(yi(di(this.project,t))))}},{key:"removeById",value:function(t){this.select.apply(this,yi(this.items.filter((function(e){return e.id!=t}))))}},{key:"toggleById",value:function(t){this.itemKeys[t]?this.removeById(t):this.addById(t)}},{key:"doCache",value:function(){this.items.forEach((function(t){t.setCache()}))}},{key:"setRectCache",value:function(){this.cachedItems=this.items.map((function(t){return t.toCloneObject()})),this.setAllRectCache()}},{key:"toCloneObject",value:function(){var t={};return this.each((function(e){t[e.id]=e.toCloneObject(!1)})),t}},{key:"cloneValue",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r={};return this.each((function(t){r[t.id]={},e.forEach((function(e){r[t.id][e]=t[e]}))})),r}},{key:"setAllRectCache",value:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;this.cachedItems.forEach((function(o){t=Math.min(o.screenX.value,t),e=Math.min(o.screenY.value,e),n=Math.max(o.screenX.value+o.screenWidth.value,n),r=Math.max(o.screenY.value+o.screenHeight.value,r)})),t===Number.MAX_SAFE_INTEGER&&(t=0),e===Number.MAX_SAFE_INTEGER&&(e=0),n===Number.MIN_SAFE_INTEGER&&(n=0),r===Number.MIN_SAFE_INTEGER&&(r=0),this.allRect={x:t,y:e,width:n-t,height:r-e}}},{key:"each",value:function(t){var e=this;ae(t)&&this.items.forEach((function(n,r){t(n,e.cachedItems[r])}))}},{key:"map",value:function(t){var e=this;return ae(t)?this.items.map((function(n,r){return t(n,e.cachedItems[r])})):this.items}},{key:"reset",value:function(t){this.each((function(e){return e.reset(t)}))}},{key:"resetCallback",value:function(t){this.each((function(e){return e.reset(t(e))}))}},{key:"resize",value:function(){this.each((function(t){return t.resize()}))}},{key:"remove",value:function(){this.each((function(t){return t.remove()})),this.empty()}},{key:"copy",value:function(){this.copyItems=this.items.map((function(t){return t}))}},{key:"paste",value:function(){this.select.apply(this,yi(this.copyItems.map((function(t){return t.copy()})))),this.copy()}},{key:"isInParent",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t,r=n.parent,o=!n.is("artboard")&&e.includes(r);!o&&!Qt(r);)n=r,r=r.parent,o=!n.is("artboard")&&e.includes(r);return o}},{key:"move",value:function(t,e){var n=this;this.each((function(r,o){n.isInParent(r,n.items)||r.move(hi(o.x.value+t),hi(o.y.value+e))})),this.reselect()}},{key:"current",get:function(){return this.items[0]}},{key:"currentProject",get:function(){return this.project}},{key:"currentArtboard",get:function(){return this.artboard}},{key:"isEmpty",get:function(){return!this.length}},{key:"length",get:function(){return this.items.length}},{key:"isRelative",get:function(){return"relative"===(this.items[0]||{}).position}}])&&pi(e.prototype,n),r&&pi(e,r),t}();function bi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var gi=new(function(){function t(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];bi(this,t),this.components={}}var e,n,r;return e=t,(n=[{key:"registerComponent",value:function(t,e){this.components[t]=e}},{key:"getComponentClass",value:function(t){return this.components[t]||this.components.rect}},{key:"createComponent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getComponentClass(t);if(!n)throw new Error("".concat(t," type is not valid."));return new n(e)}}])&&mi(e.prototype,n),r&&mi(e,r),t}());function wi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ki={command:"setAttribute",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.selection.itemsByIds(n).forEach((function(n){Object.keys(e).forEach((function(t){var r=e[t];ae(r)&&(r=r(n)),n.reset(wi({},t,r))})),t.emit("refreshElement",n)}))}};function Oi(t){t.emit("noneSelectMenu"),t.emit("refreshAll"),t.nextTick((function(){t.emit("refreshSelectionTool")}))}function ji(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Si(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Pi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var xi=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"isEqual",value:function(e,n,r){return 2===arguments.length?e.x===n.x&&e.y===n.y:3===arguments.length?t.isEqual(e,n)&&t.isEqual(n,r):void 0}},{key:"isFirst",value:function(t){return t&&"M"==t.command}},{key:"DouglasPeuker",value:function(e,n,r,o){if(!(o<=r+1)){for(var i=0,a=r,c=e*e,u=n[r],s=n[o],l=r+1;l<o;l++){var f=t.segmentDistance2(n[l].x,n[l].y,u,s);f<=i||(a=l,i=f)}i>c&&(n[a].mark=!0,t.DouglasPeuker(e,n,r,a),t.DouglasPeuker(e,n,a,o))}}},{key:"simply",value:function(e,n){return e.length<=2?e:((e=ue(e))[0].mark=!0,e[e.length-1].mark=!0,t.DouglasPeuker(n,e,0,e.length-1),e.filter((function(t){return Boolean(t.mark)})))}},{key:"segmentDistance2",value:function(t,e,n,r){var o=r.x-n.x,i=r.y-n.y,a=o*o+i*i,c=t-n.x,u=e-n.y,s=o*c+i*u;if(0===a)return c*c+u*u;if(s<=0)return c*c+u*u;if(s>=a)return(c=t-r.x)*c+(u=e-r.y)*u;var l=c*i-u*o;return l*l/a}},{key:"isInLine",value:function(t,e,n){return t.x===n.x?e.x===n.x:t.y===n.y?e.y===n.y:(t.x-n.x)*(t.y-n.y)==(n.x-e.x)*(n.y-e.y)}},{key:"isLine",value:function(e){return t.isInLine(e.endPoint,e.startPoint,e,reversePoint)}},{key:"getReversePoint",value:function(t,e){var n=t.x-e.x,r=t.y-e.y;return{x:t.x+n,y:t.y+r}}},{key:"getIndexPoint",value:function(t,e){return t[e]}},{key:"getPoint",value:function(e,n){return e.filter((function(e){return t.isEqual(e.startPoint,n)}))[0]}},{key:"getIndex",value:function(e,n){for(var r=-1,o=0,i=e.length;o<i;o++){var a=e[o];if(t.isEqual(a.startPoint,n)){r=o;break}}return r}},{key:"getPointIndex",value:function(e,n){for(var r=-1,o=0,i=e.length;o<i;o++){var a=e[o];if(t.isEqual(a,n)){r=o;break}}return r}},{key:"getLastPoint",value:function(t,e){if(!t.length)return null;for(var n=-1,r=e+1,o=t.length;r<o;r++)if("M"===t[r].command){n=r-1;break}-1==n&&(n=t.length-1),t[n]&&"Z"===t[n].command&&(n-=1);var i=t[n];return i&&(i.index=n),i}},{key:"getFirstPoint",value:function(t,e){for(var n=-1,r=e-1;r>0;r--)if("M"===t[r].command){n=r;break}-1===n&&(n=0);var o=t[n];return o&&(o.index=n),o}},{key:"getPrevPoint",value:function(e,n){var r=n-1;if(r<0)return t.getLastPoint(e,n);var o=e[r];return o&&(o.index=r),o}},{key:"getNextPoint",value:function(e,n){var r=e[n],o=e[n+1];return o&&(o.index=n+1),r.connected&&(o=t.getFirstPoint(e,n)),o}},{key:"removePoint",value:function(t,e,n){if("startPoint"===n)return t.filter((function(t,n){return n!==e}))}},{key:"splitPoints",value:function(e){var n=[],r=[];return e.forEach((function(e){t.isFirst(e)?(r=[e],n.push(r)):r.push(e)})),n}},{key:"recoverPoints",value:function(t){var e=[];return t.forEach((function(t){t.forEach((function(t,e){0===e&&(t.command="M",t.originalCommand="M")})),e.push.apply(e,Si(t))})),e.forEach((function(t,e){t.index=e})),e}}],(n=null)&&Pi(e.prototype,n),r&&Pi(e,r),t}();function $i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ei(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ci(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ti=/([mMlLvVhHcCsSqQtTaAzZ]([^mMlLvVhHcCsSqQtTaAzZ]*))/g,Ri=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,Di={multiply:function(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=+e[n],o=+e[n+1];return[t[0][0]*r+t[0][1]*o+t[0][2],t[1][0]*r+t[1][1]*o+t[1][2],1]}},toPercent:function(t,e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=+n[r],i=+n[r+1];return[o/t,i/e,1]}},toPixel:function(t,e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=+n[r],i=+n[r+1];return[o*t,i*e,1]}},translate:function(t,e){return this.multiply([[1,0,t],[0,1,e],[0,0,1]])},rotate:function(t){return this.multiply([[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]])},rotateCenter:function(t,e,n){return this.multiply([[Math.cos(t),-Math.sin(t),-e*Math.cos(t)+n*Math.sin(t)+e],[Math.sin(t),Math.cos(t),-e*Math.sin(t)-n*Math.cos(t)+n],[0,0,1]])},scale:function(t,e){return this.multiply([[t,0,0],[0,e,0],[0,0,1]])},skewX:function(t){return this.multiply([[1,t,0],[0,1,0],[0,0,1]])},skewY:function(t){return this.multiply([[1,0,0],[t,1,0],[0,0,1]])},reflectionOrigin:function(){return this.multiply([[-1,0,0],[0,-1,0],[0,0,1]])},flipX:function(){return this.multiply([[1,0,0],[0,-1,0],[0,0,1]])},flipY:function(){return this.multiply([[-1,0,0],[0,1,0],[0,0,1]])}},Vi=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";_i(this,t),this.reset(e)}var e,n,r;return e=t,(n=[{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.segments=[],this.pathString=t,this.parse()}},{key:"resetSegments",value:function(t){this.segments=t||[],this.pathString=this.joinPath()}},{key:"trim",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.match(Ri)||[];return e.filter((function(t){return""!=t}))}},{key:"parse",value:function(){var t=this,e=this.pathString.match(Ti)||[];this.segments=e.map((function(e){var n=e[0];return{command:n,values:t.trim(e.replace(n,"")).map((function(t){return+t}))}})),this.segments=this.segments.map((function(e,n){switch(e.command){case"c":case"m":case"l":case"q":case"s":case"t":case"v":case"h":for(var r=t.segments[n-1],o=r.values[r.values.length-2],i=r.values[r.values.length-1],a=0,c=e.values.length;a<c;a+=2)e.values[a]+=o,e.values[a+1]+=i;return{command:e.command.toUpperCase(),values:Ei(e.values)};default:return e}}))}},{key:"convertGenerator",value:function(){for(var t=[],e=0,n=this.segments.length;e<n;e++){var r=this.segments[e],o=this.segments[e+1],i=r.command,a=r.values;if("M"===i){var c=$i(a,2),u=c[0],s=c[1];t.push({command:i,originalCommand:i,startPoint:{x:u,y:s},endPoint:{x:u,y:s},reversePoint:{x:u,y:s},curve:!1})}else if("L"===i)if((O=xi.getPrevPoint(t,t.length)).curve){var l=$i(a,2);u=l[0],s=l[1],t.push({command:i,originalCommand:i,startPoint:{x:u,y:s},endPoint:{x:u,y:s},reversePoint:ue(O.endPoint),curve:!0})}else{var f=$i(a,2);u=f[0],s=f[1],t.push({command:i,originalCommand:i,startPoint:{x:u,y:s},endPoint:{x:u,y:s},reversePoint:{x:u,y:s},curve:!1})}else if("Q"===i){var p=$i(a,4),y=p[0],h=p[1];if(u=p[2],s=p[3],(O=xi.getPrevPoint(t,t.length)).curve){var d={x:u,y:s},v={x:u,y:s},b={x:u,y:s};t.push({command:"L",originalCommand:i,startPoint:d,endPoint:v,reversePoint:b,curve:!1}),O.endPoint={x:y,y:h}}else o&&"L"===o.command?(O.curve=!0,O.endPoint={x:y,y:h},d={x:u,y:s},b={x:u,y:s},v={x:u,y:s},t.push({command:"L",originalCommand:i,curve:!1,startPoint:d,endPoint:v,reversePoint:b})):(d={x:u,y:s},b={x:y,y:h},v={x:u,y:s},t.push({command:i,originalCommand:i,curve:!0,startPoint:d,endPoint:v,reversePoint:b}))}else if("T"===i){var m=$i(a,2);if(u=m[0],s=m[1],(x=segments[e-1])&&"Q"===x.command){var g=$i(x.values,4),w=(y=g[0],h=g[1],g[2]),k=g[3];(O=xi.getPrevPoint(t,t.length)).endPoint=xi.getReversePoint({x:w,y:k},{x:y,y:h}),d={x:u,y:s},v={x:u,y:s},b={x:u,y:s},t.push({command:"L",originalCommand:i,startPoint:d,endPoint:v,reversePoint:b,curve:!1})}}else if("C"===i){var O=xi.getPrevPoint(t,t.length),j=$i(a,6),S=(y=j[0],h=j[1],j[2]),P=j[3];d={x:u=j[4],y:s=j[5]},b={x:S,y:P},v={x:u,y:s},t.push({command:i,originalCommand:i,curve:!0,startPoint:d,endPoint:v,reversePoint:b}),O&&(O.curve=!0,O.endPoint={x:y,y:h})}else if("S"===i){var x,$=$i(a,2);if(u=$[0],s=$[1],(x=segments[e-1])&&"C"===x.command){var E=$i(x.values,4);S=E[0],P=E[1],w=E[2],k=E[3],(O=xi.getPrevPoint(t,t.length)).endPoint=xi.getReversePoint(O.startPoint,O.reversePoint),d={x:u,y:s},v={x:u,y:s},b={x:S,y:P},t.push({command:"Q",originalCommand:i,startPoint:d,endPoint:v,reversePoint:b,curve:!1})}}else if("Z"===i){O=xi.getPrevPoint(t,t.length);var _=xi.getFirstPoint(t,t.length);xi.isEqual(O.startPoint,_.startPoint)&&(O.connected=!0,O.endPoint=ue(_.endPoint),_.reversePoint=ue(O.reversePoint)),O.close=!0}}return t=t.filter((function(t){return!!t}))}},{key:"length",value:function(){return this.segments.length}},{key:"setSegments",value:function(t,e){this.segments[t]=e}},{key:"getSegments",value:function(t){return te(t)?this.segments[t]:this.segments}},{key:"joinPath",value:function(t){return(t||this.segments).map((function(t){return"".concat(t.command," ").concat(t.values.length?t.values.join(" "):"")})).join("")}},{key:"each",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.segments.map((function(n){return t.call(e,n)}));if(n)return r;this.segments=r}},{key:"_loop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.each((function(e){var n=e.values;switch(e.command){case"M":case"L":var r=t(n,0);e.values=[r[0],r[1]];break;case"V":r=t([+n[0],0]),e.values=[r[0]];break;case"H":r=t([0,+n[0]]),e.values=[r[1]];break;case"C":case"S":case"T":case"Q":for(var o=0,i=n.length;o<i;o+=2)r=t(n,o),e.values[o]=r[0],e.values[o+1]=r[1]}return e}),e)}},{key:"clone",value:function(){return new t(this.joinPath())}},{key:"toPercent",value:function(t,e){return this._loop(Di.toPercent(t,e)),this}},{key:"toPixel",value:function(t,e){return this._loop(Di.toPixel(t,e)),this}},{key:"translate",value:function(t,e){return this._loop(Di.translate(t,e)),this}},{key:"translateTo",value:function(t,e){return this.joinPath(this._loop(Di.translate(t,e),!0))}},{key:"scale",value:function(t,e){return this._loop(Di.scale(t,e)),this}},{key:"scaleTo",value:function(t,e){return this.joinPath(this._loop(Di.scale(t,e),!0))}},{key:"rotate",value:function(t,e,n){return te(e)&&te(n)?this._loop(Di.rotateCenter(t,e,n)):this._loop(Di.rotate(t)),this}},{key:"rotateTo",value:function(t){return this.joinPath(this._loop(Di.rotate(t),!0))}},{key:"reflectionOrigin",value:function(t){return this._loop(Di.reflectionOrigin(t)),this}},{key:"reflectionOriginTo",value:function(t){return this.joinPath(this._loop(Di.reflectionOrigin(t),!0))}},{key:"flipX",value:function(t){return this._loop(Di.flipX(t)),this}},{key:"flipXTo",value:function(t){return this.joinPath(this._loop(Di.flipX(t),!0))}},{key:"flipY",value:function(t){return this._loop(Di.flipY(t)),this}},{key:"flipYTo",value:function(t){return this.joinPath(this._loop(Di.flipY(t),!0))}},{key:"skewX",value:function(t){return this._loop(Di.skewX(t)),this}},{key:"skewXTo",value:function(t){return this.joinPath(this._loop(Di.skewX(t),!0))}},{key:"skewY",value:function(t){return this._loop(Di.skewY(t)),this}},{key:"skewYTo",value:function(t){return this.joinPath(this._loop(Di.skewY(t),!0))}},{key:"toString",value:function(){return this.joinPath()}},{key:"d",get:function(){return this.toString()}}])&&Ci(e.prototype,n),r&&Ci(e,r),t}();function Ai(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ii(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ai(Object(n),!0).forEach((function(e){Li(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Li(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mi(Object(n),!0).forEach((function(e){Bi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Gi=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pathArray=[]}var e,n,r;return e=t,r=[{key:"makeRect",value:function(e,n,r,o){return(new t).M({x:e,y:n}).L({x:e+r,y:n}).L({x:e+r,y:n+o}).L({x:e,y:n+o}).L({x:e,y:n}).Z().d}},{key:"makeLine",value:function(e,n,r,o){return(new t).M({x:e,y:n}).L({x:r,y:o}).d}},{key:"makeCircle",value:function(e,n,r,o){var i=(new t).M({x:0,y:-1}).C({x:.552284749831,y:-1},{x:1,y:-.552284749831},{x:1,y:0}).C({x:1,y:.552284749831},{x:.552284749831,y:1},{x:0,y:1}).C({x:-.552284749831,y:1},{x:-1,y:.552284749831},{x:-1,y:0}).C({x:-1,y:-.552284749831},{x:-.552284749831,y:-1},{x:0,y:-1}).Z().d,a=new Vi(i);return a.translate(1,1).scale(r/2,o/2).translate(e,n),a.toString()}},{key:"makePathByPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=new t,r=0,o=e.length;r<o;r++){var i=e[r];0===r?n.M(i):n.L(i)}return n.d}}],(n=[{key:"reset",value:function(){this.pathArray=[]}},{key:"getPointString",value:function(t){return t.map((function(t){return"".concat(t.x," ").concat(t.y)})).join(" ")}},{key:"makeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.pathArray.push("".concat(t," ").concat(this.getPointString(e))),this}},{key:"M",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.makeString("M",e)}},{key:"L",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.makeString("L",e)}},{key:"Q",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.makeString("Q",e)}},{key:"C",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.makeString("C",e)}},{key:"Z",value:function(){return this.makeString("Z")}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"object";return('<path d="'.concat(this.d,"\" class='").concat(t,"'/>"))}},{key:"d",get:function(){return this.pathArray.join(" ").trim()}}])&&Fi(e.prototype,n),r&&Fi(e,r),t}();function Hi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hi(Object(n),!0).forEach((function(e){Yi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ni={command:"fileDropItems",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.emit("updateResource",e)}},Ki={command:"updateImage",execute:function(t,e,n){var r=new FileReader;r.onload=function(r){var o=r.target.result,i=URL.createObjectURL(e);t.emit("addImageAssetItem",{id:Z(),type:e.type,name:e.name,original:o,local:i},n)},r.readAsDataURL(e)}},Wi={command:"updateVideo",execute:function(t,e,n){var r=new FileReader;r.onload=function(r){var o=r.target.result,i=URL.createObjectURL(e);t.emit("addVideoAssetItem",{id:Z(),type:e.type,name:e.name,original:o,local:i},n)},r.readAsDataURL(e)}};function Ui(t,e){var n=new Image;n.onload=function(){var r={id:t.id,local:t.local,naturalWidth:$.px(n.naturalWidth),naturalHeight:$.px(n.naturalHeight),width:$.px(n.naturalWidth),height:$.px(n.naturalHeight)};e&&e(r,n)},n.src=t.local}function Zi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zi(Object(n),!0).forEach((function(e){Ji(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ji(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qi={command:"addImageAssetItem",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.selection.currentProject;r&&(r.createImage(e),t.emit("addImageAsset"),Ui(e,(function(r){t.emit("addImage",qi({src:e.id},r,{},n)),t.changeMode(pf),t.emit("afterChangeMode")})))}};function ta(t,e){var n=document.createElement("video");n.onloadeddata=function(){var r={local:t.local,naturalWidth:$.px(n.videoWidth),naturalHeight:$.px(n.videoHeight),width:$.px(n.videoWidth),height:$.px(n.videoHeight),duration:n.duration,playTime:"0:1:".concat(n.duration),volume:n.volume,muted:n.muted,placebackRate:n.playbackRate};e&&e(r,n)},n.src=t.local}function ea(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function na(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ea(Object(n),!0).forEach((function(e){ra(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ra(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oa={command:"addVideoAssetItem",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.selection.currentProject;r&&(r.createVideo(e),t.emit("addVideoAsset"),ta(e,(function(r){t.emit("addVideo",na({src:e.local},r,{},n)),t.changeMode(pf),t.emit("afterChangeMode")})))}};function ia(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function aa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ca={command:"dropImageUrl",execute:function(t,e){Ui({local:e},(function(e){t.emit("addImage",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ia(Object(n),!0).forEach((function(e){aa(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ia(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({src:e.local},e)),t.changeMode(pf),t.emit("afterChangeMode")}))}},ua={command:"addSVGFilterAssetItem",execute:function(t,e){var n=t.selection.currentProject;if(n){var r=Z(),o=n.createSVGFilter({id:r,filters:[]});e&&e(o,r)}}},sa={command:"updateImageAssetItem",execute:function(t,e,n){var r=new FileReader;r.onload=function(r){var o=r.target.result,i=URL.createObjectURL(e),a=t.selection.currentProject;a&&(a.createImage({id:Z(),type:e.type,name:e.name,original:o,local:i}),t.emit("addImageAsset"),ae(n)&&n(i))},r.readAsDataURL(e)}},la={command:"updateVideoAssetItem",execute:function(t,e,n){var r=new FileReader;r.onload=function(r){var o=r.target.result,i=URL.createObjectURL(e),a=t.selection.currentProject;a&&(a.createVideo({id:Z(),type:e.type,name:e.name,original:o,local:i}),t.emit("addVideoAsset"),ae(n)&&n(i))},r.readAsDataURL(e)}};function fa(t){return ha(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||ya()}function pa(t,e){return ha(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||ya()}function ya(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function ha(t){if(Array.isArray(t))return t}function da(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var va=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"parse",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.split("data:"),o=pa(r,2),i=(o[0],o[1]),a=i.split(","),c=fa(a),u=c[0],s=c.slice(1),l=u.split(";"),f=pa(l,2),p=f[0],y=f[1];return s=s.join(","),{mimeType:p,local:n&&t.getLink(p,y,s)}}},{key:"getLink",value:function(t,e,n){if("base64"===e){for(var r=atob(n),o=r.length,i=new Uint8Array(o),a=0;a<o;a++)i[a]=r.charCodeAt(a);var c=new Blob([i],{type:t});return URL.createObjectURL(c)}return""}}],(n=null)&&da(e.prototype,n),r&&da(e,r),t}(),ba={command:"updateUriList",execute:function(t,e){var n=e.data;if(n.indexOf("data:")>-1){var r=va.parse(n,!0);switch(r.mimeType){case"image/png":case"image/gif":case"image/jpg":case"image/jpeg":t.emit("addImageAssetItem",{id:Z(),type:r.mimeType,name:"",original:n,local:r.local})}}else{var o=e.data.split(".").pop(),i=e.data.split("/").pop();switch(o){case"png":case"jpg":case"gif":case"svg":t.emit("addImageAssetItem",{id:Z(),type:"image/"+o,name:i,original:e.data,local:e.data})}}}};function ma(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"easylogic.json",n=document.createElement("a");n.href=t,n.download=e,n.click()}var ga={command:"downloadJSON",execute:function(t,e){var n=JSON.stringify(t.projects);ma("data:application/json;base64,"+window.btoa(n),e||"easylogic.json")}};function wa(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ka(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Oa=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.project=e,this.artboard=n}var e,n,r;return e=t,(n=[{key:"generateCode",value:function(){var t=this,e=this.project.getSelectedTimelineLastTime(),n=this.project.getSelectedTimeline(),r=[],o={};return n&&(n.animations.forEach((function(e){var n,o=t.project.searchById(e.id),i=e.properties.map((function(t){var e=t.property;switch(e){case"x":e="left";break;case"y":e="top"}return{property:e,keyframes:t.keyframes.map((function(t){return{time:1e3*t.time,value:t.value,timing:t.timing}}))}}));(n=r).push.apply(n,wa(o.toAnimationKeyframes(i).filter((function(t){return t.properties.length}))))})),o={duration:1e3*e,iterationCount:n.iterationCount,fps:n.fps,speed:n.speed,direction:n.direction}),r=JSON.stringify(r,null,4),o=JSON.stringify(o,null,4),"\nvar player = new anipa.Player(".concat(r,", ").concat(o,");\nplayer.play();\n")}}])&&ka(e.prototype,n),r&&ka(e,r),t}(),ja=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"anipa";switch(n){case"anipa":return new Oa(t,e).generateCode()}return""},Sa={makeProjectStyle:function(t){var e=t.toKeyframeString(),n=t.toRootVariableCSS();return"\n      :root {\n        ".concat(de(n),"\n      }\n      /* keyframe */\n      ").concat(e,"\n    ")},makeStyle:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t.is("project"))return this.makeProjectStyle(t);var r=t.generateView("[data-id='".concat(t.id,"']"),n);return"\n    ".concat(r,"\n    ")+t.layers.map((function(t){return e.makeStyle(t)})).join("")},makeSvg:function(t){var e=t.toSVGString?t.toSVGString():"";return"\n      ".concat(e?'<svg width="0" height="0">'.concat(e,"</svg>"):"","\n    ")},generate:function(t){var e=t.selection.currentProject,n=t.selection.currentArtboard,r="\n".concat(this.makeStyle(e),"\n").concat(this.makeStyle(n,"\n  left: 0px;\n  top: 0px;\n")),o="\n".concat(n.html,"\n").concat(this.makeSvg(e),"\n    "),i=ja(e,n,"anipa");return{html:o=t.replaceLocalUrltoRealUrl(o),css:r=t.replaceLocalUrltoRealUrl(r),js:i=t.replaceLocalUrltoRealUrl(i)}},generateSVG:function(t,e){return t.replaceLocalUrltoRealUrl(e.generateSVG(!0))}},Pa={command:"downloadSVG",execute:function(t){var e=t.selection.current||t.$selection.currentArtboard,n=Sa.generateSVG(t,e).trim();ma("data:image/svg+xml;base64,"+window.btoa(n),e.id)}};var xa={command:"downloadPNG",execute:function(t){var e=t.selection.current||t.selection.currentArtboard,n=Sa.generateSVG(t,e).trim(),r="data:image/svg+xml;base64,"+window.btoa(n),o=e.id;Ui({local:r},(function(t,e){!function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/png",r=Nn.create("canvas"),o=t.width,i=t.height;r.resize({width:o,height:i}),r.drawImage(t),e&&e(r.toDataURL(n))}(e,(function(t){ma(t,o)}))}))}},$a={command:"load.json",execute:function(t,e){0===(e=e||t.loadResource("projects",[])).length&&(e=[{itemType:"project",layers:[{itemType:"artboard",name:"New ArtBoard",x:"300px",y:"200px",width:"375px",height:"667px","background-color":"white",layer:[]}]}]);var n=e.map((function(e){return t.createItem(e)}));if(n.forEach((function(t){t.selectTimeline()})),n.length){var r=n[0];if(t.selection.selectProject(r),r.artboards.length){var o=r.artboards[0];t.selection.selectArtboard(o),o.layers.length?t.selection.select(o.layers[0]):t.selection.select(o)}t.load(n),Oi(t)}else t.emit("addArtBoard")}};function Ea(t,e){var n=t.selection.currentProject;if(n){var r=n.getSelectedTimeline();e&&e(n,r)}}var _a={command:"addTimelineProperty",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{timing:"linear"};Ea(t,(function(r,o){var i;!1===ee(e)&&(e=[e]);var a=[];e.forEach((function(t){var e={layerId:t,property:n.property,value:n.value+"",timing:n.timing,editor:n.editor},o=r.addTimelineKeyframe(e);o&&a.push(o)})),(i=t.timeline).select.apply(i,a),t.emit("refreshTimeline"),t.emit("refreshSelectedOffset")}))}},Ca={command:"setTimelineOffset",debounce:100,execute:function(t,e){Ea(t,(function(n,r){n.setTimelineKeyframeOffsetValue(e.layerId,e.property,e.id,e.value,e.timing,e.time),t.emit("refreshTimeline")}))}},Ta={command:"addTimelineCurrentProperty",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timing:"linear"};Ea(t,(function(n,r){var o,i=[];t.selection.each((function(t){var r={layerId:t.id,property:e.property,value:t[e.property]+"",timing:e.timing,editor:e.editor},o=n.addTimelineKeyframe(r);o&&i.push(o)})),(o=t.timeline).select.apply(o,i),t.emit("refreshTimeline"),t.emit("refreshSelectedOffset")}))}},Ra={command:"removeTimelineProperty",execute:function(t,e,n){Ea(t,(function(r,o){r.removeTimelineProperty(e,n),t.timeline.empty(),t.emit("refreshTimeline"),t.emit("refreshSelectedOffset")}))}},Da={command:"deleteTimelineKeyframe",execute:function(t){Ea(t,(function(e,n){t.timeline.each((function(t){e.deleteTimelineKeyframe(t.layerId,t.property,t.id)})),t.timeline.empty(),t.emit("refreshTimeline"),t.emit("refreshSelectedOffset")}))}},Va={command:"selectTimelineItem",execute:function(t,e){Ea(t,(function(n,r){n.selectTimeline(e),t.emit("refreshTimeline"),t.emit("selectTimeline")}))}},Aa={command:"removeTimeline",execute:function(t,e){Ea(t,(function(n,r){n.removeTimeline(e),t.timeline.empty(),t.emit("refreshTimeline"),t.emit("refreshSelectedOffset")}))}},Ia={command:"removeAnimationItem",execute:function(t,e){Ea(t,(function(n,r){n.removeAnimation(e),t.timeline.empty(),t.emit("refreshTimeline"),t.emit("removeAnimation")}))}},La={command:"addTimelineKeyframe",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timing:"linear"};Ea(t,(function(n,r){var o=n.searchById(e.layerId),i={layerId:e.layerId,property:e.property,time:e.time,value:o[e.property]+"",timing:e.timing,editor:e.editor},a=n.addTimelineKeyframe(i);t.timeline.select(a),t.emit("refreshTimeline"),t.emit("refreshSelectedOffset")}))}},Ma={command:"copyTimelineProperty",execute:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ea(t,(function(o,i){o.copyTimelineKeyframe(e,n,r),t.emit("refreshTimeline")}))}};function za(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ba(t,e){if(re(e)){var n=za(e.split(":"),4),r=n[0],o=n[1],i=n[2],a=n[3];return 3600*(r=parseInt(r,10))+60*(o=parseInt(o,10))+(i=parseInt(i,10))+(a=parseInt(a,10))*(1/t)}return ce(e)?e/t:0}function Fa(t,e){var n=Math.floor(e/3600),r=Math.floor(e/60%60),o=Math.floor(e%60),i=Math.round((e-Math.floor(e))*t);return i===t&&(i=0,60===(o+=1)&&60===(r+=1)&&(n+=1)),[n,r,o,i].map((function(t){return(t+"").padStart(2,"0")})).join(":")}function Ga(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Fa(t,Ba(t,e)-Ba(t,n))}function Ha(t){var e={id:0,start:0,speed:t.speed||1,elapsed:t.elapsed||0,duration:t.duration||0,iterationStartCount:1,iterationCount:t.iterationCount||Number.MAX_SAFE_INTEGER,direction:t.direction||"normal",log:[],logIndex:0,tick:t.tick||function(){},startCallback:t.start||function(){},endCallback:t.end||function(){},firstCallback:t.first||function(){},lastCallback:t.last||function(){}},n=function(t){return"normal"===e.direction||"reverse"!==e.direction&&("alternate"===e.direction?e.iterationStartCount%2==1:"alternate-reverse"===e.direction?e.iterationStartCount%2==0:void 0)?t:1-t},r=function(t){var r=!1;null===e.start&&(e.start=t,r=!0);var a=t-e.start;e.elapsed+=a*e.speed,e.start=t,e.elapsed>e.duration&&(e.elapsed=e.duration);var c=n(e.elapsed/e.duration)*e.duration;r&&e.startCallback(c,e),e.log[e.logIndex++]={elapsed:c,dt:e.lastTime-c},e.lastTime=c,e.tick(c,e),e.elapsed===e.duration?i():o()},o=function(){e.id=requestAnimationFrame(r)},i=function(){e.endCallback(e.elapsed,e),e.iterationStartCount++,e.iterationStartCount>e.iterationCount?(e.lastCallback(e.elapsed,e),cancelAnimationFrame(e.id)):(e.start=null,e.elapsed=0,o())},a=function(t){e.elapsed=t,e.tick(e.elapsed,e)};return{play:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.start=null,e.iterationStartCount=1,e.log=[],e.lastTime=0,e.logIndex=0,ce(t.elapsed)&&(e.elapsed=t.elapsed),ce(t.speed)&&(e.speed=t.speed),ce(t.duration)&&(e.duration=t.duration),ce(t.iterationCount)&&(e.iterationCount=t.iterationCount||Number.MAX_SAFE_INTEGER),re(t.direction)&&(e.direction=t.direction),ae(t.tick)&&(e.tick=t.tick),ae(t.start)&&(e.startCallback=t.start),ae(t.end)&&(e.endCallback=t.end),ae(t.first)&&(e.firstCallback=t.first),ae(t.last)&&(e.lastCallback=t.last),ae(t.stop)&&(e.stopCallback=t.stop),e.firstCallback(e.elapsed,e),o()},stop:function(){e.stopCallback(e.elapsed,e),cancelAnimationFrame(e.id)},tick:r,first:function(t){a(0)},last:function(t){a(e.duration)},seek:a,timer:e}}var Xa={command:"playTimelineItem",description:"Play button action",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"normal";t.selection.empty(),t.emit("refreshSelection"),t.changeMode("play"),t.emit("afterChangeMode"),Ea(t,(function(o,i){var a=o.getSelectedTimelineLastTime();t.timer?t.timer.stop():t.timer=Ha({elapsed:1e3*i.currentTime,speed:e,duration:1e3*a,iterationCount:n,direction:r}),t.timer.play({duration:1e3*a,elapsed:1e3*i.currentTime,speed:e,iterationCount:n,direction:r,tick:function(e,n){o.seek(Fa(i.fps,e/1e3)),t.emit("playTimeline")},last:function(e,n){o.seek(Fa(i.fps,e/1e3)),t.emit("playTimeline"),t.nextTick((function(){t.emit("stopTimeline"),t.changeMode("SELECTION"),t.emit("afterChangeMode")}))},stop:function(e,n){o.stop(Fa(i.fps,e/1e3)),t.emit("stopTimeline"),t.changeMode("SELECTION"),t.emit("afterChangeMode")}})}))}},Ya={command:"prevTimelineItem",execute:function(t){Ea(t,(function(e,n){var r=e.getSelectedTimelinePrevTime();e.setTimelineCurrentTime(Fa(n.fps,r)),e.seek(),t.emit("playTimeline"),t.changeMode("SELECTION"),t.emit("afterChangeMode")}))}},Na={command:"firstTimelineItem",execute:function(t){Ea(t,(function(e,n){var r=e.getSelectedTimelineFirstTime();e.setTimelineCurrentTime(Fa(n.fps,r)),e.seek(),t.emit("playTimeline"),t.changeMode("SELECTION"),t.emit("afterChangeMode")}))}},Ka={command:"nextTimelineItem",execute:function(t){Ea(t,(function(e,n){var r=e.getSelectedTimelineNextTime();e.setTimelineCurrentTime(Fa(n.fps,r)),e.seek(),t.emit("playTimeline"),t.changeMode("SELECTION"),t.emit("afterChangeMode")}))}},Wa={command:"lastTimelineItem",execute:function(t){Ea(t,(function(e,n){var r=e.getSelectedTimelineLastTime();e.setTimelineCurrentTime(Fa(n.fps,r)),e.seek(),t.emit("playTimeline"),t.changeMode("SELECTION"),t.emit("afterChangeMode")}))}},Ua={command:"addTimelineItem",execute:function(t,e){Ea(t,(function(n,r){e?n.addTimelineLayer(e):n.addTimeline(),t.emit("refreshTimeline"),t.emit("addTimeline")}))}},Za={command:"drop.asset",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.color?t.emit("addBackgroundColor",e.color,n):e.gradient?t.emit("addBackgroundImageGradient",e.gradient,n):e.imageUrl&&t.emit("addBackgroundImageAsset",e.imageUrl,n),Oi(t)}};function qa(t){return(qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ja(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ja(Object(n),!0).forEach((function(e){tc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ja(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ec(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rc(t,e){return!e||"object"!==qa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oc(t){return(oc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ic(t,e){return(ic=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ac=function(t){function e(){return ec(this,e),rc(this,oc(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ic(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Qa({selected:!1,layers:[]},t)}},{key:"isAttribute",value:function(){return!0}},{key:"toCSS",value:function(){return{}}},{key:"toString",value:function(){return de(this.toCSS())}}])&&nc(n.prototype,r),o&&nc(n,o),e}(fi);function cc(t){return(cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?uc(Object(n),!0).forEach((function(e){lc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yc(t,e){return!e||"object"!==cc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hc(t,e,n){return(hc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function dc(t){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vc(t,e){return(vc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bc=function(t){function e(){return fc(this,e),yc(this,dc(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vc(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return hc(dc(e.prototype),"getDefaultObject",this).call(this,sc({itemType:"image-resource",type:"image"},t))}},{key:"isGradient",value:function(){return!1}},{key:"isLinear",value:function(){return!1}},{key:"isRadial",value:function(){return!1}},{key:"isConic",value:function(){return!1}},{key:"isStatic",value:function(){return!1}},{key:"isImage",value:function(){return!1}},{key:"hasAngle",value:function(){return!1}},{key:"isUrl",value:function(){return!1}},{key:"isFile",value:function(){return!1}},{key:"isAttribute",value:function(){return!0}},{key:"toString",value:function(){return"none"}}])&&pc(n.prototype,r),o&&pc(n,o),e}(ac);function mc(t){return(mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gc(Object(n),!0).forEach((function(e){kc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sc(t,e){return!e||"object"!==mc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pc(t,e,n){return(Pc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function xc(t){return(xc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $c(t,e){return($c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ec=1e10;var _c=function(t){function e(){return Oc(this,e),Sc(this,xc(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$c(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=[],r=fn(t),o=r.str.split(" ").filter((function(t){return t.trim()})),i=+o[0].replace("@",""),a=r.matches[i].color;if(1===o.length)n.push(new e({color:a,unit:"%",percent:0,hasNotUnit:!0}));else if(2===o.length){var c=$.parse(o[1]),u={unit:c.unit};c.isPercent()?u.percent=c.value:c.isPx()?u.px=c.value:c.isEm()&&(u.em=c.value),n.push(new e(wc({color:a},u)))}else if(3===o.length){var s=$.parse(o[2]),l={unit:s.unit};s.isPercent()?l.percent=s.value:s.isPx()?l.px=s.value:s.isEm()&&(l.em=s.value),n.push(new e(wc({color:a,cut:!0},l)))}return n}},{key:"createColorStep",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"%",r=b(2,t),o=e/r,i=fe(r).map((function(t,e){return"".concat(Rn.random()," ").concat(e*o).concat(n)})).join(",");return i}},{key:"createRepeatColorStep",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$.px(1),n=b(2,t),r=fe(n).map((function(t,n){return"".concat(Rn.random()," ").concat($.parse(e).mul(n+1))})).join(",");return r}}],(r=[{key:"getDefaultObject",value:function(){return{id:"c"+Ec++,cut:!1,percent:0,unit:"%",px:0,em:0,color:"rgba(0, 0, 0, 0)",prevColorStep:null}}},{key:"toCloneObject",value:function(){return wc({},Pc(xc(e.prototype),"toCloneObject",this).call(this),{cut:this.json.cut,percent:this.json.percent,unit:this.json.unit,px:this.json.px,em:this.json.em,color:this.json.color})}},{key:"on",value:function(){this.json.cut=!0}},{key:"off",value:function(){this.json.cut=!1}},{key:"toggle",value:function(){this.json.cut=!this.json.cut}},{key:"getUnit",value:function(){return"%"==this.json.unit?"percent":this.json.unit}},{key:"add",value:function(t){var e=this.getUnit();return this.json[e]+=+t,this}},{key:"sub",value:function(t){var e=this.getUnit();return this.json[e]-=+t,this}},{key:"mul",value:function(t){var e=this.getUnit();return this.json[e]*=+t,this}},{key:"div",value:function(t){var e=this.getUnit();return this.json[e]/=+t,this}},{key:"mod",value:function(t){var e=this.getUnit();return this.json[e]%=+t,this}},{key:"toLength",value:function(t){return $.parse(this.json)}},{key:"getPrevLength",value:function(){return this.json.prevColorStep?this.json.prevColorStep.toLength():""}},{key:"toString",value:function(){var t=this.json.cut?this.getPrevLength():"",e=this.json.color||"transparent";return"".concat(e," ").concat(t," ").concat(this.toLength())}},{key:"reset",value:function(t){Pc(xc(e.prototype),"reset",this).call(this,t),this.parent&&this.parent.sortColorStep()}},{key:"isPx",get:function(){return"px"==this.json.unit}},{key:"isPercent",get:function(){return"%"==this.json.unit||"percent"===this.json.unit}},{key:"isEm",get:function(){return"em"==this.json.unit}}])&&jc(n.prototype,r),o&&jc(n,o),e}(fi);function Cc(t){return(Cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tc(Object(n),!0).forEach((function(e){Dc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Dc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ac(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ic(t,e){return!e||"object"!==Cc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lc(t,e,n){return(Lc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Mc(t){return(Mc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zc(t,e){return(zc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Bc={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},Fc=function(t){function e(){return Vc(this,e),Ic(this,Mc(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zc(t,e)}(e,t),n=e,o=[{key:"toColorString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t.length)return"";var e=t.map((function(e,n){return e.prevColorStep=e.cut&&n>0?t[n-1]:null,e}));return 1===e.length&&e.push(new _c({color:e[0].color||"transparent",percent:100})),e.map((function(t){return"".concat(t)})).join(",")}}],(r=[{key:"isGradient",value:function(){return!0}},{key:"toString",value:function(){return"none"}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Lc(Mc(e.prototype),"getDefaultObject",this).call(this,Rc({type:"gradient",colorsteps:[]},t))}},{key:"toCloneObject",value:function(){return Rc({},Lc(Mc(e.prototype),"toCloneObject",this).call(this),{colorsteps:this.json.colorsteps.map((function(t){return t.clone()}))})}},{key:"convert",value:function(t){return t.colorsteps=t.colorsteps.map((function(t){return new _c(t)})),t}},{key:"calculateAngle",value:function(){var t=this.json.angle;return Qt(Bc[t])?t:Bc[t]||0}},{key:"addColorStep",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.json.colorsteps.push(t),e&&this.sortColorStep(),t}},{key:"insertColorStep",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(216,216,216,0)",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(216,216,216,1)",r=this.colorsteps;if(r.length){if(t<r[0].percent)return r[0].index=1,void this.addColorStep(new _c({index:0,color:r[0].color,percent:t}));var o=r.length-1;if(r[o].percent<t){var i=r[o].color,a=r[o].index+1;this.addColorStep(new _c({index:a,color:i,percent:t}))}else for(var c=0,u=r.length-1;c<u;c++){var s=r[c],l=r[c+1];if(s.percent<=t&&t<=l.percent)return i=Rn.mix(s.color,l.color,(t-s.percent)/(l.percent-s.percent),"rgb"),void this.addColorStep(new _c({index:s.index+1,color:i,percent:t}))}}else this.addColorStepList([new _c({color:e,percent:t,index:0}),new _c({color:n,percent:100,index:100})])}},{key:"sortColorStep",value:function(){var t=this.colorsteps;t.sort((function(t,e){return t.percent>e.percent?1:t.percent<e.percent?-1:t.percent==e.percent?t.index===e.index?0:t.index>e.index?1:-1:void 0})),t.forEach((function(t,e){t.index=100*e}))}},{key:"addColorStepList",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){t.addColorStep(e,!1)})),this.sortColorStep()}},{key:"getColorStep",value:function(t){return this.json.colorsteps.filter((function(e){return e.id==t}))[0]}},{key:"clear",value:function(){arguments.length?this.json.colorsteps.splice(+(arguments.length<=0?void 0:arguments[0]),1):this.json.colorsteps=[]}},{key:"removeColorStep",value:function(t){this.json.colorsteps=this.json.colorsteps.filter((function(e){return e.id!=t}))}},{key:"getColorString",value:function(){var t=this.colorsteps;return e.toColorString(t)}},{key:"colorsteps",get:function(){return this.json.colorsteps}}])&&Ac(n.prototype,r),o&&Ac(n,o),e}(bc);function Gc(t){return(Gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kc(t,e){return!e||"object"!==Gc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wc(t,e,n){return(Wc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Uc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Uc(t){return(Uc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zc(t,e){return(Zc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qc=function(t){function e(){return Yc(this,e),Kc(this,Uc(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zc(t,e)}(e,t),n=e,o=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transparent";return new e({colorsteps:[new _c({color:t,percent:0,index:0}),new _c({color:t,percent:100,index:1})]})}}],(r=[{key:"getDefaultObject",value:function(){return Wc(Uc(e.prototype),"getDefaultObject",this).call(this,{type:"static-gradient",static:!0,colorsteps:[new _c({color:"red",percent:0,index:0}),new _c({color:"red",percent:100,index:0})]})}},{key:"toCloneObject",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hc(Object(n),!0).forEach((function(e){Xc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Wc(Uc(e.prototype),"toCloneObject",this).call(this),{static:!0})}},{key:"toString",value:function(){var t=this.json.colorsteps[0].color;return"linear-gradient(to right, ".concat(t," 0%, ").concat(t," 100%)")}},{key:"isStatic",value:function(){return!0}}])&&Nc(n.prototype,r),o&&Nc(n,o),e}(Fc);function Jc(t){return(Jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qc(Object(n),!0).forEach((function(e){eu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function eu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ru(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ou(t,e,n){return e&&ru(t.prototype,e),n&&ru(t,n),t}function iu(t,e){return!e||"object"!==Jc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function au(t,e,n){return(au="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function cu(t){return(cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&su(t,e)}function su(t,e){return(su=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lu=["jpg","jpeg","png","gif","svg"];var fu=function(t){function e(){return nu(this,e),iu(this,cu(e).apply(this,arguments))}return uu(e,t),ou(e,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return au(cu(e.prototype),"getDefaultObject",this).call(this,tu({type:"url",url:"",datauri:""},t))}},{key:"toCloneObject",value:function(){return tu({},au(cu(e.prototype),"toCloneObject",this).call(this),{url:this.json.url,datauri:this.json.datauri})}},{key:"isUrl",value:function(){return!0}},{key:"toString",value:function(){var t=this.json;return"url(".concat(t.url,")")}}],[{key:"parse",value:function(t){return new e({url:t.split("(")[1].split(")")[0]})}},{key:"isImageFile",value:function(t){return lu.includes(t)}}]),e}(bc);function pu(t){return(pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yu(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function hu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function du(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hu(Object(n),!0).forEach((function(e){vu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gu(t,e){return!e||"object"!==pu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wu(t,e,n){return(wu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ku(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ku(t){return(ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ou(t,e){return(Ou=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ju={0:"to top",45:"to top right",90:"to right",135:"to bottom right",180:"to bottom",225:"to bottom left",270:"to left",315:"to top left"},Su={"to top":"0","to top right":"45","to right":"90","to bottom right":"135","to bottom":"180","to bottom left":"225","to left":"270","to top left":"315"},Pu=function(t){function e(){return bu(this,e),gu(this,ku(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ou(t,e)}(e,t),n=e,o=[{key:"toLinearGradient",value:function(t){return 0===t.length?"none":new e({angle:"to right",colorsteps:t})+""}},{key:"parse",value:function(t){var n=fn(t),r=0,o=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){t.includes("@")?(t=yn(t,n.matches),o.push.apply(o,yu(_c.parse(t)))):r=Qt(Su[t])?$.parse(t):$.deg(+Su[t])})),new e({angle:r.value,colorsteps:o})}}],(r=[{key:"getDefaultObject",value:function(t){return wu(ku(e.prototype),"getDefaultObject",this).call(this,du({type:"linear-gradient",angle:0},t))}},{key:"toCloneObject",value:function(){return du({},wu(ku(e.prototype),"toCloneObject",this).call(this),{angle:this.json.angle})}},{key:"isLinear",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var t=this.getColorString(),e="";return ce(e=this.json.angle||0)&&(e=ju["".concat(e)]||e),ce(e)&&(e="".concat(e=e>360?e%360:e,"deg")),"".concat(this.json.type,"(").concat(e,", ").concat(t,")")}}])&&mu(n.prototype,r),o&&mu(n,o),e}(Fc);function xu(t){return(xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _u(t,e){return!e||"object"!==xu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cu(t,e,n){return(Cu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Tu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Tu(t){return(Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ru(t,e){return(Ru=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Du,Vu=function(t){function e(){return $u(this,e),_u(this,Tu(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ru(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=Pu.parse(t);return new e({angle:n.angle,colorsteps:n.colorsteps})}}],(r=[{key:"getDefaultObject",value:function(){return Cu(Tu(e.prototype),"getDefaultObject",this).call(this,{type:"repeating-linear-gradient",angle:0})}}])&&Eu(n.prototype,r),o&&Eu(n,o),e}(Pu);function Au(t){return(Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Iu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Lu(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Mu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mu(Object(n),!0).forEach((function(e){Nu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gu(t,e){return!e||"object"!==Au(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hu(t,e,n){return(Hu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Xu(t){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yu(t,e){return(Yu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ku=(Nu(Du={},"center",!0),Nu(Du,"top",!0),Nu(Du,"left",!0),Nu(Du,"right",!0),Nu(Du,"bottom",!0),Du),Wu=function(t){function e(){return Bu(this,e),Gu(this,Xu(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yu(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=fn(t),r="ellipse",o=[S.CENTER,S.CENTER],i=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(t.includes("@"))t=yn(t,n.matches),i.push.apply(i,Lu(_c.parse(t)));else{if(t.includes("at")){var a=Iu(t.split("at").map((function(t){return t.trim()})),2);r=a[0],o=a[1]}else r=t;if(re(o)){var c=o.split(" ");if(1===c.length){var u=$.parse(c[0]);o=u.isString()?[u.value,u.value]:[u.clone(),u.clone()]}else 2===c.length&&(o=c.map((function(t){var e=$.parse(t);return e.isString()?e.value:e.clone()})))}}})),new e({radialType:r,radialPosition:o,colorsteps:i})}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Hu(Xu(e.prototype),"getDefaultObject",this).call(this,zu({type:"radial-gradient",radialType:"ellipse",radialPosition:[S.CENTER,S.CENTER]},t))}},{key:"toCloneObject",value:function(){return zu({},Hu(Xu(e.prototype),"toCloneObject",this).call(this),{radialType:this.json.radialType,radialPosition:ue(this.json.radialPosition)})}},{key:"isRadial",value:function(){return!0}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var t,e=this.getColorString(),n=this.json,r=n.radialType,o=n.radialPosition||["center","center"];return t=(o=Ku[o]?o:o.join(" "))?"".concat(r," at ").concat(o):r,"".concat(n.type||"radial-gradient","(").concat(t,", ").concat(e,")")}}])&&Fu(n.prototype,r),o&&Fu(n,o),e}(Fc);function Uu(t){return(Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ju(t,e){return!e||"object"!==Uu(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qu(t,e,n){return(Qu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ts(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ts(t){return(ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function es(t,e){return(es=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ns,rs=function(t){function e(){return Zu(this,e),Ju(this,ts(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&es(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=Wu.parse(t);return new e({radialType:n.radialType,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}],(r=[{key:"getDefaultObject",value:function(){return Qu(ts(e.prototype),"getDefaultObject",this).call(this,{type:"repeating-radial-gradient"})}}])&&qu(n.prototype,r),o&&qu(n,o),e}(Wu);function os(t){return(os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function is(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function as(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function cs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function us(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cs(Object(n),!0).forEach((function(e){ds(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ss(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ls(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fs(t,e){return!e||"object"!==os(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ps(t,e,n){return(ps="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ys(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ys(t){return(ys=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hs(t,e){return(hs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ds(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vs=(ds(ns={},"center",!0),ds(ns,"top",!0),ds(ns,"left",!0),ds(ns,"right",!0),ds(ns,"bottom",!0),ns),bs={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},ms=function(t){function e(){return ss(this,e),fs(this,ys(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hs(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=fn(t),r="0deg",o=[S.CENTER,S.CENTER],i=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(t.includes("@"))t=yn(t=t.split(" ").map((function(t){return t.trim()})).map((function(t){return t.includes("deg")?$.parse(t).toPercent():t})).join(" "),n.matches),i.push.apply(i,as(_c.parse(t)));else{if(t.includes("at")){var a=is(t.split("at").map((function(t){return t.trim()})),2);r=a[0],o=a[1]}else r=t;if(re(o)){var c=o.split(" ");if(1===c.length){var u=$.parse(c[0]);o=u.isString()?[u.value,u.value]:[u.clone(),u.clone()]}else 2===c.length&&(o=c.map((function(t){var e=$.parse(t);return e.isString()?e.value:e})))}re(r)&&r.includes("from")&&(r=r.split("from")[1],r=Qt(bs[r])?$.parse(r):$.deg(+bs[r]))}})),new e({angle:r.value,radialPosition:o,colorsteps:i})}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ps(ys(e.prototype),"getDefaultObject",this).call(this,us({type:"conic-gradient",angle:0,radialPosition:[S.CENTER,S.CENTER]},t))}},{key:"toCloneObject",value:function(){return us({},ps(ys(e.prototype),"toCloneObject",this).call(this),{angle:this.json.angle,radialPosition:ue(this.json.radialPosition)})}},{key:"isConic",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"getColorString",value:function(){if(0===this.colorsteps.length)return"";var t=this.colorsteps;return t?(t.sort((function(t,e){return t.percent==e.percent?0:t.percent>e.percent?1:-1})),t.map((function(e,n){return e.prevColorStep=e.cut&&n>0?t[n-1]:null,e})).map((function(t){var e=Math.floor(3.6*t.percent),n="";if(t.cut&&t.prevColorStep){var r=Math.floor(3.6*t.prevColorStep.percent);n="".concat(r,"deg")}return"".concat(t.color," ").concat(n," ").concat(e,"deg")})).join(",")):""}},{key:"toString",value:function(){var t=this.getColorString(),e=[],n=this.json,r=n.angle,o=n.radialPosition||S.CENTER;o=vs[o]?o:o.join(" "),te(r)&&(r=+(bs[r]||r),e.push("from ".concat(r,"deg"))),o&&e.push("at ".concat(o));var i=e.length?e.join(" ")+",":"";return"".concat(n.type,"(").concat(i," ").concat(t,")")}}])&&ls(n.prototype,r),o&&ls(n,o),e}(Fc);function gs(t){return(gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ws(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ks(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Os(t,e){return!e||"object"!==gs(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function js(t,e,n){return(js="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ss(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ss(t){return(Ss=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ps(t,e){return(Ps=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xs=function(t){function e(){return ws(this,e),Os(this,Ss(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ps(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=ms.parse(t);return new e({angle:n.angle,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}],(r=[{key:"getDefaultObject",value:function(){return js(Ss(e.prototype),"getDefaultObject",this).call(this,{type:"repeating-conic-gradient",angle:0,radialPosition:[S.CENTER,S.CENTER]})}}])&&ks(n.prototype,r),o&&ks(n,o),e}(ms);function $s(t){return($s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Es(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_s(Object(n),!0).forEach((function(e){Ts(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ts(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ds(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vs(t,e){return!e||"object"!==$s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function As(t,e,n){return(As="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Is(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Is(t){return(Is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ls(t,e){return(Ls=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ms=["repeat","no-repeat","repeat-x","repeat-y","round","space"],zs=/((linear\-gradient|repeating\-linear\-gradient|radial\-gradient|repeating\-radial\-gradient|conic\-gradient|repeating\-conic\-gradient|url)\(([^\)]*)\))/gi,Bs=function(t){function e(){return Rs(this,e),Vs(this,Is(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ls(t,e)}(e,t),n=e,o=[{key:"createImage",value:function(t){return new fu({url:t})}},{key:"createGradient",value:function(t,e){var n=t.colorsteps||e.colorsteps,r=t.angle||e.angle,o=t.radialType||e.radialType,i=t.radialPosition||e.radialPosition,a=e.toJSON();switch(delete a.itemType,delete a.type,t.type){case"static-gradient":return new qc(Cs({},a,{colorsteps:n}));case"linear-gradient":return new Pu(Cs({},a,{colorsteps:n,angle:r}));case"repeating-linear-gradient":return new Vu(Cs({},a,{colorsteps:n,angle:r}));case"radial-gradient":return new Wu(Cs({},a,{colorsteps:n,radialType:o,radialPosition:i}));case"repeating-radial-gradient":return new rs(Cs({},a,{colorsteps:n,radialType:o,radialPosition:i}));case"conic-gradient":return new ms(Cs({},a,{colorsteps:n,angle:r,radialPosition:i}));case"repeating-conic-gradient":return new xs(Cs({},a,{colorsteps:n,angle:r,radialPosition:i}))}return new Fc}},{key:"parse",value:function(t){return new e(t)}},{key:"parseImage",value:function(t){var e=fn(t),n=null,r=e.str.match(zs);return r?(r.forEach((function(t,r){(t=yn(t,e.matches)).includes("repeating-linear-gradient")?n=Vu.parse(t):t.includes("linear-gradient")?n=Pu.parse(t):t.includes("repeating-radial-gradient")?n=rs.parse(t):t.includes("radial-gradient")?n=Wu.parse(t):t.includes("repeating-conic-gradient")?n=xs.parse(t):t.includes("conic-gradient")?n=ms.parse(t):t.includes("url")&&(n=fu.parse(t))})),n):n}},{key:"changeImageType",value:function(t){switch(t.type){case"static-gradient":return new qc(t);case"linear-gradient":return new Pu(t);case"repeating-linear-gradient":return new Vu(t);case"radial-gradient":return new Wu(t);case"repeating-radial-gradient":return new rs(t);case"conic-gradient":return new ms(t);case"repeating-conic-gradient":return new xs(t);case"image-resource":case"url":return new fu(t)}}},{key:"parseStyle",value:function(t){var n=[];if(t["background-image"]){var r=fn(t["background-image"]);r.str.match(zs).forEach((function(t,o){var i=null;(t=yn(t,r.matches)).includes("repeating-linear-gradient")?i=Vu.parse(t):t.includes("linear-gradient")?i=Pu.parse(t):t.includes("repeating-radial-gradient")?i=rs.parse(t):t.includes("radial-gradient")?i=Wu.parse(t):t.includes("repeating-conic-gradient")?i=xs.parse(t):t.includes("conic-gradient")?i=ms.parse(t):t.includes("url")&&(i=fu.parse(t)),n[o]=new e({type:i.type,image:i})}))}return t["background-repeat"]&&t["background-repeat"].split(",").map((function(t){return t.trim()})).forEach((function(t,e){n[e]&&(n[e].repeat=t)})),t["background-blend-mode"]&&t["background-blend-mode"].split(",").map((function(t){return t.trim()})).forEach((function(t,e){n[e]&&(n[e].blendMode=t)})),t["background-size"]&&t["background-size"].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(n[e])if("cover"==t||"contain"===t||"auto"===t)n[e].size=t;else{n[e].size="auto";var r=Es(t.split(" "),2),o=r[0],i=r[1];n[e].width=$.parse(o),n[e].height=$.parse(i)}})),t["background-position"]&&t["background-position"].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(n[e]){var r=Es(t.split(" "),2),o=r[0],i=r[1];n[e].x=$.parse(o),n[e].y=$.parse(i)}})),n}},{key:"toPropertyCSS",value:function(t){var e={};return t.forEach((function(t){Wt(t.toCSS(),(function(t,n){e[t]||(e[t]=[]),e[t].push(n)}))})),le(e)}},{key:"join",value:function(t){return de(e.toPropertyCSS(t.map((function(t){return e.parse(t)}))))}},{key:"joinCSS",value:function(t){return e.toPropertyCSS(t.map((function(t){return e.parse(t)})))}}],(r=[{key:"addImageResource",value:function(t){return this.clear("image-resource"),this.addItem("image-resource",t)}},{key:"addGradient",value:function(t){return this.addImageResource(t)}},{key:"setImageUrl",value:function(t){t.images&&t.images.length&&this.reset({type:"image",image:e.createImage(t.images[0])})}},{key:"setGradient",value:function(t){this.reset({type:t.type,image:e.createGradient(t,this.json.image)})}},{key:"getDefaultObject",value:function(){return As(Is(e.prototype),"getDefaultObject",this).call(this,{itemType:"background-image",checked:!1,blendMode:"normal",size:"auto",repeat:"repeat",width:$.percent(100),height:$.percent(100),x:$.percent(0),y:$.percent(0),image:new qc})}},{key:"toCloneObject",value:function(){var t=this.json;return Cs({},As(Is(e.prototype),"toCloneObject",this).call(this),{checked:t.checked,blendMode:t.blendMode,size:t.size,repeat:t.repeat,width:t.width+"",height:t.height+"",x:t.x+"",y:t.y+"",image:t.image.clone()})}},{key:"convert",value:function(t){return t.x=$.parse(t.x),t.y=$.parse(t.y),t.width&&(t.width=$.parse(t.width)),t.height&&(t.height=$.parse(t.height)),re(t.image)&&(t.image=e.parseImage(t.image)),t}},{key:"checkField",value:function(t,n){return"repeat"===t?Ms.includes(n):As(Is(e.prototype),"checkField",this).call(this,t,n)}},{key:"toBackgroundImageCSS",value:function(){return this.json.image?{"background-image":this.json.image.toString()}:{}}},{key:"toBackgroundPositionCSS",value:function(){var t=this.json;return{"background-position":"".concat(t.x," ").concat(t.y)}}},{key:"toBackgroundSizeCSS",value:function(){var t=this.json,e="auto";return"contain"==t.size||"cover"==t.size?e=t.size:t.width.isPercent()&&t.width.isPercent()&&100==+t.width&&100==+t.height||(e="".concat(t.width," ").concat(t.height)),{"background-size":e}}},{key:"toBackgroundRepeatCSS",value:function(){return{"background-repeat":this.json.repeat}}},{key:"toBackgroundBlendCSS",value:function(){return{"background-blend-mode":this.json.blendMode}}},{key:"toCSS",value:function(){return Cs({},this.toBackgroundImageCSS(),{},this.toBackgroundPositionCSS(),{},this.toBackgroundSizeCSS(),{},this.toBackgroundRepeatCSS(),{},this.toBackgroundBlendCSS())}},{key:"toString",value:function(){return Ut(this.toCSS(),(function(t,e){return"".concat(t,": ").concat(e)})).join(";")}},{key:"toBackgroundCSS",value:function(){var t=this.toCSS();return{background:"".concat(t["background-image"]," ")}}},{key:"image",get:function(){return this.json.image},set:function(t){this.json.image=t}}])&&Ds(n.prototype,r),o&&Ds(n,o),e}(ac),Fs={command:"addBackgroundImageGradient",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.selection.itemsByIds(n),o={};r.forEach((function(t){var n=Bs.parseStyle(ve(t["background-image"]));n.unshift(new Bs({image:Bs.parseImage(e)})),o[t.id]={"background-image":Bs.join(n)}})),t.emit("history.setAttributeForMulti","add gradient",o)}},Gs={command:"addBackgroundImageAsset",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.selection.itemsByIds(n),o={};r.forEach((function(t){var n=Bs.parseStyle(ve(t["background-image"]));n.unshift(new Bs({image:new fu({url:e})})),o[t.id]={"background-image":Bs.join(n)}})),t.emit("history.setAttributeForMulti","add background image",o)}},Hs={command:"item.move.left",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dx:1},n=+e.dx;t.selection.move(-1*n,0),Oi(t)}},Xs={command:"item.move.right",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dx:1},n=+e.dx;t.selection.move(n,0),Oi(t)}},Ys={command:"item.move.up",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dy:1},n=+e.dy;t.selection.move(0,-1*n),Oi(t)}},Ns={command:"item.move.down",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dy:1},n=+e.dy;t.selection.move(0,n),Oi(t)}},Ks={command:"removeLayer",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t.selection.itemsByIds(e||t.selection.ids).forEach((function(t){t.remove()})),t.selection.empty(),t.nextTick((function(){t.emit("refreshAll")}))}},Ws={command:"change.mode.view",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CanvasView";t.changeModeView(e)}},Us={command:"segment.move.down",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dy:1},n=+e.dy;t.emit("moveSegment",0,n)}},Zs={command:"segment.move.up",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dy:1},n=+e.dy;t.emit("moveSegment",0,-1*n)}},qs={command:"segment.move.right",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dx:1},n=+e.dx;t.emit("moveSegment",n,0)}},Js={command:"segment.move.left",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dx:1},n=+e.dx;t.emit("moveSegment",-1*n,0)}},Qs={command:"toggle.fullscreen",execute:function(t,e){Nn.body().fullscreen()}};function tl(t){return(tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function el(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function nl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function rl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ol(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rl(Object(n),!0).forEach((function(e){il(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function il(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function al(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ul(t,e,n){return e&&cl(t.prototype,e),n&&cl(t,n),t}function sl(t,e){return!e||"object"!==tl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ll(t,e,n){return(ll="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fl(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function fl(t){return(fl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pl(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yl(t,e)}function yl(t,e){return(yl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hl=/((check|grid|dot|cross\-dot|diagonal\-line|vertical\-line|horizontal\-line|)\(([^\)]*)\))/gi,dl=function(t){function e(){return al(this,e),sl(this,fl(e).apply(this,arguments))}return pl(e,t),ul(e,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ll(fl(e.prototype),"getDefaultObject",this).call(this,ol({itemType:"pattern"},t))}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value||"",")")}}],[{key:"parse",value:function(t){var e=Sl[t.type];if(e)return new e(t)}},{key:"parseStyle",value:function(t){var n=[];if(!t)return n;var r=fn(t);return(r.str.match(hl)||[]).forEach((function(t,o){var i=nl(t.split("("),2),a=i[0],c=i[1],u=nl((c=c.split(")")[0]).split(",").map((function(t){return t.trim()})),6),s=u[0],l=u[1],f=u[2],p=u[3],y=u[4],h=u[5],d=nl(s.split(" "),2),v=d[0],b=d[1],m=nl(l.split(" "),2),g=m[0],w=m[1],k=nl((h||"").split(" "),2),O=k[0],j=k[1];n[o]=e.parse({type:a,x:$.parse(g),y:$.parse(w),width:$.parse(v),height:$.parse(b),foreColor:yn(f,r.matches),backColor:yn(p,r.matches),blendMode:y||"normal",lineWidth:$.parse(O||"1px"),lineHeight:$.parse(j||"1px")})})),n}},{key:"join",value:function(t){return t.map((function(t){return e.parse(t)})).join(" ")}},{key:"toCSS",value:function(t){var n=[];return e.parseStyle(t).forEach((function(t){n.push.apply(n,el(Bs.parseStyle(ve(t.toCSS()))))})),Bs.joinCSS(n)}}]),e}(ac),vl=function(t){function e(){return al(this,e),sl(this,fl(e).apply(this,arguments))}return pl(e,t),ul(e,[{key:"getDefaultObject",value:function(){return ll(fl(e.prototype),"getDefaultObject",this).call(this,{type:"base",x:$.z(),y:$.z(),width:$.px(20),height:$.px(20),lineWidth:$.px(1),lineHeight:$.px(1),foreColor:"black",backColor:"white",blendMode:"normal"})}},{key:"convert",value:function(t){return(t=ll(fl(e.prototype),"convert",this).call(this,t)).width=$.parse(t.width),t.height=$.parse(t.height),t.lineWidth=$.parse(t.lineWidth),t.lineHeight=$.parse(t.lineHeight),t.x=$.parse(t.x),t.y=$.parse(t.y),t}},{key:"toString",value:function(){var t=this.json,e=t.type,n=t.width,r=t.height,o=t.x,i=t.y,a=t.foreColor,c=t.backColor,u=t.blendMode,s=t.lineWidth,l=t.lineHeight;return"".concat(e,"(").concat(n," ").concat(r,", ").concat(o," ").concat(i,", ").concat(a,", ").concat(c,", ").concat(u,", ").concat(s," ").concat(l,")")}}]),e}(dl),bl=function(t){function e(){return al(this,e),sl(this,fl(e).apply(this,arguments))}return pl(e,t),ul(e,[{key:"getDefaultObject",value:function(){return ll(fl(e.prototype),"getDefaultObject",this).call(this,{type:"check"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.x,o=t.y,i=t.backColor,a=t.foreColor,c=t.blendMode;return i=i||"transparent","\n      background-image: repeating-linear-gradient(45deg, ".concat(a=a||"black"," 25%, ").concat(i," 25%, ").concat(i," 75%, ").concat(a," 75%, ").concat(a," 100%),repeating-linear-gradient(45deg, ").concat(a," 25%, ").concat(i," 25%, ").concat(i," 75%, ").concat(a," 75%, ").concat(a," 100%);\n      background-position: 0px 0px, ").concat(r," ").concat(o,";\n      background-size: ").concat(e," ").concat(n,", ").concat(e," ").concat(n,";\n      background-blend-mode: ").concat(c,", ").concat(c,";\n    ")}}]),e}(vl),ml=function(t){function e(){return al(this,e),sl(this,fl(e).apply(this,arguments))}return pl(e,t),ul(e,[{key:"getDefaultObject",value:function(){return ll(fl(e.prototype),"getDefaultObject",this).call(this,{type:"grid"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.lineWidth,o=t.lineHeight,i=t.backColor,a=t.foreColor,c=t.blendMode;return i=i||"transparent","\n      background-image: linear-gradient(".concat(a=a||"black"," ").concat(o,", ").concat(i," ").concat(o,"),linear-gradient(to right, ").concat(a," ").concat(r,", ").concat(i," ").concat(r,");\n      background-size: ").concat(e.value/2,"px ").concat(n.value/2,"px, ").concat(e.value/2,"px ").concat(n.value/2,"px;      \n      background-blend-mode: ").concat(c,", ").concat(c,";      \n    ")}}]),e}(vl),gl=function(t){function e(){return al(this,e),sl(this,fl(e).apply(this,arguments))}return pl(e,t),ul(e,[{key:"getDefaultObject",value:function(){return ll(fl(e.prototype),"getDefaultObject",this).call(this,{type:"dot"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.lineWidth,o=(t.lineHeight,t.backColor),i=t.foreColor,a=t.blendMode;return o=o||"transparent","\n      background-image: radial-gradient(".concat(i=i||"black"," ").concat(r,", ").concat(o," ").concat(r,");\n      background-size: ").concat(e.value/2,"px ").concat(n.value/2,"px;          \n      background-blend-mode: ").concat(a,";      \n    ")}}]),e}(vl),wl=function(t){function e(){return al(this,e),sl(this,fl(e).apply(this,arguments))}return pl(e,t),ul(e,[{key:"getDefaultObject",value:function(){return ll(fl(e.prototype),"getDefaultObject",this).call(this,{type:"cross-dot"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.x,o=t.y,i=t.lineWidth,a=(t.lineHeight,t.backColor),c=t.foreColor,u=t.blendMode;return a=a||"transparent","\n      background-image: radial-gradient(".concat(c=c||"black"," ").concat(i,", ").concat(a," ").concat(i,"),radial-gradient(").concat(c," ").concat(i,", ").concat(a," ").concat(i,");\n      background-size: ").concat(e," ").concat(n,",").concat(e," ").concat(n,";\n      background-position: 0px 0px, ").concat(r," ").concat(o,";      \n      background-blend-mode: multiply, ").concat(u,";\n    ")}}]),e}(vl),kl=function(t){function e(){return al(this,e),sl(this,fl(e).apply(this,arguments))}return pl(e,t),ul(e,[{key:"getDefaultObject",value:function(){return ll(fl(e.prototype),"getDefaultObject",this).call(this,{type:"diagonal-line"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.x,o=t.lineWidth,i=t.backColor,a=t.foreColor,c=t.blendMode;return i=i||"transparent",a=a||"black","\n      background-image: repeating-linear-gradient(".concat(r,", ").concat(a," 0, ").concat(a," ").concat(o,", ").concat(i," 0, ").concat(i," 50%);\n      background-size: ").concat(e," ").concat(n,";      \n      background-blend-mode: ").concat(c,";\n    ")}}]),e}(vl),Ol=function(t){function e(){return al(this,e),sl(this,fl(e).apply(this,arguments))}return pl(e,t),ul(e,[{key:"getDefaultObject",value:function(){return ll(fl(e.prototype),"getDefaultObject",this).call(this,{type:"vertical-line"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.x,o=t.y,i=t.lineWidth,a=t.backColor,c=t.foreColor,u=t.blendMode;return a=a||"transparent","\n      background-image: repeating-linear-gradient(to right, ".concat(c=c||"black"," 0px, ").concat(c," ").concat(i,", ").concat(a," ").concat(i,", ").concat(a," 100%);\n      background-size: ").concat(e," ").concat(n,"; \n      background-position: ").concat(r," ").concat(o,";        \n      background-blend-mode: ").concat(u,";\n    ")}}]),e}(vl),jl=function(t){function e(){return al(this,e),sl(this,fl(e).apply(this,arguments))}return pl(e,t),ul(e,[{key:"getDefaultObject",value:function(){return ll(fl(e.prototype),"getDefaultObject",this).call(this,{type:"horizontal-line"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.x,o=t.y,i=t.lineWidth,a=t.backColor,c=t.foreColor,u=t.blendMode;return a=a||"transparent","\n      background-image: repeating-linear-gradient(0deg, ".concat(c=c||"black"," 0px, ").concat(c," ").concat(i,", ").concat(a," ").concat(i,", ").concat(a," 100%);    \n      background-position: ").concat(r," ").concat(o,";\n      background-size: ").concat(e," ").concat(n,";   \n      background-blend-mode: ").concat(u,";\n    ")}}]),e}(vl),Sl={check:bl,grid:ml,dot:gl,"cross-dot":wl,"diagonal-line":kl,"vertical-line":Ol,"horizontal-line":jl},Pl={CheckPattern:bl,GridPattern:ml,DotPattern:gl,CrossDotPattern:wl,DiagonalLinePattern:kl,VerticalLinePattern:Ol,HorizontalLinePattern:jl};function xl(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var $l={command:"addBackgroundImagePattern",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.selection.itemsByIds(n),o={};r.forEach((function(t){o[t.id]={pattern:dl.join([].concat(xl(dl.parseStyle(e)),xl(dl.parseStyle(t.pattern))))}})),t.emit("history.setAttributeForMulti","add pattern",o)}},El={command:"addBackgroundColor",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.selection.itemsByIds(n),o={};r.forEach((function(t){o[t.id]={"background-color":e}})),t.emit("history.setAttributeForMulti","add background color",o)}};function _l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Cl=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getContainer",value:function(t){return 1===t.selection.items.length?t.selection.currentArtboard:t.selection.allRect}}],(n=null)&&_l(e.prototype,n),r&&_l(e,r),t}(),Tl={command:"sort.bottom",execute:function(t){var e=Cl.getContainer(t).screenY2.value;t.selection.each((function(t){t.setScreenY2(e)})),t.emit("resetSelection")}},Rl={command:"sort.top",execute:function(t){var e=Cl.getContainer(t).screenY.value;t.selection.each((function(t){t.setScreenY(e)})),t.emit("resetSelection")}},Dl={command:"sort.right",execute:function(t){var e=Cl.getContainer(t).screenX2.value;t.selection.each((function(t){t.setScreenX2(e)})),t.emit("resetSelection")}};function Vl(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Al(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Il(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ll(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ml(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function zl(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.filter((function(e){var n=0;return e.path.forEach((function(e){n+=t.filter((function(t){return t.id===e})).length?1:0})),1===n}))}var Bl,Fl={command:"updatePathItem",execute:function(t,e){t.emit("setAttribute",{d:e.d,totalLength:e.totalLength,path:new Vi(e.d)})}};function Gl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hl=(Gl(Bl={historyAddLayer:{command:"history.addLayer",description:"add layer in history ",execute:function(t,e,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];t.emit("addLayer",n,o,i),t.nextTick((function(){t.history.add(e,r,{currentValues:[n,{},i,n.parent],undoValues:[n.id]})})),t.nextTick((function(){t.history.saveSelection()}))},redo:function(t,e){var n=e.currentValues;t.emit.apply(t,["addLayer"].concat(Ml(n))),t.nextTick((function(){t.emit("refreshAll")}))},undo:function(t,e){var n=e.undoValues;t.selection.itemsByIds(n).forEach((function(t){t&&t.remove()})),t.nextTick((function(){t.emit("refreshAll")}))}},historyRemoveLayer:{command:"history.removeLayer",description:"remove layer",execute:function(t,e,n){var r=t.selection.itemsByIds(n||t.selection.ids);r=zl(r);var o=t.serialize(r);r.forEach((function(t){return t.remove()})),n||t.selection.empty(),t.history.add(e,this,{currentValues:[n],undoValues:o}),t.nextTick((function(){t.emit("refreshAll"),t.nextTick((function(){t.history.saveSelection()}))}))},redo:function(t,e){var n=e.currentValues[0],r=t.selection.itemsByIds(n||t.selection.ids);(r=zl(r)).forEach((function(t){return t.remove()})),n||t.selection.empty(),t.nextTick((function(){t.emit("refreshAll")}))},undo:function(t,e){var n=e.undoValues;t.deserialize(n,!0),t.nextTick((function(){t.emit("refreshAll")}))}},historySetAttribute:{command:"history.setAttribute",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t.emit("setAttribute",n,r),t.history.add(e,this,{currentValues:[n,r],undoValues:t.history.getUndoValues(n)}),t.nextTick((function(){t.history.saveSelection()}))},redo:function(t,e){var n=e.currentValues;t.emit.apply(t,["setAttribute"].concat(Al(n))),t.nextTick((function(){t.emit("refreshAll")}))},undo:function(t,e){var n=e.undoValues,r=Object.keys(n);t.selection.itemsByIds(r).forEach((function(t){t.reset(n[t.id])})),t.nextTick((function(){t.emit("refreshAll")}))}},historySetAttributeForMulti:{command:"history.setAttributeForMulti",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.emit("setAttributeForMulti",n),t.history.add(e,this,{currentValues:[n],undoValues:t.history.getUndoValuesForMulti(n)}),t.nextTick((function(){t.history.saveSelection()}))},redo:function(t,e){var n=e.currentValues;t.emit.apply(t,["setAttributeForMulti"].concat(Ll(n))),t.nextTick((function(){t.selection.reselect(),t.emit("refreshAll")}))},undo:function(t,e){var n=e.undoValues,r=Object.keys(n);t.selection.itemsByIds(r).forEach((function(t){t.reset(n[t.id])})),t.selection.reselect(),t.nextTick((function(){t.emit("refreshAll")}))}},historyRefreshSelection:{command:"history.refreshSelection",description:"save selection in history ",execute:function(t){var e=t.selection.ids,n=t.history.selectedIds;ke(e,n)||(t.history.add("selection",this,{currentValues:e,undoValues:n}),this.nextAction(t))},nextAction:function(t){t.nextTick((function(){t.history.saveSelection(),t.emit("refreshSelection"),t.nextTick((function(){t.emit("refreshSelectionTool")}))}))},redo:function(t,e){var n=e.currentValues;t.selection.selectById(n),this.nextAction(t)},undo:function(t,e){var n=e.undoValues;t.selection.selectById(n),this.nextAction(t)}},historyRedo:{command:"history.redo",execute:function(t){t.history.redo()}},historyUndo:{command:"history.undo",execute:function(t){t.history.undo()}},groupItem:{command:"group.item",execute:function(t){if(0!==t.selection.length){var e=t.selection.currentArtboard;if(e){e.generateListNumber();var n=t.selection.map((function(t){return{depth:t.depth,item:t}}));n.sort((function(t,e){return t.depth===e.depth?t.no>e.no?-1:1:t.depth>e.depth?1:-1}));var r=t.selection.allRect,o=t.createItem({itemType:"rect",x:r.x,y:r.y,width:r.width,height:r.height});n[0].item.add(o,"after"),r.x&&o.setScreenX(r.x.value),r.y&&o.setScreenY(r.y.value),n.forEach((function(t){var e=t.item;o.add(e)})),t.selection.select(o),t.emit("refreshArtboard")}}}},ungroupItem:{command:"ungroup.item",execute:function(t){if(0!==t.selection.length){var e=t.selection.current;if(e){for(var n=e;;){if(n.is("artboard")){n=void 0;break}if(n.isGroup)break;n=n.parent}var r=n;Vl(n.layers).forEach((function(t){r.add(t,"after"),r=t})),n.remove(),t.selection.empty(),t.emit("refreshArtboard")}}}},setEditorLayout:{command:"setEditorLayout",execute:function(t,e){t.setLayout(e),t.emit("changedEditorlayout")}},refreshSelection:{command:"refreshSelection",execute:function(t){}},refreshArtboard:function(t){t.emit("refreshLayerTreeView"),t.emit("refreshAllCanvas"),t.emit("refreshStyleView"),t.emit("refreshAllElementBoundSize"),t.emit("refreshSelection"),t.nextTick((function(){t.emit("refreshSelectionTool")}))},resetSelection:function(t){t.emit("setAttribute"),t.nextTick((function(){t.emit("refreshSelectionTool")}))},addBackgroundColor:El,addBackgroundImagePattern:$l,toggleFullscreen:Qs,segmentDelete:{command:"segment.delete",execute:function(t,e){t.emit("deleteSegment")}},segmentMoveDown:Us,segmentMoveUp:Zs,segmentMoveRight:qs,segmentMoveLeft:Js,changeModeView:Ws,removeLayer:Ks,itemMoveRight:Xs,itemMoveUp:Ys,itemMoveDown:Ns,itemMoveLeft:Hs,itemMoveDepthDown:{command:"item.move.depth.down",execute:function(t){var e=t.selection.current;e&&e.orderPrev(),Oi(t)}},itemMoveDepthUp:{command:"item.move.depth.up",execute:function(t){var e=t.selection.current;e&&e.orderNext(),Oi(t)}},keymapKeydown:{command:"keymap.keydown",execute:function(t,e){t.shortcuts.execute(e,"keydown")}},keymapKeyup:{command:"keymap.keyup",execute:function(t,e){t.shortcuts.execute(e,"keyup")}},scaleMinus:{command:"scale.minus",execute:function(t){t.emit("changeScaleValue",t.scale-.25)}},scalePlus:{command:"scale.plus",execute:function(t){t.emit("changeScaleValue",t.scale+.25)}},dropAsset:Za,addBackgroundImageAsset:Gs,addBackgroundImageGradient:Fs,addTimelineItem:Ua,pauseTimelineItem:{command:"pauseTimelineItem",execute:function(t){t.timer&&t.timer.stop()}},lastTimelineItem:Wa,nextTimelineItem:Ka,firstTimelineItem:Na,prevTimelineItem:Ya,playTimelineItem:Xa,copyTimelineProperty:Ma,addTimelineKeyframe:La,removeAnimationItem:Ia,removeTimeline:Aa,selectTimelineItem:Va,deleteTimelineKeyframe:Da,removeTimelineProperty:Ra,addTimelineCurrentProperty:Ta,setTimelineOffset:Ca,refreshSelectedOffset:{command:"refreshSelectedOffset",execute:function(t){var e=t.timeline.items[0];e&&t.emit("refreshOffsetValue",e)}},addTimelineProperty:_a,setLocale:{command:"setLocale",execute:function(t,e){t.setLocale(e),t.emit("changed.locale")}},loadJSON:$a,saveJSON:{command:"saveJSON",execute:function(t){t.saveResource("projects",t.projects),t.emit("notify","alert","Save","Save the content on localStorage",5e3)}},downloadPNG:xa,downloadSVG:Pa,downloadJSON:ga,updateUriList:ba,updateImageAssetItem:sa,updateVideoAssetItem:la,addSVGFilterAssetItem:ua,dropImageUrl:ca,addImageAssetItem:Qi,addVideoAssetItem:oa,updateImage:Ki,updateVideo:Wi,updateResource:{command:"updateResource",execute:function(t,e){e.forEach((function(e){switch(e.type){case"image/svg+xml":case"image/png":case"image/gif":case"image/jpg":case"image/jpeg":t.emit("updateImage",e);break;case"text/plain":case"text/html":t.emit("addText",{content:e.data});break;case"text/uri-list":t.emit("updateUriList",e)}}))}},fileDropItems:Ni,updateScale:{command:"updateScale",execute:function(t,e){t.scale=e,t.emit("changeScale")}},showExportView:{command:"showExportView",execute:function(t){t.emit("showExportWindow")}},switchTheme:{command:"switchTheme",execute:function(t,e){t.changeTheme(e),t.emit("changeTheme")}},clipboardPaste:{command:"clipboard.paste",execute:function(t,e){t.selection.length&&(t.selection.paste(),t.emit("refreshAll"))}},clipboardCopy:{command:"clipboard.copy",title:"Copy",description:"Copy",execute:function(t,e){t.selection.copy()}},addComponentType:function(t,e){t.changeAddType(e),t.emit("afterChangeMode"),t.emit("addStatusBarMessage","Drag if you want to create ".concat(e," layer"))},addArtBoard:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.selection.currentProject;n||(n=t.add(t.createItem({itemType:"project"})),t.selection.selectProject(n));var r=n.add(t.createItem(Ii({itemType:"artboard",x:$.px(300),y:$.px(200),width:$.px(375),height:$.px(667)},e)));t.selection.selectArtboard(r),t.selection.select(r),Oi(t)},addImage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.emit("newComponent","image",e,e)},addVideo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.emit("newComponent","video",e,e)},addLayer:function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4?arguments[4]:void 0;i||(i=e.selection.current||e.selection.currentArtboard),i?(i.enableHasChildren()||(i=i.parent),i.add(n),r.x&&n.setScreenX(r.x.value),r.y&&n.setScreenY(r.y.value),o&&e.selection.select(n),Oi(e)):(e.emit("addArtBoard"),e.nextTick((function(){t(e,n,r)})))},addLayerView:function(t,e){t.selection.empty(),t.emit("refreshSelectionTool"),t.emit("hideAddViewLayer"),"select"===e||("brush"===e?t.emit("showPathDrawEditor"):"path"===e?t.emit("showPathEditor","path"):t.emit("showLayerAppendView",e))},addProject:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.add(t.createItem(zi({itemType:"project"},e)));t.selection.selectProject(n),Oi(t)},convertPath:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.selection.current;if(r)if(r.is("svg-path","svg-brush","svg-textpath")){var o=e;if(n)(i=new Vi(e)).scale(r.width.value/n.width,r.height.value/n.height),o=i.d;t.command("setAttribute","set attribute -d",{d:o},r)}else if(r["clip-path"].includes("path")){var i;o=e;if(n)(i=new Vi(e)).scale(r.width.value/n.width,r.height.value/n.height),o=i.d;t.command("setAttribute","change clip path",{"clip-path":"path(".concat(o,")")},r)}},newComponent:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e.includes("text")||n["background-color"]||(n["background-color"]=Rn.random()),"svg-textpath"===e?n=Xi({},n,{text:"Insert a newText","font-size":$.parse(n.height),textLength:"100%",d:Gi.makeLine(0,n.height.value,n.width.value,n.height.value)}):"svg-circle"===e?(e="svg-path",n=Xi({},n,{"background-color":void 0,d:Gi.makeCircle(0,0,n.width.value,n.height.value)})):"svg-rect"===e?(e="svg-path",n=Xi({},n,{"background-color":void 0,d:Gi.makeRect(0,0,n.width.value,n.height.value)})):"text"===e&&(n=Xi({width:$.px(300),height:$.px(50)},n,{content:"Insert a text","font-size":$.px(30)})),t.command("addLayer","add layer - ".concat(e),t.createItem(Xi({itemType:e},n)),n,r),t.changeMode(pf),t.emit("afterChangeMode")},refreshElement:function(t,e){t.emit("refreshSelectionStyleView",e),t.emit("refreshElementBoundSize",t.selection.getRootItem(e))},refreshProject:function(t,e){t.emit("refreshStyleView",e,!0)},resizeArtBoard:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.selection.currentArtboard;if(n&&n.is("artboard")){if(!e.trim())return;var r=e.split("x"),o=ji(r,2),i=o[0],a=o[1];i=$.px(i),a=$.px(a),n.reset({width:i,height:a}),t.selection.select(n),Oi(t)}},selectArtboard:function(t,e){e?ee(e)&&0===e.length&&(e=t.selection.currentArtboard):e=t.selection.currentArtboard,e&&(t.selection.selectArtboard(e),t.selection.select(e),t.emit("refreshArtboard"),t.emit("resetSelection"))},setAttribute:ki,setAttributeForMulti:{command:"setAttributeForMulti",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(n){var r=e[n];t.selection.itemsByIds(n).forEach((function(e){Object.keys(r).forEach((function(t){var n=r[t];ae(n)&&(n=n(e)),e.reset(Il({},t,n))})),t.emit("refreshElement",e)}))}))}},sortBottom:Tl,sortCenter:{command:"sort.center",execute:function(t){var e=Cl.getContainer(t),n=e.screenX.value+e.width.value/2;t.selection.each((function(t){t.setScreenXCenter(n)})),t.emit("resetSelection")}},sortLeft:{command:"sort.left",execute:function(t){var e=Cl.getContainer(t).screenX.value;t.selection.each((function(t){t.setScreenX(e)})),t.emit("resetSelection")}},sortMiddle:{command:"sort.middle",execute:function(t){var e=Cl.getContainer(t),n=e.screenY.value+e.height.value/2;t.selection.each((function(t){t.setScreenYMiddle(n)})),t.emit("resetSelection")}}},"sortBottom",Tl),Gl(Bl,"sortTop",Rl),Gl(Bl,"sortRight",Dl),Gl(Bl,"sameWidth",{command:"same.width",execute:function(t){var e=t.selection.items.length;if(1==e);else if(e>1){var n=t.selection.allRect;t.selection.each((function(t){t.setScreenX(n.x.value),t.width.set(n.width.value)}))}t.emit("resetSelection")}}),Gl(Bl,"sameHeight",{command:"same.width",execute:function(t){var e=t.selection.items.length;if(1==e);else if(e>1){var n=t.selection.allRect;t.selection.each((function(t){t.setScreenY(n.y.value),t.height.set(n.height.value)}))}t.emit("resetSelection")}}),Gl(Bl,"updatePathItem",Fl),Gl(Bl,"updateClipPath",{command:"updateClipPath",description:"update clip-path property ",execute:function(t,e){t.command("setAttribute","change clip-path",{"clip-path":"path(".concat(e.d,")")})}}),Bl);function Xl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Yl=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$editor=e,this.loadCommands()}var e,n,r;return e=t,(n=[{key:"loadCommands",value:function(){var t=this;Object.keys(Hl).forEach((function(e){ae(Hl[e])?t.registerCommand(e,Hl[e]):t.registerCommand(Hl[e])}))}},{key:"registerCommand",value:function(t,e){var n=this;if(2===arguments.length){var r=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];e.call.apply(e,[n,n.$editor].concat(r))};r.source=t,this.$editor.$store.on(t,r,this,0)}else if(ie(t)){var o=function(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(e=t.execute).call.apply(e,[t,n.$editor].concat(o))};o.source=t.command,this.$editor.$store.on(t.command,o,this,t.debounce||0)}}}])&&Xl(e.prototype,n),r&&Xl(e,r),t}(),Nl={name:void 0};function Kl(){return void 0===Nl.name&&(-1!=navigator.appVersion.indexOf("Win")?Nl.name="win":-1!=navigator.appVersion.indexOf("Mac")?Nl.name="mac":-1!=navigator.appVersion.indexOf("X11")?Nl.name="linux":Nl.name=""),Nl.name}var Wl=[{category:"History",key:"cmd+z",win:"ctrl+z",command:"history.undo",description:"undoing in history",when:"CanvasView"},{category:"History",key:"cmd+shift+z",win:"ctrl+shift+z",command:"history.redo",description:"redoing in history",when:"CanvasView"},{category:"Tool",key:"v",command:"addLayerView",args:"select",description:"Selection"},{category:"Tool",key:"r",command:"addLayerView",args:["rect"],description:"Add rect layer"},{category:"Tool",key:"m",command:"addLayerView",args:["rect"],description:"Add rect layer"},{category:"Tool",key:"o",command:"addLayerView",args:["circle"],description:"Add circle layer"},{category:"Tool",key:"l",command:"addLayerView",args:["circle"],description:"Add circle layer"},{category:"Tool",key:"t",command:"addLayerView",args:["text"],description:"Add text layer"},{category:"Tool",key:"p",command:"addLayerView",args:["path"],description:"Add SVG Path layer"},{category:"Tool",key:"b",command:"addLayerView",args:["brush"],description:"Add SVG Path"},{category:"Group",key:"cmd+g",win:"ctrl+g",command:"group.item",description:"Grouping selected items",when:"CanvasView"},{category:"Group",key:"shift+cmd+g",win:"shift+ctrl+g",command:"ungroup.item",description:"Ungrouping selected group layer",when:"CanvasView"},{category:"Path",key:"ArrowDown",command:"segment.move.down",description:"move 1px to down",args:[{dy:1}],when:"PathEditorView"},{category:"Path",key:"ArrowUp",command:"segment.move.up",description:"move 1px to up",args:[{dy:1}],when:"PathEditorView"},{category:"Path",key:"ArrowRight",command:"segment.move.right",description:"move 1px to right",args:[{dx:1}],when:"PathEditorView"},{category:"Path",key:"ArrowLeft",command:"segment.move.left",description:"move 1px to left",args:[{dx:1}],when:"PathEditorView"},{category:"Path",key:"Shift+ArrowDown",command:"segment.move.down",description:"move 10px to down",args:[{dy:10}],when:"PathEditorView"},{category:"Path",key:"Shift+ArrowUp",command:"segment.move.up",description:"move 10px to up",args:[{dy:10}],when:"PathEditorView"},{category:"Path",key:"Shift+ArrowLeft",command:"segment.move.left",description:"move 10px to left",args:[{dx:10}],when:"PathEditorView"},{category:"Path",key:"Shift+ArrowRight",command:"segment.move.right",description:"move 10px to right",args:[{dx:10}],when:"PathEditorView"},{category:"Path",key:"Alt+ArrowDown",command:"segment.move.down",description:"move 5px to down",args:[{dy:5}],when:"PathEditorView"},{category:"Path",key:"Alt+ArrowUp",command:"segment.move.up",description:"move 5px to up ",args:[{dy:5}],when:"PathEditorView"},{category:"Path",key:"Alt+ArrowLeft",command:"segment.move.left",description:"move 5px to left",args:[{dx:5}],when:"PathEditorView"},{category:"Path",key:"Alt+ArrowRight",command:"segment.move.right",description:"move 5px to right",args:[{dx:5}],when:"PathEditorView"},{category:"Path",key:"Backspace",command:"segment.delete",description:"Delete selected segment",when:"PathEditorView"},{category:"Layer",key:"ArrowLeft",command:"item.move.left",description:"move 1px to left",args:[{dx:1}],when:"CanvasView"},{category:"Layer",key:"ArrowRight",command:"item.move.right",description:"move 1px to right",args:[{dx:1}],when:"CanvasView"},{category:"Layer",key:"ArrowDown",command:"item.move.down",description:"move 1px to down",args:[{dy:1}],when:"CanvasView"},{category:"Layer",key:"ArrowUp",command:"item.move.up",description:"move 1px to up",args:[{dy:1}],when:"CanvasView"},{category:"Layer",key:"Shift+ArrowDown",command:"item.move.down",description:"move 10px to down",args:[{dy:10}],when:"CanvasView"},{category:"Layer",key:"Shift+ArrowRight",command:"item.move.right",description:"move 10px to right",args:[{dx:10}],when:"CanvasView"},{category:"Layer",key:"Shift+ArrowUp",command:"item.move.up",description:"move 10px to up",args:[{dy:10}],when:"CanvasView"},{category:"Layer",key:"Shift+ArrowLeft",command:"item.move.left",description:"move 10px to left",args:[{dx:10}],when:"CanvasView"},{category:"Layer",key:"Alt+ArrowLeft",command:"item.move.left",description:"move 5px to left",args:[{dx:5}],when:"CanvasView"},{category:"Layer",key:"Alt+ArrowDown",command:"item.move.down",description:"move 5px to down",args:[{dy:5}],when:"CanvasView"},{category:"Layer",key:"Alt+ArrowRight",command:"item.move.right",description:"move 5px to right",args:[{dx:5}],when:"CanvasView"},{category:"Layer",key:"Alt+ArrowUp",command:"item.move.up",description:"move 5px to up",args:[{dy:5}],when:"CanvasView"},{category:"Layer",key:"ctrl+]",command:"item.move.depth.up",description:"move layer to above",when:"CanvasView"},{category:"Layer",key:"ctrl+[",command:"item.move.depth.down",description:"move layer to below",when:"CanvasView"},{category:"Layer",key:"Backspace",command:"removeLayer",description:"Delete selected items",when:"CanvasView"},{category:"Layer",key:"Shift+Backspace",command:"history.removeLayer",description:"Delete selected items",args:["Delete selected items"],when:"CanvasView"},{category:"Tool",key:"Minus",command:"scale.minus",description:"Minus scale",when:"CanvasView"},{category:"Tool",key:"Equal",command:"scale.plus",description:"Plus scale",when:"CanvasView"},{category:"Edit",key:"cmd+c",command:"clipboard.copy",description:"Copy objects",when:"CanvasView"},{category:"Edit",key:"cmd+v",command:"clipboard.paste",description:"Paste selected objects",when:"CanvasView"}];function Ul(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Zl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ql(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ql={backspace:8,tab:9,enter:13,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,semicolon:59,equals:61,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,multiply:106,add:107,subtract:109,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,f13:124,f14:125,f15:126,f16:127,f17:128,f18:129,f19:130,comma:188,",":188,period:190,".":190,slash:191,"/":191,backquote:192,"`":192,openbracket:219,"[":219,backslash:220,"\\":220,closebracket:221,"]":221,quote:222,"'":222,altgr:225};function tf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(Boolean).join("+")}var ef=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$editor=e,this.loadShortCuts()}var e,n,r;return e=t,(n=[{key:"loadShortCuts",value:function(){var t=this;this.list=[],this.commands={},Wl.forEach((function(e){t.registerShortCut(e)})),this.sort()}},{key:"registerShortCut",value:function(t){var e=Kl();this.list.push(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zl(Object(n),!0).forEach((function(e){ql(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({key:"",command:"",args:[],eventType:"keydown"},t,{checkKeyString:this.splitShortCut(t[e]||t.key),whenFunction:this.makeWhenFunction(t.command,t.when||"true")}))}},{key:"makeWhenFunction",value:function(t,e){return new Function("editor","\n            return function () {\n                const CanvasView = editor.modeView === 'CanvasView';\n                const PathEditorView = editor.modeView === 'PathEditorView';                \n\n                return (".concat(e,");\n            }\n        "))(this.$editor)}},{key:"sort",value:function(){var t=this;this.list.forEach((function(e){!1===ee(t.commands[e.checkKeyString])&&(t.commands[e.checkKeyString]=[]),t.commands[e.checkKeyString].push(e)}))}},{key:"splitShortCut",value:function(t){var e,n=t.toUpperCase().split("+").map((function(t){return t.trim()})).filter(Boolean),r=!1,o=!1,i=!1,a=!1,c=[];return n.forEach((function(t){t.includes("ALT")?r=!0:t.includes("CTRL")?o=!0:t.includes("SHIFT")?i=!0:t.includes("CMD")||t.includes("WIN")||t.includes("META")?a=!0:c.push(t)})),tf(r?"ALT":"",o?"CTRL":"",i?"SHIFT":"",a?"META":"",(e=c.join(""),Ql["".concat(e).toLowerCase()]||e))}},{key:"makeKeyString",value:function(t){return tf(t.altKey?"ALT":"",t.ctrlKey?"CTRL":"",t.shiftKey?"SHIFT":"",t.metaKey?"META":"",t.key.toUpperCase())}},{key:"makeCodeString",value:function(t){return tf(t.altKey?"ALT":"",t.ctrlKey?"CTRL":"",t.shiftKey?"SHIFT":"",t.metaKey?"META":"",t.code.toUpperCase())}},{key:"makeKeyCodeString",value:function(t){return tf(t.altKey?"ALT":"",t.ctrlKey?"CTRL":"",t.shiftKey?"SHIFT":"",t.metaKey?"META":"",t.keyCode)}},{key:"checkShortCut",value:function(t,e,n){return this.commands[t]||this.commands[e]||this.commands[n]}},{key:"checkWhen",value:function(t){return t.whenFunction()}},{key:"execute",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keydown",r=this.checkShortCut(this.makeKeyCodeString(t),this.makeKeyString(t),this.makeCodeString(t));if(r){var o=r.filter((function(t){return t.eventType===n})).filter((function(t){return e.checkWhen(t)}));o.length&&t.preventDefault(),o.forEach((function(t){var n;(n=e.$editor).emit.apply(n,[t.command].concat(Ul(t.args)))}))}}}])&&Jl(e.prototype,n),r&&Jl(e,r),t}();function nf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var rf=new Map,of=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this.initialize()}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){this.set("canvas.width",1e4),this.set("canvas.height",1e4),this.set("body.move.ms",15),this.set("grid.preview.position",[])}},{key:"get",value:function(t){return rf[t]}},{key:"set",value:function(t,e){rf[t]=e}},{key:"remove",value:function(t){delete rf[t]}}])&&nf(e.prototype,n),r&&nf(e,r),t}();function af(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function cf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var uf=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$editor=e,this.currentIndex=-1,this.undoHistories=[],this.redoHistories=[],this.selection={}}var e,n,r;return e=t,(n=[{key:"createCommand",value:function(t){return this.$editor.isPointerUp?"history.".concat(t):t}},{key:"saveSelection",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.selection=this.$editor.selection.toCloneObject()}},{key:"getUndoValues",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return Object.keys(this.selection).forEach((function(r){n[r]={},Object.keys(e).forEach((function(e){n[r][e]=t.selection[r][e]}))})),n}},{key:"getUndoValuesForMulti",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return Object.keys(e).forEach((function(r){n[r]={};var o=t.selection[r]||t.$editor.selection.itemsByIds(r)[0],i=e[r];Object.keys(i).forEach((function(t){n[r][t]=o[t]}))})),n}},{key:"add",value:function(t,e,n){var r={message:t,command:e,data:n};return this.undoHistories.push(r),this.currentIndex++,this.undoHistories.length=this.currentIndex+1,this.$editor.emit("refreshHistory"),r}},{key:"map",value:function(t){return[].concat(af(this.undoHistories.map(t)),["-"],af(this.redoHistories.map(t))).reverse()}},{key:"undo",value:function(){var t=this;if(!(this.currentIndex<-1)){this.currentIndex--;var e=this.undoHistories.pop();e&&e.command&&e.command.undo(this.$editor,e.data),this.$editor.nextTick((function(){t.$editor.emit("refreshHistory")}))}}},{key:"redo",value:function(){var t=this;if(!(this.currentIndex>=this.length)){var e=this.undoHistories[++this.currentIndex];e&&e.command&&e.command.redo(this.$editor,e.data),this.$editor.nextTick((function(){t.$editor.emit("refreshHistory")}))}}},{key:"length",get:function(){return this.undoHistories.length}},{key:"selectedIds",get:function(){return Object.keys(this.selection)}}])&&cf(e.prototype,n),r&&cf(e,r),t}();function sf(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function lf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ff(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pf="SELECTION",yf=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};lf(this,t),this.EDITOR_ID=U(),this.$store=e.$store,this.projects=[],this.popupZIndex=1e4,this.canvasWidth=1e5,this.canvasHeight=1e5,this.scale=1,this.symbols={},this.images={},this.openRightPanel=!0,this.mode=pf,this.modeView="CanvasView",this.addComponentType="",this.locale=this.loadItem("locale")||"en_US",this.layout=this.loadItem("layout")||"all",this.loadManagers()}var e,n,r;return e=t,(n=[{key:"loadManagers",value:function(){this.config=new of(this),this.commands=new Yl(this),this.shortcuts=new ef(this),this.selection=new vi(this),this.timeline=new oi(this),this.history=new uf(this),this.components=gi,this.initTheme()}},{key:"i18n",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Jo.get(t,e,n||this.locale)}},{key:"hasI18nkey",value:function(t,e){return Jo.hasKey(t,e||this.locale)}},{key:"initI18n",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,i="".concat(e,".").concat(n);return t.hasI18nkey(i,o)?t.$i18n("".concat(e,".").concat(n),r,o):t.$i18n("".concat(n),r,o)}}},{key:"setLocale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en_US";this.locale=t,this.saveItem("locale",this.locale)}},{key:"setLayout",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";this.layout=t,this.saveItem("layout",this.layout)}},{key:"setUser",value:function(t){this.user=t}},{key:"initTheme",value:function(){var t="dark";window.localStorage&&(t=window.localStorage.getItem("easylogic.studio.theme"),t=["dark","light","toon"].includes(t)?t:"dark"),this.theme=t||"dark",window.localStorage.setItem("easylogic.studio.theme",this.theme)}},{key:"themeValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Qo[this.theme][t]||e}},{key:"changeMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pf;this.mode=t}},{key:"changeModeView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CanvasView";this.modeView=t}},{key:"isMode",value:function(t){return this.mode===t}},{key:"isAddMode",value:function(){return this.isMode("ADD")}},{key:"isSelectionMode",value:function(){return this.isMode(pf)}},{key:"changeAddType",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.changeMode("ADD"),this.addComponentType=t,this.isComponent=e}},{key:"changeTheme",value:function(t){t=["light","toon"].includes(t)?t:"dark",this.theme=t,window.localStorage.setItem("easylogic.studio.theme",t)}},{key:"getFile",value:function(t){return this.images[t]||t}},{key:"setStore",value:function(t){this.$store=t}},{key:"emit",value:function(){var t;this.$store&&(this.$store.source="EDITOR_ID",(t=this.$store).emit.apply(t,arguments))}},{key:"command",value:function(t,e,n,r,o,i){return this.isPointerUp?this.$store.emit("history.".concat(t),e,n,r,o,i):this.$store.emit(t,n,r,o,i)}},{key:"nextTick",value:function(t){this.$store&&this.$store.nextTick(t)}},{key:"load",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.projects=t}},{key:"add",value:function(t){return this.projects.push(t),t}},{key:"remove",value:function(t){this.projects.splice(t,1)}},{key:"clear",value:function(){this.projects=[]}},{key:"get",value:function(t){return this.projects[t]}},{key:"replaceLocalUrltoRealUrl",value:function(t){var e=this.selection.currentProject,n={};return e.images.forEach((function(e){t.indexOf(e.local)>-1&&(n[e.local]=e.original)})),Object.keys(n).forEach((function(e){t.indexOf(e)>-1&&(t=t.replace(new RegExp(e,"g"),n[e]))})),t}},{key:"replaceLocalUrltoId",value:function(t){var e=this.projects,n={};return e.forEach((function(e){e.images.forEach((function(e){t.indexOf(e.local)>-1&&(n[e.local]="#"+e.id)}))})),Object.keys(n).forEach((function(e){t.indexOf(e)>-1&&(t=t.replace(new RegExp(e,"g"),n[e]))})),t}},{key:"makeResource",value:function(t){var e=JSON.stringify(t);return e=this.replaceLocalUrltoId(e)}},{key:"serialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[];return t.forEach((function(t){var n=t.toJSON();n._parentId=t.parent?t.parent.id:void 0,n._positionInParent=t.positionInParent,e.push(n)})),JSON.stringify(e)}},{key:"createItem",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t._parentId&&(t.parent=this.searchItem(t._parentId),delete t._parentId),t.layers=(t.layers||[]).map((function(t){return e.createItem(t)}));var r=this.components.createComponent(t.itemType,t);return n&&r.parent.setPositionInPlace(t._positionInParent,r),r}},{key:"searchItem",value:function(t){var e=[];re(t)?e.push(t):ee(t)&&(e=sf(t));var n=[];return this.projects.forEach((function(t){e.forEach((function(e){n.push(t.searchById(e))}))})),n.filter(Boolean),n[0]}},{key:"deserialize",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=JSON.parse(t)||[];return r.map((function(t){return e.createItem(t,n)}))}},{key:"saveResource",value:function(t,e){window.localStorage.setItem("easylogic.studio.".concat(t),this.makeResource(e))}},{key:"saveItem",value:function(t,e){window.localStorage.setItem("easylogic.studio.".concat(t),JSON.stringify(e))}},{key:"revokeResource",value:function(t){var e=this,n=JSON.parse(t||"[]"),r={};return n.forEach((function(t){t.images.forEach((function(t){r["#".concat(t.id)]=t}))})),Object.keys(r).map((function(t){var e=r[t],n=va.parse(e.original,!0);e.local=n.local})),n.forEach((function(t){t.layers=e.applyAsset(t.layers,r)})),n}},{key:"applyAsset",value:function(t,e){var n=this;return ee(t)?t=t.map((function(t){return n.applyAsset(t,e)})):ie(t)?Object.keys(t).forEach((function(r){t[r]=n.applyAsset(t[r],e)})):re(t)&&Object.keys(e).forEach((function(n){var r=e[n];t.indexOf("#".concat(r.id))>-1&&(t=t.replace(new RegExp("#".concat(r.id),"g"),r.local))})),t}},{key:"loadResource",value:function(t){return this.revokeResource(window.localStorage.getItem("easylogic.studio.".concat(t)))}},{key:"loadItem",value:function(t){return JSON.parse(window.localStorage.getItem("easylogic.studio.".concat(t))||JSON.stringify(""))}},{key:"zIndex",get:function(){return this.popupZIndex++}},{key:"isPointerUp",get:function(){return!!this.config.get("bodyEvent")&&"pointerup"===this.config.get("bodyEvent").type}}])&&ff(e.prototype,n),r&&ff(e,r),t}();function hf(t){return(hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function df(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bf(t,e){return!e||"object"!==hf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mf(t){return(mf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gf(t,e){return(gf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wf={x:0,y:0},kf={x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER},Of=function(t){return new(function(e){function n(){return df(this,n),bf(this,mf(n).apply(this,arguments))}var r,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gf(t,e)}(n,e),r=n,(o=[{key:"initialize",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.$store=new Kr,this.$editor=new yf({$store:this.$store}),this.$container=Nn.create(this.getContainer()),this.$container.addClass(this.getClassName()),this.render(this.$container),this.initBodyMoves()}},{key:"initBodyMoves",value:function(){this.moves=new Set,this.ends=new Set,this.modifyBodyMoveSecond(0)}},{key:"modifyBodyMoveSecond",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.$config.set("body.move.ms",t),this.funcBodyMoves=Nt(this.loopBodyMoves.bind(this),this.$config.get("body.move.ms"))}},{key:"loopBodyMoves",value:function(){var t=this.$config.get("pos"),e=this.$config.get("bodyEvent"),n=this.$config.get("lastPos")||kf;!(n.x===t.x&&n.y===t.y)&&this.moves.size&&(this.moves.forEach((function(n){var r=Math.floor(t.x-n.xy.x),o=Math.floor(t.y-n.xy.y);0==r&&0==o||n.func.call(n.context,r,o,"move",e.pressure)})),this.$config.set("lastPos",t)),requestAnimationFrame(this.funcBodyMoves)}},{key:"removeBodyMoves",value:function(){var t=this.$config.get("pos"),e=this.$config.get("bodyEvent");t&&this.ends.forEach((function(n){n.func.call(n.context,t.x-n.xy.x,t.y-n.xy.y,"end",e.pressure)})),this.moves.clear(),this.ends.clear()}},{key:Wo("add/body/mousemove"),value:function(t,e,n){this.moves.add({func:t,context:e,xy:n})}},{key:Wo("add/body/mouseup"),value:function(t,e,n){this.ends.add({func:t,context:e,xy:n})}},{key:"getClassName",value:function(){return t.className||"csseditor"}},{key:"getContainer",value:function(){return t.container||document.body}},{key:"template",value:function(){return t.template||"<div></div>"}},{key:"components",value:function(){return t.components||{}}},{key:kr("document"),value:function(t){var e=t.xy||wf;this.$config.set("bodyEvent",t),this.$config.set("pos",e),this.requestId||(this.requestId=requestAnimationFrame(this.funcBodyMoves))}},{key:Or("document"),value:function(t){this.$config.set("bodyEvent",t),this.removeBodyMoves(),this.requestId=null}},{key:br("window")+Dr(100),value:function(){this.emit("resize.window")}},{key:"commands",get:function(){return this.$editor.commands}},{key:"shortcuts",get:function(){return this.$editor.shortcuts}}])&&vf(r.prototype,o),i&&vf(r,i),n}(Uo))(t)},jf={App:v,Color:Rn,HueColor:Vn,ColorNames:en,Dom:Nn,EventMachine:Io,UIElement:Uo};function Sf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sf(Object(n),!0).forEach((function(e){xf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ef=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$store=e,this.initialize()}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){this.state={rgb:{},hsl:{},hsv:{},alpha:1,format:"hex",colorSetsList:[{name:"Material",edit:!0,colors:["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#607D8B"]},{name:"Custom",edit:!0,colors:[]},{name:"Color Scale",scale:["red","yellow","black"],count:5}],userList:[],currentColorSets:{}}}},{key:"changeFormat",value:function(t){this.state.format=t,this.$store.emit("changeFormat")}},{key:"initColor",value:function(t){this.changeColor(t)}},{key:"changeColor",value:function(t){re(t=t||"#FF0000")&&(t=Rn.parse(t)),this.state.alpha=Qt(t.a)?this.state.alpha:t.a,this.state.format="hsv"!=t.type&&t.type||this.state.format,"hex"==this.state.format&&this.state.alpha<1&&(this.state.format="rgb"),"hsl"==t.type?(this.state.hsl=Pf({},this.state.hsl,{},t),this.state.rgb=Rn.HSLtoRGB(this.state.hsl),this.state.hsv=Rn.HSLtoHSV(t)):"hex"==t.type?(this.state.rgb=Pf({},this.state.rgb,{},t),this.state.hsl=Rn.RGBtoHSL(this.state.rgb),this.state.hsv=Rn.RGBtoHSV(t)):"rgb"==t.type?(this.state.rgb=Pf({},this.state.rgb,{},t),this.state.hsl=Rn.RGBtoHSL(this.state.rgb),this.state.hsv=Rn.RGBtoHSV(t)):"hsv"==t.type&&(this.state.hsv=Pf({},this.state.hsv,{},t),this.state.rgb=Rn.HSVtoRGB(this.state.hsv),this.state.hsl=Rn.HSVtoHSL(this.state.hsv))}},{key:"getHueColor",value:function(){return Vn.checkHueColor(this.state.hsv.h/360)}},{key:"toString",value:function(t){t=t||this.state.format;var e=this.state[t]||this.state.rgb;return Rn.format(Pf({},e,{a:this.state.alpha}),t)}},{key:"toColor",value:function(t){return t=(t||this.state.format).toLowerCase(),this.toString(t)}},{key:"setUserPalette",value:function(t){this.state.userList=t||[],this.resetUserPalette(),this.setCurrentColorSets()}},{key:"resetUserPalette",value:function(){var t=this;this.state.userList=this.state.userList.map((function(e,n){if(ae(e.colors)){var r=e.colors;e.colors=r(t.state),e._colors=r}return Pf({name:"color-".concat(n),colors:[]},e)}))}},{key:"setCurrentColorSets",value:function(t){var e=this.getUserList();Qt(t)?this.state.currentColorSets=e[0]:ce(t)?this.state.currentColorSets=e[t]:this.state.currentColorSets=e.filter((function(e){return e.name==t}))[0],this.$store.emit("changeCurrentColorSets")}},{key:"getCurrentColorSets",value:function(){return this.state.currentColorSets}},{key:"addCurrentColor",value:function(t){Array.isArray(this.state.currentColorSets.colors)&&(this.state.currentColorSets.colors.push(t),this.$store.emit("changeCurrentColorSets"))}},{key:"setCurrentColorAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.state.currentColorSets.colors=t,this.$store.emit("changeCurrentColorSets")}},{key:"removeCurrentColor",value:function(t){this.state.currentColorSets.colors[t]&&(this.state.currentColorSets.colors.splice(t,1),this.$store.emit("changeCurrentColorSets"))}},{key:"removeCurrentColorToTheRight",value:function(t){this.state.currentColorSets.colors[t]&&(this.state.currentColorSets.colors.splice(t,Number.MAX_VALUE),this.$store.emit("changeCurrentColorSets"))}},{key:"clearPalette",value:function(){this.state.currentColorSets.colors&&(this.state.currentColorSets.colors=[],this.$store.emit("changeCurrentColorSets"))}},{key:"getUserList",value:function(){return Array.isArray(this.state.userList)&&this.state.userList.length?this.state.userList:this.state.colorSetsList}},{key:"getCurrentColors",value:function(){return this.getColors(this.state.currentColorSets)}},{key:"getColors",value:function(t){return t.scale?Rn.scale(t.scale,t.count):t.colors||[]}},{key:"getColorSetsList",value:function(){var t=this;return this.getUserList().map((function(e){return{name:e.name,edit:e.edit,colors:t.getColors(e)}}))}},{key:"hsv",get:function(){return this.state.hsv}},{key:"rgb",get:function(){return this.state.rgb}},{key:"hsl",get:function(){return this.state.hsl}},{key:"hex",get:function(){return this.state.hex}},{key:"alpha",get:function(){return this.state.alpha}},{key:"format",get:function(){return this.state.format}}])&&$f(e.prototype,n),r&&$f(e,r),t}();function _f(t){return(_f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rf(t,e){return!e||"object"!==_f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Df(t,e,n){return(Df="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vf(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Vf(t){return(Vf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Af(t,e){return(Af=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var If=function(t){function e(){return Cf(this,e),Rf(this,Vf(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Af(t,e)}(e,t),n=e,(r=[{key:"created",value:function(){this.manager=new Ef(this),this.isColorPickerShow=!1,this.isShortCut=!1,this.hideDelay=+Jt(this.opt.hideDeplay,2e3),this.timerCloseColorPicker,this.autoHide=this.opt.autoHide||!0,this.outputFormat=this.opt.outputFormat,this.$checkColorPickerClass=this.checkColorPickerClass.bind(this)}},{key:"initialize",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.$body=null,this.$root=null,this.$store=new Kr,this.callbackChange=function(){t.callbackChangeValue()},this.callbackLastUpdate=function(){t.callbackLastUpdateColorValue()},this.colorpickerShowCallback=function(){},this.colorpickerHideCallback=function(){},this.colorpickerLastUpdateCallback=function(){},this.$body=Nn.create(this.getContainer()),this.$root=Nn.create("div","colorpicker"),"inline"==this.opt.position&&this.$body.append(this.$root),this.opt.type&&this.$root.addClass(this.opt.type),this.opt.hideInformation&&this.$root.addClass("hide-information"),this.opt.hideColorsets&&this.$root.addClass("hide-colorsets"),this.opt.width&&this.$root.css("width",this.opt.width),this.$arrow=Nn.create("div","arrow"),this.$root.append(this.$arrow),this.manager.setUserPalette(this.opt.colorSets),this.render(this.$root),this.initColorWithoutChangeEvent(this.opt.color)}},{key:"initColorWithoutChangeEvent",value:function(t){this.manager.initColor(t),this.emit("initColor")}},{key:"show",value:function(t,e,n,r,o){this.colorpickerShowCallback=n,this.colorpickerHideCallback=r,this.colorpickerLastUpdateCallback=o,this.$root.css(this.getInitalizePosition()).show(),this.definePosition(t),this.isColorPickerShow=!0,this.isShortCut=t.isShortCut||!1,this.outputFormat=t.outputFormat,this.hideDelay=+Jt(t.hideDelay,2e3),this.hideDelay>0&&this.setHideDelay(this.hideDelay),this.$root.appendTo(this.$body),this.initColorWithoutChangeEvent(e)}},{key:"initColor",value:function(t,e){this.manager.changeColor(t,e),this.emit("changeColor")}},{key:"changeColor",value:function(t,e){this.manager.changeColor(t,e),this.emit("changeColor")}},{key:"hide",value:function(){this.isColorPickerShow&&(this.$root.hide(),this.$root.remove(),this.isColorPickerShow=!1,this.callbackHideValue())}},{key:"setColorsInPalette",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.manager.setCurrentColorAll(t)}},{key:"setUserPalette",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.manager.setUserPalette(t)}},{key:"getOption",value:function(t){return this.opt[t]}},{key:"setOption",value:function(t,e){this.opt[t]=e}},{key:"getContainer",value:function(){return this.opt.container||document.body}},{key:"getColor",value:function(t){return this.manager.toColor(t)}},{key:"definePositionForArrow",value:function(t,e,n){}},{key:"definePosition",value:function(t){var e=this.$root.width(),n=this.$root.height(),r=t.left-this.$body.scrollLeft();e+r>window.innerWidth&&(r-=e+r-window.innerWidth),r<0&&(r=0);var o=t.top-this.$body.scrollTop();n+o>window.innerHeight&&(o-=n+o-window.innerHeight),o<0&&(o=0),this.$root.css({left:$.px(r),top:$.px(o)})}},{key:"getInitalizePosition",value:function(){return"inline"==this.opt.position?{position:"relative",left:"auto",top:"auto",display:"inline-block"}:{position:"absolute"==this.opt.position?"absolute":"fixed",left:$.px(-1e4),top:$.px(-1e4)}}},{key:"setHideDelay",value:function(t){var e=this;t=t||0;var n=this.hide.bind(this);this.$root.off("mouseenter"),this.$root.off("mouseleave"),this.$root.on("mouseenter",(function(){clearTimeout(e.timerCloseColorPicker)})),this.$root.on("mouseleave",(function(){clearTimeout(e.timerCloseColorPicker),e.timerCloseColorPicker=setTimeout(n,t)})),clearTimeout(this.timerCloseColorPicker)}},{key:"callbackChangeValue",value:function(t){t=t||this.getCurrentColor(),ae(this.opt.onChange)&&this.opt.onChange.call(this,t),ae(this.colorpickerShowCallback)&&this.colorpickerShowCallback(t)}},{key:"callbackLastUpdateColorValue",value:function(t){t=t||this.getCurrentColor(),ae(this.opt.onLastUpdate)&&this.opt.onLastUpdate.call(this,t),ae(this.colorpickerLastUpdateCallback)&&this.colorpickerLastUpdateCallback(t)}},{key:"callbackHideValue",value:function(t){t=t||this.getCurrentColor(),ae(this.opt.onHide)&&this.opt.onHide.call(this,t),ae(this.colorpickerHideCallback)&&this.colorpickerHideCallback(t)}},{key:"getCurrentColor",value:function(){return this.manager.toColor(this.outputFormat)}},{key:"checkColorPickerClass",value:function(t){var e=Nn.create(t),n=e.closest("codemirror-colorview"),r=e.closest("colorpicker"),o=e.closest("CodeMirror");return t.nodeName,!!(r||n||o)}},{key:"checkInHtml",value:function(t){return"HTML"==t.nodeName}},{key:"lastUpdateColor",value:function(){this.callbackLastUpdate()}},{key:"initializeStoreEvent",value:function(){Df(Vf(e.prototype),"initializeStoreEvent",this).call(this),this.$store.on("changeColor",this.callbackChange,this),this.$store.on("changeFormat",this.callbackChange,this)}},{key:"destroy",value:function(){Df(Vf(e.prototype),"destroy",this).call(this),this.$store.off("changeColor",this.callbackChange),this.$store.off("changeFormat",this.callbackChange),this.callbackChange=void 0,this.colorpickerShowCallback=void 0,this.colorpickerHideCallback=void 0}},{key:rr("document"),value:function(t){this.checkInHtml(t.target)||0==this.checkColorPickerClass(t.target)&&this.hide()}},{key:"hsv",get:function(){return this.manager.hsv}},{key:"rgb",get:function(){return this.manager.rgb}},{key:"hsl",get:function(){return this.manager.hsl}},{key:"hex",get:function(){return this.manager.hex}},{key:"alpha",get:function(){return this.manager.alpha}},{key:"format",get:function(){return this.manager.format}}])&&Tf(n.prototype,r),o&&Tf(n,o),e}(Uo);function Lf(t){return(Lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bf(t,e){return!e||"object"!==Lf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ff(t){return(Ff=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gf(t,e){return(Gf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hf(t){return(Hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nf(t,e){return!e||"object"!==Hf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kf(t){return(Kf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wf(t,e){return(Wf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Uf=function(t){function e(){return Xf(this,e),Nf(this,Kf(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wf(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{minValue:0,maxValue:1,maxDist:null,minPosition:null}}},{key:"getMinMaxPosition",value:function(){var t=this.getMinPosition(),e=this.getMaxDist();return{min:t,max:t+e,width:e}}},{key:"getCurrent",value:function(t){return min+this.getMaxDist()*t}},{key:"getMinPosition",value:function(){return this.state.minPosition||(this.state.minPosition=this.refs.$container.offset().left),this.state.minPosition}},{key:"getMaxDist",value:function(){return this.state.maxDist||(this.state.maxDist=this.refs.$container.width()),this.state.maxDist}},{key:"getDist",value:function(t){var e=this.getMinMaxPosition(),n=e.min,r=e.max;return t<n?0:t>r?100:(t-n)/(r-n)*100}},{key:"getCalculatedDist",value:function(t){var e=t?this.getMousePosition(t):this.getCurrent(this.getDefaultValue()/this.state.maxValue);return this.getDist(e)}},{key:"getDefaultValue",value:function(){return 0}},{key:"setMousePosition",value:function(t){this.refs.$bar.css({left:$.px(t)})}},{key:"getMousePosition",value:function(t){return Xr.pos(t).pageX}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(t){(t=t||this.getDefaultValue())<=this.state.minValue?this.refs.$bar.addClass("first").removeClass("last"):t>=this.maxValue?this.refs.$bar.addClass("last").removeClass("first"):this.refs.$bar.removeClass("last").removeClass("first"),this.setMousePosition(this.getMaxDist()*((t||0)/this.state.maxValue))}}])&&Yf(n.prototype,r),o&&Yf(n,o),e}(function(t){function e(){return Mf(this,e),Bf(this,Ff(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gf(t,e)}(e,t),n=e,(r=[{key:"refresh",value:function(){}},{key:"refreshColorUI",value:function(t){}},{key:"changeColor",value:function(t){this.parent.changeColor(t||{}),this.emit("changeColor")}},{key:Or("document"),value:function(t){this.onDragEnd(t)}},{key:kr("document"),value:function(t){this.onDragMove(t)}},{key:wr("$bar"),value:function(t){this.isDown=!0}},{key:wr("$container"),value:function(t){this.isDown=!0,this.onDragStart(t)}},{key:"onDragStart",value:function(t){this.isDown=!0,this.refreshColorUI(t)}},{key:"onDragMove",value:function(t){this.isDown&&this.refreshColorUI(t)}},{key:"onDragEnd",value:function(t){this.emit("lastUpdateColor"),this.isDown=!1}},{key:Wo("changeColor","initColor"),value:function(){this.refresh()}}])&&zf(n.prototype,r),o&&zf(n,o),e}(Uo));function Zf(t){return(Zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qf(t,e){return!e||"object"!==Zf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tp(t){return(tp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ep(t,e){return(ep=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var np=function(t){function e(){return qf(this,e),Qf(this,tp(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ep(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n            <div class="value">\n                <div ref="$container" class="value-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:Hr("$container"),value:function(){return{style:{"background-color":this.parent.manager.toString("rgb")}}}},{key:"getDefaultValue",value:function(){return this.parent.hsv.v}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.state.maxValue),this.changeColor({type:"hsv",v:e/100*this.state.maxValue})}}])&&Jf(n.prototype,r),o&&Jf(n,o),e}(Uf);function rp(t){return(rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function op(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ip(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ap(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function up(t,e){return!e||"object"!==rp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sp(t,e,n){return(sp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lp(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function lp(t){return(lp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fp(t,e){return(fp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pp=function(t){function e(){return ap(this,e),up(this,lp(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fp(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n        <div class="opacity">\n            <div ref="$container" class="opacity-container">\n                <div ref="$colorbar" class="color-bar"></div>\n                <div ref="$bar" class="drag-bar2"></div>\n            </div>\n        </div>\n        '}},{key:"refresh",value:function(){sp(lp(e.prototype),"refresh",this).call(this),this.setOpacityColorBar()}},{key:"setOpacityColorBar",value:function(){var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?op(Object(n),!0).forEach((function(e){ip(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):op(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.parent.rgb);t.a=0;var e=Rn.format(t,"rgb");t.a=1;var n=Rn.format(t,"rgb");this.refs.$colorbar.css("background","linear-gradient(to right, "+e+", "+n+")")}},{key:"getDefaultValue",value:function(){return this.parent.alpha}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.state.maxValue),this.changeColor({a:Math.floor(e)/100*this.state.maxValue})}}])&&cp(n.prototype,r),o&&cp(n,o),e}(Uf);function yp(t){return(yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vp(t,e){return!e||"object"!==yp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bp(t){return(bp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mp(t,e){return(mp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gp=function(t){function e(){return hp(this,e),vp(this,bp(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mp(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"<div class='color'></div>"}},{key:Hr("$el"),value:function(){return{style:{"background-color":this.parent.manager.toString("rgb")}}}},{key:Wo("changeColor","initColor"),value:function(){this.refresh()}}])&&dp(n.prototype,r),o&&dp(n,o),e}(Uo);function wp(t){return(wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Op(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sp(t,e){return!e||"object"!==wp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pp(t,e,n){return(Pp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xp(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function xp(t){return(xp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $p(t,e){return($p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ep=function(t){function e(){return Op(this,e),Sp(this,xp(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$p(t,e)}(e,t),n=e,(r=[{key:"initialize",value:function(){Pp(xp(e.prototype),"initialize",this).call(this),this.width=214,this.height=214,this.thinkness=0,this.half_thinkness=0}},{key:"template",value:function(){return'\n        <div class="wheel">\n            <canvas class="wheel-canvas" ref="$colorwheel" ></canvas>\n            <div class="wheel-canvas" ref="$valuewheel" ></div>\n            <div class="drag-pointer" ref="$drag_pointer"></div>\n        </div>\n        '}},{key:"refresh",value:function(t){this.setColorUI(t)}},{key:"setColorUI",value:function(t){this.renderCanvas(),this.renderValue(),this.setHueColor(null,t)}},{key:"renderValue",value:function(){var t=1-this.parent.hsv.v;this.refs.$valuewheel.css("background-color","rgba(0, 0, 0, ".concat(t,")"))}},{key:"renderWheel",value:function(t,e){this.width&&!t&&(t=this.width),this.height&&!e&&(e=this.height);var n=Nn.create("canvas"),r=n.el.getContext("2d");n.el.width=t,n.el.height=e,n.px("width",t),n.px("height",e);for(var o=r.getImageData(0,0,t,e),i=o.data,a=Math.floor(t/2),c=Math.floor(e/2),u=t>e?c:a,s=a,l=c,f=0;f<e;f++)for(var p=0;p<t;p++){var y=p-s+1,h=f-l+1,d=y*y+h*h,v=X(y,h),b=Rn.HSVtoRGB(v,Math.min(Math.sqrt(d)/u,1),1),m=4*(f*t+p);i[m]=b.r,i[m+1]=b.g,i[m+2]=b.b,i[m+3]=255}return r.putImageData(o,0,0),this.thinkness>0&&(r.globalCompositeOperation="destination-out",r.fillStyle="black",r.beginPath(),r.arc(s,l,u-this.thinkness,0,2*Math.PI),r.closePath(),r.fill()),n}},{key:"renderCanvas",value:function(){if(!this.parent.createdWheelCanvas){var t=this.refs.$colorwheel,e=t.el.getContext("2d"),n=kp(t.size(),2),r=n[0],o=n[1];this.width&&!r&&(r=this.width),this.height&&!o&&(o=this.height),t.el.width=r,t.el.height=o,t.px("width",r),t.px("height",o);var i=this.renderWheel(r,o);e.drawImage(i.el,0,0),this.parent.createdWheelCanvas=!0}}},{key:"getDefaultValue",value:function(){return this.parent.hsv.h}},{key:"getDefaultSaturation",value:function(){return this.parent.hsv.s}},{key:"getCurrentXY",value:function(t,e,n,r,o){return t?t.xy:G(e,n,r,o)}},{key:"getRectangle",value:function(){var t=this.$el.width(),e=this.$el.height(),n=this.refs.$colorwheel.width()/2,r=this.$el.offsetLeft(),o=r+t/2,i=this.$el.offsetTop();return{minX:r,minY:i,width:t,height:e,radius:n,centerX:o,centerY:i+e/2}}},{key:"setHueColor",value:function(t,e){var n=this.getRectangle(),r=n.minX,o=n.minY,i=n.radius,a=n.centerX,c=n.centerY,u=this.getCurrentXY(t,this.getDefaultValue(),this.getDefaultSaturation()*i,a,c),s=(h=u.x)-a,l=(d=u.y)-c,f=s*s+l*l,p=X(s,l);if(f>i*i)var y=this.getCurrentXY(null,p,i,a,c),h=y.x,d=y.y;var v=Math.min(Math.sqrt(f)/i,1);this.refs.$drag_pointer.px("left",h-r),this.refs.$drag_pointer.px("top",d-o),e||this.changeColor({type:"hsv",h:p,s:v})}},{key:"changeColor",value:function(t){this.parent.manager.changeColor(t||{})}},{key:Wo("changeColor"),value:function(){this.refresh(!0)}},{key:Wo("initColor"),value:function(){this.refresh(!0)}},{key:Or("document"),value:function(t){this.isDown=!1}},{key:kr("document"),value:function(t){this.isDown&&this.setHueColor(t)}},{key:wr("$drag_pointer"),value:function(t){this.isDown=!0}},{key:wr(),value:function(t){this.isDown=!0,this.setHueColor(t)}}])&&jp(n.prototype,r),o&&jp(n,o),e}(Uo);function _p(t){return(_p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rp(t,e){return!e||"object"!==_p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dp(t){return(Dp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vp(t,e){return(Vp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ap=function(t){function e(){return Cp(this,e),Rp(this,Dp(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vp(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n        <div class="information hex">\n            <div ref="$informationChange" class="information-change">\n                <button ref="$formatChangeButton" type="button" class="format-change-button arrow-button"></button>\n            </div>\n            <div class="information-item hex">\n                <div class="input-field hex">\n                    <input ref="$hexCode" class="input" type="text" />\n                    <div class="title">HEX</div>\n                </div>\n            </div>\n            <div class="information-item rgb">\n                <div class="input-field rgb-r">\n                    <input ref="$rgb_r" class="input" type="number" step="1" min="0" max="255" />\n                    <div class="title">R</div>\n                </div>\n                <div class="input-field rgb-g">\n                    <input ref="$rgb_g" class="input" type="number" step="1" min="0" max="255" />\n                    <div class="title">G</div>\n                </div>\n                <div class="input-field rgb-b">\n                    <input ref="$rgb_b" class="input" type="number" step="1" min="0" max="255" />\n                    <div class="title">B</div>\n                </div>          \n                <div class="input-field rgb-a">\n                    <input ref="$rgb_a" class="input" type="number" step="0.01" min="0" max="1" />\n                    <div class="title">A</div>\n                </div>                                                            \n            </div>\n            <div class="information-item hsl">\n                <div class="input-field hsl-h">\n                    <input ref="$hsl_h" class="input" type="number" step="1" min="0" max="360" />\n                    <div class="title">H</div>\n                </div>\n                <div class="input-field hsl-s">\n                    <input ref="$hsl_s" class="input" type="number" step="1" min="0" max="100" />\n                    <div class="postfix">%</div>\n                    <div class="title">S</div>\n                </div>\n                <div class="input-field hsl-l">\n                    <input ref="$hsl_l" class="input" type="number" step="1" min="0" max="100" />\n                    <div class="postfix">%</div>                        \n                    <div class="title">L</div>\n                </div>\n                <div class="input-field hsl-a">\n                    <input ref="$hsl_a" class="input" type="number" step="0.01" min="0" max="1" />\n                    <div class="title">A</div>\n                </div>\n            </div>\n        </div>\n        '}},{key:"setCurrentFormat",value:function(t){this.format=t,this.initFormat()}},{key:"initFormat",value:function(){var t=this,e=this.format||"hex";["hex","rgb","hsl"].filter((function(t){return t!==e})).forEach((function(e){t.$el.removeClass(e)})),this.$el.addClass(e)}},{key:"nextFormat",value:function(){var t=this.format||"hex",e="hex";"hex"==t?e="rgb":"rgb"==t?e="hsl":"hsl"==t&&(e=1==this.parent.alpha?"hex":"rgb"),this.format=e,this.initFormat(),this.parent.manager.changeFormat(this.format),this.emit("lastUpdateColor")}},{key:"goToFormat",value:function(t){this.format=t,"rgb"!==t&&"hsl"!==t||this.initFormat(),this.parent.manager.changeFormat(this.format)}},{key:"getFormat",value:function(){return this.format||"hex"}},{key:"changeRgbColor",value:function(){this.parent.changeColor({type:"rgb",r:this.refs.$rgb_r.int(),g:this.refs.$rgb_g.int(),b:this.refs.$rgb_b.int(),a:this.refs.$rgb_a.float()}),this.emit("lastUpdateColor")}},{key:"changeHslColor",value:function(){this.parent.changeColor({type:"hsl",h:this.refs.$hsl_h.int(),s:this.refs.$hsl_s.int(),l:this.refs.$hsl_l.int(),a:this.refs.$hsl_a.float()}),this.emit("lastUpdateColor")}},{key:Wo("changeColor","initColor"),value:function(){this.refresh()}},{key:pr("$rgb_r"),value:function(t){this.changeRgbColor()}},{key:pr("$rgb_g"),value:function(t){this.changeRgbColor()}},{key:pr("$rgb_b"),value:function(t){this.changeRgbColor()}},{key:pr("$rgb_a"),value:function(t){this.changeRgbColor()}},{key:pr("$hsl_h"),value:function(t){this.changeHslColor()}},{key:pr("$hsl_s"),value:function(t){this.changeHslColor()}},{key:pr("$hsl_l"),value:function(t){this.changeHslColor()}},{key:pr("$hsl_a"),value:function(t){this.changeHslColor()}},{key:ir("$hexCode"),value:function(t){var e=this.refs.$hexCode.val();"#"!=e.charAt(0)||7!=e.length&&9!==e.length||(this.parent.initColor(e),this.emit("lastUpdateColor"))}},{key:er("$formatChangeButton"),value:function(t){this.nextFormat()}},{key:er("$el .information-item.hex .input-field .title"),value:function(t){this.goToFormat("hex")}},{key:er("$el .information-item.rgb .input-field .title"),value:function(t){this.goToFormat("hsl")}},{key:er("$el .information-item.hsl .input-field .title"),value:function(t){this.goToFormat("rgb")}},{key:"setRGBInput",value:function(){this.refs.$rgb_r.val(this.parent.rgb.r),this.refs.$rgb_g.val(this.parent.rgb.g),this.refs.$rgb_b.val(this.parent.rgb.b),this.refs.$rgb_a.val(this.parent.alpha)}},{key:"setHSLInput",value:function(){this.refs.$hsl_h.val(this.parent.hsl.h),this.refs.$hsl_s.val(this.parent.hsl.s),this.refs.$hsl_l.val(this.parent.hsl.l),this.refs.$hsl_a.val(this.parent.alpha)}},{key:"setHexInput",value:function(){this.refs.$hexCode.val(this.parent.manager.toString("hex"))}},{key:"refresh",value:function(){this.setCurrentFormat(this.parent.format),this.setRGBInput(),this.setHSLInput(),this.setHexInput()}}])&&Tp(n.prototype,r),o&&Tp(n,o),e}(Uo);function Ip(t){return(Ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zp(t,e){return!e||"object"!==Ip(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bp(t,e,n){return(Bp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fp(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Fp(t){return(Fp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gp(t,e){return(Gp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Hp=function(t){function e(){return Lp(this,e),zp(this,Fp(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gp(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'<div class="color-chooser">\n            <div class="color-chooser-container">\n                <div class="colorsets-item colorsets-item-header">\n                    <h1 class="title">Color Palettes</h1>\n                    <span ref="$toggleButton" class="items">&times;</span>\n                </div>\n                <div ref="$colorsetsList" class="colorsets-list"></div>\n            </div>\n        </div>'}},{key:Wo("changeCurrentColorSets"),value:function(){this.refresh()}},{key:Wo("toggleColorChooser"),value:function(){this.toggle()}},{key:zr("$colorsetsList"),value:function(){var t=this.parent.manager.getColorSetsList();return"\n            <div>\n                ".concat(t.map((function(t,e){return'\n                        <div class="colorsets-item" data-colorsets-index="'.concat(e,'" >\n                            <h1 class="title">').concat(t.name,'</h1>\n                            <div class="items">\n                                <div>\n                                    ').concat(t.colors.filter((function(t,e){return e<5})).map((function(t){return'<div class="color-item" title="'.concat(t=t||"rgba(255, 255, 255, 1)",'">\n                                                <div class="color-view" style="background-color: ').concat(t,'"></div>\n                                            </div>')})).join(""),"\n                                </div>\n                            </div>\n                        </div>")})).join(""),"\n            </div>\n        ")}},{key:"show",value:function(){this.$el.addClass("open")}},{key:"hide",value:function(){this.$el.removeClass("open")}},{key:"toggle",value:function(){this.$el.toggleClass("open")}},{key:er("$toggleButton"),value:function(t){this.toggle()}},{key:er("$colorsetsList .colorsets-item"),value:function(t,e){if(e){var n=parseInt(e.attr("data-colorsets-index"));this.parent.manager.setCurrentColorSets(n),this.hide()}}},{key:"destroy",value:function(){Bp(Fp(e.prototype),"destroy",this).call(this),this.hide()}}])&&Mp(n.prototype,r),o&&Mp(n,o),e}(Uo);function Xp(t){return(Xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Np(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kp(t,e){return!e||"object"!==Xp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wp(t){return(Wp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Up(t,e){return(Up=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zp=function(t){function e(){return Yp(this,e),Kp(this,Wp(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Up(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n            <div class="colorsets">\n                <div class="menu" title="Open Color Palettes">\n                    <button ref="$colorSetsChooseButton" type="button" class="color-sets-choose-btn arrow-button"></button>\n                </div>\n                <div ref="$colorSetsColorList" class="color-list"></div>\n            </div>\n        '}},{key:zr("$colorSetsColorList"),value:function(){var t=this.parent.manager.getCurrentColorSets(),e=this.parent.manager.getCurrentColors();return'<div class="current-color-sets">\n            '.concat(e.map((function(t,e){return'<div class="color-item" title="'.concat(t,'" data-index="').concat(e,'" data-color="').concat(t,'">\n                    <div class="empty"></div>\n                    <div class="color-view" style="background-color: ').concat(t,'"></div>\n                </div>')})).join(""),"   \n            ").concat(t.edit?'<div class="add-color-item">+</div>':"","         \n            </div>")}},{key:"addColor",value:function(t){this.parent.manager.addCurrentColor(t),this.refresh()}},{key:Wo("changeCurrentColorSets"),value:function(){this.refresh()}},{key:Wo("initColor"),value:function(){this.refresh()}},{key:er("$colorSetsChooseButton"),value:function(t){this.emit("toggleColorChooser")}},{key:lr("$colorSetsColorList"),value:function(t){if(t.preventDefault(),this.parent.manager.getCurrentColorSets().edit){var e=Nn.create(t.target).closest("color-item");if(e){var n=parseInt(e.attr("data-index"));this.emit("showContextMenu",t,n)}else this.emit("showContextMenu",t)}}},{key:er("$colorSetsColorList .add-color-item"),value:function(t){this.addColor(this.parent.getColor())}},{key:er("$colorSetsColorList .color-item"),value:function(t,e){this.parent.initColor(e.attr("data-color")),this.parent.lastUpdateColor()}}])&&Np(n.prototype,r),o&&Np(n,o),e}(Uo);function qp(t){return(qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ty(t,e){return!e||"object"!==qp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ey(t){return(ey=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ny(t,e){return(ny=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ry=function(t){function e(){return Jp(this,e),ty(this,ey(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ny(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n            <ul class="colorsets-contextmenu">\n                <li class="menu-item small-hide" data-type="remove-color">Remove color</li>\n                <li class="menu-item small-hide" data-type="remove-all-to-the-right">Remove all to the right</li>\n                <li class="menu-item" data-type="clear-palette">Clear palette</li>\n            </ul>\n        '}},{key:"show",value:function(t,e){var n=Xr.pos(t);this.$el.px("top",n.clientY-10),this.$el.px("left",n.clientX),this.$el.addClass("show"),this.selectedColorIndex=e,Qt(this.selectedColorIndex)?this.$el.addClass("small"):this.$el.removeClass("small")}},{key:"hide",value:function(){this.$el.removeClass("show")}},{key:"runCommand",value:function(t){switch(t){case"remove-color":this.parent.manager.removeCurrentColor(this.selectedColorIndex);break;case"remove-all-to-the-right":this.parent.manager.removeCurrentColorToTheRight(this.selectedColorIndex);break;case"clear-palette":this.parent.manager.clearPalette()}}},{key:Wo("showContextMenu"),value:function(t,e){this.show(t,e)}},{key:er("$el .menu-item"),value:function(t,e){t.preventDefault(),this.runCommand(e.attr("data-type")),this.hide()}}])&&Qp(n.prototype,r),o&&Qp(n,o),e}(Uo);function oy(t){return(oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ay(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cy(t,e){return!e||"object"!==oy(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uy(t){return(uy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sy(t,e){return(sy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ly=function(t){function e(){return iy(this,e),cy(this,uy(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sy(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <ColorWheel />\n                <div class="control">\n                    <Value />\n                    <Opacity />\n                    <div class="empty"></div>\n                    <ColorView />\n                </div>\n                <Information />\n                <CurrentColorSets />\n                <ColorSetsChooser >\n                <ContextMenu />\n            </div> \n        '}},{key:"components",value:function(){return{Value:np,Opacity:pp,ColorView:gp,ColorWheel:Ep,Information:Ap,CurrentColorSets:Zp,ColorSetsChooser:Hp,ContextMenu:ry}}}])&&ay(n.prototype,r),o&&ay(n,o),e}(If);function fy(t){return(fy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function py(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hy(t,e){return!e||"object"!==fy(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dy(t){return(dy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vy(t,e){return(vy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var by=function(t){function e(){return py(this,e),hy(this,dy(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vy(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{minValue:0,maxValue:360}}},{key:"template",value:function(){return'\n            <div class="hue">\n                <div ref="$container" class="hue-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"getDefaultValue",value:function(){return this.parent.hsv.h}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.state.maxValue),this.changeColor({h:e/100*this.state.maxValue,type:"hsv"})}}])&&yy(n.prototype,r),o&&yy(n,o),e}(Uf);function my(t){return(my="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ky(t,e){return!e||"object"!==my(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Oy(t){return(Oy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jy(t,e){return(jy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Sy=function(t){function e(){return gy(this,e),ky(this,Oy(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jy(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n        <div class="color-panel">\n            <div ref="$saturation" class="saturation">\n                <div ref="$value" class="value">\n                    <div ref="$drag_pointer" class="drag-pointer"></div>\n                </div>\n            </div>        \n        </div>        \n        '}},{key:"setBackgroundColor",value:function(t){this.$el.css("background-color",t)}},{key:"refresh",value:function(){this.setColorUI()}},{key:"calculateSV",value:function(){var t=this.drag_pointer_pos||{x:0,y:0},e=this.$el.width(),n=this.$el.height(),r=t.x/e,o=(n-t.y)/n;this.parent.initColor({type:"hsv",s:r,v:o})}},{key:"setColorUI",value:function(){var t=this.$el.width()*this.parent.hsv.s,e=this.$el.height()*(1-this.parent.hsv.v);this.refs.$drag_pointer.px("left",t),this.refs.$drag_pointer.px("top",e),this.drag_pointer_pos={x:t,y:e},this.setBackgroundColor(this.parent.manager.getHueColor())}},{key:"setMainColor",value:function(t){var e=this.$el.offset(),n=this.$el.contentWidth(),r=this.$el.contentHeight(),o=Xr.pos(t).pageX-e.left,i=Xr.pos(t).pageY-e.top;o<0?o=0:o>n&&(o=n),i<0?i=0:i>r&&(i=r),this.refs.$drag_pointer.px("left",o),this.refs.$drag_pointer.px("top",i),this.drag_pointer_pos={x:o,y:i},this.calculateSV()}},{key:Wo("changeColor","initColor"),value:function(){this.refresh()}},{key:Or("document"),value:function(t){this.isDown&&(this.isDown=!1,this.setMainColor(t))}},{key:kr("document"),value:function(t){this.isDown&&this.setMainColor(t)}},{key:wr(),value:function(t){this.isDown=!0}}])&&wy(n.prototype,r),o&&wy(n,o),e}(Uo);function Py(t){return(Py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ey(t,e){return!e||"object"!==Py(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _y(t){return(_y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cy(t,e){return(Cy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ty=function(t){function e(){return xy(this,e),Ey(this,_y(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cy(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n      <div class=\'colorpicker-body\'>\n        <Palette />\n        <div class="control">\n            <Hue />\n            <Opacity />\n            <div class="empty"></div>\n            <ColorView />\n        </div>\n        <Information />\n        <CurrentColorSets />\n        <ColorSetsChooser />\n        <ContextMenu />\n      </div>\n    '}},{key:"components",value:function(){return{Hue:by,Opacity:pp,ColorView:gp,Palette:Sy,Information:Ap,CurrentColorSets:Zp,ColorSetsChooser:Hp,ContextMenu:ry}}}])&&$y(n.prototype,r),o&&$y(n,o),e}(If);function Ry(t){return(Ry="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ay(t,e){return!e||"object"!==Ry(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Iy(t){return(Iy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ly(t,e){return(Ly=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var My=function(t){function e(){return Dy(this,e),Ay(this,Iy(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ly(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <Palette />\n                <div class=\"control\">\n                    <Hue />\n                    <Opacity />\n                </div>\n            </div>\n        "}},{key:"components",value:function(){return{Hue:by,Opacity:pp,Palette:Sy}}}])&&Vy(n.prototype,r),o&&Vy(n,o),e}(If);function zy(t){return(zy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function By(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gy(t,e){return!e||"object"!==zy(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hy(t){return(Hy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xy(t,e){return(Xy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yy=function(t){function e(){return By(this,e),Gy(this,Hy(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xy(t,e)}(e,t),n=e,(r=[{key:"getMaxDist",value:function(){return this.refs.$container.height()}},{key:"setMousePosition",value:function(t){this.refs.$bar.px("top",t)}},{key:"getMousePosition",value:function(t){return Xr.pos(t).pageY}},{key:"getMinPosition",value:function(){return this.refs.$container.offset().top}},{key:"getCalculatedDist",value:function(t){var e=t?this.getMousePosition(t):this.getCurrent(this.getDefaultValue()/this.state.maxValue);return 100-this.getDist(e)}},{key:"setColorUI",value:function(t){(t=t||this.getDefaultValue())<=this.minValue?this.refs.$bar.addClass("first").removeClass("last"):t>=this.maxValue?this.refs.$bar.addClass("last").removeClass("first"):this.refs.$bar.removeClass("last").removeClass("first");var e=1-(t||0)/this.state.maxValue;this.setMousePosition(this.getMaxDist()*e)}}])&&Fy(n.prototype,r),o&&Fy(n,o),e}(Uf);function Ny(t){return(Ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ky(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uy(t,e){return!e||"object"!==Ny(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zy(t,e,n){return(Zy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qy(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function qy(t){return(qy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jy(t,e){return(Jy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qy=function(t){function e(){return Ky(this,e),Uy(this,qy(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jy(t,e)}(e,t),n=e,(r=[{key:"initialize",value:function(){Zy(qy(e.prototype),"initialize",this).call(this),this.minValue=0,this.maxValue=360}},{key:"template",value:function(){return'\n            <div class="hue">\n                <div ref="$container" class="hue-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"getDefaultValue",value:function(){return this.parent.hsv.h}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({h:e/100*this.maxValue,type:"hsv"})}}])&&Wy(n.prototype,r),o&&Wy(n,o),e}(Yy);function th(t){return(th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ih(t,e){return!e||"object"!==th(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ah(t,e,n){return(ah="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ch(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ch(t){return(ch=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uh(t,e){return(uh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var sh=function(t){function e(){return rh(this,e),ih(this,ch(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uh(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n        <div class="opacity">\n            <div ref="$container" class="opacity-container">\n                <div ref="$colorbar" class="color-bar"></div>\n                <div ref="$bar" class="drag-bar2"></div>\n            </div>\n        </div>\n        '}},{key:"refresh",value:function(){ah(ch(e.prototype),"refresh",this).call(this),this.setOpacityColorBar()}},{key:"setOpacityColorBar",value:function(){var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eh(Object(n),!0).forEach((function(e){nh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.parent.rgb);t.a=0;var e=Rn.format(t,"rgb");t.a=1;var n=Rn.format(t,"rgb");this.refs.$colorbar.css("background","linear-gradient(to top, "+e+", "+n+")")}},{key:"getDefaultValue",value:function(){return this.parent.alpha}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({a:Math.floor(e)/100*this.maxValue})}}])&&oh(n.prototype,r),o&&oh(n,o),e}(Yy);function lh(t){return(lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ph(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yh(t,e){return!e||"object"!==lh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hh(t){return(hh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dh(t,e){return(dh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vh=function(t){function e(){return fh(this,e),yh(this,hh(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dh(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <Palette /><div class=\"control\"><Hue /><Opacity /></div>\n            </div>\n        "}},{key:"components",value:function(){return{Hue:Qy,Opacity:sh,Palette:Sy}}}])&&ph(n.prototype,r),o&&ph(n,o),e}(If);function bh(t){return(bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wh(t,e){return!e||"object"!==bh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kh(t,e,n){return(kh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Oh(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Oh(t){return(Oh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jh(t,e){return(jh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Sh=function(t){function e(){return mh(this,e),wh(this,Oh(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jh(t,e)}(e,t),n=e,(r=[{key:"initialize",value:function(){kh(Oh(e.prototype),"initialize",this).call(this),this.width=214,this.height=214,this.thinkness=16,this.half_thinkness=this.thinkness/2}},{key:"template",value:function(){return'<div class="wheel" data-type="ring">\n            <canvas class="wheel-canvas" ref="$colorwheel" ></canvas>\n            <div class="drag-pointer" ref="$drag_pointer"></div>\n        </div>'}},{key:"setColorUI",value:function(t){this.renderCanvas(),this.setHueColor(null,t)}},{key:"getDefaultValue",value:function(){return this.parent.hsv.h}},{key:"setHueColor",value:function(t,e){var n=this.getRectangle(),r=n.minX,o=n.minY,i=n.radius,a=n.centerX,c=n.centerY,u=this.getCurrentXY(t,this.getDefaultValue(),i,a,c),s=X((f=u.x)-a,(p=u.y)-c),l=this.getCurrentXY(null,s,i-this.half_thinkness,a,c),f=l.x,p=l.y;this.refs.$drag_pointer.px("left",f-r),this.refs.$drag_pointer.px("top",p-o),e||(this.changeColor({type:"hsv",h:s}),this.emit("changeColor"))}}])&&gh(n.prototype,r),o&&gh(n,o),e}(Ep);function Ph(t){return(Ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eh(t,e){return!e||"object"!==Ph(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _h(t){return(_h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ch(t,e){return(Ch=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Th=function(t){function e(){return xh(this,e),Eh(this,_h(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ch(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <ColorRing />\n                <Palette />\n                <div class="control">\n                    <Value />\n                    <Opacity />\n                    <div class="empty"></div>\n                    <ColorView />\n                </div>\n                <Information />\n                <CurrentColorSets />\n                <ColorSetsChooser />\n                <ContextMenu />\n            </div>\n        '}},{key:"components",value:function(){return{Value:np,Opacity:pp,ColorView:gp,ColorRing:Sh,Palette:Sy,Information:Ap,CurrentColorSets:Zp,ColorSetsChooser:Hp,ContextMenu:ry}}}])&&$h(n.prototype,r),o&&$h(n,o),e}(If);function Rh(t){return(Rh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ah(t,e){return!e||"object"!==Rh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ih(t){return(Ih=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Lh(t,e){return(Lh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mh=function(t){function e(){return Dh(this,e),Ah(this,Ih(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lh(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <palette />\n                <div class=\"control\">\n                    <Hue />\n                    <Opacity />\n                </div>\n                <information />\n                <currentColorSets />\n                <colorSetsChooser />\n                <contextMenu />\n            </div>\n        "}},{key:"components",value:function(){return{Hue:Qy,Opacity:sh,Palette:Sy,Information:Ap,CurrentColorSets:Zp,ColorSetsChooser:Hp,ContextMenu:ry}}}])&&Vh(n.prototype,r),o&&Vh(n,o),e}(If);function zh(t){return(zh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gh(t,e){return!e||"object"!==zh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hh(t){return(Hh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xh(t,e){return(Xh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yh=function(t){function e(){return Bh(this,e),Gh(this,Hh(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xh(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <div class='color-tab' ref=\"$tab\">\n                    <div class='color-tab-header' ref=\"$tabHeader\">\n                        <div class='color-tab-item active' item-id=\"color\"><span >".concat(this.opt.tabTitle,'</span> Color</div>\n                        <div class=\'color-tab-item\' item-id="swatch">Swatch</div>\n                        <div class=\'color-tab-item\' item-id="colorset">Color Set</div>\n                    </div>\n                    <div class=\'color-tab-body\' ref="$tabBody">\n                        <div class=\'color-tab-content active\'  item-id="color">\n                            <ColorRing />\n                            <Palette />\n                            <div class="control">\n                                <Value />\n                                <Opacity />\n                                <div class="empty"></div>\n                                <ColorView />\n                            </div>\n                            <Information />\n                        </div>\n                        <div class=\'color-tab-content\' item-id="swatch">\n                            <CurrentColorSets />\n                            <ContextMenu />\n                        </div>\n                        <div class=\'color-tab-content\' item-id="colorset">\n                            <ColorSetsChooser />\n                        </div>                        \n                    </div>\n            </div>\n        ')}},{key:er("$tabHeader .color-tab-item"),value:function(t,e){if(!e.hasClass("active")){var n;(n=this.refs.$tabHeader.$(".active"))&&n.removeClass("active"),e.addClass("active"),(n=this.refs.$tabBody.$(".active"))&&n.removeClass("active");var r=this.refs.$tabBody.$("[item-id='".concat(e.attr("item-id"),"']"));r&&r.addClass("active")}}},{key:"components",value:function(){return{Value:np,Opacity:pp,ColorView:gp,ColorRing:Sh,Palette:Sy,Information:Ap,CurrentColorSets:Zp,ColorSetsChooser:Hp,ContextMenu:ry}}}])&&Fh(n.prototype,r),o&&Fh(n,o),e}(If);function Nh(t){return(Nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uh(t,e){return!e||"object"!==Nh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zh(t){return(Zh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qh(t,e){return(qh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Jh=function(t){function e(){return Kh(this,e),Uh(this,Zh(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qh(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <div class='color-tab xd' ref=\"$tab\">\n                    <div class='color-tab-header' ref=\"$tabHeader\">\n                        <div class='color-tab-item active' item-id=\"color\"><span >".concat(this.opt.tabTitle,'</span> Color</div>\n                        <div class=\'color-tab-item\' item-id="swatch">Swatch</div>\n                        <div class=\'color-tab-item\' item-id="colorset">Color Set</div>\n                    </div>\n                    <div class=\'color-tab-body\' ref="$tabBody">\n                        <div class=\'color-tab-content active\'  item-id="color">\n                            <palette />\n                            <div class="control">\n                                <Hue />\n                                <Opacity />\n                            </div>\n                            <information />\n                        </div>\n                        <div class=\'color-tab-content\' item-id="swatch">\n                            <CurrentColorSets />\n                            <ContextMenu />\n                        </div>\n                        <div class=\'color-tab-content\' item-id="colorset">\n                            <ColorSetsChooser />\n                        </div>                        \n                    </div>\n\n            </div>\n        ')}},{key:er("$tabHeader .color-tab-item"),value:function(t,e){if(!e.hasClass("active")){var n;(n=this.refs.$tabHeader.$(".active"))&&n.removeClass("active"),e.addClass("active"),(n=this.refs.$tabBody.$(".active"))&&n.removeClass("active");var r=this.refs.$tabBody.$("[item-id='".concat(e.attr("item-id"),"']"));r&&r.addClass("active")}}},{key:"components",value:function(){return{Hue:Qy,Opacity:sh,Palette:Sy,Information:Ap,CurrentColorSets:Zp,ColorSetsChooser:Hp,ContextMenu:ry}}}])&&Wh(n.prototype,r),o&&Wh(n,o),e}(If),Qh={create:function(t){switch(t.type){case"macos":return new ly(t);case"xd":return new Mh(t);case"xd-tab":return new Jh(t);case"ring":return new Th(t);case"ring-tab":return new Yh(t);case"mini":return new My(t);case"mini-vertical":return new vh(t);case"sketch":case"palette":default:return new Ty(t)}},ColorPicker:Ty,ChromeDevToolColorPicker:Ty,MacOSColorPicker:ly,RingColorPicker:Th,MiniColorPicker:My,MiniVerticalColorPicker:vh,XDColorPicker:Mh};function td(t){return(td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ed(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function nd(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function rd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function od(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rd(Object(n),!0).forEach((function(e){id(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function id(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ad(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ud(t,e){return!e||"object"!==td(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sd(t,e,n){return(sd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ld(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ld(t){return(ld=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fd(t,e){return(fd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pd=/((matrix|translate(X|Y|Z|3d)?|scale(X|Y|Z|3d)?|rotate(X|Y|Z|3d)?|skew(X|Y)|matrix(3d)?|perspective)\(([^\)]*)\))/gi,yd=function(t){function e(){return ad(this,e),ud(this,ld(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fd(t,e)}(e,t),n=e,o=[{key:"join",value:function(t){var n=t.filter((function(t){return"perspective"===t.type})),r=t.filter((function(t){return"matrix3d"===t.type})),o=t.filter((function(t){return"perspective"!==t.type&&"matrix3d"!==t.type}));return[].concat(nd(n),nd(o),nd(r)).map((function(t){return new e(t).toString()})).join(" ")}},{key:"parse",value:function(t){return new e(t)}},{key:"remove",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return re(n)&&(n=[n]),e.filter(t,(function(t){return!1===n.includes(t.type)}))}},{key:"filter",value:function(t,n){return e.join(e.parseStyle(t).filter((function(t){return n(t)})))}},{key:"replace",value:function(t,n){var r=e.parseStyle(t),o=r.find((function(t){return t.type===n.type}));return o?o.value=n.value:r.push(n),e.join(r)}},{key:"replaceAll",value:function(t,n){for(var r=e.parseStyle(t),o=e.parseStyle(n),i=0,a=o.length;i<a;i++){var c=o[i],u=r.find((function(t){return t.type===c.type}));u?u.value=c.value:r.push(c)}return e.join(r)}},{key:"addTransform",value:function(t,n){for(var r=e.parseStyle(t),o=e.parseStyle(n),i=0,a=o.length;i<a;i++){var c=o[i],u=r.find((function(t){return t.type===c.type}));u?c.value.forEach((function(t,e){u.value[e].value+=t.value})):r.push(c)}return e.join(r)}},{key:"get",value:function(t,n){var r=e.parseStyle(t);return(r=ae(n)?r.find(n):r.find((function(t){return t.type===n})))?r.value:[]}},{key:"rotate",value:function(t,n){return e.replace(t,{type:"rotate",value:[n]})}},{key:"parseStyle",value:function(t){var n=[];return t?((t.match(pd)||[]).forEach((function(t,r){var o=ed(t.split("("),2),i=o[0],a=o[1],c=(a=a.split(")")[0]).split(",");c=a.includes("matrix")||a.includes("scale")?c.map((function(t){return $.number(t.trim())})):c.map((function(t){return $.parse(t.trim())})),n[r]=e.parse({type:i,value:c})})),n):n}},{key:"getTransform",value:function(t,e){var n=ed(t[0][(x1,y1)]=t[1][(x2,y2)]=t[2][(x3,y3)]=t[3][(u0,v0)]=e[0][(u1,v1)]=e[1][(u2,v2)]=e[2][(u3,v3)]=e[3],2);x0=n[0],y0=n[1];for(var r=[[x0,y0,1,0,0,0,-u0*x0,-u0*y0],[0,0,0,x0,y0,1,-v0*x0,-v0*y0],[x1,y1,1,0,0,0,-u1*x1,-u1*y1],[0,0,0,x1,y1,1,-v1*x1,-v1*y1],[x2,y2,1,0,0,0,-u2*x2,-u2*y2],[0,0,0,x2,y2,1,-v2*x2,-v2*y2],[x3,y3,1,0,0,0,-u3*x3,-u3*y3],[0,0,0,x3,y3,1,-v3*x3,-v3*y3]],o=[u0,v0,u1,v1,u2,v2,u3,v3],i=[],a=0;a<8;a++){var c=r[0];i.push(c[0]*o[0]+c[1]*o[1]+c[2]*o[2]+c[3]*o[3]+c[4]*o[4]+c[5]*o[5]+c[6]*o[6]+c[7]*o[7])}return[[i[0],i[1],0,i[2]],[i[3],i[4],0,i[5]],[0,0,1,0],[i[6],i[7],0,1]]}},{key:"makeTransform3d",value:function(t,n){var r=[],o=[];t.forEach((function(e){var n=ed(e,2),o=n[0],i=n[1];r.push(o-t[0][0],i-t[0][1])})),n.forEach((function(e){var n=ed(e,2),r=n[0],i=n[1];o.push(r-t[0][0],i-t[0][1])}));var i=e.getTransform(r,o),a=[];i.forEach((function(t){t.forEach((function(t){a.push(t)}))}));var c=a.join(", ");return"matrix3d(".concat(c,")")}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sd(ld(e.prototype),"getDefaultObject",this).call(this,od({itemType:"transform",type:"",value:[]},t))}},{key:"toCloneObject",value:function(){return od({},sd(ld(e.prototype),"toCloneObject",this).call(this),{value:JSON.parse(JSON.stringify(this.json.value))})}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value.join(", ")||"",")")}},{key:"convert",value:function(t){return(t=sd(ld(e.prototype),"convert",this).call(this,t)).type.includes("matrix")||t.type.includes("scale")?t.value=t.value.map((function(t){return $.number(t)})):t.value=t.value.map((function(t){return $.parse(t)})),t}},{key:"hasNumberValue",value:function(){var t=this.json.type;return t.includes("matrix")||t.includes("scale")}}])&&cd(n.prototype,r),o&&cd(n,o),e}(ac);function hd(t){return(hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function vd(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function bd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function md(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bd(Object(n),!0).forEach((function(e){gd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Od(t,e){return!e||"object"!==hd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jd(t,e,n){return(jd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Sd(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Sd(t){return(Sd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pd(t,e){return(Pd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xd=function(t){function e(){return wd(this,e),Od(this,Sd(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pd(t,e)}(e,t),n=e,(r=[{key:"toCloneObject",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return md({},jd(Sd(e.prototype),"toCloneObject",this).call(this,t),{x:this.json.x+"",y:this.json.y+"",width:this.json.width+"",height:this.json.height+"",screenX:this.screenX,screenY:this.screenY,screenWidth:this.screenWidth,screenHeight:this.screenHeight})}},{key:"convert",value:function(t){return(t=jd(Sd(e.prototype),"convert",this).call(this,t)).x=$.parse(t.x),t.y=$.parse(t.y),t.width=$.parse(t.width),t.height=$.parse(t.height),t}},{key:"setScreenX",value:function(t){var e=0;this.isChild&&(e=this.json.parent.screenX.value),this.json.x.set(t-e),this.changed()}},{key:"setScreenX2",value:function(t){var e=0;this.isChild&&(e=this.json.parent.screenX.value),this.json.x.set(t-this.json.width.value-e+1),this.changed()}},{key:"setScreenY2",value:function(t){var e=0;this.isChild&&(e=this.json.parent.screenY.value),this.json.y.set(t-this.json.height.value-e+1),this.changed()}},{key:"setScreenXCenter",value:function(t){var e=0;this.isChild&&(e=this.json.parent.screenX.value),this.json.x.set(t-this.json.width.value/2-e+1),this.changed()}},{key:"setScreenYMiddle",value:function(t){var e=0;this.isChild&&(e=this.json.parent.screenY.value),this.json.y.set(t-this.json.height.value/2-e+1),this.changed()}},{key:"setScreenY",value:function(t){var e=0;this.isChild&&(e=this.json.parent.screenY.value),this.json.y.set(t-e),this.changed()}},{key:"checkInArea",value:function(t){return!(t.x2.value<this.screenX.value||t.y2.value<this.screenY.value||t.x.value>this.screenX2.value||t.y.value>this.screenY2.value)}},{key:"toBoundCSS",value:function(){var t=this.json,e=t.x;return{top:t.y,left:e,width:t.width,height:t.height,transform:t.transform,"transform-origin":t["transform-origin"]}}},{key:"move",value:function(t,e){return this.reset({x:t,y:e}),this}},{key:"moveX",value:function(t){return this.reset({x:t}),this}},{key:"moveY",value:function(t){return this.reset({y:t}),this}},{key:"resize",value:function(t,e){return t.value>=0&&e.value>=0&&this.reset({width:t,height:e}),this}},{key:"resizeWidth",value:function(t){return t.value>=0&&this.reset({width:t}),this}},{key:"resizeHeight",value:function(t){return t.value>=0&&this.reset({height:t}),this}},{key:"getTransform",value:function(t){var e=yd.parseStyle(Nn.create(t).css("transform")),n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];if(!e.length)return{rotate:{x:0,y:0,z:0},translate:{x:0,y:0,z:0}};var r,o,i=(n=e[0].value.map((function(t){return+t})))[0],a=(n[1],n[2]),c=(n[3],n[4]),u=n[5],s=(n[6],n[7],n[8]),l=n[9],f=n[10],p=(n[11],n[12]),y=n[13],h=n[14],d=(n[15],Math.asin(-s));return 0!==Math.cos(d)?(r=Math.atan2(l,f),o=Math.atan2(c,i)):(r=Math.atan2(a,u),o=0),{rotate:{x:r,y:d,z:o},translate:{x:p,y:y,z:h}}}},{key:"verties",value:function(t,e){for(var n=t.offsetRect(),r=n.height,o=n.width/2,i=r/2,a={a:{x:-o,y:-i,z:0},b:{x:o,y:-i,z:0},c:{x:o,y:i,z:0},d:{x:-o,y:i,z:0}},c=this.getTransform(t.el);t.el&&(c=this.getTransform(t.el),a.a=A.addVector(A.rotateVector(a.a,c.rotate),c.translate),a.b=A.addVector(A.rotateVector(a.b,c.rotate),c.translate),a.c=A.addVector(A.rotateVector(a.c,c.rotate),c.translate),a.d=A.addVector(A.rotateVector(a.d,c.rotate),c.translate),(t=t.parent()).el!==e););return a}},{key:"checkInAreaForLayers",value:function(t){var e=[];return this.layers.forEach((function(n){e.push.apply(e,vd(n.checkInAreaForLayers(t))),n.checkInArea(t)&&e.push(n)})),e}},{key:"getIndex",value:function(){for(var t=this.json.parent.layers,e=-1,n=0,r=t.length;n<r;n++)if(t[n]===this.ref){e=n;break}return e}},{key:"setOrder",value:function(t){var e=this.json.parent,n=this.getIndex();n>-1&&(e.layers[n]=e.layers[t],e.layers[t]=this.ref)}},{key:"next",value:function(){if(this.isLast())return this.ref;var t=this.getIndex();return this.json.parent.layers[t+1]}},{key:"prev",value:function(){if(this.isFirst())return this.ref;var t=this.getIndex();return this.json.parent.layers[t-1]}},{key:"orderNext",value:function(){if(this.isLast()){if(this.json.parent.is("artboard"))return;this.json.parent.next().add(this,"prepend")}else{var t=this.getIndex();t>-1&&this.setOrder(t+1)}}},{key:"isFirst",value:function(){return 0===this.getIndex()}},{key:"isLast",value:function(){return this.getIndex()===this.json.parent.layers.length-1}},{key:"orderPrev",value:function(){if(this.isFirst()){if(this.json.parent.is("artboard"))return;this.json.parent.prev().add(this)}else{var t=this.getIndex();t>0&&this.setOrder(t-1)}}},{key:"orderFirst",value:function(){this.setOrder(0)}},{key:"orderLast",value:function(){this.setOrder(this.json.parent.layers.length-1)}},{key:"orderTop",value:function(){}},{key:"orderBottom",value:function(){}},{key:"isAbsolute",get:function(){return"absolute"===this.json.position}},{key:"isRelative",get:function(){return"relative"===this.json.position}},{key:"isChild",get:function(){return!(!this.json.parent||!1!==this.json.parent.is("project")||!this.isAbsolute)}},{key:"screenX",get:function(){return this.isChild?$.px(this.json.parent.screenX.value+this.json.x.value):this.json.x||$.z()}},{key:"screenY",get:function(){return this.isChild?$.px(this.json.parent.screenY.value+this.json.y.value):this.json.y||$.z()}},{key:"screenX2",get:function(){return $.px(this.screenX.value+this.json.width.value)}},{key:"screenY2",get:function(){return $.px(this.screenY.value+this.json.height.value)}},{key:"screenWidth",get:function(){return this.json.width}},{key:"screenHeight",get:function(){return this.json.height}},{key:"screenRect",get:function(){return{left:this.screenX,top:this.screenY,width:this.screenWidth,height:this.screenHeight}}},{key:"centerX",get:function(){var t=0;return 0!=this.json.width.value&&(t=Math.floor(this.json.width.value/2)),$.px(this.screenX.value+t)}},{key:"centerY",get:function(){var t=0;return 0!=this.json.height.value&&(t=Math.floor(this.json.height.value/2)),$.px(this.screenY.value+t)}},{key:"transformOrigin",get:function(){var t=dd((this.json["transform-origin"]||"50% 50%").split(" ").map((function(t){return $.parse(t||"50%")})),2),e=t[0],n=t[1];return{left:e=e.toPx(this.screenWidth.value),top:n=n.toPx(this.screenHeight.value)}}},{key:"screenTransform",get:function(){return yd.addTransform(this.json.parent.screenTransform,this.json.transform)}}])&&kd(n.prototype,r),o&&kd(n,o),e}(fi);function $d(t){return($d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ed(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cd(t,e){return!e||"object"!==$d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Td(t){return(Td=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rd(t,e){return(Rd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Dd=["flex","grid"],Vd=function(t){function e(){return Ed(this,e),Cd(this,Td(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rd(t,e)}(e,t),n=e,(r=[{key:"isLayoutItem",value:function(){return Dd.includes(this.parent.layout)}},{key:"hasLayout",value:function(){return Dd.includes(this.json.layout)}},{key:"isInGrid",value:function(){return!!this.isLayoutItem()&&"grid"===this.parent.layout}},{key:"isInFlex",value:function(){return!!this.isLayoutItem()&&"flex"===this.parent.layout}},{key:"isGroup",get:function(){return Boolean(this.layers.length)}}])&&_d(n.prototype,r),o&&_d(n,o),e}(xd);function Ad(t){return(Ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Id(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ld(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Id(Object(n),!0).forEach((function(e){Md(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Id(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Md(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fd(t,e){return!e||"object"!==Ad(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gd(t,e,n){return(Gd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hd(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Hd(t){return(Hd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xd(t,e){return(Xd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yd=function(t){function e(){return zd(this,e),Fd(this,Hd(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xd(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new e(t)}}],(r=[{key:"getDefaultObject",value:function(t){return Gd(Hd(e.prototype),"getDefaultObject",this).call(this,Ld({itemType:"selector",selector:"",properties:[]},t))}},{key:"toCloneObject",value:function(){return Ld({},Gd(Hd(e.prototype),"toCloneObject",this).call(this),{selector:this.json.selector,properties:this.json.properties.map((function(t){return ue(t)}))})}},{key:"isMultiStyle",value:function(t){switch(t){case"background-image":case"var":return!0}return!1}},{key:"getMultiStyleString",value:function(t){switch(t.key){case"background-image":return t.value.toString()+";"}return t.value.toString()+" !important;"}},{key:"toPropertyString",value:function(){var t=this;return this.json.properties.map((function(e){if(t.isMultiStyle(e.key))return t.getMultiStyleString(e);var n=e.value.toString();if(n){var r=e.key;return"x"===r?r="left":"y"===r&&(r="top"),"".concat(r,": ").concat(n," !important;")}return""})).join("\n")}},{key:"toCSSText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(t).concat(this.json.selector," {\n    ").concat(this.toPropertyString(),"\n}")}},{key:"toCSS",value:function(){return{}}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.toCSSText(t)}}])&&Bd(n.prototype,r),o&&Bd(n,o),e}(ac);function Nd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Kd=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"parse",value:function(t){var e=t.split(" ").filter((function(t){return t.trim()})).map((function(t){return $.parse(t)})),n=$.percent(0),r=$.percent(0),o=$.percent(0),i=$.percent(0);return 1===e.length?(n=e[0].clone(),r=e[0].clone(),o=e[0].clone(),i=e[0].clone()):2===e.length?(n=e[0].clone(),r=e[1].clone(),o=e[0].clone(),i=e[1].clone()):3===e.length?(n=e[0].clone(),r=e[1].clone(),o=e[2].clone(),i=e[1].clone()):4===e.length&&(n=e[0].clone(),r=e[1].clone(),o=e[2].clone(),i=e[3].clone()),[e.length,n,r,o,i]}}],(n=null)&&Nd(e.prototype,n),r&&Nd(e,r),t}();function Wd(t){return(Wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ud(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Zd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zd(Object(n),!0).forEach((function(e){Jd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Jd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ev(t,e){return!e||"object"!==Wd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nv(t,e,n){return(nv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rv(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function rv(t){return(rv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ov(t,e){return(ov=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var iv=/(content\-box|padding\-box|border\-box|margin\-box|view\-box|stroke\-box|fill\-box|none|(inset|circle|ellipse|polygon|path|svg|url)(\(([^\)]*)\))?)/gi,av=function(t){function e(){return Qd(this,e),ev(this,rv(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ov(t,e)}(e,t),n=e,o=[{key:"toCSS",value:function(t){return new e(t).toCSS()}},{key:"toString",value:function(t){return e.toCSS(t)["clip-path"]}},{key:"parse",value:function(t){return new e(t)}},{key:"parseStyle",value:function(t){var e={};return t?((t.match(iv)||[]).forEach((function(t,n){if(t.includes("-box"))e.box=t;else{var r=Ud(t.split("("),2),o=r[0],i=r[1];i=i||"",i="none"===o?"":i.split(")")[0],e.type=o,e.value=i}})),e):{}}},{key:"parseStyleForCircle",value:function(t){var e=new $("","closest-side"),n="";if((t=t||"50%").includes("at")){var r=Ud(t.split("at").map((function(t){return t.trim()})),2);e=r[0],n=r[1]}else n=t.trim();var o=Ud(n.split(" "),2),i=o[0],a=o[1];return Qt(a)&&(a=i),{radius:e,x:i=$.parse(i),y:a=$.parse(a)}}},{key:"parseStyleForEllipse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"50% 50%",e="50% 50%",n="";if((t=t||"50%").includes("at")){var r=t.split("at").map((function(t){return t.trim()})),o=Ud(r,2);e=o[0],n=o[1]}else n=t.trim();var i=n.split(" "),a=Ud(i,2),c=a[0],u=a[1];Qt(u)&&(u=c),c=$.parse(c),u=$.parse(u);var s=e.split(" "),l=Ud(s,2),f=l[0],p=l[1];return Qt(p)&&(p=f),{radiusX:f=$.parse(f),radiusY:p=$.parse(p),x:c,y:u}}},{key:"parseStyleForInset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.split("round"),n=Ud(e,2),r=n[0],o=n[1],i=Kd.parse(r),a=Ud(i,5),c=a[0],u=a[1],s=a[2],l=a[3],f=a[4];if(o)var p=Kd.parse(o),y=Ud(p,5),h=y[0],d=y[1],v=y[2],b=y[3],m=y[4];return{isAll:1===c,top:u,right:s,bottom:l,left:f,round:o,isAllRadius:1===h,topRadius:d,rightRadius:v,bottomRadius:b,leftRadius:m}}},{key:"parseStyleForPolygon",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.split(",").filter((function(t){return t.trim()})).map((function(t){var e=Ud(t.trim().split(" "),2),n=e[0],r=e[1];return{x:$.parse(n),y:$.parse(r)}}))}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nv(rv(e.prototype),"getDefaultObject",this).call(this,qd({itemType:"clip-path",type:"none",value:""},t))}},{key:"toCloneObject",value:function(){return qd({},nv(rv(e.prototype),"toCloneObject",this).call(this),{value:this.json.value})}},{key:"toString",value:function(){var t=this.json.type,e=this.json.value,n=this.json.box,r="";switch(t){case"circle":case"inset":case"ellipse":case"polygon":case"path":r="".concat(t,"(").concat(e,")");break;case"svg":r="url(#".concat(e,")");break;default:r="none"}return n?"".concat(n," ").concat(r):r}},{key:"toCSS",value:function(){return{"clip-path":this.toString()}}}])&&tv(n.prototype,r),o&&tv(n,o),e}(ac);function cv(t){return(cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function sv(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function lv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lv(Object(n),!0).forEach((function(e){pv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dv(t,e){return!e||"object"!==cv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vv(t,e,n){return(vv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bv(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function bv(t){return(bv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mv(t,e){return(mv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gv=function(t){function e(){return yv(this,e),dv(this,bv(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mv(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return vv(bv(e.prototype),"getDefaultObject",this).call(this,fv({position:"absolute",x:$.z(),y:$.z(),right:"",bottom:"",rootVariable:"",variable:"",width:$.px(300),height:$.px(300),color:"black","font-size":$.px(13),overflow:"visible",rotate:$.deg(0),opacity:1,"z-index":$.auto,layout:"default","flex-layout":"display:flex;","grid-layout":"display:grid;",selectors:[],svg:[]},t))}},{key:"toCloneObject",value:function(){var t=this.json;return fv({},vv(bv(e.prototype),"toCloneObject",this).call(this),{position:t.position,right:t.right+"",bottom:t.bottom+"",rootVariable:t.rootVariable,variable:t.variable,transform:t.transform,filter:t.filter,"backdrop-filter":t["backdrop-filter"],"background-color":t["background-color"],"background-image":t["background-image"],"text-clip":t["text-clip"],"border-radius":t["border-radius"],border:t.border,"box-shadow":t["box-shadow"],"text-shadow":t["text-shadow"],"clip-path":t["clip-path"],color:t.color,"font-size":t["font-size"]+"","font-stretch":t["font-stretch"]+"","line-height":t["line-height"]+"","text-align":t["text-align"]+"","text-transform":t["text-transform"]+"","text-decoration":t["text-decoration"]+"","letter-spacing":t["letter-spacing"]+"","word-spacing":t["word-spacing"]+"","text-indent":t["text-indent"]+"","perspective-origin":t["perspective-origin"],"transform-origin":t["transform-origin"],"transform-style":t["transform-style"],perspective:t.perspective+"","mix-blend-mode":t["mix-blend-mode"],overflow:t.overflow,opacity:t.opacity||1,rotate:t.rotate,"flex-layout":t["flex-layout"],"grid-layout":t["grid-layout"],animation:t.animation,transition:t.transition,selectors:t.selectors.map((function(t){return t.clone()})),svg:t.svg.map((function(t){return t.clone()}))})}},{key:"convert",value:function(t){return t=vv(bv(e.prototype),"convert",this).call(this,t)}},{key:"addSelector",value:function(t){return this.json.selectors.push(t),t}},{key:"createSelector",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addSelector(new Yd(fv({checked:!0},t)))}},{key:"removePropertyList",value:function(t,e){t.splice(e,1)}},{key:"removeSelector",value:function(t){this.removePropertyList(this.json.selectors,t)}},{key:"enableHasChildren",value:function(){return!0}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(sv(t.splice(e,1))))}},{key:"updateSelector",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.selectors[+t].reset(e)}},{key:"setSize",value:function(t){this.reset(t)}},{key:"setBorder",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.json.border;if("all"===t)n?this.json.border={all:n}:["top","right","bottom","left"].forEach((function(t){delete e.json.border[t]}));else{if(r.all&&Qt(n)){var o=fv({},r.all);r.top=fv({},o),r.bottom=fv({},o),r.left=fv({},o),r.right=fv({},o)}r.all&&delete r.all,n&&(this.json.border[t]=n)}}},{key:"getBorder",value:function(t){return this.json.border[t]||{}}},{key:"setBorderRadius",value:function(t,e){this.json.borderRadius=e}},{key:"traverse",value:function(t,e,n){var r=this;t.isAttribute()||(n||!t.isLayoutItem()||t.isRootItem())&&(e.push(t),t.children.forEach((function(t){r.traverse(t,e)})))}},{key:"tree",value:function(t){var e=this,n=[];return this.children.forEach((function(r){e.traverse(r,n,t)})),n}},{key:"toPropertyCSS",value:function(t){var e={};return t.forEach((function(t){Wt(t.toCSS(),(function(t,n){e[t]||(e[t]=[]),e[t].push(n)}))})),le(e)}},{key:"toStringPropertyCSS",value:function(t){return ve(this.json[t])}},{key:"toBackgroundImageCSS",value:function(){var t=[];return dl.parseStyle(this.json.pattern).forEach((function(e){t.push.apply(t,sv(Bs.parseStyle(ve(e.toCSS()))))})),t.push.apply(t,sv(Bs.parseStyle(ve(this.json["background-image"])))),Bs.joinCSS(t)}},{key:"toLayoutCSS",value:function(){var t=this.json.layout;if(this.hasLayout()){if("flex"===t)return this.toFlexLayoutCSS();if("grid"===t)return this.toGridLayoutCSS()}return{}}},{key:"toLayoutItemCSS",value:function(){var t=this.json.parent.layout,e={};return"flex"===t?e={position:"relative",left:"auto !important",top:"auto !important"}:"grid"===t&&(e={position:"relative",left:"auto !important",top:"auto !important",width:"auto !important",height:"auto !important"}),"flex"===t?e=fv({},e,{},ve(this.json["flex-layout-item"])):"grid"===t&&(e=fv({},e,{},ve(this.json["grid-layout-item"]))),e}},{key:"toFlexLayoutCSS",value:function(){return fv({display:"flex"},this.toStringPropertyCSS("flex-layout"))}},{key:"toGridLayoutCSS",value:function(){return fv({display:"grid"},this.toStringPropertyCSS("grid-layout"))}},{key:"toBorderCSS",value:function(){return this.toStringPropertyCSS("border")}},{key:"toKeyCSS",value:function(t){return this.json[t]?pv({},t,this.json[t]):{}}},{key:"toAnimationKeyframes",value:function(t){return[{selector:'[data-id="'.concat(this.json.id,'"]'),properties:t}]}},{key:"toString",value:function(){return de(this.toCSS())}},{key:"toExport",value:function(){return de(this.toCSS(!0))}},{key:"toExportSVGCode",value:function(){return""}},{key:"toBoxModelCSS",value:function(){var t=this.json,e={};return t["margin-top"]&&(e["margin-top"]=t["margin-top"]),t["margin-bottom"]&&(e["margin-bottom"]=t["margin-bottom"]),t["margin-left"]&&(e["margin-left"]=t["margin-left"]),t["margin-right"]&&(e["margin-right"]=t["margin-right"]),t["padding-top"]&&(e["padding-top"]=t["padding-top"]),t["padding-bottom"]&&(e["padding-bottom"]=t["padding-bottom"]),t["padding-left"]&&(e["padding-left"]=t["padding-left"]),t["padding-right"]&&(e["padding-right"]=t["padding-right"]),e}},{key:"toKeyListCSS",value:function(){for(var t=this.json,e={},n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r.filter((function(e){return te(t[e])})).forEach((function(n){e[n]=t[n]})),e}},{key:"toDefaultCSS",value:function(){var t={};return this.isAbsolute&&(this.json.x&&(t.left=this.json.x),this.json.y&&(t.top=this.json.y)),t.visibility=this.json.visible?"visible":"hidden",fv({},t,{},this.toKeyListCSS("position","right","bottom","width","height","overflow","z-index","box-sizing","background-color","color","opacity","mix-blend-mode","transform-origin","transform-style","perspective","perspective-origin","font-size","font-stretch","line-height","font-weight","font-family","font-style","text-align","text-transform","text-decoration","letter-spacing","word-spacing","text-indent","border-radius","filter","backdrop-filter","box-shadow","text-shadow","offset-path","animation","transition"))}},{key:"toDefaultSVGCSS",value:function(){return fv({},{overflow:"visible"},{},this.toKeyListCSS("font-size","font-stretch","line-height","font-weight","font-family","font-style","text-align","text-transform","text-decoration","letter-spacing","word-spacing","text-indent"))}},{key:"toVariableCSS",value:function(){var t={};return this.json.variable.split(";").filter((function(t){return t.trim()})).forEach((function(e){var n=uv(e.split(":"),2),r=n[0],o=n[1];t["--".concat(r)]=o})),t}},{key:"toRootVariableCSS",value:function(){var t={};return this.json.rootVariable.split(";").filter((function(t){return t.trim()})).forEach((function(e){var n=uv(e.split(":"),2),r=n[0],o=n[1];t["--".concat(r)]=o})),t}},{key:"toRootVariableString",value:function(){return de(this.toRootVariableCSS())}},{key:"toWebkitCSS",value:function(){var t=this.toKeyListCSS("text-fill-color","text-stroke-color","text-stroke-width","background-clip"),e={};return Wt(t,(function(t,n){e["-webkit-".concat(t)]=n})),e}},{key:"toTextClipCSS",value:function(){var t={};return"text"===this.json["text-clip"]&&(t["-webkit-background-clip"]="text",t["-webkit-text-fill-color"]="transparent",t.color="transparent"),t}},{key:"toTransformCSS",value:function(){var t=[this.json.transform,this.json.rotate].join(":::");return t!=this._transformCacheKey&&(this._transformCache=yd.rotate(this.json.transform,this.json.rotate),this._transformCacheKey=t),{transform:this._transformCache}}},{key:"toClipPathCSS",value:function(){var t=this.json["clip-path"];switch(av.parseStyle(t).type){case"path":case"svg":t="url(#".concat(this.clipPathId,")")}return{"clip-path":t}}},{key:"toCSS",value:function(){return Object.assign({},this.toVariableCSS(),this.toDefaultCSS(),this.toClipPathCSS(),this.toWebkitCSS(),this.toTextClipCSS(),this.toBoxModelCSS(),this.toBorderCSS(),this.toBackgroundImageCSS(),this.toLayoutCSS(),this.toTransformCSS(),this.toLayoutItemCSS())}},{key:"toSVGCSS",value:function(){return Object.assign({},this.toVariableCSS(),this.toDefaultSVGCSS(),this.toClipPathCSS(),this.toWebkitCSS(),this.toTextClipCSS(),this.toBoxModelCSS(),this.toBorderCSS(),this.toBackgroundImageCSS(),this.toLayoutCSS(),this.toTransformCSS(),this.toLayoutItemCSS())}},{key:"toSelectorString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.json.selectors.map((function(e){return e.toString(t)})).join("\n\n")}},{key:"toNestedCSS",value:function(t){return[]}},{key:"toNestedBoundCSS",value:function(t){return[]}},{key:"generateView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="\n".concat(t," {  /* ").concat(this.json.itemType," */\n    ").concat(de(this.toCSS(),"\n    "),"; \n    ").concat(e,"\n}\n").concat(this.toNestedCSS().map((function(e){return"".concat(t," ").concat(e.selector," { \n      ").concat(e.cssText?e.cssText:de(e.css||{},"\n\t\t"),"; \n  }")})).join("\n"),"\n").concat(this.toSelectorString(t),"\n");return n}},{key:"generateDragView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.generateView(t,e).replace(/background\-/gi,"");return n}},{key:"generateSVG",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t){var e=this.json.width.value,n=this.json.height.value;return'\n<svg width="'.concat(e,'" height="').concat(n,'" viewBox="0 0 ').concat(e," ").concat(n,'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink">\n  ').concat(this.rootSVG,"\n</svg>")}return this.svg}},{key:"wrapperRootSVG",value:function(t,e,n,r,o){return"\n    <g>\n      ".concat(this.toDefString,"\n      ").concat(o,"\n    </g>\n    ")}},{key:"toSVG",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.json,o=r.layers,i=r.width,a=r.height,c=r.elementType,u=c||"div",s=this.toCSS();return delete s.left,delete s.top,"absolute"===s.position&&delete s.position,n?this.wrapperRootSVG(t,e,i,a,'\n        <g transform="translate('.concat(t,", ").concat(e,')">      \n          <foreignObject ').concat(be({width:i.value,height:a.value}),'>\n            <div xmlns="http://www.w3.org/1999/xhtml">\n              <').concat(u,' style="').concat(de(s),'" ></').concat(u,">      \n            </div>\n          </foreignObject>    \n          ").concat(o.map((function(t){return t.svg})).join("\n\t"),"          \n        </g>\n\n      ")):"\n        ".concat(this.toDefString,'\n        <g transform="translate(').concat(t,", ").concat(e,')">\n          <foreignObject ').concat(be({width:i.value,height:a.value}),'>\n            <div xmlns="http://www.w3.org/1999/xhtml">\n              <').concat(u,' style="').concat(de(s),'" ></').concat(u,">      \n            </div>\n          </foreignObject>    \n          ").concat(o.map((function(t){return t.svg})).join("\n\t"),"                \n        </g>             \n     \n      ")}},{key:"toBound",value:function(){var t={x:this.json.x?this.json.x.clone():$.z(),y:this.json.y?this.json.y.clone():$.z(),width:this.json.width.clone(),height:this.json.height.clone()};return t.x2=$.px(t.x.value+t.width.value),t.y2=$.px(t.y.value+t.height.value),t}},{key:"updateFunction",value:function(t){var e=t.el.$svg;if(e||(t.el.$svg=t.$('[data-id="'.concat(this.innerSVGId,'"]')),e=t.el.$svg),e){var n=this.toDefInnerString.trim();n&&e.$("defs").html(n)}else{var r=this.toDefString.trim();if(r){var o=Nn.createByHTML(r);o&&t.prepend(o)}}}},{key:"html",get:function(){var t=this.json,e=t.elementType,n=t.id,r=t.name,o=t.layers,i=t.itemType,a=e||"div";return"<".concat(a,' class="').concat(me(pv({"element-item":!0},i,!0)),'" ').concat(be({"data-id":n,"data-title":r}),">\n    ").concat(this.toDefString,"\n  ").concat(o.map((function(t){return t.html})).join("\n\t"),"\n</").concat(a,">")}},{key:"svg",get:function(){var t=this.json,e=t.x,n=t.y;return e=e.value,n=n.value,this.toSVG(e,n)}},{key:"rootSVG",get:function(){return this.toSVG(0,0,!0)}},{key:"toDefInnerString",get:function(){return"\n      ".concat(this.toClipPath,"\n    ")}},{key:"toClipPath",get:function(){var t=av.parseStyle(this.json["clip-path"]),e=t.value;switch(t.type){case"path":return'<clipPath id="'.concat(this.clipPathId,'"><path d="').concat(e,'" /></clipPath>');case"svg":return'<clipPath id="'.concat(this.clipPathId,'">').concat(e,"</clipPath>")}return""}},{key:"innerSVGId",get:function(){return this.json.id+"inner-svg"}},{key:"toDefString",get:function(){var t=this.toDefInnerString.trim();return t?"\n    <svg class='inner-svg-element' data-id=\"".concat(this.innerSVGId,'" width="0" height="0">\n      <defs>\n        ').concat(t,"\n      </defs>\n    </svg>\n    "):""}},{key:"clipPathId",get:function(){return this.json.id+"clip-path"}}])&&hv(n.prototype,r),o&&hv(n,o),e}(Vd),wv='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 5v3c0 .55.45 1 1 1s1-.45 1-1V6c0-.55.45-1 1-1h2c.55 0 1-.45 1-1s-.45-1-1-1H5c-1.1 0-2 .9-2 2zm1 10c-.55 0-1 .45-1 1v3c0 1.1.9 2 2 2h3c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1-.45-1-1v-2c0-.55-.45-1-1-1zm15 3c0 .55-.45 1-1 1h-2c-.55 0-1 .45-1 1s.45 1 1 1h3c1.1 0 2-.9 2-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v2zm0-15h-3c-.55 0-1 .45-1 1s.45 1 1 1h2c.55 0 1 .45 1 1v2c0 .55.45 1 1 1s1-.45 1-1V5c0-1.1-.9-2-2-2z"/></svg>';function kv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ov(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jv=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kv(Object(n),!0).forEach((function(e){Ov(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},{fullscreen:wv},{arrow_right:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M10 17l5-5-5-5v10z"/>\n    </svg>\n',group:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"/>\n    </svg>\n',volume_down:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"/>\n    </svg>\n',arrowLeft:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M14 7l-5 5 5 5V7z"/></svg>',volume_up:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>\n</svg>',volume_off:'\n<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>\n</svg>\n',pentool:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <g transform="translate(4.000003875248012, 4.000001937624006)">\n        <path stroke="currentColor" d="M 7.501491970838878 -0.0000015572448855733659Q 14.336036333057622 7.389304433496911 15.674208571053226 11.025537025755131Q 17.012380809048864 14.661769618013372 12.854180922821438 14.544928811787997L 12.854180922821438 16.99999278410904L 3.2146550430021494 16.99999278410904L 3.2146550430021494 14.544928811787997Q -0.8480130988910353 14.661769618013372 0.22369613306813782 11.025537025755131Q 1.295405365027311 7.389304433496911 7.501491970838878 -0.0000015572448855733659Z M 7.501491970838878 -0.0000015572448855733659M 7.043097362212707 10.615180199186797L 7.043097362212707 2.029497238417552Q 2.4235653311211847 7.389304433496911 1.2143202542326725 11.099378313047254Q 0.22369613306813782 14.380813978493594 4.269842778971384 13.709709450113499L 4.269842778971384 16.233605781316655L 11.751764459057853 16.233605781316655L 11.751764459057853 13.709709450113499Q 15.84146041516868 14.140123940309786 14.670231046646997 10.775846698306177Q 14.195747591990225 9.593976493057127 8.077664264490855 2.029497238417552L 8.077664264490855 10.615180199186797L 7.043097362212707 10.615180199186797Z"/>\n    </g>\n</svg>',launch:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/>\n    </svg>',apps:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"/></svg>',outline_rect:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>\n    </svg>\n',outline_circle:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>\n    </svg>\n',keyboard:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"/></svg>',local_movie:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"/></svg>',same_height:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M4,4 L20,4Z M4,20 L20,20Z M10,8 L10,16 L14,16 L14,8Z" stroke-width="1" />\n</svg>\n',same_width:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M20,4 L20,20Z M2,4 L2,20Z M6,10 L16,10 L16,14 L6,14Z" stroke-width="1" />\n</svg>\n',middle:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M4,12 L20,12Z M10,8 L10,16 L14,16 L14,8Z" stroke-width="1" />\n</svg>\n',bottom:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M4,20 L20,20Z M10,8 L10,16 L14,16 L14,8Z" stroke-width="1" />\n</svg>\n',top:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M4,4 L20,4Z M10,8 L10,16 L14,16 L14,8Z" stroke-width="1" />\n</svg>\n',right:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M20,4 L20,20Z M6,10 L16,10 L16,14 L6,14Z" stroke-width="1" />\n</svg>\n',center:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M12,4 L12,20Z M6,10 L18,10 L18,14 L6,14Z" stroke-width="1" />\n</svg>\n',left:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M2,4 L2,20Z M6,10 L16,10 L16,14 L6,14Z" stroke-width="1" />\n</svg>\n',flag:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"/></svg>',lens:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/></svg>',local_library:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 11.55C9.64 9.35 6.48 8 3 8v11c3.48 0 6.64 1.35 9 3.55 2.36-2.19 5.52-3.55 9-3.55V8c-3.48 0-6.64 1.35-9 3.55zM12 8c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z"/></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"/></svg>',strikethrough:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><defs><path id="a" d="M0 0h24v24H0V0z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><path clip-path="url(#b)" d="M7.24 8.75c-.26-.48-.39-1.03-.39-1.67 0-.61.13-1.16.4-1.67.26-.5.63-.93 1.11-1.29.48-.35 1.05-.63 1.7-.83.66-.19 1.39-.29 2.18-.29.81 0 1.54.11 2.21.34.66.22 1.23.54 1.69.94.47.4.83.88 1.08 1.43.25.55.38 1.15.38 1.81h-3.01c0-.31-.05-.59-.15-.85-.09-.27-.24-.49-.44-.68-.2-.19-.45-.33-.75-.44-.3-.1-.66-.16-1.06-.16-.39 0-.74.04-1.03.13-.29.09-.53.21-.72.36-.19.16-.34.34-.44.55-.1.21-.15.43-.15.66 0 .48.25.88.74 1.21.38.25.77.48 1.41.7H7.39c-.05-.08-.11-.17-.15-.25zM21 12v-2H3v2h9.62c.18.07.4.14.55.2.37.17.66.34.87.51.21.17.35.36.43.57.07.2.11.43.11.69 0 .23-.05.45-.14.66-.09.2-.23.38-.42.53-.19.15-.42.26-.71.35-.29.08-.63.13-1.01.13-.43 0-.83-.04-1.18-.13s-.66-.23-.91-.42c-.25-.19-.45-.44-.59-.75-.14-.31-.25-.76-.25-1.21H6.4c0 .55.08 1.13.24 1.58.16.45.37.85.65 1.21.28.35.6.66.98.92.37.26.78.48 1.22.65.44.17.9.3 1.38.39.48.08.96.13 1.44.13.8 0 1.53-.09 2.18-.28s1.21-.45 1.67-.79c.46-.34.82-.77 1.07-1.27s.38-1.07.38-1.71c0-.6-.1-1.14-.31-1.61-.05-.11-.11-.23-.17-.33H21z"/></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/></svg>',cylinder:'\n<svg width="24" height="24" viewBox="0 0 24 24" version="1.1" style=\'transform:scale(0.8)\'>\n<g class="cylinder">\n<path d="M 12 0 C 7.636719 0 3 1.226562 3 3.5 L 3 20.5 C 3 22.773438 7.636719 24 12 24 C 16.363281 24 21 22.773438 21 20.5 L 21 3.5 C 21 1.226562 16.363281 0 12 0 Z M 20 19.121094 C 19.921875 19.140625 19.84375 19.171875 19.78125 19.230469 C 19.574219 19.414062 19.554688 19.726562 19.738281 19.933594 C 19.914062 20.128906 20 20.320312 20 20.5 C 20 21.542969 16.957031 23 12 23 C 7.042969 23 4 21.542969 4 20.5 C 4 20.320312 4.085938 20.128906 4.261719 19.933594 C 4.445312 19.726562 4.425781 19.410156 4.21875 19.226562 C 4.15625 19.171875 4.078125 19.140625 4 19.121094 L 4 5.160156 C 5.59375 6.363281 8.863281 7 12 7 C 15.136719 7 18.40625 6.363281 20 5.160156 Z M 12 6 C 7.042969 6 4 4.542969 4 3.5 C 4 2.457031 7.042969 1 12 1 C 16.957031 1 20 2.457031 20 3.5 C 20 4.542969 16.957031 6 12 6 Z M 12 6 "/>\n</g>\n</svg>\n',text_rotate:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12.75 3h-1.5L6.5 14h2.1l.9-2.2h5l.9 2.2h2.1L12.75 3zm-2.62 7L12 4.98 13.87 10h-3.74zm10.37 8l-3-3v2H5v2h12.5v2l3-3z"/></svg>',device_hub:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17 16l-4-4V8.82C14.16 8.4 15 7.3 15 6c0-1.66-1.34-3-3-3S9 4.34 9 6c0 1.3.84 2.4 2 2.82V12l-4 4H3v5h5v-3.05l4-4.2 4 4.2V21h5v-5h-4z"/></svg>',control_point:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>',flip_camera:'\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px"\n\t height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">\n    <path d="M9,12c0,1.66,1.34,3,3,3s3-1.34,3-3s-1.34-3-3-3S9,10.34,9,12z"/>\n    <path d="M8,10V8H5.09C6.47,5.61,9.05,4,12,4c3.72,0,6.85,2.56,7.74,6h2.06c-0.93-4.56-4.96-8-9.8-8C8.73,2,5.82,3.58,4,6.01V4H2v6\n        H8z"/>\n    <path d="M16,14v2h2.91c-1.38,2.39-3.96,4-6.91,4c-3.72,0-6.85-2.56-7.74-6H2.2c0.93,4.56,4.96,8,9.8,8c3.27,0,6.18-1.58,8-4.01V20\n        h2v-6H16z"/>\n</svg>\n',flipY:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"/></svg>',flip:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"/></svg>',account_tree:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"/></svg>',format_shapes:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z"/></svg>',merge:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17 20.41L18.41 19 15 15.59 13.59 17 17 20.41zM7.5 8H11v5.59L5.59 19 7 20.41l6-6V8h3.5L12 3.5 7.5 8z"/></svg>',texture:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19.51 3.08L3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41zM11.88 3L3 11.88v2.83L14.71 3h-2.83zM5 3c-1.1 0-2 .9-2 2v2l4-4H5zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4h2zm-9.71 0h2.83L21 12.12V9.29L9.29 21z"/></svg>',settings_input_component:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"/></svg>',view_comfy:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 9h4V5H3v4zm0 5h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zM8 9h4V5H8v4zm5-4v4h4V5h-4zm5 9h4v-4h-4v4zM3 19h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zm5 0h4v-4h-4v4zm0-14v4h4V5h-4z"/></svg>',camera_roll:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14 5c0-1.1-.9-2-2-2h-1V2c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1v1H4c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2h8V5h-8zm-2 13h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2z"/></svg>',broken_image:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2zm-3 6.42l3 3.01V19c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-6.58l3 2.99 4-4 4 4 4-3.99z"/></svg>',shadow:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.96 10.29l-2.75 3.54-1.96-2.36L8.5 15h11l-3.54-4.71zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"/></svg>',opacity:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z"/></svg>',looks:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 10c-3.86 0-7 3.14-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.86-3.14-7-7-7zm0-4C5.93 6 1 10.93 1 17h2c0-4.96 4.04-9 9-9s9 4.04 9 9h2c0-6.07-4.93-11-11-11z"/></svg>',vintage:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"/></svg>',waves:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17 16.99c-1.35 0-2.2.42-2.95.8-.65.33-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.95c1.35 0 2.2-.42 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.42 2.95-.8c.65-.33 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm0-4.45c-1.35 0-2.2.43-2.95.8-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.32-1.17.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm2.95-8.08c-.75-.38-1.58-.8-2.95-.8s-2.2.42-2.95.8c-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.37-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.93c1.35 0 2.2-.43 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V5.04c-.9 0-1.4-.25-2.05-.58zM17 8.09c-1.35 0-2.2.43-2.95.8-.65.35-1.15.6-2.05.6s-1.4-.25-2.05-.6c-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.35-1.15.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.32 1.18-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V9.49c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8z"/></svg>',blur_linear:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 17.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 13c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zM3 21h18v-2H3v2zM5 9.5c.83 0 1.5-.67 1.5-1.5S5.83 6.5 5 6.5 3.5 7.17 3.5 8 4.17 9.5 5 9.5zm0 4c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 17c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8-.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM3 3v2h18V3H3zm14 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm0 4c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM13 9c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1z"/></svg>',blur:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3 .5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm15 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-11 10c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-17c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 5.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm8 .5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm3 8.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM14 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-4-12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 8.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4-4.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"/></svg>',landscape:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"/></svg>',palette:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>',diffuse:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 14.5h14v-6H5v6zM11 .55V3.5h2V.55h-2zm8.04 2.5l-1.79 1.79 1.41 1.41 1.8-1.79-1.42-1.41zM13 22.45V19.5h-2v2.95h2zm7.45-3.91l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zM3.55 4.46l1.79 1.79 1.41-1.41-1.79-1.79-1.41 1.41zm1.41 15.49l1.79-1.8-1.41-1.41-1.79 1.79 1.41 1.42z"/></svg>',specular:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3.55 18.54l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8zM11 22.45h2V19.5h-2v2.95zM4 10.5H1v2h3v-2zm11-4.19V1.5H9v4.81C7.21 7.35 6 9.28 6 11.5c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19zm5 4.19v2h3v-2h-3zm-2.76 7.66l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4z"/></svg>',photo:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>',near_me:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 3L3 10.53v.98l6.84 2.65L12.48 21h.98L21 3z"/></svg>',view_list:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z"/></svg>',flash_on:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 2v11h3v9l7-12h-4l4-8z"/></svg>',doc:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"/></svg>',storage:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"/></svg>',archive:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"/></svg>',file_copy:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"/></svg>',gps_fixed:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></svg>',refresh:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>',cat:'\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t width="864px" height="864px" viewBox="0 0 864 864" enable-background="new 0 0 864 864">\n<path d="M712.4846,631.2673c-8.3777-59.9758-44.6997-121.2822-117.7703-198.7816\n\tc-51.7295-54.8649-72.0865-105.7791-55.8514-139.6883c12.4393-25.9817,42.587-35.8935,65.343-34.1103\n\tc26.3435,2.0661,37.3148,18.5905,41.88,32.0888c6.5847,19.471,2.7829,43.5175-8.4753,53.6029\n\tc-2.4382,2.1843-19.5444,15.6083-31.617,2.486c-16.0995-17.4994,1.3123-34.1181,1.3123-34.1181s25.7198-19.4211,11.5477-34.6431\n\tc-14.1721-15.2219-81.6211,4.7241-73.1766,62.9098c2.102,14.4833,9.8525,35.0453,41.7667,49.9105\n\tc31.3411,14.5985,62.0806,11.5356,84.3365-8.4017c26.8387-24.0431,36.221-68.5172,22.8163-108.1526\n\tc-13.0433-38.5685-45.3375-63.5167-86.387-66.7359c-22.4584-1.7602-45.9053,2.9182-66.0231,13.1776\n\tc-22.1882,11.3155-39.3094,28.5606-49.5124,49.8713c-15.207,31.7608-27.0118,99.5788,64.7797,196.9337\n\tc64.4428,68.3486,97.5892,122.6011,104.3126,170.7358c6.1263,43.8577-32.9753,141.2908-59.1734,141.8642\n\tc-18.2653,0.3997-13.0681-28.0174-11.1219-46.1832c3.4623-32.3166,9.02-64.4668,7.8147-96.946\n\tc-1.7692-47.6774-16.0649-83.7216-38.2463-125.1911c-20.1995-37.7643-37.8974-60.6029-92.5699-111.4463\n\tc-13.4884-12.5438-27.4699-22.5866-44.7675-38.1754c-17.5431-15.8101-21.9685-33.5474-24.195-48.6835\n\tc-4.6472-31.5926,5.266-35.0392,22.933-61.1816c7.51,6.1134,15.132,13.1576,22.5878,21.2593\n\tc0.8908,0.9678,2.1063,1.4586,3.3257,1.4586c1.0938,0,2.1906-0.3947,3.059-1.1939c1.8362-1.6895,1.9548-4.548,0.2647-6.3846\n\tc-8.043-8.7399-16.2394-16.2892-24.29-22.8068c1.0196-1.6815,1.9806-3.3693,2.913-5.06\n\tc11.2809,3.873,22.4781,8.5857,32.8744,14.3263c0.6923,0.3824,1.4415,0.5638,2.1804,0.5638c1.592,0,3.1354-0.8433,3.9596-2.3353\n\tc1.2061-2.1848,0.4133-4.9333-1.7714-6.14c-10.5501-5.8255-21.7927-10.625-33.0861-14.5846\n\tc1.7051-3.6655,3.2152-7.3481,4.5178-11.0449c9.9095,1.0547,20.2559,2.6507,30.8756,4.9542\n\tc2.4407,0.5281,4.8451-1.0193,5.3736-3.4585c0.5285-2.4387-1.0193-4.8446-3.4586-5.3736\n\tc-10.3543-2.2456-20.4231-3.8448-30.0823-4.9431c6.761-25.5357,4.0583-51.5754-8.0207-76.8648\n\tC448.2098,115.8869,474.731,76.8288,466.0513,18c-68.8775,17.9071-87.2624,54.1776-94.1043,50.875\n\tc-7.9472-3.8361-40.5018-11.036-62.952-10.6586c-37.278,0.6267-61.382,7.0395-61.382,7.0395\n\tc-11.2537-14.6686-35.9431-36.6889-90.105-41.2683c2.9433,47.1602,13.4346,82.2557,28.5291,102.9373l-0.7433,2.377\n\tc-11.7879,32.4393-13.5817,62.8858-3.8016,89.6451c-9.0883,1.1019-18.5685,2.7173-28.321,4.9987\n\tc-2.4299,0.5687-3.939,2.9991-3.3708,5.429c0.5687,2.4294,2.9972,3.939,5.429,3.3708c10.3087-2.4115,20.3424-4.0428,29.9266-5.0891\n\tc1.4184,2.9763,2.9836,5.904,4.7147,8.7755c-11.2262,4.119-22.4456,9.1879-32.9296,15.4312\n\tc-2.1445,1.2767-2.8476,4.0498-1.5704,6.1939c0.8453,1.4199,2.3461,2.2073,3.8866,2.2073c0.7859,0,1.5827-0.2054,2.3073-0.6369\n\tc10.5541-6.2849,22.0078-11.3381,33.4798-15.4008c3.3157,4.5403,7.0729,8.9251,11.2576,13.1527\n\tc-5.6694,5.3088-11.3757,11.2216-17,17.8125c-1.6199,1.8979-1.3944,4.7505,0.504,6.3699c0.8507,0.7266,1.8935,1.0816,2.931,1.0816\n\tc1.2767,0,2.5456-0.5383,3.4389-1.5856c5.5062-6.4525,11.1144-12.2327,16.692-17.4078c5.7832,5.4212,11.3758,11.1287,15.514,17.8627\n\tc7.8208,12.7265,8.3216,25.8196,6.7598,40.6753c-3.119,29.6671-13.4278,58.0414-20.0391,87.1301\n\tc-16.8163,73.989-9.0635,132.7513,20.7169,202.5388c8.0053,18.7598,17.5698,36.9144,23.7843,56.341\n\tc10.5081,32.8488,7.8436,88.3559,8.2697,122.8419v2.9318c0,0-19.9931,0.1384-28.4717,6.0748\n\tc-8.2555,5.7802-10.3883,21.931-4.3929,28.6906c6.6872,7.5395,21.6739,10.6397,31.6837,11.8093\n\tc119.664,13.9824,293.6021-2.6707,341.7446-8.3345C701.2023,821.2982,721.1432,693.2562,712.4846,631.2673z M437.2106,66.5267\n\tc-0.1946,33.6617-23.5064,50.7886-23.5064,50.7886c-6.2684-17.19-21.1558-25.3943-21.1558-25.3943\n\tC408.2194,68.8708,437.2106,66.5267,437.2106,66.5267z M201.6607,103.3024c0,0-19.8527-14.6264-20.0184-43.3732\n\tc0,0,24.6894,2.0019,38.035,21.6866C219.6773,81.6158,206.999,88.6223,201.6607,103.3024z M215.969,158.6876\n\tc15.0275-4.1452,27.2506-3.8264,37.1033-1.1182c-15.9193,16.5729-7.4137,31.0502-3.2583,36.286\n\tC221.2402,186.9178,215.969,158.6876,215.969,158.6876z M252.8369,194.4974c13.6546-17.1619,7.1357-30.6827,3.4758-35.9226\n\tc24.8589,8.5877,33.2057,32.5095,33.2057,32.5095C274.4792,195.6167,262.4471,196.221,252.8369,194.4974z M308.1766,232.8661\n\tc-4.1644,0.2111-22.0216-7.8084-21.8634-21.8635c0.1244-11.0539,40.2451-7.8568,42.1652,0\n\tC330.8523,220.7164,312.3411,232.655,308.1766,232.8661z M327.2252,191.0843c0,0,8.7972-25.2037,35.2186-33.1565\n\tc-12.424,19.1432-1.5466,31.7233,3.55,36.1478C356.055,196.2867,343.3752,195.9514,327.2252,191.0843z M369.7458,193.0825\n\tc10.0879-20.4091-1.0878-32.4358-4.9794-35.7968c9.66-2.4378,21.5306-2.5917,36.0081,1.4018\n\tC400.7746,158.6876,395.8536,185.0439,369.7458,193.0825z"/>\n</svg>\n\n',shuffle:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"/></svg>',replay:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><defs><path id="a" d="M0 0h24v24H0V0z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-1.1 11H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1c.2.1.3.2.5.3s.2.3.3.6.1.5.1.8v.7zm-.9-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z" clip-path="url(#b)"/></svg>',speed:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z"/></svg>',alternate_reverse:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z" /></svg>',alternate:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/></svg>',note:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17 10H7v2h10v-2zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-5-5H7v2h7v-2z"/></svg>',rect:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/></svg>',circle:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/></svg>',color_lens:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>',cube:'<svg width="24" height="24" style="transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M21 16.5a1 1 0 0 1-.527.881l-7.907 4.443a.996.996 0 0 1-1.132 0l-7.907-4.443A1 1 0 0 1 3 16.5v-9a1 1 0 0 1 .527-.881l7.907-4.443a.995.995 0 0 1 1.132 0l7.907 4.443A1 1 0 0 1 21 7.5v9zM12 4.15L6.042 7.5l5.96 3.35 5.958-3.35-5.958-3.35zM5 15.916l6 3.372V12.58L5 9.209v6.706zm14 0V9.209l-6 3.372v6.707l6-3.373z" /></svg>',polygon:'<svg width="24" height="24" viewBox="0 0 24 24"><path d="M17,15.7V13H19V17L10,21L3,14L7,5H11V7H8.3L5.4,13.6L10.4,18.6L17,15.7M22,5V7H19V10H17V7H14V5H17V2H19V5H22Z" /></svg>',star:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/></svg>',dahaze:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M2 15.5v2h20v-2H2zm0-5v2h20v-2H2zm0-5v2h20v-2H2z"/></svg>',brush:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z"/></svg>',expand:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>',list:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z"/></svg>',grid:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 11h5V5H4v6zm0 7h5v-6H4v6zm6 0h5v-6h-5v6zm6 0h5v-6h-5v6zm-6-7h5V5h-5v6zm6-6v6h5V5h-5z"/></svg>',align_center:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/></svg>',align_justify:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/></svg>',align_left:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/></svg>',align_right:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/></svg>',color:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>',size:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 15h2v2h-2v-2zm0-4h2v2h-2v-2zm2 8h-2v2c1 0 2-1 2-2zM13 3h2v2h-2V3zm8 4h2v2h-2V7zm0-4v2h2c0-1-1-2-2-2zM1 7h2v2H1V7zm16-4h2v2h-2V3zm0 16h2v2h-2v-2zM3 3C2 3 1 4 1 5h2V3zm6 0h2v2H9V3zM5 3h2v2H5V3zm-4 8v8c0 1.1.9 2 2 2h12V11H1zm2 8l2.5-3.21 1.79 2.15 2.5-3.22L13 19H3z"/></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>',outline_image:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z"/></svg>',ballot:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><clipPath><use xlink:href="#a" overflow="visible"/></clipPath><path fill-rule="evenodd" clip-rule="evenodd" d="M13 9.5h5v-2h-5v2zm0 7h5v-2h-5v2zm6 4.5H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2v14c0 1.1-.9 2-2 2zM6 11h5V6H6v5zm1-4h3v3H7V7zM6 18h5v-5H6v5zm1-4h3v3H7v-3z"/></svg>',shape:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z"/></svg>',scatter:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="#010101"><circle cx="7" cy="14" r="3"/><circle cx="11" cy="6" r="3"/><circle cx="16.6" cy="17.6" r="3"/></g></svg>',transform:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M22 18v-2H8V4h2L7 1 4 4h2v2H2v2h4v8c0 1.1.9 2 2 2h8v2h-2l3 3 3-3h-2v-2h4zM10 8h6v6h2V8c0-1.1-.9-2-2-2h-6v2z"/></svg>',gradient:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11 9h2v2h-2zm-2 2h2v2H9zm4 0h2v2h-2zm2-2h2v2h-2zM7 9h2v2H7zm12-6H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 18H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z"/></svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>',build:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/></svg>',code:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/></svg>',autorenew:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"/></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>',pause:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>',skip_next:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>',skip_prev:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>',fast_forward:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"/></svg>',fast_rewind:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"/></svg>',filter:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"/></svg>',input:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"/></svg>',timer:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></svg>',title:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 4v3h5.5v12h3V7H19V4z"/></svg>',paint:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18 4V3c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6h1v4H9v11c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-9h8V4h-3z"/></svg>',border_all:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1z"/></svg>',border_inner:wv,check:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>',video:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/>\n    </svg>\n',arrowRight:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M10 17l5-5-5-5v10z"/></svg>\n',screen:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>',repeat:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/></svg>',remove2:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2z"/></svg>',setting:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z"/></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>',artboard:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"/></svg>',folder:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/></svg>',publish:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"/></svg>',add_note:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"/></svg>',add:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>',save:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"/><path fill="none" d="M0 0h24v24H0z"/></svg>',export:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z"/></svg>',redo:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/></svg>',lock:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/></svg>',lock_open:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"/></svg>',remove:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg>',copy:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"/></svg>',visible:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>',add_box:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/></svg>',add_circle:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/></svg>',create_folder:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M22 6H12l-2-2H2v16h20V6zm-3 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z"/>\n</svg>',chevron_right:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"/>\n</svg>',chevron_left:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>'});function Sv(t){return(Sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pv(Object(n),!0).forEach((function(e){$v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ev(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cv(t,e){return!e||"object"!==Sv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tv(t,e,n){return(Tv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Rv(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Rv(t){return(Rv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dv(t,e){return(Dv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Vv=function(t){function e(){return Ev(this,e),Cv(this,Rv(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dv(t,e)}(e,t),n=e,o=[{key:"getIcon",value:function(){return jv.rect}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Tv(Rv(e.prototype),"getDefaultObject",this).call(this,xv({itemType:"layer",name:"New Layer",tagName:"div"},t))}},{key:"getDefaultTitle",value:function(){return"Layer"}},{key:"getIcon",value:function(){return jv.rect}},{key:"toCloneObject",value:function(){return xv({},Tv(Rv(e.prototype),"toCloneObject",this).call(this),{tagName:this.json.tagName})}},{key:"screenX",get:function(){return this.json.parent?$.px(this.json.parent.screenX.value+(this.json.x||zero).value):this.json.x||$.z()}},{key:"screenY",get:function(){return this.json.parent?$.px(this.json.parent.screenY.value+(this.json.y||zero).value):this.json.y||$.z()}}])&&_v(n.prototype,r),o&&_v(n,o),e}(gv);function Av(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return function(t,e){var i=0;return i=0===e?n:1===e?r:n+(r-n)*t,o?i+o:i}}function Iv(t,e,n){return function(t,e){return n}}function Lv(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"width",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"parent",i=null;return"parent"===o?i=t[o][r]:"self"===o&&(i=t[r]),i?n.toPx(i.value):n}function Mv(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"width",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"parent",a=null;return"parent"===i?a=t[i][o]:"self"===i&&(a=t[o]),a?n.to(r,a.value):n}function zv(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"width",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"parent",a=$.parse(n),c=$.parse(r);return a.unit===c.unit?Av(t,e,a.value,c.value,a.unit):a.equals(c)?Iv(0,0,a):function(n,r){var u=Lv(t,e,a,o,i),s=Lv(t,e,c,o,i);return 0===r?u:1===r?s:Mv(t,e,$.px(u.value+(s.value-u.value)*n),a.unit,o,i)}}function Bv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Fv=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"parseStyle",value:function(t){var e={isAll:!0,"border-radius":$.z(),"border-top-left-radius":$.z(),"border-top-right-radius":$.z(),"border-bottom-right-radius":$.z(),"border-bottom-left-radius":$.z()},n=t.split(" ").filter((function(t){return $.parse(t)}));return 1===n.length?(e.isAll=!0,e["border-radius"]=n[0]):(e.isAll=!1,e["border-top-left-radius"]=n[0],e["border-top-right-radius"]=n[1],e["border-bottom-right-radius"]=n[2],e["border-bottom-left-radius"]=n[3]),e}}],(n=null)&&Bv(e.prototype,n),r&&Bv(e,r),t}(),Gv=function(t){return t.isAll?[t["border-radius"]||"0px",t["border-radius"]||"0px",t["border-radius"]||"0px",t["border-radius"]||"0px"]:[t["border-top-left-radius"]||"0px",t["border-top-right-radius"]||"0px",t["border-bottom-right-radius"]||"0px",t["border-bottom-left-radius"]||"0px"]};function Hv(t,e,n,r){for(var o=Gv(Fv.parseStyle(n)),i=Gv(Fv.parseStyle(r)),a=Math.max(o.length,i.length),c=[],u=0;u<a;u++)c[u]=zv(t,e,o[u],i[u]);return function(t,e){return c.map((function(n){return n(t,e)})).join(" ")}}function Xv(t){return(Xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uv(t,e){return!e||"object"!==Xv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zv(t,e,n){return(Zv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qv(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function qv(t){return(qv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jv(t,e){return(Jv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qv=function(t){function e(){return Kv(this,e),Uv(this,qv(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jv(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new e(t)}},{key:"parseStyle",value:function(t){var n=[];if(!t)return n;var r=fn(t);return n=r.str.split(",").filter((function(t){return t.trim()})).map((function(t){var n=t.split(" "),o=n.filter((function(t){return"inset"===t})),i=n.filter((function(t){return t.includes("@")})).map((function(t){return yn(t,r.matches)})),a=n.filter((function(t){return"inset"!==t&&!t.includes("@")}));return e.parse({inset:!!o.length,color:i[0]||"rgba(0, 0, 0, 1)",offsetX:$.parse(a[0]||"0px"),offsetY:$.parse(a[1]||"0px"),blurRadius:$.parse(a[2]||"0px"),spreadRadius:$.parse(a[3]||"0px")})}))}},{key:"join",value:function(t){return t.map((function(t){return e.parse(t)})).join(", ")}}],(r=[{key:"getDefaultObject",value:function(){return Zv(qv(e.prototype),"getDefaultObject",this).call(this,{itemType:"box-shadow",inset:!1,offsetX:$.z(),offsetY:$.z(),blurRadius:$.z(),spreadRadius:$.z(),color:"rgba(0, 0, 0, 1)"})}},{key:"toCloneObject",value:function(){var t=this.json;return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yv(Object(n),!0).forEach((function(e){Nv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Zv(qv(e.prototype),"toCloneObject",this).call(this),{inset:t.inset,offsetX:t.offsetX+"",offsetY:t.offsetY+"",blurRadius:t.blurRadius+"",spreadRadius:t.spreadRadius+"",color:t.color})}},{key:"convert",value:function(t){return(t=Zv(qv(e.prototype),"convert",this).call(this,t)).offsetX=$.parse(t.offsetX),t.offsetY=$.parse(t.offsetY),t.blurRadius=$.parse(t.blurRadius),t.spreadRadius=$.parse(t.spreadRadius),t}},{key:"toCSS",value:function(){return{"box-shadow":this.toString()}}},{key:"toString",value:function(){var t=this.json;return"".concat(t.inset?"inset ":"").concat(t.offsetX," ").concat(t.offsetY," ").concat(t.blurRadius," ").concat(t.spreadRadius," ").concat(t.color)}}])&&Wv(n.prototype,r),o&&Wv(n,o),e}(ac);function tb(t,e,n,r){return function(t,e){return 1===e?r:n}}function eb(t,e,n,r){var o=Rn.parse(n||"rgba(0, 0, 0, 1)"),i=Rn.parse(r||"rgba(0, 0, 0, 1)");return function(t,e){return 0===e?n:1===e?r:mn(o,i,t,"rgb")}}function nb(t,e,n,r){for(var o=Qv.parseStyle(n),i=Qv.parseStyle(r),a=Math.max(o.length,i.length),c=[],u=0,s=a;u<s;u++){var l=o[u]||Qv.parseStyle("0px 0px 0px 0px rgba(0, 0, 0, 0)")[0],f=i[u]||Qv.parseStyle("0px 0px 0px 0px rgba(0, 0, 0, 0)")[0];c.push({inset:tb(0,0,l.inset,f.inset),offsetX:zv(t,e,l.offsetX,f.offsetX),offsetY:zv(t,e,l.offsetY,f.offsetY),blurRadius:zv(t,e,l.blurRadius,f.blurRadius),spreadRadius:zv(t,e,l.spreadRadius,f.spreadRadius),color:eb(0,0,l.color,f.color)})}return function(t,e){return Qv.join(c.map((function(n){return{inset:n.inset(t,e),offsetX:n.offsetX(t,e),offsetY:n.offsetY(t,e),blurRadius:n.blurRadius(t,e),spreadRadius:n.spreadRadius(t,e),color:n.color(t,e)}})))}}function rb(t,e,n,r){return tb(0,0,n,r)}var ob=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return t=+t,function(n){var r=1/t;return"start"==e?r*Math.ceil(n/r):"end"==e?r*Math.floor(n/r):void 0}};function ib(){return ob(1,"start")}function ab(){return ob(1,"end")}var cb=function(){return function(t){return Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1}},ub={step:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return ob(t,e)},"step-start":ib,"step-end":ab,stepStart:ib,stepEnd:ab,"ease-out-elastic":cb,easeOutElastic:cb};function sb(t,e,n,r){var o=$.parse(n),i=$.parse(r);return function(t,e){var n=o.value,r=i.value;return 0===e?$.deg(n):1===e?$.deg(r):$.deg(n+(r-n)*t).to(o.unit)}}function lb(t){return(lb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function db(t,e){return!e||"object"!==lb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vb(t,e,n){return(vb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bb(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function bb(t){return(bb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mb(t,e){return(mb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gb,wb=function(t){function e(){return yb(this,e),db(this,bb(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mb(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new e(t)}},{key:"parseStyle",value:function(t){var n=fn(t);return n.str.split(",").filter((function(t){return t.trim()})).map((function(t){var r=t.split(" "),o=r.filter((function(t){return t.includes("@")})).map((function(t){return n.matches[+t.replace("@","")].color})),i=r.filter((function(t){return!t.includes("@")}));return e.parse({color:o[0]||"rgba(0, 0, 0, 1)",offsetX:$.parse(i[0]||"0px"),offsetY:$.parse(i[1]||"0px"),blurRadius:$.parse(i[2]||"0px")})}))}},{key:"join",value:function(t){return t.map((function(t){return e.parse(t)})).join(", ")}}],(r=[{key:"getDefaultObject",value:function(){return vb(bb(e.prototype),"getDefaultObject",this).call(this,{itemType:"text-shadow",offsetX:$.z(),offsetY:$.z(),blurRadius:$.z(),color:"rgba(0, 0, 0, 1)"})}},{key:"toCloneObject",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fb(Object(n),!0).forEach((function(e){pb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},vb(bb(e.prototype),"toCloneObject",this).call(this),{offsetX:this.json.offsetX+"",offsetY:this.json.offsetY+"",blurRadius:this.json.blurRadius+"",color:this.json.color})}},{key:"convert",value:function(t){return(t=vb(bb(e.prototype),"convert",this).call(this,t)).offsetX=$.parse(t.offsetX),t.offsetY=$.parse(t.offsetY),t.blurRadius=$.parse(t.blurRadius),t}},{key:"toCSS",value:function(){return{"text-shadow":this.toString()}}},{key:"toString",value:function(){var t=this.json;return"".concat(t.offsetX," ").concat(t.offsetY," ").concat(t.blurRadius," ").concat(t.color)}}])&&hb(n.prototype,r),o&&hb(n,o),e}(ac);function kb(t,e,n,r){for(var o=wb.parseStyle(n),i=wb.parseStyle(r),a=Math.max(o.length,i.length),c=[],u=0,s=a;u<s;u++){var l=o[u]||wb.parseStyle("0px 0px 0px rgba(0, 0, 0, 0)")[0],f=i[u]||wb.parseStyle("0px 0px 0px rgba(0, 0, 0, 0)")[0];c.push({offsetX:zv(t,e,l.offsetX,f.offsetX,"width","self"),offsetY:zv(t,e,l.offsetY,f.offsetY,"height","self"),blurRadius:zv(t,e,l.blurRadius,f.blurRadius,"radius"),color:eb(0,0,l.color,f.color)})}return function(t,e){return wb.join(c.map((function(n){return{offsetX:n.offsetX(t,e),offsetY:n.offsetY(t,e),blurRadius:n.blurRadius(t,e),color:n.color(t,e)}})))}}function Ob(t,e,n,r){var o={cut:tb(0,0,n.cut,r.cut),percent:Av(t,e,n.percent,r.percent),px:Av(t,e,n.px,r.px),em:Av(t,e,n.em,r.em),unit:rb(0,0,n.unit,r.unit),color:eb(0,0,n.color,r.color)};return function(t,e){return new _c({cut:o.cut(t,e),percent:o.percent(t,e),px:o.px(t,e),em:o.em(t,e),unit:o.unit(t,e),color:o.color(t,e)})}}function jb(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=Math.max(n.length,r.length),i=[],a=0;a<o;a++){var c=n[a],u=r[a];i[a]=c&&u?Ob(t,e,c,u):tb(0,0,c,u)}return function(t,e){return i.map((function(n){return n(t,e)}))}}function Sb(t,e,n,r){var o={angle:Av(t,e,n.angle,r.angle),colorsteps:jb(t,e,n.colorsteps,r.colorsteps)};return function(t,e){var n=o.colorsteps(t,e);return new Pu({angle:o.angle(t,e),colorsteps:n})}}function Pb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Pb(gb={},"center",!0),Pb(gb,"top",!0),Pb(gb,"left",!0),Pb(gb,"right",!0),Pb(gb,"bottom",!0);function xb(t,e){switch(e){case"width":if("center"===t)return"50%";if("left"===t)return"0%";if("right"===t)return"100%";break;case"height":if("center"===t)return"50%";if("top"===t)return"0%";if("bottom"===t)return"100%"}return t}function $b(t,e,n,r){n.radialPosition[0]=xb(n.radialPosition[0],"width"),n.radialPosition[1]=xb(n.radialPosition[1],"height"),r.radialPosition[0]=xb(r.radialPosition[0],"width"),r.radialPosition[1]=xb(r.radialPosition[1],"height");var o={radialType:rb(0,0,n.radialType,r.radialType),radialPositionX:zv(t,e,n.radialPosition[0],r.radialPosition[0],"width","self"),radialPositionY:zv(t,e,n.radialPosition[1],r.radialPosition[1],"height","self"),colorsteps:jb(t,e,n.colorsteps,r.colorsteps)};return function(t,e){return new Wu({radialType:o.radialType(t,e),radialPosition:[o.radialPositionX(t,e),o.radialPositionY(t,e)],colorsteps:o.colorsteps(t,e)})}}function Eb(t,e,n,r){var o={angle:Av(t,e,n.angle,r.angle),radialPositionX:zv(t,e,n.radialPosition[0],r.radialPosition[0],"width","self"),radialPositionY:zv(t,e,n.radialPosition[1],r.radialPosition[1],"height","self"),colorsteps:jb(t,e,n.colorsteps,r.colorsteps)};return function(t,e){return new ms({angle:o.angle(t,e),radialPosition:[o.radialPositionX(t,e),o.radialPositionY(t,e)],colorsteps:o.colorsteps(t,e)})}}function _b(t,e,n,r){var o={image:function(t,e){return e}};if("url"===n.type||"url"===r.type)o.image=tb(0,0,n,r);else if(n.type!=r.type)o.image=tb(0,0,n,r);else switch(n.type){case"linear-gradient":o.image=Sb(t,e,n,r);break;case"repeating-linear-gradient":o.image=function(t,e,n,r){var o=Sb(t,e,n,r);return function(t,e){var n=o(t,e);return new Vu({angle:n.angle,colorsteps:n.colorsteps})}}(t,e,n,r);break;case"radial-gradient":o.image=$b(t,e,n,r);break;case"repeating-radial-gradient":o.image=function(t,e,n,r){var o=$b(t,e,n,r);return function(t,e){var n=o(t,e);return new rs({radialType:n.radialType,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}(t,e,n,r);break;case"conic-gradient":o.image=Eb(t,e,n,r);break;case"repeating-conic-gradient":o.image=function(t,e,n,r){var o=Eb(t,e,n,r);return function(t,e){var n=o(t,e);return new xs({angle:n.angle,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}(t,e,n,r)}return function(t,e){return o.image(t,e)}}function Cb(t,e,n,r){for(var o=Bs.parseStyle(ve(n)),i=Bs.parseStyle(ve(r)),a=Math.max(o.length,i.length),c=[],u=0,s=a;u<s;u++){var l=o[u]||null,f=i[u]||null;l&&!f?c.push({image:Iv(0,0,l.image),size:Iv(0,0,l.size),width:Iv(0,0,l.width),height:Iv(0,0,l.height),x:Iv(0,0,l.x),y:Iv(0,0,l.y),blendMode:Iv(0,0,l.blendMode),repeat:Iv(0,0,l.repeat)}):!l&&f?c.push({image:Iv(0,0,f.image),size:Iv(0,0,f.size),width:Iv(0,0,f.width),height:Iv(0,0,f.height),x:Iv(0,0,f.x),y:Iv(0,0,f.y),blendMode:Iv(0,0,f.blendMode),repeat:Iv(0,0,f.repeat)}):l&&f&&c.push({image:_b(t,e,l.image,f.image),size:rb(0,0,l.size,f.size),width:zv(t,e,l.width,f.width,"width","self"),height:zv(t,e,l.height,f.height,"height","self"),x:zv(t,e,l.x,f.x,"width","self"),y:zv(t,e,l.y,f.y,"height","self"),blendMode:rb(0,0,l.blendMode,f.blendMode),repeat:rb(0,0,l.repeat,f.repeat)})}return function(t,e){return Bs.join(c.map((function(n){return{image:n.image(t,e),size:n.size(t,e),x:n.x(t,e),y:n.y(t,e),width:n.width(t,e),height:n.height(t,e),blendMode:n.blendMode(t,e),repeat:n.repeat(t,e)}})))}}function Tb(t){return(Tb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Db(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vb(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Db(Object(n),!0).forEach((function(e){Ab(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Db(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ab(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ib(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mb(t,e,n){return e&&Lb(t.prototype,e),n&&Lb(t,n),t}function zb(t,e){return!e||"object"!==Tb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bb(t,e,n){return(Bb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fb(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Fb(t){return(Fb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gb(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hb(t,e)}function Hb(t,e){return(Hb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xb=/((blur|drop\-shadow|hue\-rotate|invert|brightness|contrast|opacity|saturate|sepia)\(([^\)]*)\))/gi,Yb=function(t){function e(){return Ib(this,e),zb(this,Fb(e).apply(this,arguments))}return Gb(e,t),Mb(e,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Bb(Fb(e.prototype),"getDefaultObject",this).call(this,Vb({itemType:"filter"},t))}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value||"",")")}}],[{key:"parse",value:function(t){var e=rm[t.type];return e?new e(t):new Kb({value:t.type})}},{key:"parseStyle",value:function(t){var n=[];if(!t)return n;var r=fn(t);return(r.str.match(Xb)||[]).forEach((function(t,o){var i=Rb(t.split("("),2),a=i[0],c=i[1];if(c=c.split(")")[0],"drop-shadow"===a){var u=c.split(" "),s=u.filter((function(t){return t.includes("@")})).map((function(t){return r.matches[+t.replace("@","")].color})),l=u.filter((function(t){return!t.includes("@")}));n[o]=e.parse({type:a,offsetX:$.parse(l[0]),offsetY:$.parse(l[1]),blurRadius:$.parse(l[2]),color:s[0]||"rgba(0, 0, 0, 1)"})}else n[o]=e.parse({type:a,value:$.parse(c)})})),n}},{key:"join",value:function(t){return t.map((function(t){return e.parse(t)})).join(" ")}}]),e}(ac),Nb=function(t){function e(){return Ib(this,e),zb(this,Fb(e).apply(this,arguments))}return Gb(e,t),Mb(e,[{key:"getDefaultObject",value:function(){return Bb(Fb(e.prototype),"getDefaultObject",this).call(this,{type:"blur",value:e.spec.defaultValue})}},{key:"toCloneObject",value:function(){return Vb({},Bb(Fb(e.prototype),"toCloneObject",this).call(this),{value:$.parse(this.json.value)})}}]),e}(Yb);Nb.spec={inputType:"range",min:0,max:100,step:1,unit:"px",units:["px","em"],defaultValue:$.z()};var Kb=function(t){function e(){return Ib(this,e),zb(this,Fb(e).apply(this,arguments))}return Gb(e,t),Mb(e,[{key:"getDefaultObject",value:function(){return Bb(Fb(e.prototype),"getDefaultObject",this).call(this,{type:"svg",value:e.spec.defaultValue})}},{key:"toCloneObject",value:function(){return Vb({},Bb(Fb(e.prototype),"toCloneObject",this).call(this),{value:$.parse(this.json.value)})}},{key:"toString",value:function(){return"url(#".concat(this.json.value||"",")")}}]),e}(Yb);Kb.spec={inputType:"select",defaultValue:""};var Wb=function(t){function e(){return Ib(this,e),zb(this,Fb(e).apply(this,arguments))}return Gb(e,t),Mb(e,[{key:"getDefaultObject",value:function(){return Bb(Fb(e.prototype),"getDefaultObject",this).call(this,{type:"grayscale",value:e.spec.defaultValue})}},{key:"toCloneObject",value:function(){return Vb({},Bb(Fb(e.prototype),"toCloneObject",this).call(this),{value:$.parse(this.json.value)})}}]),e}(Yb);Wb.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:$.percent(0)};var Ub=function(t){function e(){return Ib(this,e),zb(this,Fb(e).apply(this,arguments))}return Gb(e,t),Mb(e,[{key:"getDefaultObject",value:function(){return Bb(Fb(e.prototype),"getDefaultObject",this).call(this,{type:"hue-rotate",value:e.spec.defaultValue})}}]),e}(Yb);Ub.spec={inputType:"range",min:0,max:360,step:1,unit:"deg",units:["deg"],defaultValue:$.deg(0)};var Zb=function(t){function e(){return Ib(this,e),zb(this,Fb(e).apply(this,arguments))}return Gb(e,t),Mb(e,[{key:"getDefaultObject",value:function(){return Bb(Fb(e.prototype),"getDefaultObject",this).call(this,{type:"invert",value:e.spec.defaultValue})}}]),e}(Yb);Zb.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:$.percent(0)};var qb=function(t){function e(){return Ib(this,e),zb(this,Fb(e).apply(this,arguments))}return Gb(e,t),Mb(e,[{key:"getDefaultObject",value:function(){return Bb(Fb(e.prototype),"getDefaultObject",this).call(this,{type:"brightness",value:e.spec.defaultValue})}}]),e}(Yb);qb.spec={inputType:"range",min:0,max:200,step:1,unit:"%",units:["%"],defaultValue:$.percent(100)};var Jb=function(t){function e(){return Ib(this,e),zb(this,Fb(e).apply(this,arguments))}return Gb(e,t),Mb(e,[{key:"getDefaultObject",value:function(){return Bb(Fb(e.prototype),"getDefaultObject",this).call(this,{type:"contrast",value:e.spec.defaultValue})}}]),e}(Yb);Jb.spec={inputType:"range",min:0,max:200,step:1,unit:"%",units:["%"],defaultValue:$.percent(100)};var Qb=function(t){function e(){return Ib(this,e),zb(this,Fb(e).apply(this,arguments))}return Gb(e,t),Mb(e,[{key:"getDefaultObject",value:function(){return Bb(Fb(e.prototype),"getDefaultObject",this).call(this,{type:"opacity",value:e.spec.defaultValue})}}]),e}(Yb);Qb.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:$.percent(100)};var tm=function(t){function e(){return Ib(this,e),zb(this,Fb(e).apply(this,arguments))}return Gb(e,t),Mb(e,[{key:"getDefaultObject",value:function(){return Bb(Fb(e.prototype),"getDefaultObject",this).call(this,{type:"saturate",value:e.spec.defaultValue})}}]),e}(Yb);tm.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:$.percent(100)};var em=function(t){function e(){return Ib(this,e),zb(this,Fb(e).apply(this,arguments))}return Gb(e,t),Mb(e,[{key:"getDefaultObject",value:function(){return Bb(Fb(e.prototype),"getDefaultObject",this).call(this,{type:"sepia",value:e.spec.defaultValue})}}]),e}(Yb);em.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:$.percent(0)};var nm=function(t){function e(){return Ib(this,e),zb(this,Fb(e).apply(this,arguments))}return Gb(e,t),Mb(e,[{key:"getDefaultObject",value:function(){return Bb(Fb(e.prototype),"getDefaultObject",this).call(this,{type:"drop-shadow",multi:!0,offsetX:e.spec.offsetX.defaultValue,offsetY:e.spec.offsetY.defaultValue,blurRadius:e.spec.blurRadius.defaultValue,color:e.spec.color.defaultValue})}},{key:"toString",value:function(){var t=this.json;return"drop-shadow(".concat(t.offsetX," ").concat(t.offsetY," ").concat(t.blurRadius," ").concat(t.color,")")}}]),e}(Yb);nm.spec={offsetX:{title:"Offset X",inputType:"range",min:-100,max:100,step:1,defaultValue:$.z(),unit:"px",units:["px","em"]},offsetY:{title:"Offset Y",inputType:"range",min:-100,max:100,step:1,defaultValue:$.z(),unit:"px",units:["px","em"]},blurRadius:{title:"Blur Radius",inputType:"range",min:0,max:100,step:1,defaultValue:$.z(),unit:"px",units:["px","em","%"]},color:{title:"Color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)",unit:"color"}};var rm={blur:Nb,grayscale:Wb,"hue-rotate":Ub,invert:Zb,brightness:qb,contrast:Jb,opacity:Qb,saturate:tm,sepia:em,"drop-shadow":nm,svg:Kb},om={BlurFilter:Nb,GrayscaleFilter:Wb,HueRotateFilter:Ub,InvertFilter:Zb,BrightnessFilter:qb,ContrastFilter:Jb,OpacityFilter:Qb,SaturateFilter:tm,SepiaFilter:em,DropshadowFilter:nm,URLSvgFilter:Kb};function im(t,e,n,r){var o={type:rb(0,0,n.type,r.type),value:tb(0,0,n.value,r.value)};switch(n.type){case"blur":o.value=zv(t,e,n.value,r.value);break;case"grayscale":case"invert":case"brightness":case"contrast":case"opacity":case"saturate":case"sepia":case"hue-rotate":o.value=Av(t,e,n.value.value,r.value.value,n.value.unit);break;case"drop-shadow":o.offsetX=zv(t,e,n.offsetX,r.offsetX,"width","self"),o.offsetY=zv(t,e,n.offsetY,r.offsetY,"height","self"),o.blurRadius=zv(t,e,n.blurRadius,r.blurRadius,"width","self"),o.spreadRadius=zv(t,e,n.spreadRadius,r.spreadRadius,"width","self"),o.color=eb(0,0,n.color,r.color)}return function(t,e){return"drop-shadow"===o.type(t,e)?{type:o.type(t,e),offsetX:o.offsetX(t,e),offsetY:o.offsetY(t,e),blurRadius:o.blurRadius(t,e),spreadRadius:o.spreadRadius(t,e),color:o.color(t,e)}:{type:o.type(t,e),value:o.value(t,e)}}}function am(t,e,n,r){for(var o=Yb.parseStyle(n),i=Yb.parseStyle(r),a=Math.max(o.length,i.length),c=[],u=0,s=a;u<s;u++){var l=o[u],f=i[u];l&&!f?c.push(Iv(0,0,l)):!l&&f?c.push(Iv(0,0,f)):l.type!=f.type||"svg"===l.type||"svg"===f.type?c.push(tb(0,0,l,f)):c.push(im(t,e,l,f))}return function(t,e){return Yb.join(c.map((function(n){return n(t,e)})))}}function cm(t,e,n,r){var o=av.parseStyle(n),i=av.parseStyle(r),a={type:tb(0,0,o.type,o.type),value:tb(0,0,n,r)};if(o.type==i.type&&"none"!=o)switch(o.type){case"circle":o.value=av.parseStyleForCircle(o.value),i.value=av.parseStyleForCircle(i.value),a.value=function(t,e,n,r){var o={};return"closest-side"===n.radius||"farthest-side"===n.radius||"closest-side"===r.radius||"farthest-side"===r.radius?o.radius=tb(0,0,n.radius,r.radius):n.radius.unit===r.radius.unit?o.radius=makeInterpolateNumber(t,e,n.radius.value,r.radius.value,n.radius.unit):o.radius=zv(t,e,n.radius,r.radius,"width","self"),o.x=zv(t,e,n.x,r.x,"width","self"),o.y=zv(t,e,n.y,r.y,"height","self"),function(t,e){var n=o.radius(t,e),r=o.x(t,e),i=o.y(t,e),a="".concat(r," ").concat(i),c=n+"";return c.includes("closest-side")?c="closest-side":c.includes("farthest-side")&&(c="farthest-side"),n?"".concat(c," at ").concat(a):"".concat(a)}}(t,e,o.value,i.value);break;case"ellipse":o.value=av.parseStyleForEllipse(o.value),i.value=av.parseStyleForEllipse(i.value),a.value=function(t,e,n,r){var o={radiusX:zv(t,e,n.radiusX,r.radiusX,"width","self"),radiusY:zv(t,e,n.radiusY,r.radiusY,"height","self"),x:zv(t,e,n.x,r.x,"width","self"),y:zv(t,e,n.y,r.y,"height","self")};return function(t,e){var n=o.radiusX(t,e),r=o.radiusY(t,e),i=o.x(t,e),a=o.y(t,e);return"".concat(n," ").concat(r," at ").concat(i," ").concat(a)}}(t,e,o.value,i.value);break;case"inset":o.value=av.parseStyleForInset(o.value),i.value=av.parseStyleForInset(i.value),a.value=function(t,e,n,r){var o={top:Av(t,e,n.top.value,r.top.value,n.top.unit),left:Av(t,e,n.left.value,r.left.value,n.left.unit),right:Av(t,e,n.right.value,r.right.value,n.right.unit),bottom:Av(t,e,n.bottom.value,r.bottom.value,n.bottom.unit),round:tb(0,0,n.round,r.round),topRadius:Av(t,e,n.topRadius.value,r.topRadius.value,n.topRadius.unit),leftRadius:Av(t,e,n.leftRadius.value,r.leftRadius.value,n.leftRadius.unit),rightRadius:Av(t,e,n.rightRadius.value,r.rightRadius.value,n.rightRadius.unit),bottomRadius:Av(t,e,n.bottomRadius.value,r.bottomRadius.value,n.bottomRadius.unit)};return function(t,e){var n=o.top(t,e),r=o.right(t,e),i=o.bottom(t,e),a=o.left(t,e),c=o.round(t,e),u=o.topRadius(t,e),s=o.leftRadius(t,e),l=o.bottomRadius(t,e),f=o.rightRadius(t,e),p=[n,r,i,a].join(" "),y=[u,f,l,s].join(" ");return"".concat(p," ").concat(c&&y.trim()?"round ".concat(y):"")}}(t,e,o.value,i.value);break;case"polygon":o.value=av.parseStyleForPolygon(o.value),i.value=av.parseStyleForPolygon(i.value),a.value=function(t,e,n,r){for(var o=Math.max(n.length,r.length),i=[],a=0;a<o;a++){var c=n[a],u=r[a];c&&!u?i.push({x:Iv(0,0,c.x),y:Iv(0,0,c.y)}):!c&&u?i.push({x:Iv(0,0,u.x),y:Iv(0,0,u.y)}):i.push({x:zv(t,e,c.x,u.x,"width","self"),y:zv(t,e,c.y,u.y,"height","self")})}return function(t,e){return i.map((function(n){return"".concat(n.x(t,e)," ").concat(n.y(t,e))})).join(",")}}(t,e,o.value,i.value);break;case"path":o.value=av.parseStyleForPath(o.value),i.value=av.parseStyleForPath(i.value),a.value=makeInterpolateClipPathPath(t,e,o.value,i.value)}return function(t,e){var n=a.type(t,e),r=a.value(t,e);return"none"===n?n:"".concat(n,"(").concat(r,")")}}function um(t,e,n,r){for(var o={type:tb(0,0,n.type,r.type)},i=[],a=Math.max(n.value.length,r.value.length),c=0;c<a;c++){var u=n.value[c],s=r.value[c];u&&s?i.push(zv(t,e,u,s,n.type)):i.push(zv(t,e,n.value[c]||n.value[c-1]||n.value[c-2],r.value[c]||r.value[c-1]||r.value[c-2],n.type))}return o.value=i,function(t,e){return{type:o.type(t,e),value:o.value.map((function(n){return n(t,e)}))}}}function sm(t,e,n,r){for(var o={type:tb(0,0,n.type,r.type)},i=[],a=Math.max(n.value.length,r.value.length),c=0;c<a;c++){var u=n.value[c],s=r.value[c];if(u&&s)i.push(Av(t,e,u.value,s.value));else{var l=n.value[c].value||n.value[c-1].value||n.value[c-2].value,f=r.value[c].value||r.value[c-1].value||n.value[c-2].value;i.push(Av(t,e,l,f))}}return o.value=i,function(t,e){var n=o.value.map((function(n){return n(t,e)})),r=o.type(t,e);return(r.includes("matrix")||r.includes("scale"))&&(n=n.map((function(t){return $.number(t)}))),{type:r,value:n}}}function lm(t,e,n,r){for(var o={type:tb(0,0,n.type,r.type)},i=[],a=Math.max(n.value.length,r.value.length),c=0;c<a;c++){var u=n.value[c],s=r.value[c];u&&s?i.push(sb(0,0,u,s)):i.push(sb(0,0,n.value[c]||n.value[c-1]||n.value[c-2],r.value[c]||r.value[c-1]||n.value[c-2]))}return o.value=i,function(t,e){return{type:o.type(t,e),value:o.value.map((function(n){return n(t,e)}))}}}function fm(t,e,n,r){for(var o=yd.parseStyle(n.trim()),i=yd.parseStyle(r.trim()),a=Math.max(o.length,i.length),c=[],u=0;u<a;u++){var s=o[u],l=i[u];if(s&&!l)c.push(Iv(0,0,s));else if(!s&&l)c.push(Iv(0,0,l));else if(s.type!=l.type)c.push(tb(0,0,s,l));else switch(s.type){case"skewX":case"skewY":case"translate":case"translateX":case"translateY":case"translateZ":case"translate3d":case"perspective":c.push(um(t,e,s,l));break;case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"rotate3d":c.push(lm(0,0,s,l));break;case"scale":case"scaleX":case"scaleY":case"scaleZ":case"scale3d":case"matrix":case"matrix3d":c.push(sm(t,e,s,l))}}return function(t,e){return yd.join(c.map((function(n){return n(t,e)})))}}function pm(t,e,n,r){for(var o=n.split(" ").map((function(t){return $.parse(t)})),i=r.split(" ").map((function(t){return $.parse(t)})),a=Math.max(o.length,i.length),c=[],u=0;u<a;u++){var s=o[u],l=i[u];c.push(zv(t,e,s,l,"transform-origin"))}return function(t,e){return c.map((function(n){return n(t,e)})).join(" ")}}function ym(t,e,n,r){for(var o=n.split(" ").map((function(t){return $.parse(t)})),i=r.split(" ").map((function(t){return $.parse(t)})),a=Math.max(o.length,i.length),c=[],u=0;u<a;u++){var s=o[u],l=i[u];c.push(zv(t,e,s,l,"perspective-origin"))}return function(t,e){return c.map((function(n){return n(t,e)})).join(" ")}}function hm(t,e,n,r){for(var o=n.split(" ").map((function(t){return+t})),i=r.split(" ").map((function(t){return+t})),a=Math.max(o.length,i.length),c=[],u=0;u<a;u++){var s=o[u],l=i[u];c.push(Av(t,e,s,l))}return function(t,e){return c.map((function(n){return n(t,e)})).join(" ")}}function dm(t,e,n,r){for(var o=Math.max(n.length,r.length),i=[],a=n[n.length-1],c=r[r.length-1],u=0;u<o;u++){var s=n[u],l=r[u];s&&!l?i.push(Av(t,e,s,c)):!s&&l?i.push(Av(t,e,a,l)):i.push(Av(t,e,s,l))}return function(t,e){return i.map((function(n){return n(t,e)}))}}function vm(t,e,n,r){for(var o=new Vi,i=new Vi(n),a=new Vi(r),c=Math.max(i.segments.length,a.segments.length),u=[],s=0;s<c;s++){var l=i.segments[s],f=a.segments[s];l.command===f.command?l.values.length===f.values.length?u.push({command:Iv(0,0,l.command),values:dm(t,e,l.values,f.values)}):u.push({command:Iv(0,0,l.command),values:Iv(0,0,l.values)}):u.push({command:tb(0,0,l.command,f.command),values:tb(0,0,l.values,f.values)})}return function(t,e){var n=u.map((function(n){return{command:n.command(t,e),values:n.values(t,e)}}));return o.joinPath(n)}}function bm(t){return(bm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function gm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function km(t,e){return!e||"object"!==bm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Om(t){return(Om=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jm(t,e){return(jm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Sm=/[\b\t \,]/g,Pm=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return gm(this,e),km(this,Om(e).call(this,t))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jm(t,e)}(e,t),n=e,(r=[{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.segments=[],this.points=t,this.parse()}},{key:"resetSegments",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.segments=t,this.points=this.joinPoints()}},{key:"parse",value:function(){var t=this.points;ee(t)&&(t=t.join(" "));for(var e=t.trim().split(Sm).filter((function(t){return t})),n=[],r=0,o=e.length;r<o;r+=2)n.push({x:+e[r],y:+e[r+1]});this.segments=n}},{key:"convertGenerator",value:function(){return this.segments}},{key:"length",value:function(){return this.segments.length}},{key:"toPathString",value:function(){for(var t=new Gi,e=0,n=this.segments.length;e<n;e++){var r=this.segments[e];0===e?t.M(r):e===n-1?t.L(r).L(this.segments[0]).Z():t.L(r)}return t.d}},{key:"joinPath",value:function(t){return this.joinPoints(t)}},{key:"joinPoints",value:function(t){return(t||this.segments).map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"each",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.segments.map((function(n){return t.call(e,n)}));if(n)return r;this.segments=r}},{key:"_loop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.each((function(e){var n=mm(t([e.x,e.y],0),2),r=n[0],o=n[1];return e.x=r,e.y=o,e}),e)}},{key:"clone",value:function(){return new e(this.joinPoints())}},{key:"toString",value:function(){return this.joinPoints()}}])&&wm(n.prototype,r),o&&wm(n,o),e}(Vi);function xm(t,e,n,r){for(var o=new Pm,i=new Pm(n),a=new Pm(r),c=Math.max(i.segments.length,a.segments.length),u=[],s=i.segments[i.segments.length-1].x,l=i.segments[i.segments.length-1].y,f=a.segments[a.segments.length-1].x,p=a.segments[a.segments.length-1].y,y=0;y<c;y++){var h=i.segments[y],d=a.segments[y];h&&!d?u.push({x:Av(t,e,h.x,f),y:Av(t,e,h.y,p)}):!h&&d?u.push({x:Av(t,e,s,d.x),y:Av(t,e,l,d.y)}):u.push({x:Av(t,e,h.x,d.x),y:Av(t,e,h.y,d.y)})}return function(t,e){return o.joinPoints(u.map((function(n){return{x:n.x(t,e),y:n.y(t,e)}})))}}function $m(t,e,n,r){var o={x:Av("","",t,n),y:Av("","",e,r)};return function(t,e){return{x:o.x(t,e),y:o.y(t,e)}}}function Em(t,e,n,r,o,i){var a=[{x:t,y:e},{x:n,y:r},{x:o,y:i}];return function(t,e){return Rt(a,e)}}function _m(t,e,n,r,o,i,a,c){var u=[{x:t,y:e},{x:n,y:r},{x:o,y:i},{x:a,y:c}];return function(t,e){return Tt(u,e)}}function Cm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Tm(t){var e=[],n=[];t.forEach((function(t,r){switch(t.command){case"M":var o=Cm(t.values,2),i=o[0],a=o[1];n=[i,a];break;case"m":var c=Cm(n,2),u=c[0],s=c[1],l=Cm(t.values,2);i=l[0],a=l[1];n=[i+=u,a+=s];break;case"L":var f=Cm(n,2),p=(u=f[0],s=f[1],Cm(t.values,2));i=p[0],a=p[1];e.push({command:t.command,values:[u,s,i,a],length:H(u,s,i,a),interpolate:$m(u,s,i,a)}),n=[i,a];break;case"l":var y=Cm(n,2),h=(u=y[0],s=y[1],Cm(t.values,2));i=h[0],a=h[1];i+=u,a+=s,e.push({command:t.command,values:[u,s,i,a],length:H(u,s,i,a),interpolate:$m(u,s,i,a)}),n=[i,a];break;case"C":var d=Cm(n,2),v=(u=d[0],s=d[1],Cm(t.values,6)),b=v[0],m=v[1],g=v[2],w=v[3];i=v[4],a=v[5];e.push({command:t.command,values:[u,s,b,m,g,w,i,a],length:jt(u,s,b,m,g,w,i,a),interpolate:_m(u,s,b,m,g,w,i,a)}),n=[i,a];break;case"c":var k=Cm(n,2),O=(u=k[0],s=k[1],Cm(t.values,6));b=O[0],m=O[1],g=O[2],w=O[3],i=O[4],a=O[5];b+=u,g+=u,i+=u,m+=s,w+=s,a+=s,e.push({command:t.command,values:[u,s,b,m,g,w,i,a],length:jt(u,s,b,m,g,w,i,a),interpolate:_m(u,s,b,m,g,w,i,a)}),n=[i,a];break;case"Q":var j=Cm(n,2),S=(u=j[0],s=j[1],Cm(t.values,4));b=S[0],m=S[1],i=S[2],a=S[3];e.push({command:t.command,values:[u,s,b,m,i,a],length:St(u,s,b,m,i,a),interpolate:Em(u,s,b,m,i,a)}),n=[i,a];break;case"q":var P=Cm(n,2),x=(u=P[0],s=P[1],Cm(t.values,4));b=x[0],m=x[1],i=x[2],a=x[3];b+=u,i+=u,m+=s,a+=s,e.push({command:t.command,values:[u,s,b,m,i,a],length:St(u,s,b,m,i,a),interpolate:Em(u,s,b,m,i,a)}),n=[i,a];break;case"S":var $=Cm(n,2),E=(u=$[0],s=$[1],Cm(t.values,4)),_=(g=E[0],w=E[1],i=E[2],a=E[3],e[e.length-1]);if(["C","c","S","s"].includes(_.command)){var C=Cm(_.values,8),T=(C[0],C[1],C[2],C[3],C[4]),R=C[5],D=C[6],V=C[7],A=xi.getReversePoint({x:D,y:V},{x:T,preC1y:R});b=A.x,m=A.y;e.push({command:t.command,values:[u,s,b,m,g,w,i,a],length:getCubicDist(u,s,b,m,g,w,i,a),interpolate:_m(u,s,b,m,g,w,i,a)}),n=[i,a];break}case"s":var I=Cm(n,2),L=(u=I[0],s=I[1],Cm(t.values,4));g=L[0],w=L[1],i=L[2],a=L[3];g+=u,i+=u,w+=s,a+=s;_=e[e.length-1];if(["C","c","S","s"].includes(_.command)){var M=Cm(_.values,8),z=(M[0],M[1],M[2],M[3],T=M[4],R=M[5],D=M[6],V=M[7],xi.getReversePoint({x:D,y:V},{x:T,preC1y:R}));b=z.x,m=z.y;e.push({command:t.command,values:[u,s,b,m,g,w,i,a],length:getCubicDist(u,s,b,m,g,w,i,a),interpolate:_m(u,s,b,m,g,w,i,a)}),n=[i,a];break}case"T":var B=Cm(n,2),F=(u=B[0],s=B[1],Cm(t.values,2));i=F[0],a=F[1],_=e[e.length-1];if(["Q","q","T","t"].includes(_.command)){var G=Cm(_.values,6),X=(G[0],G[1],T=G[2],R=G[3],D=G[4],V=G[5],xi.getReversePoint({x:D,y:V},{x:T,preC1y:R}));b=X.x,m=X.y;e.push({command:t.command,values:[u,s,b,m,i,a],length:St(u,s,b,m,i,a),interpolate:Em(u,s,b,m,i,a)}),n=[i,a]}break;case"t":var Y=Cm(n,2),N=(u=Y[0],s=Y[1],Cm(t.values,2));i=N[0],a=N[1];i+=u,a+=s;_=e[e.length-1];if(["Q","q","T","t"].includes(_.command)){var K=Cm(_.values,6),W=(K[0],K[1],T=K[2],R=K[3],D=K[4],V=K[5],xi.getReversePoint({x:D,y:V},{x:T,preC1y:R}));b=W.x,m=W.y;e.push({command:t.command,values:[u,s,b,m,i,a],length:St(u,s,b,m,i,a),interpolate:Em(u,s,b,m,i,a)}),n=[i,a]}}}));var r=0;e.forEach((function(t){r+=t.length}));var o=0;return e.forEach((function(t){t.startT=o/r,t.endT=(o+t.length)/r,t.totalLength=r,o+=t.length})),{totalLength:r,interpolateList:e}}function Rm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Am(t,e,n,r,o){var i=Vm(n.split(",").map((function(t){return t.trim()})),4),a=i[0],c=i[1],u=i[2],s=i[3],l={id:a,distance:$.parse(c||"0%"),rotateStatus:u||"auto",rotate:$.parse(s||"0deg")},f=function(t,e){return{x:x,y:y}},p=0,h=0;if(o){var d=o.searchById(l.id);d&&(p=d.screenX.value,h=d.screenY.value),f=function(t,e,n){var r=Tm(new Vi(d.d||"").segments),o=r.totalLength,i=r.interpolateList,a=l.distance.toPx(o);(e+=a/o)>1&&(e-=1);var c=i[0];0===e?c=i[0]:1===e&&(c=i[i.length-1]);var u=i.find((function(t){return t.startT<=e&&e<t.endT}));u&&(c=u);var s=(e-c.startT)/(c.endT-c.startT),f=n(s);return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rm(Object(n),!0).forEach((function(e){Dm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},c.interpolate(f,s,n),{totalLength:c.totalLength})}}return function(e,n,r){var o=(t["transform-origin"]||"50% 50%").split(" ").map((function(t){return $.parse(t)})),i=o[0].toPx(t.width.value),a=o[1].toPx(t.height.value),c=f(e,n,r),u={x:c.x+p-i.value,y:c.y+h-a.value};if(t.setScreenX(u.x),t.setScreenY(u.y),"element"===l.rotateStatus);else{var s=c,y=0;n<1&&(y=1/c.totalLength);var d=f(e+y,n+y,r),v=X(d.x-s.x,d.y-s.y),b=$.deg(function(t,e){var n=0;switch(t){case"angle":n=l.rotate.value;break;case"auto angle":n=e+l.rotate.value;break;case"reverse":n=e+180;break;case"auto":n=e}return n}(l.rotateStatus,v));t.reset({transform:yd.rotate(t.transform,b)})}return u}}function Im(t,e,n,r){arguments.length>4&&void 0!==arguments[4]&&arguments[4];var o=r.length-1,i=0;return function(t,e){return 0===e?"":1===e?r:r.substring(i,Math.floor((o-i)*e))}}function Lm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Mm(t,e,n,r,o,i){var a=i.$("video").el,c=Lm(n.split(":"),3),u=c[0],s=(c[1],+(u||0)*+(c[2]||1));return function(e,n){0===n?(a.currentTime=s,a.paused&&a.play()):1===n?(t.reset({currentTime:a.currentTime}),a.pause()):a.paused&&a.play()}}function zm(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Bm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Fm=function(){return function(t,e){}};function Gm(t,e,n,r,o,i,a){var c=o||e;switch(c){case"width":case"x":return zv(t,e,n,r,"width");case"height":case"y":return zv(t,e,n,r,"height");case"perspective":case"font-size":case"font-stretch":case"font-weight":case"text-stroke-width":case"RangeEditor":case"textLength":case"startOffset":return zv(t,e,n,r,e);case"fill-opacity":case"opacity":case"stroke-dashoffset":case"currentTime":case"NumberRangeEditor":return Av(t,e,+n,+r);case"background-color":case"color":case"text-fill-color":case"text-stroke-color":case"fill":case"stroke":case"ColorViewEditor":return eb(0,0,n,r);case"mix-blend-mode":case"fill-rule":case"stroke-linecap":case"stroke-linejoin":case"SelectEditor":case"lengthAdjust":return rb(0,0,n,r);case"rotate":return sb(0,0,n,r)}var u=function(t){switch(t){case"border-radius":return Hv;case"border":return makeInterpolateBorder;case"box-shadow":return nb;case"text-shadow":return kb;case"background-image":case"BackgroundImageEditor":return Cb;case"filter":case"backdrop-filter":return am;case"clip-path":return cm;case"transform":return fm;case"transform-origin":return pm;case"perspective-origin":return ym;case"stroke-dasharray":return hm;case"d":return vm;case"points":return xm;case"offset-path":return Am;case"text":return Im;case"playTime":return Mm}}(c);return u?u(t,e,n,r,i,a):Fm}function Hm(t,e,n,r,o,i,a){return Gm(t,e,n,r,o,i,a)}function Xm(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"linear",e=t.split("(").map((function(t){return t.trim()})),n=Bm(e,2),r=n[0],o=n[1];o=(o||"").split(")")[0].trim();var i=ub[r];if(i){var a=t.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()}));return i.apply(void 0,zm(a))}return Ym(t)}function Ym(t){var e=_t(t);return function(t){return e(t).y}}function Nm(t){return(Nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Km(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Wm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Um(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wm(Object(n),!0).forEach((function(e){Zm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qm(t,e){return!e||"object"!==Nm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tg(t,e,n){return(tg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=eg(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function eg(t){return(eg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ng(t,e){return(ng=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rg=function(t){function e(){return qm(this,e),Qm(this,eg(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ng(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new e(t)}}],(r=[{key:"getDefaultObject",value:function(){return tg(eg(e.prototype),"getDefaultObject",this).call(this,{itemType:"offset",offset:$.percent(0),color:"rgba(255, 255, 255, 1)",properties:[]})}},{key:"toCloneObject",value:function(){return Um({},tg(eg(e.prototype),"toCloneObject",this).call(this),{offset:this.json.offset+"",color:this.json.color,properties:this.json.properties.map((function(t){return ue(t)}))})}},{key:"convert",value:function(t){return(t=tg(eg(e.prototype),"convert",this).call(this,t)).offset=$.parse(t.offset),t}},{key:"toCSSText",value:function(){return"".concat(this.json.offset," ").concat(de(this.toCSS()))}},{key:"createProperty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addProperty(Um({checked:!0,value:$.z()},t))}},{key:"addProperty",value:function(t){this.json.properties.push(t)}},{key:"removeProperty",value:function(t){this.json.properties.splice(t,1)}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(Km(t.splice(e,1))))}},{key:"sortProperty",value:function(t,e){this.sortItem(this.json.properties,t,e)}},{key:"updateProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(this.json.properties[+t],Um({},e))}},{key:"updatePropertyByKey",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.json.properties,r=-1,o=0,i=n.length;o<i;o++)if(this.json.properties[o].key===t){r=o;break}Object.assign(this.json.properties[+r],Um({},e))}},{key:"toCSS",value:function(){var t={};return this.json.properties.forEach((function(e){t=Um({},t,{},e.toCSS())})),t}},{key:"toString",value:function(){return this.toCSSText()}}])&&Jm(n.prototype,r),o&&Jm(n,o),e}(ac);function og(t){return(og="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ig(t){return function(t){if(Array.isArray(t))return t}(t)||cg(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ag(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||cg(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function cg(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function ug(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ug(Object(n),!0).forEach((function(e){lg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ug(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yg(t,e){return!e||"object"!==og(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hg(t,e,n){return(hg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dg(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function dg(t){return(dg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vg(t,e){return(vg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bg=function(t){function e(){return fg(this,e),yg(this,dg(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vg(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new e(t)}},{key:"parseStyle",value:function(t){var n=[],r={};if(t.keyframe){var o=fn(t.keyframe);o.str.split("|").map((function(t){return t.trim()})).forEach((function(t,i){var a=ig(t.split(" ")),c=a[0],u=a[1],s=a[2],l=a.slice(3).join(" ");r[c]||(r[c]=new e({name:c}),n[i]=c);var f=r[c].offsets.filter((function(t){return t.offset.equals($.parse(u))})),p=null;f.length?p=f[0]:(p=new rg({offset:$.parse(u)}),r[c].offsets.push(p)),p.addProperty({key:s,value:yn(l,o.matches)})}))}return n.map((function(t){return r[t].offsets.forEach((function(t){var e=[],n=[];t.properties.forEach((function(t){t.key.includes("--")?e.push(t):n.push(t)}));var r=e.map((function(t){return"".concat(t.key,":").concat(t.value)})).join(";");e.length&&n.push({key:"var",value:r}),t.properties=n})),r[t]}))}}],(r=[{key:"getDefaultObject",value:function(){return hg(dg(e.prototype),"getDefaultObject",this).call(this,{itemType:"keyframe",name:"sample",selectedType:"list",offsets:[]})}},{key:"toCloneObject",value:function(){var t=this.json,n=t.name,r=t.selectedType,o=t.offsets;return sg({},hg(dg(e.prototype),"toCloneObject",this).call(this),{name:n,selectedType:r,offsets:o.map((function(t){return t.clone()}))})}},{key:"isMultiStyle",value:function(t){switch(t){case"background-image":case"var":return!0}return!1}},{key:"getMultiStyleString",value:function(t){switch(t.key){case"background-image":return t.value.toString()+";";case"var":return(t.value+"").split(";").map((function(t){return"--"+t})).join(";")+";"}return t.value.toString()+";"}},{key:"toOffsetString",value:function(t){var e=this;return"".concat(t.offset.toString()," {\n").concat("      ").concat(t.properties.map((function(t){if(e.isMultiStyle(t.key))return e.getMultiStyleString(t);var n=(t.value||"").toString();if(n){var r=t.key;return"x"===r?r="left":"y"===r&&(r="top"),"".concat(r,": ").concat(n,";")}return""})).join("").replace(/\;/g,";\n      ").trim(),"\n  }")}},{key:"toOffsetText",value:function(){var t=this,e=this.json.offsets.map((function(t){return t}));return e.sort((function(t,e){return t.offset.value>e.offset.value?1:-1})),e.map((function(e){return 0===e.properties.length?"":t.toOffsetString(e)})).join("\n")}},{key:"toCSSText",value:function(){return this.json.offsets.map((function(t){return t})).sort((function(t,e){return t.offset.value>e.offset.value?1:-1})),"\n@keyframes ".concat(this.json.name," {\n\n  ").concat(this.toOffsetText(),"\n\n}\n")}},{key:"createOffset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addOffset(new rg(sg({checked:!0},t)))}},{key:"addOffset",value:function(t){this.json.offsets.push(t)}},{key:"removeOffset",value:function(t){this.json.offsets.splice(t,1)}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(ag(t.splice(e,1))))}},{key:"sortOffset",value:function(t,e){this.sortItem(this.json.offsets,t,e)}},{key:"updateOffset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.offsets[+t].reset(e)}},{key:"toCSS",value:function(){return{}}},{key:"toString",value:function(){return this.toCSSText()}}])&&pg(n.prototype,r),o&&pg(n,o),e}(ac);function mg(t){return(mg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gg(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function wg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wg(Object(n),!0).forEach((function(e){Og(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Og(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pg(t,e){return!e||"object"!==mg(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xg(t,e,n){return(xg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$g(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function $g(t){return($g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Eg(t,e){return(Eg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _g(t){return(_g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cg(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Tg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tg(Object(n),!0).forEach((function(e){Dg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Dg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ag(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ig(t,e){return!e||"object"!==_g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lg(t,e,n){return(Lg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mg(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Mg(t){return(Mg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zg(t,e){return(zg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Bg=function(t){function e(){return Vg(this,e),Ig(this,Mg(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zg(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Lg(Mg(e.prototype),"getDefaultObject",this).call(this,Rg({timeline:[],compiledTimeline:{}},t))}},{key:"expectJSON",value:function(t){return"compiledTimeline"!==t&&Lg(Mg(e.prototype),"expectJSON",this).call(this,t)}},{key:"setTimelineInfo",value:function(t){var e=this.getSelectedTimeline();e&&["speed","iterationCount","direction"].forEach((function(n){te(t[n])&&(e[n]=t[n])}))}},{key:"compileAll",value:function(){var t=this,e=this.getSelectedTimeline();this.json.compiledTimeline={},e&&e.animations.forEach((function(e){e.properties.forEach((function(n){t.compiledTimingFunction(e.id,n.property)}))}))}},{key:"searchTimelineOffset",value:function(t){var e=this,n=this.getSelectedTimeline(),r=[];return n&&n.animations.forEach((function(n){n.properties.forEach((function(o){var i=e.getCompiledTimingFunction(n.id,o.property);r.push(i.find((function(e){return!!(e.isOnlyTime&&e.startTime<=t)||e.startTime<=t&&t<e.endTime})))}))})),r.filter((function(t){return t}))}},{key:"getCompiledTimingFunction",value:function(t,e){return this.json.compiledTimeline["".concat(t,".").concat(e)]}},{key:"compiledTimingFunction",value:function(t,e){var n=this,r=this,o=this.getTimelineProperty(t,e),i=this.searchById(t),a="".concat(t,".").concat(e);if(1!==o.keyframes.length){var c=Nn.body().$('[data-id="'.concat(t,'"]')),u=o.keyframes.map((function(t){return t.editor}))[0];this.json.compiledTimeline[a]=o.keyframes.map((function(t,e){var a=t,s=o.keyframes[e+1];t.editor=u,s||(s={time:t.time,value:t.value});var l={layer:i,layerElement:c,property:o.property,isOnlyTime:a.time===s.time,startTime:t.time,endTime:s.time,startValue:t.value,endValue:s.value,timing:t.timing,interpolateFunction:Hm(i,o.property,t.value,s.value,t.editor,r,c),timingFunction:Xm(t.timing)};return l.func=n.makeTimingFunction(l),l})).filter((function(t){return t}))}else this.json.compiledTimeline[a]=[]}},{key:"makeTimingFunction",value:function(t){return function(e){var n=t.endTime-t.startTime,r=1;return 0!==n&&(r=(e-t.startTime)/n),t.interpolateFunction(t.timingFunction(r),r,n,t.timingFunction)}}},{key:"stop",value:function(t){var e=this.getSelectedTimeline();if(e){var n=e.currentTime;this.searchTimelineOffset(n).forEach((function(t){if("playTime"===t.property){var e=t.layerElement.$("video");e&&e.el.pause()}}))}}},{key:"seek",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n=this.getSelectedTimeline();if(n){te(t)&&this.setTimelineCurrentTime(t);var r=n.currentTime;this.searchTimelineOffset(r).filter(e).forEach((function(t){"offset-path"===t.property||"playTime"===t.property?t.func(r):t.layer&&t.layer.reset(Dg({},t.property,t.func(r)))}))}}},{key:"getSelectedTimeline",value:function(){var t=this.json.timeline,e=t.filter((function(t){return t.selected}));return(e.length?e[0]:t[0])||null}},{key:"getKeyframeListReturnArray",value:function(){var t=this.getSelectedTimeline(),e=[];return t&&t.animations.forEach((function(t){t.properties.forEach((function(t){e.push.apply(e,Cg(t.keyframes))}))})),e}},{key:"getKeyframeList",value:function(t){var e=this.getSelectedTimeline();e&&e.animations.forEach((function(n){n.properties.forEach((function(n){n.keyframes.forEach((function(n){t&&t(e,n)}))}))}))}},{key:"getSelectedTimelineLastTime",value:function(){var t=0;return this.getKeyframeList((function(e,n){t=Math.max(n.time,t)})),t}},{key:"getSelectedTimelineFirstTime",value:function(){var t=Number.MAX_SAFE_INTEGER;return this.getKeyframeList((function(e,n){t=Math.min(n.time,t)})),t}},{key:"getSelectedTimelinePrevTime",value:function(){var t=this.getSelectedTimelineFirstTime();return this.getKeyframeList((function(e,n){Fa(e.fps,n.time)<e.currentTimecode&&(t=Math.max(n.time,t))})),t}},{key:"getSelectedTimelineNextTime",value:function(){var t=this.getSelectedTimelineLastTime();return this.getKeyframeList((function(e,n){Fa(e.fps,n.time)>e.currentTimecode&&(t=Math.min(n.time,t))})),t}},{key:"setTimelineTitle",value:function(t,e){var n=this.json.timeline.find((function(e){return e.id===t}));n&&(n.title=e)}},{key:"selectTimeline",value:function(t){t?this.json.timeline.forEach((function(e){e.selected=e.id===t})):this.json.timeline.filter((function(t){return t.selected})).length||this.json.timeline.length&&(this.json.timeline.selected=!0),this.compileAll()}},{key:"removeAnimation",value:function(t){this.json.timeline=this.json.timeline.filter((function(e){return e.id!==t})),this.json.timeline.length&&(this.json.timeline[0].selected=!0),this.compileAll()}},{key:"addTimeline",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00:00:10:00",n=Z(),r=Rg({id:n,title:"sample"},this.getTimelineLayerInfo(t,e),{animations:[]});return this.json.timeline.push(r),this.selectTimeline(n),r}},{key:"addTimelineLayer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"00:00:10:00",r=this.getSelectedTimeline();if(r||(r=this.addTimeline(e,n)),r.selected=!0,t){var o=r.animations.filter((function(e){return e.id===t}));o[0]||r.animations.push({id:t,properties:[]})}}},{key:"getTimelineLayerInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00:00:10:00",n=Ba(t,e);return{fps:t,speed:1,direction:"normal",iterationCount:1,currentTimecode:Fa(t,0),totalTimecode:Fa(t,n),currentTime:0,totalTime:n,displayStartTime:0,displayEndTime:n}}},{key:"setTimelineCurrentTime",value:function(t){var e=this.getSelectedTimeline(),n=e.fps,r=e.totalTimecode;if(e){var o=t,i=t;+o+""===o&&(i=Ga(n,o=+o)),i>r&&(i=r);var a=Ba(n,i);e.currentTime=a,e.currentTimecode=Fa(n,a)}}},{key:"setDisplayTimeDxRate",value:function(t,e,n){var r=this.getSelectedTimeline();if(r){var o=t*r.totalTime,i=e+o,a=n+o;i=Math.max(i,0),0===(i=Math.min(i,a))&&(a=n-e),a=Math.max(a,i),(a=Math.min(a,r.totalTime))===r.totalTime&&(i=r.totalTime-(n-e)),r.displayStartTime=i,r.displayEndTime=a}}},{key:"setDisplayStartTimeRate",value:function(t){var e=this.getSelectedTimeline();e&&(e.displayStartTime=t*e.totalTime)}},{key:"setDisplayEndTimeRate",value:function(t){var e=this.getSelectedTimeline();e&&(e.displayEndTime=t*e.totalTime)}},{key:"setTimelineCurrentTimeRate",value:function(t){var e=this.getSelectedTimeline();if(e){var n=e.displayStartTime,r=e.displayEndTime,o=e.fps,i=n+(r-n)*t;this.setTimelineCurrentTime(Fa(o,i))}}},{key:"setTimelineTotalTime",value:function(t){var e=this.getSelectedTimeline();if(e){var n=t,r=t;+n+""===n&&(n=+n,r=Ga(e.fps,n)),Ba(e.fps,r)<e.displayEndTime&&(e.displayEndTime=Ba(e.fps,r),e.displayStartTime=0),e.totalTimecode=r,e.totalTime=Ba(e.fps,r)}}},{key:"getTimelineObject",value:function(t){var e=this.getSelectedTimeline();if(e)return e.animations.find((function(e){return e.id===t}))}},{key:"addTimelineProperty",value:function(t,e){this.addTimelineLayer(t);var n=this.getTimelineObject(t);n&&(n.properties.filter((function(t){return t.property===e})).length||(n.properties.push({property:e,keyframes:[]}),this.compiledTimingFunction(t,e)))}},{key:"getTimelineProperty",value:function(t,e){var n=this.getSelectedTimeline();if(n){t=t||n.selectedLayerId,e=e||n.selectedProperty;var r=this.getTimelineObject(t);if(r)return r.properties.find((function(t){return t.property===e}))}}},{key:"setSelectedOffset",value:function(t,e,n){var r=this.getSelectedTimeline();r&&(r.selectedLayerId=t,r.selectedProperty=e,r.selectedOffsetTime=n,this.getTimelineProperty().keyframes.forEach((function(t){t.selected=t.time===n})))}},{key:"deleteTimelineKeyframe",value:function(t,e,n){var r=this.getTimelineProperty(t,e);r&&(r.keyframes=r.keyframes.filter((function(t){return t.id!=n})))}},{key:"removeTimelineProperty",value:function(t,e){var n=this.getTimelineObject(t);n&&(n.properties=n.properties.filter((function(t){return t.property!=e})))}},{key:"removeTimeline",value:function(t){var e=this.getSelectedTimeline();e&&(e.animations=e.animations.filter((function(e){return e.id!=t})))}},{key:"setTimelineKeyframeOffsetTime",value:function(t,e,n,r){var o=this.getTimelineKeyframeById(t,e,n);o&&(o.time=r,this.compiledTimingFunction(t,e))}},{key:"setTimelineKeyframeOffsetValue",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.getTimelineKeyframeById(t,e,n);a&&(te(i)&&(a.time=i),te(r)&&(a.value=r),te(o)&&(a.timing=o),this.compiledTimingFunction(t,e))}},{key:"addTimelineKeyframe",value:function(t){var e=t.layerId,n=t.property,r=t.value,o=t.timing,i=t.time,a=t.editor;this.addTimelineProperty(e,n);var c=this.getSelectedTimeline(),u=this.getTimelineProperty(e,n);if(u){var s=i||c.currentTime;if(!u.keyframes.filter((function(t){return t.time===s})).length){r=Qt(r)||""===r?this.getDefaultPropertyValue(n):r;var l={id:Z(),layerId:e,property:n,time:s,value:r,timing:o||"linear",editor:a};return u.keyframes.push(l),u.keyframes.sort((function(t,e){return t.time>e.time?1:-1})),this.compiledTimingFunction(e,n),l}}}},{key:"getDefaultPropertyValue",value:function(t){switch(t){case"mix-blend-mode":return"normal";case"rotate":return"0deg";case"box-shadow":return"0px 0px 0px 0px rgba(0, 0, 0, 1)";case"text-shadow":return"0px 0px 0px rgba(0, 0, 0, 1)";case"opacity":return 1;default:return""}}},{key:"copyTimelineKeyframe",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.getTimelineProperty(t,e);if(r){var o=this.getSelectedTimeline(),i=n||o.currentTime,a=r.keyframes.filter((function(t){return t.time<i})),c=this.getDefaultPropertyValue(e),u="linear",s="";a.length&&(a.sort((function(t,e){return t.time>e.time?-1:1})),c=a[0].value+"",u=a[0].timing+"",s=a[0].editor),this.addTimelineKeyframe({layerId:t,property:e,value:c,timing:u,editor:s})}}},{key:"getTimelineKeyframe",value:function(t,e,n){var r=this.getTimelineProperty(t,e);if(r)return r.keyframes.find((function(t){return t.time===n}))}},{key:"getTimelineKeyframeById",value:function(t,e,n){var r=this.getTimelineProperty(t,e);if(r)return r.keyframes.find((function(t){return t.id===n}))}},{key:"sortTimelineKeyframe",value:function(t,e){var n=this.getTimelineProperty(t,e);n&&(n.keyframes.sort((function(t,e){return t.time>e.time?1:-1})),this.compiledTimingFunction(t,e))}},{key:"setFps",value:function(t){var e=this.getSelectedTimeline();e&&(e.fps=t,e.currentTimecode=Fa(t,e.currentTime),e.totalTimecode=Fa(t,e.totalTime))}},{key:"toCloneObject",value:function(){return Rg({},Lg(Mg(e.prototype),"toCloneObject",this).call(this),{timeline:ue(this.json.timeline)})}}])&&Ag(n.prototype,r),o&&Ag(n,o),e}(function(t){function e(){return jg(this,e),Pg(this,$g(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Eg(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xg($g(e.prototype),"getDefaultObject",this).call(this,kg({colors:[],gradients:[],svgfilters:[],svgimages:[],keyframes:[],images:[],imageKeys:[],videos:[],audios:[]},t))}},{key:"addKeyframe",value:function(t){return this.json.keyframes.push(t),t}},{key:"createKeyframe",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addKeyframe(new bg(kg({checked:!0},t)))}},{key:"removeKeyframe",value:function(t){this.removePropertyList(this.json.keyframes,t)}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(gg(t.splice(e,1))))}},{key:"sortKeyframe",value:function(t,e){this.sortItem(this.json.keyframes,t,e)}},{key:"updateKeyframe",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.keyframes[+t].reset(e)}},{key:"toKeyframeString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.json.keyframes.map((function(e){return e.toString(t)})).join("\n\n")}},{key:"copyPropertyList",value:function(t,e){var n=kg({},t[e]);t.splice(e,0,n)}},{key:"toCloneObject",value:function(){var t=this.json;return kg({},xg($g(e.prototype),"toCloneObject",this).call(this),{colors:ue(t.colors),gradients:ue(t.gradients),svgfilters:ue(t.svgfilters),svgimages:ue(t.svgimages),images:ue(t.images),keyframes:t.keyframes.map((function(t){return t.clone()}))})}},{key:"removePropertyList",value:function(t,e){t.splice(e,1)}},{key:"removeColor",value:function(t){this.removePropertyList(this.json.colors,t)}},{key:"copyColor",value:function(t){this.copyPropertyList(this.json.colors,t)}},{key:"sortColor",value:function(t,e){this.sortItem(this.json.colors,t,e)}},{key:"setColorValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.colors[t]=kg({},this.json.colors[t],{},e)}},{key:"getColorIndex",value:function(t){return this.json.colors[t]}},{key:"getColor",value:function(t){return this.json.colors.filter((function(e){return e.name===t}))[0]}},{key:"addColor",value:function(t){return this.json.colors.push(t),t}},{key:"createColor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addColor(t)}},{key:"removeImage",value:function(t){this.removePropertyList(this.json.images,t),this.refreshImageKeys()}},{key:"copyImage",value:function(t){this.copyPropertyList(this.json.images,t),this.refreshImageKeys()}},{key:"sortImage",value:function(t,e){this.sortItem(this.json.images,t,e)}},{key:"setImageValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.images[t]=kg({},this.json.images[t],{},e),this.refreshImageKeys()}},{key:"getImageValueById",value:function(t){var e=this.json.imageKeys[t];if(e)return e.local}},{key:"refreshImageKeys",value:function(){var t={};this.json.images.forEach((function(e){t[e.id]=e})),this.reset({imageKeys:t})}},{key:"addImage",value:function(t){return this.json.images.push(t),this.refreshImageKeys(),t}},{key:"createImage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addImage(t)}},{key:"removeVideo",value:function(t){this.removePropertyList(this.json.videos,t)}},{key:"copyVideo",value:function(t){this.copyPropertyList(this.json.videos,t)}},{key:"sortVideo",value:function(t,e){this.sortItem(this.json.videos,t,e)}},{key:"setVideoValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.videos[t]=kg({},this.json.videos[t],{},e)}},{key:"addVideo",value:function(t){return this.json.videos.push(t),t}},{key:"createVideo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addVideo(t)}},{key:"removeGradient",value:function(t){this.removePropertyList(this.json.gradients,t)}},{key:"copyGradient",value:function(t){this.copyPropertyList(this.json.gradients,t)}},{key:"sortGradient",value:function(t,e){this.sortItem(this.json.gradients,t,e)}},{key:"setGradientValue",value:function(t,e){this.json.gradients[t]=kg({},this.json.gradients[t],{},e)}},{key:"getGradientIndex",value:function(t){return this.json.gradients[t]}},{key:"getGradient",value:function(t){return this.json.gradients.filter((function(e){return e.name===t}))[0]}},{key:"addGradient",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.json.gradients.push(t),t}},{key:"createGradient",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addGradient(t)}},{key:"getSVGFilterIndex",value:function(t){var e=this.json.svgfilters.map((function(t,e){return{id:t.id,index:e}})).filter((function(e){return e.id===t}))[0];return e?e.index:-1}},{key:"removeSVGFilter",value:function(t){this.removePropertyList(this.json.svgfilters,t)}},{key:"copySVGFilter",value:function(t){this.copyPropertyList(this.json.svgfilters,t)}},{key:"sortSVGFilter",value:function(t,e){this.sortItem(this.json.svgfilters,t,e)}},{key:"setSVGFilterValue",value:function(t,e){this.json.svgfilters[t]=kg({},this.json.svgfilters[t],{},e)}},{key:"addSVGFilter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.json.svgfilters.push(t);var e=this.json.svgfilters.length-1;return e}},{key:"createSVGFilter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addSVGFilter(t)}},{key:"getSVGImageIndex",value:function(t){var e=this.json.svgimages.map((function(t,e){return{id:t.id,index:e}})).filter((function(e){return e.id===t}))[0];return e?e.index:-1}},{key:"removeSVGImage",value:function(t){this.removePropertyList(this.json.svgimages,t)}},{key:"copySVGImage",value:function(t){this.copyPropertyList(this.json.svgimages,t)}},{key:"sortSVGImage",value:function(t,e){this.sortItem(this.json.svgimages,t,e)}},{key:"setSVGImageValue",value:function(t,e){this.json.svgimages[t]=kg({},this.json.svgimages[t],{},e)}},{key:"addSVGImage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.json.svgimages.push(t);var e=this.json.svgimages.length-1;return e}},{key:"createSVGImage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addSVGImage(t)}}])&&Sg(n.prototype,r),o&&Sg(n,o),e}(fi));function Fg(t){return(Fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gg(Object(n),!0).forEach((function(e){Xg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ng(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kg(t,e){return!e||"object"!==Fg(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wg(t,e,n){return(Wg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ug(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ug(t){return(Ug=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zg(t,e){return(Zg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qg="SourceGraphic,SourceAlpha,BackgroundImage,BackgroundAlpha,FillPaint,StrokePaint".split(","),Jg={xChannelSelector:!0,yChannelSelector:!0},Qg=function(t){function e(){return Yg(this,e),Kg(this,Ug(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zg(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new(0,eP[t.type])(t)}}],(r=[{key:"hasLight",value:function(){return!1}},{key:"isLight",value:function(){return!1}},{key:"isSource",value:function(){return!1}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Z();return Wg(Ug(e.prototype),"getDefaultObject",this).call(this,Hg({itemType:"svgfilter",id:n,in:[],bound:{x:100,y:100,targetX:0,targetY:0},connected:[]},t))}},{key:"getInCount",value:function(){return 0}},{key:"setIn",value:function(t,e){this.json.in[t]={id:e.id,type:e.type}}},{key:"setConnected",value:function(t){0===this.json.connected.filter((function(e){return e.id===t.id})).length&&this.json.connected.push({id:t.id})}},{key:"convert",value:function(t){return re(t.in)&&(t.in=JSON.parse(t.in)),re(t.bound)&&(t.bound=JSON.parse(t.bound)),re(t.connected)&&(t.connected=JSON.parse(t.connected)),t}},{key:"toCloneObject",value:function(){return Hg({},Wg(Ug(e.prototype),"toCloneObject",this).call(this),{id:this.json.id,in:ue(this.json.in),bound:ue(this.json.bound),connected:ue(this.json.connected)})}},{key:"getDefaultAttribute",value:function(){var t=this,e=[];return this.json.connected.length&&e.push('result="'.concat(this.json.id,'result"')),Object.keys(Jg).filter((function(e){return!!t.json[e]})).forEach((function(n){e.push("".concat(n,'="').concat(t.json[n],'"'))})),e.join(" ")+" "+this.getSourceInAttribute()}},{key:"hasInIndex",value:function(){return!1}},{key:"getSourceInAttribute",value:function(t){var e=this;return(t||this.json.in).map((function(t,n){if(!t)return"";var r=0===n?"":n+1+"";return e.hasInIndex()||(r=""),qg.includes(t.type)?"in".concat(r,'="').concat(t.type,'"'):"in".concat(r,'="').concat(t.id,'result"')})).join(" ")}},{key:"toString",value:function(){var t=this.json,e=t.type,n=t.value;return"<fe".concat(e,' value="').concat(n,'" ').concat(this.getDefaultAttribute()," />")}}])&&Ng(n.prototype,r),o&&Ng(n,o),e}(ac);function tw(t){return(tw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ew(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rw(t,e){return!e||"object"!==tw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ow(t,e,n){return(ow="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=iw(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function iw(t){return(iw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function aw(t,e){return(aw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cw=function(t){function e(){return ew(this,e),rw(this,iw(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aw(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return ow(iw(e.prototype),"getDefaultObject",this).call(this,{type:"RotaMatrix",hueRotate:e.spec.hueRotate.defaultValue})}},{key:"convert",value:function(t){return t.hueRotate=$.parse(t.hueRotate),t}},{key:"toString",value:function(){var t=this.json,e=t.id,n=t.hueRotate;return('\n      <feColorMatrix type="hueRotate" result="romatrix-'.concat(e,'"  values="').concat(n,'"/>\n      <feColorMatrix type="matrix" in="romatrix-').concat(e,'" in2="SourceGraphic"  ').concat(this.getDefaultAttribute(),' values="-1 2 -3 0 -.5 2 1 0 0 0 0 3 1 0 0 0 0 1 1 0"/>\n    '))}}])&&nw(n.prototype,r),o&&nw(n,o),e}(Qg);function uw(t){return(uw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fw(t,e){return!e||"object"!==uw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pw(t,e,n){return(pw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yw(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function yw(t){return(yw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hw(t,e){return(hw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}cw.spec={hueRotate:{title:"hue-rotate",inputType:"number-range",min:0,max:360,step:1,defaultValue:$.number(0)}};var dw=function(t){function e(){return sw(this,e),fw(this,yw(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hw(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return pw(yw(e.prototype),"getDefaultObject",this).call(this,{type:"Merge"})}},{key:"getInCount",value:function(){return 3}},{key:"getDefaultAttribute",value:function(){var t=[];return this.json.connected.length&&t.push('result="'.concat(this.json.id,'result"')),t.join(" ")}},{key:"toString",value:function(){var t=this,e=this.json.in;return"\n    <feMerge  ".concat(this.getDefaultAttribute()," >\n      ").concat(e.map((function(e){return"<feMergeNode ".concat(t.getSourceInAttribute([e])," />")})).join(""),"\n    </feMerge>")}}])&&lw(n.prototype,r),o&&lw(n,o),e}(Qg);function vw(t){return(vw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gw(t,e){return!e||"object"!==vw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ww(t,e,n){return(ww="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kw(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function kw(t){return(kw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ow(t,e){return(Ow=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}dw.spec={};var jw=function(t){function e(){return bw(this,e),gw(this,kw(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ow(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return ww(kw(e.prototype),"getDefaultObject",this).call(this,{type:"Composite",operator:e.spec.operator.defaultValue,k1:e.spec.k1.defaultValue,k2:e.spec.k2.defaultValue,k3:e.spec.k3.defaultValue,k4:e.spec.k4.defaultValue})}},{key:"getInCount",value:function(){return 2}},{key:"toString",value:function(){var t=this.json,e=t.operator,n=t.k1,r=t.k2,o=t.k3,i=t.k4,a="";return"arithmetic"===e&&(a=' k1="'.concat(n,'" k2="').concat(r,'" k3="').concat(o,'" k4="').concat(i,'" ')),'<feComposite operator="'.concat(e,'" ').concat(a,"  ").concat(this.getDefaultAttribute()," />")}},{key:"hasInIndex",value:function(){return!0}}])&&mw(n.prototype,r),o&&mw(n,o),e}(Qg);function Sw(t){return(Sw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $w(t,e){return!e||"object"!==Sw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ew(t,e,n){return(Ew="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_w(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function _w(t){return(_w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cw(t,e){return(Cw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}jw.spec={operator:{title:"operator",inputType:"select",options:"over,in,out,atop,xor,arithmetic",defaultValue:"over"},k1:{title:"k1",inputType:"number-range",min:0,max:1,step:.01,defaultValue:$.number(0)},k2:{title:"k2",inputType:"number-range",min:0,max:1,step:.01,defaultValue:$.number(0)},k3:{title:"k3",inputType:"number-range",min:0,max:1,step:.01,defaultValue:$.number(0)},k4:{title:"k4",inputType:"number-range",min:0,max:1,step:.01,defaultValue:$.number(0)}};var Tw=function(t){function e(){return Pw(this,e),$w(this,_w(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cw(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Ew(_w(e.prototype),"getDefaultObject",this).call(this,{type:"Morphology",operator:e.spec.operator.defaultValue,radius:e.spec.radius.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json,e=t.operator,n=t.radius;return'<feMorphology operator="'.concat(e,'" radius="').concat(n,'"  ').concat(this.getDefaultAttribute()," />")}}])&&xw(n.prototype,r),o&&xw(n,o),e}(Qg);function Rw(t){return(Rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Aw(t,e){return!e||"object"!==Rw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Iw(t,e,n){return(Iw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Lw(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Lw(t){return(Lw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mw(t,e){return(Mw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Tw.spec={operator:{title:"Operator",inputType:"select",options:"erode,dilate",defaultValue:"erode"},radius:{title:"Radius",inputType:"number-range",min:0,max:100,step:1,defaultValue:$.number(0)}};var zw=function(t){function e(){return Dw(this,e),Aw(this,Lw(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mw(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Iw(Lw(e.prototype),"getDefaultObject",this).call(this,{type:"Turbulence",filterType:e.spec.filterType.defaultValue,baseFrequency:e.spec.baseFrequency.defaultValue,numOctaves:e.spec.numOctaves.defaultValue,seed:e.spec.seed.defaultValue})}},{key:"convert",value:function(t){return t.baseFrequency=$.parse(t.baseFrequency),t.numOctaves=$.parse(t.numOctaves),t.seed=$.parse(t.seed),t}},{key:"toString",value:function(){var t=this.json,e=t.filterType,n=t.baseFrequency,r=t.numOctaves,o=t.seed;return("<feTurbulence ".concat(be({type:e,baseFrequency:n,numOctaves:r,seed:o}),"   ").concat(this.getDefaultAttribute()," />"))}}])&&Vw(n.prototype,r),o&&Vw(n,o),e}(Qg);function Bw(t){return(Bw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hw(t,e){return!e||"object"!==Bw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xw(t,e,n){return(Xw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yw(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Yw(t){return(Yw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nw(t,e){return(Nw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}zw.spec={filterType:{title:"Type",inputType:"select",options:"fractalNoise,turbulence",defaultValue:"turbulence"},baseFrequency:{title:"Frequency",inputType:"number-range",min:0,max:1,step:.01,defaultValue:$.number(0)},numOctaves:{title:"Octaves",inputType:"number-range",min:1,max:10,step:1,defaultValue:$.number(1)},seed:{title:"Seed",inputType:"number-range",min:0,max:1e4,step:1,defaultValue:$.number(0)}};var Kw=function(t){function e(){return Fw(this,e),Hw(this,Yw(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nw(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Xw(Yw(e.prototype),"getDefaultObject",this).call(this,{type:"DisplacementMap",scale:e.spec.scale.defaultValue})}},{key:"getInCount",value:function(){return 2}},{key:"convert",value:function(t){return t.scale=$.parse(t.scale),t}},{key:"toString",value:function(){var t=this.json.scale,e=t.value?'scale="'.concat(t,'"'):"";return"<feDisplacementMap ".concat(e,"  ").concat(this.getDefaultAttribute()," />")}},{key:"hasInIndex",value:function(){return!0}}])&&Gw(n.prototype,r),o&&Gw(n,o),e}(Qg);function Ww(t){return(Ww="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qw(t,e){return!e||"object"!==Ww(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jw(t,e,n){return(Jw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qw(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Qw(t){return(Qw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tk(t,e){return(tk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Kw.spec={scale:{title:"scale",inputType:"number-range",min:0,max:5e3,step:1,defaultValue:$.number(0)}};var ek=function(t){function e(){return Uw(this,e),qw(this,Qw(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tk(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Jw(Qw(e.prototype),"getDefaultObject",this).call(this,{type:"ColorMatrix",values:e.spec.values.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json.values.join(" ");return'<feColorMatrix type="matrix" values="'.concat(t,'"  ').concat(this.getDefaultAttribute()," />")}}])&&Zw(n.prototype,r),o&&Zw(n,o),e}(Qg);function nk(t){return(nk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ok(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ik(t,e){return!e||"object"!==nk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ak(t,e,n){return(ak="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ck(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ck(t){return(ck=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uk(t,e){return(uk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}ek.spec={values:{title:"values",inputType:"color-matrix",column:5,defaultValue:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}};var sk=function(t){function e(){return rk(this,e),ik(this,ck(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uk(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return ak(ck(e.prototype),"getDefaultObject",this).call(this,{type:"ConvolveMatrix",kernelMatrix:e.spec.kernelMatrix.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json.kernelMatrix.join(" ");return'<feConvolveMatrix kernelMatrix="'.concat(t,'"  ').concat(this.getDefaultAttribute()," />")}}])&&ok(n.prototype,r),o&&ok(n,o),e}(Qg);function lk(t){return(lk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yk(t,e){return!e||"object"!==lk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hk(t,e,n){return(hk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dk(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function dk(t){return(dk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vk(t,e){return(vk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}sk.spec={kernelMatrix:{title:"kernelMatrix",inputType:"input-array",column:3,defaultValue:[1,0,0,0,1,0,0,0,1]}};var bk=function(t){function e(){return fk(this,e),yk(this,dk(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vk(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return hk(dk(e.prototype),"getDefaultObject",this).call(this,{type:"GaussianBlur",stdDeviationX:e.spec.stdDeviationX.defaultValue,stdDeviationY:e.spec.stdDeviationY.defaultValue,edgeMode:e.spec.edgeMode.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"convert",value:function(t){return t.stdDeviationX=$.parse(t.stdDeviationX),t.stdDeviationY=$.parse(t.stdDeviationY),t}},{key:"toString",value:function(){var t=this.json,e=t.stdDeviationX,n=t.stdDeviationY,r=t.edgeMode,o="".concat(e," ").concat(n);return e===n&&(o=e),'<feGaussianBlur  stdDeviation="'.concat(o,'" edgeMode="').concat(r,'"  ').concat(this.getDefaultAttribute()," />")}}])&&pk(n.prototype,r),o&&pk(n,o),e}(Qg);function mk(t){return(mk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kk(t,e){return!e||"object"!==mk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ok(t,e,n){return(Ok="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jk(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function jk(t){return(jk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Sk(t,e){return(Sk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}bk.spec={stdDeviationX:{title:"X",inputType:"number-range",min:0,max:100,step:1,defaultValue:$.number(0)},stdDeviationY:{title:"Y",inputType:"number-range",min:0,max:100,step:1,defaultValue:$.number(0)},edgeMode:{title:"edge",inputType:"select",options:"none,duplicate,wrap",defaultValue:"none"}};var Pk=function(t){function e(){return gk(this,e),kk(this,jk(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sk(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Ok(jk(e.prototype),"getDefaultObject",this).call(this,{type:"Flood",x:e.spec.x.defaultValue,y:e.spec.y.defaultValue,width:e.spec.width.defaultValue,height:e.spec.height.defaultValue,color:e.spec.color.defaultValue,opacity:e.spec.opacity.defaultValue})}},{key:"convert",value:function(t){return t.x=$.parse(t.x),t.y=$.parse(t.y),t.width=$.parse(t.width),t.height=$.parse(t.height),t}},{key:"toString",value:function(){var t=this.json,e=t.opacity,n=t.color,r=t.x,o=t.y,i=t.width,a=t.height;return"<feFlood ".concat(be({x:r,y:o,width:i,height:a}),' flood-opacity="').concat(e,'" flood-color="').concat(n,'" ').concat(this.getDefaultAttribute()," />")}}])&&wk(n.prototype,r),o&&wk(n,o),e}(Qg);function xk(t){return(xk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $k(t,e){return Ck(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||_k()}function Ek(t){return Ck(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||_k()}function _k(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Ck(t){if(Array.isArray(t))return t}function Tk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dk(t,e){return!e||"object"!==xk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vk(t,e,n){return(Vk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ak(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ak(t){return(Ak=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ik(t,e){return(Ik=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Pk.spec={x:{title:"X",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},y:{title:"Y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},width:{title:"width",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},height:{title:"height",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},opacity:{title:"opacity",inputType:"number-range",min:0,max:1,step:.01,defaultValue:$.number(0)},color:{title:"color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)"}};var Lk=function(t){function e(){return Tk(this,e),Dk(this,Ak(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ik(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Vk(Ak(e.prototype),"getDefaultObject",this).call(this,{type:"ComponentTransfer",r:e.spec.r.defaultValue,g:e.spec.g.defaultValue,b:e.spec.b.defaultValue,a:e.spec.a.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"parse",value:function(t){var e=Ek(t.split(" ")),n=e[0],r=e.slice(1);if("table"===n||"discrete"===n)return{type:n,tableValues:r.join(" ")};if("linear"===n){var o=$k(r,2);return{type:n,slop:o[0],intercept:o[1]}}if("gamma"===n){var i=$k(r,3);return{type:n,amplitude:i[0],exponent:i[1],offset:i[2]}}return{type:n}}},{key:"toString",value:function(){var t=this.json,e=t.r,n=t.g,r=t.b,o=t.a;return e=this.parse(e),n=this.parse(n),r=this.parse(r),o=this.parse(o),"<feComponentTransfer ".concat(this.getDefaultAttribute()," >\n      ").concat(e&&"<feFuncR ".concat(be(e)," />"),"\n      ").concat(n&&"<feFuncG ".concat(be(n)," />"),"\n      ").concat(r&&"<feFuncB ".concat(be(r)," />"),"\n      ").concat(o&&"<feFuncA ".concat(be(o)," />"),"\n    </feComponentTransfe>")}}])&&Rk(n.prototype,r),o&&Rk(n,o),e}(Qg);function Mk(t){return(Mk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fk(t,e){return!e||"object"!==Mk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gk(t,e,n){return(Gk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hk(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Hk(t){return(Hk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xk(t,e){return(Xk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Lk.spec={r:{title:"R",inputType:"FuncFilter",defaultValue:"identity"},g:{title:"G",inputType:"FuncFilter",defaultValue:"identity"},b:{title:"B",inputType:"FuncFilter",defaultValue:"identity"},a:{title:"A",inputType:"FuncFilter",defaultValue:"identity"}};var Yk=function(t){function e(){return zk(this,e),Fk(this,Hk(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xk(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Gk(Hk(e.prototype),"getDefaultObject",this).call(this,{type:"DistantLight",azimuth:e.spec.azimuth.defaultValue,elevation:e.spec.elevation.defaultValue})}},{key:"isLight",value:function(){return!0}},{key:"toString",value:function(){return""}},{key:"toLightString",value:function(){var t=this.json,e=t.azimuth,n=t.elevation;return("<feDistantLight ".concat(be({azimuth:e,elevation:n})," />"))}}])&&Bk(n.prototype,r),o&&Bk(n,o),e}(Qg);function Nk(t){return(Nk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uk(t,e){return!e||"object"!==Nk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zk(t,e,n){return(Zk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qk(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function qk(t){return(qk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jk(t,e){return(Jk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Yk.spec={azimuth:{title:"azimuth",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},elevation:{title:"elevation",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)}};var Qk=function(t){function e(){return Kk(this,e),Uk(this,qk(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jk(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Zk(qk(e.prototype),"getDefaultObject",this).call(this,{type:"PointLight",x:e.spec.x.defaultValue,y:e.spec.y.defaultValue,z:e.spec.z.defaultValue})}},{key:"isLight",value:function(){return!0}},{key:"toString",value:function(){return""}},{key:"toLightString",value:function(){var t=this.json,e=t.x,n=t.y,r=t.z;return("<fePointLight ".concat(be({x:e,y:n,z:r})," />"))}}])&&Wk(n.prototype,r),o&&Wk(n,o),e}(Qg);function tO(t){return(tO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rO(t,e){return!e||"object"!==tO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oO(t,e,n){return(oO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=iO(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function iO(t){return(iO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function aO(t,e){return(aO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Qk.spec={x:{title:"x",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},y:{title:"y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},z:{title:"z",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)}};var cO=function(t){function e(){return eO(this,e),rO(this,iO(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aO(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return oO(iO(e.prototype),"getDefaultObject",this).call(this,{type:"SpotLight",x:e.spec.x.defaultValue,y:e.spec.x.defaultValue,z:e.spec.x.defaultValue,pointsAtX:e.spec.pointsAtX.defaultValue,pointsAtY:e.spec.pointsAtY.defaultValue,pointsAtZ:e.spec.pointsAtZ.defaultValue,specularExponent:e.spec.specularExponent.defaultValue,limitingConeAngle:e.spec.limitingConeAngle.defaultValue})}},{key:"isLight",value:function(){return!0}},{key:"toString",value:function(){}},{key:"toLightString",value:function(){var t=this.json,e=t.x,n=t.y,r=t.z,o=t.pointsAtX,i=t.pointsAtY,a=t.pointsAtZ,c=t.specularExponent,u=t.limitingConeAngle;return("<feSpotLight ".concat(be({x:e,y:n,z:r,pointsAtX:o,pointsAtY:i,pointsAtZ:a,specularExponent:c,limitingConeAngle:u})," />"))}}])&&nO(n.prototype,r),o&&nO(n,o),e}(Qg);function uO(t){return(uO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yO(t,e){return!e||"object"!==uO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hO(t,e,n){return(hO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dO(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function dO(t){return(dO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vO(t,e){return(vO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}cO.spec={x:{title:"x",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},y:{title:"y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},z:{title:"z",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},pointsAtX:{title:"pointsAtX",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},pointsAtY:{title:"pointsAtY",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},pointsAtZ:{title:"pointsAtZ",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},specularExponent:{title:"specularExponent",inputType:"number-range",min:0,max:100,step:1,defaultValue:$.number(1)},limitingConeAngle:{title:"limitingConeAngle",inputType:"number-range",min:0,max:100,step:1,defaultValue:$.number(1)}};var bO=function(t){function e(){return fO(this,e),yO(this,dO(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vO(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return hO(dO(e.prototype),"getDefaultObject",this).call(this,{type:"DiffuseLighting",surfaceScale:e.spec.surfaceScale.defaultValue,lightingColor:e.spec.lightingColor.defaultValue,diffuseConstant:e.spec.diffuseConstant.defaultValue,lightInfo:""})}},{key:"toCloneObject",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sO(Object(n),!0).forEach((function(e){lO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},hO(dO(e.prototype),"toCloneObject",this).call(this),{surfaceScale:this.json.surfaceScale,lightingColor:this.json.lightingColor,diffuseConstant:this.json.diffuseConstant,lightInfo:this.json.lightInfo})}},{key:"hasLight",value:function(){return!0}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json,e=t.surfaceScale,n=t.diffuseConstant,r=t.lightingColor;return("<feDiffuseLighting ".concat(be({surfaceScale:e,diffuseConstant:n,"lighting-color":r}),"  ").concat(this.getDefaultAttribute()," >\n      ").concat(this.json.lightInfo,"\n    </feDiffuseLighting>"))}}])&&pO(n.prototype,r),o&&pO(n,o),e}(Qg);function mO(t){return(mO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jO(t,e){return!e||"object"!==mO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function SO(t,e,n){return(SO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=PO(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function PO(t){return(PO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xO(t,e){return(xO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}bO.spec={surfaceScale:{title:"surfaceScale",inputType:"number-range",min:0,max:100,step:1,defaultValue:$.number(1)},diffuseConstant:{title:"diffuseConstant",inputType:"number-range",min:0,max:100,step:1,defaultValue:$.number(1)},lightingColor:{title:"Lighting Color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)"}};var $O=function(t){function e(){return kO(this,e),jO(this,PO(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xO(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return SO(PO(e.prototype),"getDefaultObject",this).call(this,{type:"SpecularLighting",surfaceScale:e.spec.surfaceScale.defaultValue,lightingColor:e.spec.lightingColor.defaultValue,specularConstant:e.spec.specularConstant.defaultValue,specularExponent:e.spec.specularExponent.defaultValue,lightInfo:""})}},{key:"toCloneObject",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gO(Object(n),!0).forEach((function(e){wO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},SO(PO(e.prototype),"toCloneObject",this).call(this),{surfaceScale:this.json.surfaceScale,lightingColor:this.json.lightingColor,specularConstant:this.json.specularConstant,specularExponent:this.json.specularExponent,lightInfo:""})}},{key:"hasLight",value:function(){return!0}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json,e=t.surfaceScale,n=t.specularConstant,r=t.specularExponent,o=t.lightingColor;return("<feSpecularLighting ".concat(be({surfaceScale:e,specularConstant:n,specularExponent:r,"lighting-color":o}),"  ").concat(this.getDefaultAttribute()," >\n      ").concat(this.json.lightInfo,"\n    </feSpecularLighting>"))}},{key:"getSourceInAttribute",value:function(){return""}}])&&OO(n.prototype,r),o&&OO(n,o),e}(Qg);function EO(t){return(EO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function TO(t,e){return!e||"object"!==EO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function RO(t,e,n){return(RO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=DO(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function DO(t){return(DO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function VO(t,e){return(VO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}$O.spec={surfaceScale:{title:"surfaceScale",inputType:"number-range",min:0,max:100,step:1,defaultValue:$.number(1)},specularConstant:{title:"Constant",inputType:"number-range",min:0,max:100,step:1,defaultValue:$.number(1)},specularExponent:{title:"Exponent",inputType:"number-range",min:0,max:100,step:1,defaultValue:$.number(1)},lightingColor:{title:"Lighting Color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)"}};var AO=function(t){function e(){return _O(this,e),TO(this,DO(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&VO(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return RO(DO(e.prototype),"getDefaultObject",this).call(this,{type:"Offset",dx:e.spec.dx.defaultValue,dy:e.spec.dy.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json,e=t.dx,n=t.dy;return("<feOffset \n      ".concat(be({dx:e,dy:n}),"  ").concat(this.getDefaultAttribute()," />"))}}])&&CO(n.prototype,r),o&&CO(n,o),e}(Qg);function IO(t){return(IO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function LO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zO(t,e){return!e||"object"!==IO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function BO(t,e,n){return(BO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=FO(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function FO(t){return(FO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function GO(t,e){return(GO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}AO.spec={dx:{title:"dx",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},dy:{title:"dy",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)}};var HO=function(t){function e(){return LO(this,e),zO(this,FO(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&GO(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return BO(FO(e.prototype),"getDefaultObject",this).call(this,{type:"Blend",mode:e.spec.mode.defaultValue})}},{key:"getInCount",value:function(){return 2}},{key:"toString",value:function(){var t=this.json.mode;return("<feBlend ".concat(be({mode:t})," ").concat(this.getDefaultAttribute()," />"))}},{key:"hasInIndex",value:function(){return!0}}])&&MO(n.prototype,r),o&&MO(n,o),e}(Qg);function XO(t){return(XO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function NO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?YO(Object(n),!0).forEach((function(e){KO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function KO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZO(t,e){return!e||"object"!==XO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qO(t,e,n){return(qO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=JO(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function JO(t){return(JO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function QO(t,e){return(QO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}HO.spec={mode:{title:"mode",inputType:"blend",defaultValue:"normal"}};var tj=function(t){function e(){return WO(this,e),ZO(this,JO(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QO(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return qO(JO(e.prototype),"getDefaultObject",this).call(this,NO({type:"Source"},t))}},{key:"isSource",value:function(){return!0}},{key:"toString",value:function(){return""}}])&&UO(n.prototype,r),o&&UO(n,o),e}(Qg);function ej(t){return(ej="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oj(t,e){return!e||"object"!==ej(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ij(t,e,n){return(ij="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=aj(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function aj(t){return(aj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function cj(t,e){return(cj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var uj=function(t){function e(){return nj(this,e),oj(this,aj(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cj(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return ij(aj(e.prototype),"getDefaultObject",this).call(this,{type:"SourceGraphic"})}}])&&rj(n.prototype,r),o&&rj(n,o),e}(tj);function sj(t){return(sj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pj(t,e){return!e||"object"!==sj(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yj(t,e,n){return(yj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=hj(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function hj(t){return(hj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dj(t,e){return(dj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vj=function(t){function e(){return lj(this,e),pj(this,hj(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dj(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return yj(hj(e.prototype),"getDefaultObject",this).call(this,{type:"SourceAlpha"})}}])&&fj(n.prototype,r),o&&fj(n,o),e}(tj);function bj(t){return(bj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wj(t,e){return!e||"object"!==bj(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kj(t,e,n){return(kj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Oj(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Oj(t){return(Oj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jj(t,e){return(jj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Sj=function(t){function e(){return mj(this,e),wj(this,Oj(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jj(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return kj(Oj(e.prototype),"getDefaultObject",this).call(this,{type:"BackgroundImage"})}}])&&gj(n.prototype,r),o&&gj(n,o),e}(tj);function Pj(t){return(Pj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ej(t,e){return!e||"object"!==Pj(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _j(t,e,n){return(_j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Cj(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Cj(t){return(Cj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tj(t,e){return(Tj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rj=function(t){function e(){return xj(this,e),Ej(this,Cj(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tj(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return _j(Cj(e.prototype),"getDefaultObject",this).call(this,{type:"BackgroundAlpha"})}}])&&$j(n.prototype,r),o&&$j(n,o),e}(tj);function Dj(t){return(Dj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ij(t,e){return!e||"object"!==Dj(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lj(t,e,n){return(Lj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mj(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Mj(t){return(Mj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zj(t,e){return(zj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Bj=function(t){function e(){return Vj(this,e),Ij(this,Mj(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zj(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Lj(Mj(e.prototype),"getDefaultObject",this).call(this,{type:"FillPaint"})}}])&&Aj(n.prototype,r),o&&Aj(n,o),e}(tj);function Fj(t){return(Fj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xj(t,e){return!e||"object"!==Fj(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yj(t,e,n){return(Yj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Nj(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Nj(t){return(Nj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Kj(t,e){return(Kj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Wj=function(t){function e(){return Gj(this,e),Xj(this,Nj(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kj(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Yj(Nj(e.prototype),"getDefaultObject",this).call(this,{type:"StrokePaint"})}}])&&Hj(n.prototype,r),o&&Hj(n,o),e}(tj);function Uj(t){return(Uj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jj(t,e){return!e||"object"!==Uj(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qj(t,e,n){return(Qj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function tS(t){return(tS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function eS(t,e){return(eS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nS=function(t){function e(){return Zj(this,e),Jj(this,tS(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eS(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return Qj(tS(e.prototype),"getDefaultObject",this).call(this,{type:"DropShadow",dx:e.spec.dx.defaultValue,dy:e.spec.dy.defaultValue,stdDeviation:e.spec.stdDeviation.defaultValue,color:e.spec.color.defaultValue,opacity:e.spec.opacity.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json,e=t.dx,n=t.dy,r=t.stdDeviation,o=t.color,i=t.opacity;return("<feDropShadow ".concat(be({dx:e,dy:n,stdDeviation:r,"flood-color":o,"flood-opacity":i}),"  ").concat(this.getDefaultAttribute()," />"))}}])&&qj(n.prototype,r),o&&qj(n,o),e}(Qg);function rS(t){return(rS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aS(t,e){return!e||"object"!==rS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cS(t,e,n){return(cS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=uS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function uS(t){return(uS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sS(t,e){return(sS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}nS.spec={dx:{title:"dx",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},dy:{title:"dy",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},stdDeviation:{title:"stdDeviation",inputType:"number-range",min:0,max:1e3,step:.1,defaultValue:$.number(0)},opacity:{title:"opacity",inputType:"number-range",min:0,max:1,step:.01,defaultValue:$.number(1)},color:{title:"color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)"}};var lS=function(t){function e(){return oS(this,e),aS(this,uS(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sS(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return cS(uS(e.prototype),"getDefaultObject",this).call(this,{type:"Saturate",values:e.spec.values.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json.values;return('<feColorMatrix type="saturate" values="'.concat(t,'"  ').concat(this.getDefaultAttribute()," />"))}}])&&iS(n.prototype,r),o&&iS(n,o),e}(Qg);function fS(t){return(fS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hS(t,e){return!e||"object"!==fS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dS(t,e,n){return(dS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function vS(t){return(vS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bS(t,e){return(bS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}lS.spec={values:{title:"values",inputType:"number-range",min:-1,max:1,step:.01,defaultValue:$.number(0)}};var mS=function(t){function e(){return pS(this,e),hS(this,vS(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bS(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return dS(vS(e.prototype),"getDefaultObject",this).call(this,{type:"HueRotate",values:e.spec.values.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json.values;return('<feColorMatrix type="hueRotate" values="'.concat(t,'"  ').concat(this.getDefaultAttribute()," />"))}}])&&yS(n.prototype,r),o&&yS(n,o),e}(Qg);function gS(t){return(gS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OS(t,e){return!e||"object"!==gS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jS(t,e,n){return(jS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=SS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function SS(t){return(SS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function PS(t,e){return(PS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}mS.spec={values:{title:"values",inputType:"number-range",min:0,max:360,step:.1,defaultValue:$.number(0)}};var xS=function(t){function e(){return wS(this,e),OS(this,SS(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PS(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return jS(SS(e.prototype),"getDefaultObject",this).call(this,{type:"LuminanceAlpha"})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){return'<feColorMatrix type="luminanceToAlpha" '.concat(this.getDefaultAttribute()," />")}}])&&kS(n.prototype,r),o&&kS(n,o),e}(Qg);function $S(t){return($S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ES(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CS(t,e){return!e||"object"!==$S(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TS(t,e,n){return(TS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=RS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function RS(t){return(RS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function DS(t,e){return(DS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}xS.spec={};var VS=function(t){function e(){return ES(this,e),CS(this,RS(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DS(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return TS(RS(e.prototype),"getDefaultObject",this).call(this,{type:"Tile",x:e.spec.x.defaultValue,y:e.spec.y.defaultValue,width:e.spec.width.defaultValue,height:e.spec.height.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"convert",value:function(t){return t.x=$.parse(t.x),t.y=$.parse(t.y),t.width=$.parse(t.width),t.height=$.parse(t.height),t}},{key:"toString",value:function(){var t=this.json,e=t.x,n=t.y,r=t.width,o=t.height;return"<feTile ".concat(be({x:e,y:n,width:r,height:o})," ").concat(this.getDefaultAttribute()," />")}}])&&_S(n.prototype,r),o&&_S(n,o),e}(Qg);function AS(t){return(AS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function IS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function MS(t,e){return!e||"object"!==AS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zS(t,e,n){return(zS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=BS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function BS(t){return(BS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function FS(t,e){return(FS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}VS.spec={x:{title:"X",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},y:{title:"Y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},width:{title:"width",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},height:{title:"height",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)}};var GS=function(t){function e(){return IS(this,e),MS(this,BS(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FS(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){return zS(BS(e.prototype),"getDefaultObject",this).call(this,{type:"Image",x:e.spec.x.defaultValue,y:e.spec.y.defaultValue,width:e.spec.width.defaultValue,height:e.spec.height.defaultValue,src:e.spec.src.defaultValue,alignment:e.spec.alignment.defaultValue,scaleing:e.spec.scaleing.defaultValue})}},{key:"convert",value:function(t){return t.x=$.parse(t.x),t.y=$.parse(t.y),t.width=$.parse(t.width),t.height=$.parse(t.height),t}},{key:"toString",value:function(){var t=this.json,e=t.src,n=t.x,r=t.y,o=t.width,i=t.height,a=t.alignment,c=t.scaleing;return"<feImage ".concat(be({x:n,y:r,width:o,height:i,"xlink:href":e,preserveAspectRatio:"".concat(a," ").concat(c)})," ").concat(this.getDefaultAttribute()," />")}}])&&LS(n.prototype,r),o&&LS(n,o),e}(Qg);function HS(t){return(HS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function YS(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?XS(Object(n),!0).forEach((function(e){NS(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XS(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function NS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function US(t,e){return!e||"object"!==HS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ZS(t,e,n){return(ZS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function qS(t){return(qS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function JS(t,e){return(JS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}GS.spec={x:{title:"X",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},y:{title:"Y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},width:{title:"width",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},height:{title:"height",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:$.number(0)},alignment:{title:"alignment",inputType:"select",options:"xMinYMin,xMidYMin,xMaxYMin,xMinYMid,xMidYMid,xMaxYMid,xMinYMax,xMidYMax,xMaxYMax",defaultValue:"xMidYMid"},scaleing:{title:"scaleing",inputType:"select",options:"meet,slice",defaultValue:"meet"},src:{title:"Image",inputType:"ImageSelectEditor",defaultValue:""}};var QS=["result"],tP=function(t){function e(){return KS(this,e),US(this,qS(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&JS(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new(0,eP[t.type])(t)}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ZS(qS(e.prototype),"getDefaultObject",this).call(this,YS({itemType:"svgfilter",result:""},t))}},{key:"getDefaultAttribute",value:function(){var t=this;return QS.map((function(e){return"".concat(e,'="').concat(t.json[e],'"')})).join(" ")}},{key:"toString",value:function(){var t=this.json,e=t.type,n=t.value;return"<fe".concat(e,' value="').concat(n,'" ').concat(this.getDefaultAttribute()," />")}}])&&WS(n.prototype,r),o&&WS(n,o),e}(ac),eP={Image:GS,Tile:VS,Saturate:lS,HueRotate:mS,LuminanceAlpha:xS,DropShadow:nS,SourceGraphic:uj,SourceAlpha:vj,BackgroundImage:Sj,BackgroundAlpha:Rj,FillPaint:Bj,StrokePaint:Wj,ComponentTransfer:Lk,DistantLight:Yk,PointLight:Qk,SpotLight:cO,DiffuseLighting:bO,SpecularLighting:$O,Blend:HO,Offset:AO,RotaMatrix:cw,GaussianBlur:bk,Flood:Pk,Merge:dw,Composite:jw,Morphology:Tw,Turbulence:zw,DisplacementMap:Kw,ColorMatrix:ek,ConvolveMatrix:sk},nP={Image:GS.spec,Tile:VS.spec,DropShadow:nS.spec,Saturate:lS.spec,HueRotate:mS.spec,LuminanceAlpha:xS.spec,Offset:AO.spec,ComponentTransfer:Lk.spec,SpecularLighting:$O.spec,SpotLight:cO.spec,PointLight:Qk.spec,DistantLight:Yk.spec,DiffuseLighting:bO.spec,Blend:HO.spec,RotaMatrix:cw.spec,Merge:dw.spec,GaussianBlur:bk.spec,Flood:Pk.spec,Morphology:Tw.spec,Composite:jw.spec,Turbulence:zw.spec,DisplacementMap:Kw.spec,ColorMatrix:ek.spec,ConvolveMatrix:sk.spec};function rP(t){return(rP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function iP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oP(Object(n),!0).forEach((function(e){aP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function aP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cP(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function uP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lP(t,e){return!e||"object"!==rP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fP(t,e,n){return(fP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pP(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function pP(t){return(pP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yP(t,e){return(yP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hP=function(t){function e(){return uP(this,e),lP(this,pP(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yP(t,e)}(e,t),n=e,(r=[{key:"getDefaultTitle",value:function(){return"New Project"}},{key:"toRootVariableCSS",value:function(){var t={};return this.json.rootVariable.split(";").filter((function(t){return t.trim()})).forEach((function(e){var n=cP(e.split(":"),2),r=n[0],o=n[1];t["--".concat(r)]=o})),t}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fP(pP(e.prototype),"getDefaultObject",this).call(this,iP({itemType:"project",name:"new Project",description:"",rootVariable:""},t))}},{key:"toCloneObject",value:function(){var t=this.json,n=t.name,r=t.description,o=t.rootVariable;return iP({},fP(pP(e.prototype),"toCloneObject",this).call(this),{name:n,description:r,rootVariable:o})}},{key:"toSVGString",value:function(){return this.json.svgfilters.map((function(t){var e=t.filters.map((function(t){return tP.parse(t)}));return("<filter id='".concat(t.id,"'>\n  ").concat(e.join("\n"),"\n</filter>\n"))})).join("\n\n")}},{key:"isAbsolute",get:function(){return!1}},{key:"parent",get:function(){return null}},{key:"artboards",get:function(){return this.json.layers||[]}},{key:"html",get:function(){return this.artboards.map((function(t){return t.html})).join("\n\n")}}])&&sP(n.prototype,r),o&&sP(n,o),e}(Bg);function dP(t){return(dP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mP(t,e){return!e||"object"!==dP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gP(t,e,n){return(gP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wP(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function wP(t){return(wP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kP(t,e){return(kP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}gi.registerComponent("project",hP);var OP=function(t){function e(){return vP(this,e),mP(this,wP(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kP(t,e)}(e,t),n=e,(r=[{key:"is",value:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return!!r.includes("component")||(t=gP(wP(e.prototype),"is",this)).call.apply(t,[this].concat(r))}},{key:"getProps",value:function(){return[]}}])&&bP(n.prototype,r),o&&bP(n,o),e}(Vv);function jP(t){return(jP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function SP(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?PP(Object(n),!0).forEach((function(e){$P(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CP(t,e){return!e||"object"!==jP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TP(t,e,n){return(TP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=RP(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function RP(t){return(RP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function DP(t,e){return(DP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}gi.registerComponent("component",OP);var VP=["front","back","left","right","top","bottom"],AP={"front.color":".front","back.color":".back","left.color":".left","right.color":".right","top.color":".top","bottom.color":".bottom","front.background":".front","back.background":".back","left.background":".left","right.background":".right","top.background":".top","bottom.background":".bottom"},IP={position:!0,left:!0,top:!0,right:!0,bottom:!0,width:!0,height:!0,opacity:!0,"text-fill-color":!0,"text-stroke-color":!0,"text-stroke-width":!0,"background-clip":!0,"clip-path":!0,animation:!0,transition:!0,transform:!0,"transform-origin":!0,"transform-style":!0,perspective:!0,"perspective-origin":!0,"offset-path":!0},LP={filter:!0,"mix-blend-mode":!0,"background-image":!0,"border-radius":!0,border:!0},MP=function(t){function e(){return EP(this,e),CP(this,RP(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DP(t,e)}(e,t),n=e,o=[{key:"getIcon",value:function(){return jv.cube}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return TP(RP(e.prototype),"getDefaultObject",this).call(this,xP({itemType:"cube",name:"New Cube","transform-style":"preserve-3d","backface-visibility":"visible",rate:$.number(1),transform:"rotateX(10deg) rotateY(30deg)",border:"border:1px solid black"},t))}},{key:"getProps",value:function(){return[{key:"rate",editor:"NumberRangeEditor",editorOptions:{label:"radius",min:0,max:10,step:.1},refresh:!0,defaultValue:this.json.rate.value},{key:"backface-visibility",editor:"SelectIconEditor",editorOptions:{label:"visibility",options:"visible,hidden"},refresh:!0,defaultValue:this.json["backface-visibility"]},"Background Color"].concat(SP(VP.map((function(t){return{key:"".concat(t,".color"),editor:"ColorViewEditor",editorOptions:{label:t,params:"".concat(t,".color")},defaultValue:"rgba(0, 0, 0, 1)"}}))),["Background Image"],SP(VP.map((function(t){return{key:"".concat(t,".background"),editor:"BackgroundImageEditor",editorOptions:{title:t},defaultValue:""}}))))}},{key:"setCustomKeyframes",value:function(t,e){e.property.includes(".color")&&t.push({selector:'[data-id="'.concat(this.json.id,'"] ').concat(AP[e.property]),properties:[xP({},e,{property:"background-color"})]}),e.property.includes(".background")&&t.push({selector:'[data-id="'.concat(this.json.id,'"] ').concat(AP[e.property]),properties:[xP({},e,{property:"background-image"})]})}},{key:"toAnimationKeyframes",value:function(t){var e=this,n=[],r=[],o=[];t.forEach((function(t){t.property.includes(".color")||t.property.includes(".background")?n.push(t):IP[t.property]?r.push(t):LP[t.property]&&o.push(t)}));var i=[];return r.length&&i.push({selector:'[data-id="'.concat(this.json.id,'"]'),properties:r}),o.length&&i.push({selector:'[data-id="'.concat(this.json.id,'"] div'),properties:o}),n.length&&n.forEach((function(t){e.setCustomKeyframes(i,t)})),i}},{key:"convert",value:function(t){return(t=TP(RP(e.prototype),"convert",this).call(this,t)).rate=$.parse(t.rate),t}},{key:"toCloneObject",value:function(){var t=this,n={};return VP.forEach((function(e){n["".concat(e,".color")]=t.json["".concat(e,".color")],n["".concat(e,".background")]=t.json["".concat(e,".background")]})),xP({},TP(RP(e.prototype),"toCloneObject",this).call(this),{rate:this.json.rate.clone()},n)}},{key:"enableHasChildren",value:function(){return!1}},{key:"getDefaultTitle",value:function(){return"Cube"}},{key:"getIcon",value:function(){return jv.cube}},{key:"toDefaultCSS",value:function(){var t={};return this.json.x&&(t.left=this.json.x),this.json.y&&(t.top=this.json.y),t.visibility=this.json.visible?"visible":"hidden",xP({},t,{},this.toKeyListCSS("position","right","bottom","width","height","transform-origin","transform","transform-style","perspective","perspective-origin"))}},{key:"toCSS",value:function(){return xP({},this.toVariableCSS(),{},this.toDefaultCSS(),{},this.toWebkitCSS(),{},this.toBoxModelCSS(),{},this.toAnimationCSS(),{},this.toTransitionCSS(),{},this.toLayoutItemCSS())}},{key:"toNestedCSS",value:function(){var t=this.json,e=t.rate.value,n=t.width,r=t.height,o=n.value/2,i=r.value/2,a=t["backface-visibility"],c=xP({},this.toKeyListCSS("filter","mix-blend-mode","border-radius","background-color","opacity","color"),{},this.toClipPathCSS(),{},this.toBackgroundImageCSS(),{},this.toBorderCSS());return[{selector:"div",cssText:"\n          position: absolute;\n          left: 0px;\n          top: 0px;\n          bottom: 0px;\n          right: 0px;\n          opacity: 1;\n          pointer-events: none;\n          ".concat(de(c),"\n        ").trim()},{selector:".front",cssText:"\n          transform:rotateY(0deg) translateZ(".concat(o*e,"px);\n          width: ").concat(n,";\n          height: ").concat(r,";     \n          backface-visibility: ").concat(a,";          \n          ").concat(t["front.color"]?"background-color: ".concat(t["front.color"],";"):"","\n          ").concat(t["front.background"]?"".concat(t["front.background"],";"):"","\n\n        ").trim()},{selector:".back",cssText:"\n          transform: rotateY(180deg) translateZ(".concat(o*e,"px);\n          width: ").concat(n,";\n          height: ").concat(r,";        \n          backface-visibility: ").concat(a,";              \n          ").concat(t["back.color"]?"background-color: ".concat(t["back.color"],";"):"","                  \n          ").concat(t["back.background"]?"".concat(t["back.background"],";"):"","\n        ").trim()},{selector:".left",cssText:"\n          transform: rotateY(-90deg) translateZ(".concat(o*e,"px);\n          width: ").concat(n,";\n          height: ").concat(r,";    \n          backface-visibility: ").concat(a,";          \n          ").concat(t["left.color"]?"background-color: ".concat(t["left.color"],";"):"","                          \n          ").concat(t["left.background"]?"".concat(t["left.background"],";"):"","\n        ").trim()},{selector:".right",cssText:"\n          transform: rotateY(90deg) translateZ(".concat(o*e,"px);\n          width: ").concat(n,";\n          height: ").concat(r,";      \n          backface-visibility: ").concat(a,";          \n          ").concat(t["right.color"]?"background-color: ".concat(t["right.color"],";"):"","                        \n          ").concat(t["right.background"]?"".concat(t["right.background"],";"):"","          \n        ").trim()},{selector:".top",cssText:"\n          transform: rotateX(90deg) translateZ(".concat(i*e,"px);\n          top: ").concat(i-o,"px;\n          width: ").concat(n,";\n          height: ").concat(n,";\n          backface-visibility: ").concat(a,";          \n          ").concat(t["top.color"]?"background-color: ".concat(t["top.color"],";"):"","      \n          ").concat(t["top.background"]?"".concat(t["top.background"],";"):"","              \n        ").trim()},{selector:".bottom",cssText:"\n          transform: rotateX(-90deg) translateZ(".concat(i*e,"px);\n          top: ").concat(i-o,"px;          \n          width: ").concat(n,";\n          height: ").concat(n,";    \n          backface-visibility: ").concat(a,";          \n          ").concat(t["bottom.color"]?"background-color: ".concat(t["bottom.color"],";"):"","\n          ").concat(t["bottom.background"]?"".concat(t["bottom.background"],";"):"","                          \n        ").trim()}]}},{key:"toSVG",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.json,o=r.width,i=r.height,a=this.toCSS(),c=this.toNestedCSS(),u={},s=c.find((function(t){return"div"===t.selector}))||{cssText:""};return s=s.cssText.replace(/\n/g,""),VP.forEach((function(t){u[t]=c.find((function(e){return e.selector==="."+t}))||{cssText:""},u[t]=u[t].cssText.replace(/\n/g,"")})),n?(delete a.left,delete a.top,"absolute"===a.position&&delete a.position,this.wrapperRootSVG(t,e,o,i,"\n        <foreignObject ".concat(be({width:o.value,height:i.value,overflow:"visible"}),'>\n          <div xmlns="http://www.w3.org/1999/xhtml">\n            <div style="').concat(de(a),'">\n            ').concat(VP.map((function(t){return'<div style="'.concat(s,";").concat(u[t],'"></div>')})).join(""),"          \n          </div>   \n          </div>\n        </foreignObject>          \n\n      "))):"\n        ".concat(this.toDefString,"\n        <foreignObject ").concat(be({width:o.value,height:i.value,overflow:"visible"}),'>\n          <div xmlns="http://www.w3.org/1999/xhtml">\n            <div style="').concat(de(a),'">\n              ').concat(VP.map((function(t){return'<div style="'.concat(s,";").concat(u[t],'"></div>')})).join(""),"          \n            </div>   \n          </div>\n        </foreignObject>          \n      ")}},{key:"html",get:function(){var t=this.json,e=t.id,n=t.itemType;return("\n      <div class='element-item ".concat(n,"' data-id=\"").concat(e,'">\n        ').concat(this.toDefString,"\n        ").concat(VP.map((function(t){return"<div class='".concat(t,"'></div>")})).join(""),"\n      </div>"))}},{key:"svg",get:function(){var t=this.json.x.value,e=this.json.y.value;return this.toSVG(t,e)}}])&&_P(n.prototype,r),o&&_P(n,o),e}(OP);function zP(t){return(zP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BP(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function FP(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function HP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?GP(Object(n),!0).forEach((function(e){XP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function XP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function KP(t,e){return!e||"object"!==zP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function WP(t,e,n){return(WP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=UP(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function UP(t){return(UP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ZP(t,e){return(ZP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}gi.registerComponent("cube",MP);var qP={count:!0,rate:!0,face:!0},JP={position:!0,left:!0,top:!0,right:!0,bottom:!0,width:!0,height:!0,opacity:!0,"text-fill-color":!0,"text-stroke-color":!0,"text-stroke-width":!0,"background-clip":!0,"clip-path":!0,animation:!0,transition:!0,transform:!0,"transform-origin":!0,"transform-style":!0,perspective:!0,"perspective-origin":!0,"offset-path":!0},QP={filter:!0,"mix-blend-mode":!0,"background-image":!0,"background-color":!0,"border-radius":!0,border:!0},tx=function(t){function e(){return YP(this,e),KP(this,UP(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ZP(t,e)}(e,t),n=e,o=[{key:"getIcon",value:function(){return jv.cylinder}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return WP(UP(e.prototype),"getDefaultObject",this).call(this,HP({itemType:"cylinder",name:"New Cylinder","transform-style":"preserve-3d","backface-visibility":"visible",transform:"rotateX(10deg) rotateY(30deg)",count:$.number(40),rate:$.number(1),border:"border-top: 1px solid black;border-bottom: 1px solid black;"},t))}},{key:"getProps",value:function(){var t=this.json.count.value;return["Side",{key:"count",editor:"NumberRangeEditor",editorOptions:{label:"Count",min:3,max:100,step:1},refresh:!0,defaultValue:t},{key:"rate",editor:"NumberRangeEditor",editorOptions:{label:"radius",min:0,max:10,step:.1},refresh:!0,defaultValue:this.json.rate.value},{key:"backface-visibility",editor:"SelectIconEditor",editorOptions:{label:"visibility",options:"visible,hidden"},refresh:!0,defaultValue:this.json["backface-visibility"]},"Color"].concat(FP(fe(t).map((function(t,e){return{key:"face.".concat(e,".color"),editor:"ColorViewEditor",editorOptions:{label:"face ".concat(e),params:"face.".concat(e,".color")},defaultValue:"rgba(0, 0, 0, 1)"}}))),["Background"],FP(fe(t).map((function(t,e){return{key:"face.".concat(e,".background"),editor:"BackgroundImageEditor",editorOptions:{title:"face ".concat(e)},defaultValue:""}}))))}},{key:"setCustomKeyframes",value:function(t,e){var n=this;if("rate"===e.property){var r=this.json.width,o=this.json.count.value,i=r.value/2,a=360/o,c=fe(o).map((function(t,r){var o=r*a;return{selector:'[data-id="'.concat(n.json.id,'"] .face[data-index="').concat(r,'"]'),properties:[{keyframes:e.keyframes.map((function(t){var e=t.time,n=t.value,r=t.timing;return{time:e,value:"rotateY(".concat(o,"deg) translateZ(").concat(i*n,"px)"),timing:r}})),property:"transform"}]}}));t.push.apply(t,FP(c))}if(e.property.includes(".color")){var u=BP(e.property.split("."),3),s=(u[0],u[1]);u[2],t.push({selector:'[data-id="'.concat(this.json.id,'"] .face[data-index="').concat(s,'"]'),properties:[HP({},e,{property:"background-color"})]})}if(e.property.includes(".background")){var l=BP(e.property.split("."),3);l[0],s=l[1],l[2],t.push({selector:'[data-id="'.concat(this.json.id,'"] .face[data-index="').concat(s,'"]'),properties:[HP({},e,{property:"background-image"})]})}}},{key:"toAnimationKeyframes",value:function(t){var e=this,n=[],r=[],o=[];t.forEach((function(t){t.property.includes("face")||qP[t.property]?n.push(t):JP[t.property]?r.push(t):QP[t.property]&&o.push(t)}));var i=[];return r.length&&i.push({selector:'[data-id="'.concat(this.json.id,'"]'),properties:r}),o.length&&i.push({selector:'[data-id="'.concat(this.json.id,'"] div'),properties:o}),n.length&&n.forEach((function(t){e.setCustomKeyframes(i,t)})),i}},{key:"convert",value:function(t){return(t=WP(UP(e.prototype),"convert",this).call(this,t)).count=$.parse(t.count),t.rate=$.parse(t.rate),t}},{key:"toCloneObject",value:function(){var t=this,n={};return fe(this.json.count.value).forEach((function(e,r){n["face.".concat(r,".color")]=t.json["face.".concat(r,".color")],n["face.".concat(r,".background")]=t.json["face.".concat(r,".background")]})),HP({},WP(UP(e.prototype),"toCloneObject",this).call(this),{count:this.json.count.clone(),rate:this.json.rate.clone()},n)}},{key:"enableHasChildren",value:function(){return!1}},{key:"getDefaultTitle",value:function(){return"Cylinder"}},{key:"getIcon",value:function(){return jv.cylinder}},{key:"toDefaultCSS",value:function(){var t={};return this.json.x&&(t.left=this.json.x),this.json.y&&(t.top=this.json.y),HP({},t,{},this.toKeyListCSS("position","right","bottom","width","height","transform-origin","transform","transform-style","perspective","perspective-origin"))}},{key:"toCSS",value:function(){return HP({},this.toVariableCSS(),{},this.toDefaultCSS(),{},this.toWebkitCSS(),{},this.toBoxModelCSS(),{},this.toAnimationCSS(),{},this.toTransitionCSS())}},{key:"toNestedCSS",value:function(){var t=this.json,e=t.count.value,n=t.width,r=t["backface-visibility"],o=t.rate.value,i=this.cylinderInfo,a=i.angle,c=i.r,u=i.faceWidth,s=HP({},this.toKeyListCSS("filter","mix-blend-mode","border-radius","opacity","background-color"),{},this.toBackgroundImageCSS(),{},this.toBorderCSS(),{},this.toClipPathCSS()),l=fe(e).map((function(e,n){var r=n*a,i="face.".concat(n,".color"),u="face.".concat(n,".background");return{selector:'.face[data-index="'.concat(n,'"]'),cssText:"\n          transform:rotateY(".concat(r,"deg) translateZ(").concat(c*o,"px);\n          ").concat(t[i]?"background-color: ".concat(t[i],";"):"","\n          ").concat(t[u]?"".concat(t[u],";"):"","\n        ").trim()}}));return[{selector:".face",cssText:"\n          position: absolute;\n          left: ".concat(n.value/2-u/2,"px;\n          top: 0px;\n          bottom: 0px;\n          right: 0px;\n          width: ").concat(u,"px;\n          backface-visibility: ").concat(r,";\n          opacity: 1;\n          pointer-events: none;\n          ").concat(de(s),"\n        ").trim()}].concat(FP(l))}},{key:"updateFunction",value:function(t){if(WP(UP(e.prototype),"updateFunction",this).call(this,t),+t.attr("data-count")!==this.json.count.value){t.$$(".face").forEach((function(t){return t.remove()}));var n=fe(this.json.count.value).map((function(t,e){return"<div class='face' data-index=\"".concat(e,'"></div>')})).join("");t.appendHTML(n),t.attr("data-count",this.json.count)}}},{key:"cylinderInfo",get:function(){var t=this.json.width.value,e={x:a=t/2,y:t/2},n=[],r=this.json.count.value;r<3&&(r=3);for(var o=360/r,i=0;i<360;i+=o)n.push(G(i,a,e.x,e.y));var a,c=H(n[0].x,n[0].y,n[1].x,n[1].y),u={x:(n[0].x+n[1].x)/2,y:(n[0].y+n[1].y)/2};return{polygon:n,faceWidth:c,angle:o,r:a=H(u.x,u.y,e.x,e.y)}}},{key:"html",get:function(){var t=this.json,e=t.id,n=t.itemType,r=this.json.count.value;return"\n      <div class='element-item ".concat(n,"' data-id=\"").concat(e,'" data-count="').concat(r,'">\n        ').concat(this.toDefString,"\n        ").concat(fe(r).map((function(t,e){return"<div class='face' data-index=\"".concat(e,'"></div>')})).join(""),"\n      </div>")}},{key:"svg",get:function(){var t=this.json,e=t.width,n=t.height,r=t.x,o=t.y;r=r.value,o=o.value;var i=this.toCSS(),a=this.toNestedCSS(),c=this.json.count.value,u=a.find((function(t){return".face"===t.selector}))||{cssText:""};u=u.cssText.replace(/\n/g,"");var s=fe(c).map((function(t,e){return a[e+1].cssText.replace(/\n/g,"")}));return delete i.left,delete i.top,"absolute"===i.position&&delete i.position,'\n    <g transform="translate('.concat(r,", ").concat(o,')">\n    ').concat(this.toDefString,"\n      <foreignObject ").concat(be({width:e.value,height:n.value,overflow:"visible"}),'>\n        <div xmlns="http://www.w3.org/1999/xhtml">\n          <div style="').concat(de(i),'">\n            ').concat(fe(c).map((function(t,e){return"<div class='face' data-index=\"".concat(e,"\" style='").concat(u,";").concat(s[e],";'></div>")})).join(""),"\n          </div>\n        </div>\n      </foreignObject>    \n    </g>\n")}}])&&NP(n.prototype,r),o&&NP(n,o),e}(OP);function ex(t){return(ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rx(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nx(Object(n),!0).forEach((function(e){ox(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ox(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ix(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ax(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cx(t,e){return!e||"object"!==ex(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ux(t,e,n){return(ux="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=sx(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function sx(t){return(sx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lx(t,e){return(lx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}gi.registerComponent("cylinder",tx);var fx=function(t){function e(){return ix(this,e),cx(this,sx(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lx(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ux(sx(e.prototype),"getDefaultObject",this).call(this,rx({itemType:"artboard",name:"New ArtBoard",width:$.px(1e3),height:$.px(1e3),"background-color":"white"},t))}},{key:"isLeaf",value:function(){return!1}},{key:"toCloneObject",value:function(){return rx({},ux(sx(e.prototype),"toCloneObject",this).call(this),{name:this.json.name})}},{key:"getDefaultTitle",value:function(){return"ArtBoard"}},{key:"getIcon",value:function(){return jv.artboard}},{key:"toDefaultCSS",value:function(){return rx({},ux(sx(e.prototype),"toDefaultCSS",this).call(this))}}])&&ax(n.prototype,r),o&&ax(n,o),e}(gv);function px(t){return(px="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hx(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yx(Object(n),!0).forEach((function(e){dx(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mx(t,e){return!e||"object"!==px(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gx(t,e,n){return(gx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wx(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function wx(t){return(wx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kx(t,e){return(kx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}gi.registerComponent("artboard",fx);var Ox=function(t){function e(){return vx(this,e),mx(this,wx(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kx(t,e)}(e,t),n=e,o=[{key:"getIcon",value:function(){return jv.image}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return gx(wx(e.prototype),"getDefaultObject",this).call(this,hx({itemType:"image",name:"New Image",elementType:"image",src:""},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"getDefaultTitle",value:function(){return"Image"}},{key:"getIcon",value:function(){return jv.image}},{key:"toCloneObject",value:function(){return hx({},gx(wx(e.prototype),"toCloneObject",this).call(this),{src:this.json.src+""})}},{key:"resize",value:function(){this.reset({width:this.json.naturalWidth.clone(),height:this.json.naturalHeight.clone()})}},{key:"updateFunction",value:function(t){var n=t.$("img");n&&n.attr("src",this.url),gx(wx(e.prototype),"updateFunction",this).call(this,t)}},{key:"toNestedCSS",value:function(){return this.json,hx({},this.toKeyListCSS("filter","mix-blend-mode","border-radius","background-color","opacity"),{},this.toClipPathCSS(),{},this.toBackgroundImageCSS(),{},this.toBorderCSS()),[{selector:"img",cssText:"\n          width: 100%;\n          height: 100%;\n          pointer-events: none;\n        ".trim()}]}},{key:"toSVG",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.json,o=r.width,i=r.height,a=this.toCSS();return n?(delete a.left,delete a.top,"absolute"===a.position&&delete a.position,this.wrapperRootSVG(t,e,o,i,'\n        <img style="'.concat(de(a),'" src="').concat(this.url,' "/>\n      '))):"\n        ".concat(this.toDefString,'      \n        <img style="').concat(de(a),'" src="').concat(this.url,' "/>\n      ')}},{key:"url",get:function(){var t=this.json.src;return this.top.getImageValueById(t)}},{key:"html",get:function(){var t=this.json,e=t.id,n=t.itemType;return("\n      <div class='element-item ".concat(n,"' data-id=\"").concat(e,'">\n        ').concat(this.toDefString,"\n        <img src='").concat(this.url,"' />\n      </div>"))}},{key:"svg",get:function(){var t=this.json.x.value,e=this.json.y.value;return this.toSVG(t,e)}}])&&bx(n.prototype,r),o&&bx(n,o),e}(Vv);function jx(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Sx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}gi.registerComponent("image",Ox);var Px=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getAllDropItems",value:function(t){var e=[];t.dataTransfer&&(e=jx(t.dataTransfer.types).map((function(e,n){if(e.includes("text"))return{kind:"string",type:e,data:t.dataTransfer.getData(e)}})).filter((function(t){return t})));var n=[];return t.dataTransfer&&(n=jx(t.dataTransfer.files)),[].concat(jx(e),jx(n))}}],(n=null)&&Sx(e.prototype,n),r&&Sx(e,r),t}(),xx=["blur","grayscale","hue-rotate","invert","brightness","contrast","drop-shadow","opacity","saturate","sepia","svg"],$x=["check","grid","dot","cross-dot","diagonal-line","vertical-line","horizontal-line"],Ex=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"].join(","),_x={text:!0,points:!0,textLength:!0,startOffset:!0,lengthAdjust:!0},Cx={d:!0},Tx={position:!0,x:!0,y:!0,right:!0,bottom:!0,width:!0,height:!0,rootVariable:!0,variable:!0,transform:!0,filter:!0,"backdrop-filter":!0,"background-color":!0,"background-clip":!0,"background-image":!0,"border-radius":!0,"box-shadow":!0,"text-shadow":!0,"text-clip":!0,"clip-path":!0,color:!0,"font-size":!0,"font-stretch":!0,"line-height":!0,"text-align":!0,"text-transform":!0,"text-decoration":!0,"letter-spacing":!0,"word-spacing":!0,"text-indent":!0,"perspective-origin":!0,"transform-origin":!0,"transform-style":!0,perspective:!0,"mix-blend-mode":!0,opacity:!0,rotate:!0,"text-fill-color":!0,"text-stroke-color":!0,"text-stroke-width":!0,"offset-path":!0,"offset-distance":!0,border:!0,outline:!0,borderRadius:!0,animations:!0,transitions:!0,fill:!0,"fill-opacity":!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"fill-rule":!0,"stroke-linecap":!0,"stroke-linejoin":!0},Rx=function(t){return _x[t]||!1},Dx=function(t){return Cx[t]||!1},Vx=function(t){return Tx[t]||!1};function Ax(t){return(Ax="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ix(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mx(t,e){return!e||"object"!==Ax(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zx(t){return(zx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bx(t,e){return(Bx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Fx=function(t){function e(){return Ix(this,e),Mx(this,zx(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bx(t,e)}(e,t),n=e,(r=[{key:"toString",value:function(){return""}},{key:"toSVGString",value:function(t){return""}},{key:"toFillValue",value:function(t){return""}}])&&Lx(n.prototype,r),o&&Lx(n,o),e}(Fc);function Gx(t){return(Gx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hx(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Xx(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Yx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nx(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yx(Object(n),!0).forEach((function(e){Kx(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Kx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ux(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zx(t,e){return!e||"object"!==Gx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qx(t,e,n){return(qx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jx(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Jx(t){return(Jx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qx(t,e){return(Qx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var t$=function(t){function e(){return Wx(this,e),Zx(this,Jx(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qx(t,e)}(e,t),n=e,o=[{key:"toLinearGradient",value:function(t){return 0===t.length?"none":new LinearGradient({angle:"to right",colorsteps:t})+""}},{key:"parse",value:function(t){var n=fn(t),r={},o=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(t.includes("@"))t=yn(t,n.matches),o.push.apply(o,Xx(_c.parse(t)));else{var i=Hx(t.split(" "),5),a=i[0],c=i[1],u=i[2],s=i[3],l=i[4];r.x1=$.parse(a),r.y1=$.parse(c),r.x2=$.parse(u),r.y2=$.parse(s),r.spreadMethod=l||"pad"}})),new e(Nx({},r,{colorsteps:o}))}}],(r=[{key:"getDefaultObject",value:function(t){return qx(Jx(e.prototype),"getDefaultObject",this).call(this,Nx({type:"linear-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",spreadMethod:"pad"},t))}},{key:"toCloneObject",value:function(){return Nx({},qx(Jx(e.prototype),"toCloneObject",this).call(this),{x1:this.json.x1,y1:this.json.y1,x2:this.json.x2,y2:this.json.y2,spreadMethod:this.json.spreadMethod})}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var t=this.getColorString(),e=this.json,n=[e.x1,e.y1,e.x2,e.y2,e.spreadMethod].join(" ");return"".concat(this.json.type,"(").concat(n,", ").concat(t,")")}},{key:"toSVGString",value:function(t){var e=this.json,n=e.x1,r=e.y1,o=e.x2,i=e.y2,a=e.spreadMethod;return("\n<linearGradient ".concat(be({id:t,x1:n,x2:o,y1:r,y2:i,spreadMethod:a})," >\n  ").concat(this.colorsteps.map((function(t){return'<stop offset="'.concat(t.percent,'%"  stop-color="').concat(t.color,'" ></stop>')})).join("\n"),"\n</linearGradient>\n      "))}},{key:"toFillValue",value:function(t){return"url(#".concat(t,")")}}])&&Ux(n.prototype,r),o&&Ux(n,o),e}(Fx);function e$(t){return(e$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n$(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r$(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o$(Object(n),!0).forEach((function(e){a$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s$(t,e){return!e||"object"!==e$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l$(t,e,n){return(l$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f$(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function f$(t){return(f$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p$(t,e){return(p$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y$=function(t){function e(){return c$(this,e),s$(this,f$(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p$(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=fn(t),r={},o=[];return n.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,e){if(t.includes("@"))t=yn(t,n.matches),o.push.apply(o,r$(_c.parse(t)));else{var i=n$(t.split(" "),7),a=i[0],c=i[1],u=i[2],s=i[3],l=i[4],f=i[5],p=i[6];r.cx=a,r.cy=c,r.r=u,r.fx=s,r.fy=l,r.fr=f,r.spreadMethod=p||"pad"}})),new e(i$({},r,{colorsteps:o}))}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l$(f$(e.prototype),"getDefaultObject",this).call(this,i$({type:"radial-gradient",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%",fr:"0%",spreadMethod:"pad"},t))}},{key:"toCloneObject",value:function(){var t=this.json,n=t.cx,r=t.cy,o=t.r,i=t.fx,a=t.fy,c=t.fr,u=t.spreadMethod;return i$({},l$(f$(e.prototype),"toCloneObject",this).call(this),{cx:n,cy:r,r:o,fx:i,fy:a,fr:c,spreadMethod:u})}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var t=this.getColorString(),e=this.json,n=[e.cx,e.cy,e.r,e.fx,e.fy,e.fr,e.spreadMethod].join(" ");return"".concat(this.json.type,"(").concat(n,", ").concat(t,")")}},{key:"toSVGString",value:function(t){var e=this.json,n=e.cx,r=e.cy,o=e.r,i=e.fx,a=e.fy,c=e.fr,u=e.spreadMethod;return("\n<radialGradient ".concat(be({id:t,cx:n,cy:r,r:o,fx:i,fy:a,fr:c,spreadMethod:u})," >\n  ").concat(this.colorsteps.map((function(t){return'<stop offset="'.concat(t.percent,'%"  stop-color="').concat(t.color,'" />')})).join("\n"),"\n</radialGradient>\n"))}},{key:"toFillValue",value:function(t){return"url(#".concat(t,")")}}])&&u$(n.prototype,r),o&&u$(n,o),e}(Fx);function h$(t){return(h$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g$(t,e){return!e||"object"!==h$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w$(t,e,n){return(w$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k$(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function k$(t){return(k$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O$(t,e){return(O$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j$=function(t){function e(){return b$(this,e),g$(this,k$(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O$(t,e)}(e,t),n=e,o=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transparent";return new e({colorsteps:[new _c({color:t,percent:0,index:0}),new _c({color:t,percent:100,index:0})]})}}],(r=[{key:"getDefaultObject",value:function(){return w$(k$(e.prototype),"getDefaultObject",this).call(this,{type:"static-gradient",static:!0,colorsteps:[new _c({color:"red",percent:0,index:0}),new _c({color:"red",percent:100,index:1})]})}},{key:"toCloneObject",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d$(Object(n),!0).forEach((function(e){v$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},w$(k$(e.prototype),"toCloneObject",this).call(this),{static:!0})}},{key:"setColor",value:function(t){this.colorsteps.forEach((function(e){e.color=t}))}},{key:"toString",value:function(){return this.json.colorsteps[0].color}},{key:"toSVGString",value:function(){return""}},{key:"toFillValue",value:function(){return this.toString()}},{key:"isStatic",value:function(){return!0}}])&&m$(n.prototype,r),o&&m$(n,o),e}(Fx);function S$(t){return(S$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P$(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function x$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x$(Object(n),!0).forEach((function(e){E$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T$(t,e){return!e||"object"!==S$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R$(t,e,n){return(R$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=D$(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function D$(t){return(D$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function V$(t,e){return(V$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A$=["jpg","jpeg","png","gif","svg"];var I$=function(t){function e(){return _$(this,e),T$(this,D$(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V$(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){var n=P$(t.split("(")[1].split(")")[0].trim().split("#"),2),r=n[0],o=n[1];if(!o)return new e({url:r});var i=P$(o.split(","),7);return new e({patternUnits:i[0],patternWidth:i[1],patternHeight:i[2],imageX:i[3],imageY:i[4],imageWidth:i[5],imageHeight:i[6],url:r})}},{key:"isImageFile",value:function(t){return A$.includes(t)}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R$(D$(e.prototype),"getDefaultObject",this).call(this,$$({type:"url",url:"",datauri:"",patternUnits:"userSpaceOnUse",patternWidth:"100%",patternHeight:"100%",imageX:"0%",imageY:"0%",imageWidth:"100%",imageHeight:"100%"},t))}},{key:"toCloneObject",value:function(){return $$({},R$(D$(e.prototype),"toCloneObject",this).call(this),{url:this.json.url,datauri:this.json.datauri,patternUnits:this.json.patternUnits,patternWidth:this.json.patternWidth,patternHeight:this.json.patternHeight,imageX:this.json.imageX,imageY:this.json.imageY,imageWidth:this.json.imageWidth,imageHeight:this.json.imageHeight})}},{key:"isUrl",value:function(){return!0}},{key:"toString",value:function(){var t=this.json,e=t.patternUnits,n=t.patternWidth,r=t.patternHeight,o=t.imageX,i=t.imageY,a=t.imageWidth,c=t.imageHeight,u=t.url,s=[e,n,r,o,i,a,c].join(",").trim();return"url(".concat(u,"#").concat(s,")")}},{key:"toSVGString",value:function(t){var e=this.json,n=e.patternUnits,r=e.patternWidth,o=e.patternHeight,i=e.imageX,a=e.imageY,c=e.imageWidth,u=e.imageHeight;return("\n  <pattern ".concat(be({id:t,patternUnits:n,width:r,height:o}),' >\n    <image xlink:href="').concat(this.json.url,'" ').concat(be({x:i,y:a,width:c,height:u,preserveAspectRatio:"none"})," />\n  </pattern>\n      "))}},{key:"toFillValue",value:function(t){return"url(#".concat(t,")")}}])&&C$(n.prototype,r),o&&C$(n,o),e}(bc);function L$(t){return(L$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M$(Object(n),!0).forEach((function(e){B$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function B$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H$(t,e){return!e||"object"!==L$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function X$(t){return(X$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Y$(t,e){return(Y$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var N$=/((linear\-gradient|radial\-gradient|url)\(([^\)]*)\))/gi,K$=function(t){function e(){return F$(this,e),H$(this,X$(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y$(t,e)}(e,t),n=e,o=[{key:"createImage",value:function(t){return new SVGLImageResource({url:t})}},{key:"createGradient",value:function(t,e){var n=t.colorsteps||e.colorsteps,r=e.toJSON();switch(delete r.itemType,delete r.type,t.type){case"linear-gradient":return new t$(z$({},r,{colorsteps:n}));case"radial-gradient":return new y$(z$({},r,{colorsteps:n}));default:return new j$(z$({},r,{colorsteps:n}))}}},{key:"parse",value:function(t){return new e(t)}},{key:"parseImage",value:function(t){var e=fn(t),n=null,r=e.str.match(N$);return r?(r.forEach((function(t,r){t=yn(t,e.matches),n=t.includes("linear")?t$.parse(t):t.includes("radial")?y$.parse(t):t.includes("url")?I$.parse(t):j$.parse(t)})),n):j$.create(t||"transparent")}},{key:"changeImageType",value:function(t){switch(t.type){case"linear-gradient":return new t$(t);case"radial-gradient":return new y$(t);case"image-resource":case"url":return new I$(t);default:return new j$(t)}}}],(r=[{key:"addImageResource",value:function(t){return this.clear("image-resource"),this.addItem("image-resource",t)}},{key:"addGradient",value:function(t){return this.addImageResource(t)}},{key:"setImageUrl",value:function(t){t.images&&t.images.length&&this.reset({type:"image",image:e.createImage(t.images[0])})}},{key:"setGradient",value:function(t){this.reset({type:t.type,image:e.createGradient(t,this.json.image)})}},{key:"image",get:function(){return this.json.image},set:function(t){this.json.image=t}}])&&G$(n.prototype,r),o&&G$(n,o),e}(ac);function W$(t){return(W$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Z$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U$(Object(n),!0).forEach((function(e){q$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function q$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tE(t,e){return!e||"object"!==W$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eE(t,e,n){return(eE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nE(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function nE(t){return(nE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rE(t,e){return(rE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var oE=function(t){function e(){return J$(this,e),tE(this,nE(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rE(t,e)}(e,t),n=e,(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return eE(nE(e.prototype),"getDefaultObject",this).call(this,Z$({itemType:"svg",name:"New SVG",elementType:"svg",overflow:"visible",stroke:"black","stroke-width":1,svgfilter:"",fill:"transparent","fill-rule":"","fill-opacity":"","stroke-linecap":"","stroke-linejoin":"","stroke-dashoffset":0,"stroke-dasharray":" ","text-anchor":"start","motion-based":!1},t))}},{key:"toCloneObject",value:function(){var t=this.json;return Z$({},eE(nE(e.prototype),"toCloneObject",this).call(this),{overflow:t.overflow,stroke:t.stroke,"stroke-width":t["stroke-width"],svgfilter:t.svgfilter,fill:t.fill,"fill-rule":t["fill-rule"],"fill-opacity":t["fill-opacity"],"stroke-linecap":t["stroke-linecap"],"stroke-linejoin":t["stroke-linejoin"],"stroke-dashoffset":t["stroke-dashoffset"],"stroke-dasharray":t["stroke-dasharray"],"text-anchor":t["text-anchor"],"motion-based":t["motion-based"]})}},{key:"toDefaultCSS",value:function(){return Z$({},eE(nE(e.prototype),"toDefaultCSS",this).call(this),{},this.toKeyListCSS("stroke-width","stroke-linecap","stroke-linejoin","stroke-dasharray","stroke-dashoffset","fill-opacity","fill-rule","text-anchor"))}},{key:"toSVGAttribute",value:function(){return Z$({},this.toDefaultSVGCSS(),{},this.toKeyListCSS("stroke-width","stroke-linecap","stroke-linejoin","stroke-dasharray","stroke-dashoffset","fill-opacity","fill-rule","text-anchor"))}},{key:"toLayoutCSS",value:function(){return{}}},{key:"getDefaultTitle",value:function(){return"SVG"}},{key:"updateDefString",value:function(t){var e=t.$("defs");if(e)e.html(this.toDefInnerString);else{var n=this.toDefString.trim();t.prepend(Nn.createByHTML(n))}}},{key:"toExportSVGCode",value:function(){return"\n      ".concat(this.toFillSVG,"\n      ").concat(this.toStrokeSVG,"\n    ")}},{key:"toDefInnerString",get:function(){return"\n        ".concat(this.toFillSVG,"\n        ").concat(this.toStrokeSVG,"\n    ")}},{key:"toDefString",get:function(){var t=this.toDefInnerString.trim();return("\n      <defs>\n        ".concat(t,"\n      </defs>\n    "))}},{key:"fillId",get:function(){return this.getInnerId("fill")}},{key:"strokeId",get:function(){return this.getInnerId("stroke")}},{key:"toFillSVG",get:function(){return K$.parseImage(this.json.fill||"transparent").toSVGString(this.fillId)}},{key:"toStrokeSVG",get:function(){return K$.parseImage(this.json.stroke||"black").toSVGString(this.strokeId)}},{key:"toFillValue",get:function(){return K$.parseImage(this.json.fill||"transparent").toFillValue(this.fillId)}},{key:"toFillOpacityValue",get:function(){return Rn.parse(this.json.fill||"transparent").a}},{key:"toStrokeValue",get:function(){return K$.parseImage(this.json.stroke||"black").toFillValue(this.strokeId)}},{key:"toFilterValue",get:function(){return this.json.svgfilter?"url(#".concat(this.json.svgfilter,")"):""}}])&&Q$(n.prototype,r),o&&Q$(n,o),e}(Vv);function iE(t){return(iE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?aE(Object(n),!0).forEach((function(e){uE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function uE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fE(t,e){return!e||"object"!==iE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pE(t,e,n){return(pE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yE(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function yE(t){return(yE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hE(t,e){return(hE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var dE=function(t){function e(){return sE(this,e),fE(this,yE(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hE(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return jv.edit}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return pE(yE(e.prototype),"getDefaultObject",this).call(this,cE({itemType:"svg-path",name:"New Path","stroke-width":5,d:"",segments:[],totalLength:0},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"setCache",value:function(){this.rect=this.clone(!1),this.json.path||(this.json.path=new Vi(this.json.d)),this.cachePath=this.json.path.clone()}},{key:"recover",value:function(){this.rect||this.setCache();var t=this.rect.width.value;0===t&&(t=1);var e=this.rect.height.value;0===e&&(e=1);var n=this.json.width.value/t,r=this.json.height.value/e;this.scale(n,r)}},{key:"scale",value:function(t,e){this.json.d=this.cachePath.clone().scaleTo(t,e),this.json.path.reset(this.json.d)}},{key:"convert",value:function(t){return(t=pE(yE(e.prototype),"convert",this).call(this,t)).d&&(t.path=new Vi(t.d)),t}},{key:"toCloneObject",value:function(){var t=this.json;return cE({},pE(yE(e.prototype),"toCloneObject",this).call(this),{totalLength:t.totalLength,d:t.d,segments:ue(this.json.segments)})}},{key:"getDefaultTitle",value:function(){return"Path"}},{key:"toAnimationKeyframes",value:function(t){var e=t.filter((function(t){return Rx(t.property)&&Dx(t.property)})),n=t.filter((function(t){return Vx(t.property)}));return[{selector:'[data-id="'.concat(this.json.id,'"]'),properties:n},{selector:'[data-id="'.concat(this.json.id,'"] path'),properties:e}]}},{key:"updateFunction",value:function(t){if(t){var e=t.$("path");e&&e.setAttr({d:this.json.d,filter:this.toFilterValue,fill:this.toFillValue,stroke:this.toStrokeValue}),this.updateDefString(t),isLast&&(this.json.totalLength=e.totalLength)}}},{key:"toSVG",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return'\n      <g transform="translate('.concat(t,", ").concat(e,')">\n      ').concat(this.toDefString,"\n      <path ").concat(be(cE({class:"svg-path-item",d:this.json.d,filter:this.toFilterValue,fill:this.toFillValue,stroke:this.toStrokeValue},this.toSVGAttribute(),{style:de(this.toSVGCSS())}))," />\n    </g>\n  ")}},{key:"html",get:function(){var t=this.json.id,e={"motion-based":this.json["motion-based"]};return"\n  <svg class='element-item path ".concat(me(e),"'  ").concat(be({"motion-based":this.json["motion-based"],xmlns:"http://www.w3.org/2000/svg"}),'  data-id="').concat(t,'" >\n    ').concat(this.toDefString,"\n    <path ").concat(be({class:"svg-path-item",d:this.json.d,filter:this.toFilterValue,fill:this.toFillValue,stroke:this.toStrokeValue})," />\n  </svg>")}},{key:"svg",get:function(){var t=this.json.x.value,e=this.json.y.value;return this.toSVG(t,e)}}])&&lE(n.prototype,r),o&&lE(n,o),e}(oE);gi.registerComponent("svg-path",dE);function vE(t){return(vE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bE(Object(n),!0).forEach((function(e){gE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OE(t,e){return!e||"object"!==vE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jE(t,e,n){return(jE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=SE(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function SE(t){return(SE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function PE(t,e){return(PE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xE=function(t){function e(){return wE(this,e),OE(this,SE(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PE(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return jv.title}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jE(SE(e.prototype),"getDefaultObject",this).call(this,mE({itemType:"svg-text",name:"New Text",totalLength:0,fill:"rgba(0, 0, 0, 1)",text:"Insert a text","font-weight":$.number(100),textLength:$.em(0),lengthAdjust:"spacingAndGlyphs","shape-inside":"","shape-subtract":"","shape-margin":"","shape-padding":""},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"setCache",value:function(){this.rect=this.clone(!1)}},{key:"convert",value:function(t){return(t=jE(SE(e.prototype),"convert",this).call(this,t)).textLength=$.parse(t.textLength),t}},{key:"toCloneObject",value:function(){var t=this.json;return mE({},jE(SE(e.prototype),"toCloneObject",this).call(this),{totalLength:t.totalLength,text:t.text,textLength:"".concat(t.textLength),lengthAdjust:t.lengthAdjust,"shape-inside":t["shape-inside"]})}},{key:"getDefaultTitle",value:function(){return"Text"}},{key:"toAnimationKeyframes",value:function(t){var e=t.filter((function(t){return Rx(t.property)})),n=t.filter((function(t){return Vx(t.property)}));return[{selector:'[data-id="'.concat(this.json.id,'"]'),properties:n},{selector:'[data-id="'.concat(this.json.id,'"] text'),properties:e}]}},{key:"updateFunction",value:function(t){var e=t.$("text");e&&(e.text(this.json.text),e.setAttr({filter:this.toFilterValue,fill:this.toFillValue,stroke:this.toStrokeValue,textLength:this.json.textLength,lengthAdjust:this.json.lengthAdjust})),this.updateDefString(t)}},{key:"toSVG",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.json,r=n.textLength,o=n.lengthAdjust;return'\n    <g transform="translate('.concat(t,", ").concat(e,')">    \n      ').concat(this.toDefString,"\n      <text ").concat(be(mE({class:"svg-text-item"},this.toSVGAttribute(),{textLength:r,lengthAdjust:o,style:de(this.toSVGCSS())}))," >").concat(this.json.text,"</text>\n    </g>")}},{key:"toDefInnerString",get:function(){return"\n        ".concat(this.toFillSVG,"\n        ").concat(this.toStrokeSVG,"\n    ")}},{key:"shapeInsideId",get:function(){return this.getInnerId("shape-inside")}},{key:"html",get:function(){var t=this.json,e=t.id,n=t.textLength,r=t.lengthAdjust;return("\n  <svg class='element-item textpath' data-id=\"".concat(e,'">\n    ').concat(this.toDefString,"\n      <text ").concat(be({class:"svg-text-item",textLength:n,lengthAdjust:r})," >").concat(this.json.text,"</text>\n  </svg>"))}},{key:"svg",get:function(){var t=this.json.x.value,e=this.json.y.value;return this.toSVG(t,e)}}])&&kE(n.prototype,r),o&&kE(n,o),e}(oE);function $E(t){return($E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function EE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?EE(Object(n),!0).forEach((function(e){CE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function CE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function DE(t,e){return!e||"object"!==$E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function VE(t,e,n){return(VE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=AE(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function AE(t){return(AE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function IE(t,e){return(IE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}gi.registerComponent("svgtext",xE);var LE=function(t){function e(){return TE(this,e),DE(this,AE(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IE(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return jv.text_rotate}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return VE(AE(e.prototype),"getDefaultObject",this).call(this,_E({itemType:"svg-textpath",name:"New TextPath",d:"",totalLength:0,fill:"rgba(0, 0, 0, 1)",text:"Insert a text",textLength:$.em(0),lengthAdjust:"spacingAndGlyphs",startOffset:$.em(0)},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"setCache",value:function(){this.rect=this.clone(!1),this.json.path||(this.json.path=new Vi(this.json.d)),this.cachePath=this.json.path.clone()}},{key:"recover",value:function(){this.rect||this.setCache();var t=this.json.width.value/this.rect.width.value,e=this.json.height.value/this.rect.height.value;this.scale(t,e)}},{key:"scale",value:function(t,e){this.json.d=this.cachePath.clone().scaleTo(t,e),this.json.path.reset(this.json.d)}},{key:"convert",value:function(t){return(t=VE(AE(e.prototype),"convert",this).call(this,t)).path=new Vi(t.d),t.textLength=$.parse(t.textLength),t.startOffset=$.parse(t.startOffset),t}},{key:"toCloneObject",value:function(){var t=this.json;return _E({},VE(AE(e.prototype),"toCloneObject",this).call(this),{totalLength:t.totalLength,d:t.d,text:t.text,textLength:"".concat(t.textLength),lengthAdjust:t.lengthAdjust,startOffset:"".concat(t.startOffset)})}},{key:"getDefaultTitle",value:function(){return"TextPath"}},{key:"toAnimationKeyframes",value:function(t){var e=t.filter((function(t){return Rx(t.property)})),n=t.filter((function(t){return Dx(t.property)})),r=t.filter((function(t){return Vx(t.property)}));return[{selector:'[data-id="'.concat(this.json.id,'"]'),properties:r},{selector:'[data-id="'.concat(this.json.id,'"] textPath'),properties:e},{selector:'[data-id="'.concat(this.json.id,'"] path'),properties:n}]}},{key:"updateFunction",value:function(t){var e=t.$("path");e&&e.attr("d",this.json.d);var n=t.$("textPath");n&&(n.text(this.json.text),n.setAttr({filter:this.toFilterValue,fill:this.toFillValue,stroke:this.toStrokeValue,textLength:this.json.textLength,lengthAdjust:this.json.lengthAdjust,startOffset:this.json.startOffset})),this.updateDefString(t),this.json.totalLength=e.totalLength}},{key:"toSVG",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.json,r=n.textLength,o=n.lengthAdjust,i=n.startOffset;return'\n    <g transform="translate('.concat(t,", ").concat(e,')">    \n      ').concat(this.toDefString,"\n      <text ").concat(be(_E({class:"svg-textpath-item"},this.toSVGAttribute(),{style:de(this.toSVGCSS())}))," >\n        <textPath ").concat(be({"xlink:href":"#".concat(this.toPathId),textLength:r,lengthAdjust:o,startOffset:i})," >").concat(this.json.text,"</textPath>\n      </text>\n    </g>")}},{key:"toDefInnerString",get:function(){return"\n        ".concat(this.toPathSVG,"\n        ").concat(this.toFillSVG,"\n        ").concat(this.toStrokeSVG,"\n    ")}},{key:"toPathId",get:function(){return this.getInnerId("path")}},{key:"toPathSVG",get:function(){return"\n    <path ".concat(be({class:"svg-path-item",id:this.toPathId,d:this.json.d,fill:"none"})," />\n    ")}},{key:"html",get:function(){var t=this.json,e=t.id,n=t.textLength,r=t.lengthAdjust,o=t.startOffset;return("\n  <svg class='element-item textpath' data-id=\"".concat(e,'">\n    ').concat(this.toDefString,"\n      <text ").concat(be({class:"svg-textpath-item"})," >\n        <textPath ").concat(be({"xlink:href":"#".concat(this.toPathId),textLength:n,lengthAdjust:r,startOffset:o})," >").concat(this.json.text,"</textPath>\n    </text>\n  </svg>"))}},{key:"svg",get:function(){var t=this.json.x.value,e=this.json.y.value;return this.toSVG(t,e)}}])&&RE(n.prototype,r),o&&RE(n,o),e}(oE);function ME(t){return(ME="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function BE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zE(Object(n),!0).forEach((function(e){FE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function FE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XE(t,e){return!e||"object"!==ME(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function YE(t,e,n){return(YE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=NE(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function NE(t){return(NE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function KE(t,e){return(KE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}gi.registerComponent("svg-textpath",LE);var WE=function(t){function e(){return GE(this,e),XE(this,NE(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KE(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return jv.title}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return YE(NE(e.prototype),"getDefaultObject",this).call(this,BE({itemType:"text",name:"New Text",elementType:"p",content:""},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"getDefaultTitle",value:function(){return"Text"}},{key:"toCloneObject",value:function(){return BE({},YE(NE(e.prototype),"toCloneObject",this).call(this),{content:this.json.content})}},{key:"updateFunction",value:function(t){var e=this.json.content;t.updateDiff(e)}},{key:"toCSS",value:function(){var t=YE(NE(e.prototype),"toCSS",this).call(this);return t.margin=t.margin||"0px",t}},{key:"toNestedCSS",value:function(){return[{selector:"> *",cssText:"\n          pointer-events: none;\n        "}]}},{key:"toSVG",value:function(t,e){var n=this.json,r=n.width,o=n.height,i=n.content,a=this.toCSS();return delete a.left,delete a.top,"absolute"===a.position&&delete a.position,'\n    <g transform="translate('.concat(t,", ").concat(e,')">\n    ').concat(this.toDefString,"\n      <foreignObject ").concat(be({width:r.value,height:o.value}),'>\n        <div xmlns="http://www.w3.org/1999/xhtml">\n          <p style="').concat(de(a),'" >').concat(i,"</p>\n        </div>\n      </foreignObject>    \n    </g>\n")}},{key:"html",get:function(){var t=this.json,e=t.id,n=t.itemType,r=t.content;return("<p class='element-item ".concat(n,'\' contenteditable="true" tabIndex="-1" data-id="').concat(e,'">').concat(r,"</p>"))}},{key:"svg",get:function(){var t=this.json.x.value,e=this.json.y.value;return this.toSVG(t,e)}}])&&HE(n.prototype,r),o&&HE(n,o),e}(Vv);function UE(t){return(UE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ZE(Object(n),!0).forEach((function(e){JE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function JE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e_(t,e){return!e||"object"!==UE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function n_(t,e,n){return(n_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function r_(t){return(r_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o_(t,e){return(o_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}gi.registerComponent("text",WE);var i_=function(t){function e(){return QE(this,e),e_(this,r_(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o_(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return jv.rect}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n_(r_(e.prototype),"getDefaultObject",this).call(this,qE({itemType:"rect",name:"New Rect"},t))}},{key:"getDefaultTitle",value:function(){return"Rect"}}])&&t_(n.prototype,r),o&&t_(n,o),e}(Vv);function a_(t){return(a_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c_(Object(n),!0).forEach((function(e){s_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p_(t,e){return!e||"object"!==a_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y_(t,e,n){return(y_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function h_(t){return(h_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d_(t,e){return(d_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}gi.registerComponent("rect",i_);var v_=function(t){function e(){return l_(this,e),p_(this,h_(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d_(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return jv.lens}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y_(h_(e.prototype),"getDefaultObject",this).call(this,u_({itemType:"circle",name:"New Circle","border-radius":"100%"},t))}},{key:"getDefaultTitle",value:function(){return"Circle"}}])&&f_(n.prototype,r),o&&f_(n,o),e}(Vv);function b_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g_(t){var e=Xm("linear"),n=Tm(t.segments),r=n.totalLength,o=n.interpolateList;return{totalLength:r,xy:function(t){t>1&&(t-=1);var n=o[0];if(0===t)n=o[0];else if(1===t)n=o[o.length-1];else{var r=o.find((function(e){return e.startT<=t&&t<e.endT}));r&&(n=r)}var i=(t-n.startT)/(n.endT-n.startT),a=e(i);return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b_(Object(n),!0).forEach((function(e){m_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n.interpolate(a,i,e),{newT:i,t:t,totalLength:n.totalLength})}}}function w_(t){return(w_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k_(Object(n),!0).forEach((function(e){j_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function j_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x_(t,e){return!e||"object"!==w_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $_(t,e,n){return($_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function E_(t){return(E_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function __(t,e){return(__=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}gi.registerComponent("circle",v_);var C_=function(t){function e(){return S_(this,e),x_(this,E_(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&__(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return jv.brush}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $_(E_(e.prototype),"getDefaultObject",this).call(this,O_({itemType:"svg-brush",name:"New Brush",d:"",segments:[],totalLength:0,distance:0},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"setCache",value:function(){this.rect=this.clone(),this.json.path||(this.json.path=new Vi(this.json.d)),this.cachePath=this.json.path.clone()}},{key:"recover",value:function(){var t=this.rect.width.value;0===t&&(t=1);var e=this.rect.height.value;0===e&&(e=1);var n=this.json.width.value/t,r=this.json.height.value/e;this.scale(n,r)}},{key:"scale",value:function(t,e){this.json.d=this.cachePath.clone().scaleTo(t,e),this.json.path.reset(this.json.d)}},{key:"convert",value:function(t){return(t=$_(E_(e.prototype),"convert",this).call(this,t)).d&&(t.path=new Vi(t.d)),t}},{key:"toCloneObject",value:function(){var t=this.json;return O_({},$_(E_(e.prototype),"toCloneObject",this).call(this),{totalLength:t.totalLength,d:t.d,segments:ue(this.json.segments)})}},{key:"getDefaultTitle",value:function(){return"Brush"}},{key:"toAnimationKeyframes",value:function(t){var e=t.filter((function(t){return Rx(t.property)&&Dx(t.property)})),n=t.filter((function(t){return Vx(t.property)}));return[{selector:'[data-id="'.concat(this.json.id,'"]'),properties:n},{selector:'[data-id="'.concat(this.json.id,'"] path'),properties:e}]}},{key:"updateFunction",value:function(t){var e=t.$("path.svg-brush-item");e.attr("d")!==this.json.d&&e.attr("d",this.json.d),this.updateDefString(t);var n=t.$(".svg-brush-items");n&&(n.setAttr({filter:this.toFilterValue,fill:this.toFillValue,"fill-opacity":this.toFillOpacityValue}),n.updateSVGDiff(this.makeBrushItem(this.json["stroke-width"]))),this.reset({totalLength:e.totalLength})}},{key:"makeBrushShape",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return arguments.length>3&&void 0!==arguments[3]&&arguments[3],"\n      <circle ".concat(be({cx:t,cy:e,r:n,transform:"rotate(".concat(360*Math.random(),", ").concat(t,", ").concat(e,")")}),"></circle>\n    ")}},{key:"makeBrushItem",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.makeBrushItemRate().map((function(n){return t.makeBrushShape(n.x,n.y,e*n.scale,n.t)})).join("")}},{key:"makeBrushItemRate",value:function(){var t=this.json,e=t.d,n=t.totalLength,r=t.distance;return function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=g_(t),o=r.totalLength,i=r.xy,a=o/e,c=n/o,u=a/o+c,s=[],l=1,f=0;f<e;f++){var p=f*u;if(p>l)break;s.push(i(p))}return s}(new Vi(e),n,r).map((function(t){return O_({},t,{scale:(t.t>.5?1-t.t:t.t)/.4*1.3})}))}},{key:"toSVG",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return'\n      <g transform="translate('.concat(t,", ").concat(e,')">\n      ').concat(this.toDefString,"\n      <path ").concat(be(O_({class:"svg-brush-item",d:this.json.d,filter:this.toFilterValue,fill:this.toFillValue,stroke:this.toStrokeValue},this.toSVGAttribute(),{style:de(this.toSVGCSS())}))," />\n    </g>\n  ")}},{key:"toDefInnerString",get:function(){return"\n        ".concat($_(E_(e.prototype),"toDefInnerString",this),"\n    ")}},{key:"brushId",get:function(){return this.getInnerId("brush")}},{key:"html",get:function(){var t=this.json,e=t.id,n=t.d,r=this.makeBrushItem(this.json["stroke-width"]);return"\n  <svg class='element-item brush' data-id=\"".concat(e,'" >\n    ').concat(this.toDefString,"\n    <path class='svg-brush-item' d=\"").concat(n,'" fill="transparent" stroke="transparent" stroke-width="3" style=\'pointer-events: stroke;\' />\n    <g class=\'svg-brush-items\' style=\'pointer-events:none;\' \n        filter="').concat(this.toFilterValue,'" \n        fill="').concat(this.toFillValue,"\" \n        stroke='transparent'\n        fill-opacity=\"").concat(this.toFillOpacityValue,'"\n      >\n      ').concat(r,"\n    </g>\n  </svg>")}},{key:"svg",get:function(){var t=this.json.x.value,e=this.json.y.value;return this.toSVG(t,e)}}])&&P_(n.prototype,r),o&&P_(n,o),e}(oE);function T_(t){return(T_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R_(Object(n),!0).forEach((function(e){V_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function V_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L_(t,e){return!e||"object"!==T_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function M_(t,e,n){return(M_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=z_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function z_(t){return(z_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B_(t,e){return(B_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}gi.registerComponent("svg-brush",C_);var F_=function(t){function e(){return A_(this,e),L_(this,z_(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B_(t,e)}(e,t),n=e,o=[{key:"getIcon",value:function(){return jv.video}}],(r=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return M_(z_(e.prototype),"getDefaultObject",this).call(this,D_({itemType:"video",name:"New Video",elementType:"video",src:"",srcType:"video/mp4",controls:!1,preload:"auto",poster:"",autoplay:!1,buffered:!1,crossorigin:"anonymous",loop:!1,muted:!1,played:!1,currentTime:0,playbackRate:1,playTime:"0:1:1"},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"getDefaultTitle",value:function(){return"Video"}},{key:"getIcon",value:function(){return jv.video}},{key:"toCloneObject",value:function(){return D_({},M_(z_(e.prototype),"toCloneObject",this).call(this),{src:this.json.src+""})}},{key:"resize",value:function(){this.reset({width:this.json.naturalWidth.clone(),height:this.json.naturalHeight.clone()})}},{key:"updateFunction",value:function(t){var n=this.json,r=n.currentTime,o=n.playbackRate,i=n.volume,a=t.$("video");a&&a.setProps({currentTime:r,playbackRate:o,volume:i}),M_(z_(e.prototype),"updateFunction",this).call(this,t)}},{key:"toNestedCSS",value:function(){return[{selector:"video",cssText:"\n          width: 100%;\n          height: 100%;\n          pointer-events: none;\n        ".trim()}]}},{key:"toSVG",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.json,o=r.width,i=r.height,a=r.src,c=r.srcType,u=this.toCSS();return n?(delete u.left,delete u.top,"absolute"===u.position&&delete u.position,this.wrapperRootSVG(t,e,o,i,'\n        <video controls width="250" style="'.concat(de(u),'" >\n          <source src="').concat(a,'"\n                  type="').concat(c,"\">\n          Sorry, your browser doesn't support embedded videos.\n        </video>      \n      "))):"\n        ".concat(this.toDefString,'      \n        <video src="').concat(a,'" controls width="250" style="').concat(de(u),"\" >\n          Sorry, your browser doesn't support embedded videos.\n        </video>      \n      ")}},{key:"html",get:function(){var t=this.json,e=t.id,n=t.itemType,r=t.src,o=t.controls,i=t.muted,a=t.poster,c=t.loop,u=t.crossorigin,s=t.autoplay;return("\n      <div class='element-item ".concat(n,"' data-id=\"").concat(e,'">\n        ').concat(this.toDefString,"\n        <video ").concat(be({controls:o,src:r,muted:i,poster:a,loop:c,crossorigin:u,autoplay:s}),">\n          Sorry, your browser doesn't support embedded videos.\n        </video>\n      </div>"))}},{key:"svg",get:function(){var t=this.json.x.value,e=this.json.y.value;return this.toSVG(t,e)}}])&&I_(n.prototype,r),o&&I_(n,o),e}(Vv);gi.registerComponent("video",F_);var G_={Project:hP,ArtBoard:fx,Layer:Vv,RectLayer:i_,CircleLayer:v_,ImageLayer:Ox,TextLayer:WE,VideoLayer:F_,SVGPathItem:dE,SVGBrushItem:C_,SVGTextItem:xE,SVGTextPathItem:LE,Component:OP,CubeLayer:MP,CylinderLayer:tx};function H_(t){return(H_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X_(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Y_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function K_(t,e){return!e||"object"!==H_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W_(t){return(W_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U_(t,e){return(U_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Z_={"image-resource":"Image",url:"Image",image:"Image","static-gradient":"Static","linear-gradient":"Linear","repeating-linear-gradient":"".concat(jv.repeat," Linear"),"radial-gradient":"Radial","repeating-radial-gradient":"".concat(jv.repeat," Radial"),"conic-gradient":"Conic","repeating-conic-gradient":"".concat(jv.repeat," Conic")},q_={image:"image","image-resource":"image",url:"image","static-gradient":"gradient","linear-gradient":"gradient","repeating-linear-gradient":"gradient","radial-gradient":"gradient","repeating-radial-gradient":"gradient","conic-gradient":"gradient","repeating-conic-gradient":"gradient"},J_=function(t){function e(){return Y_(this,e),K_(this,W_(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U_(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return cz}},{key:"initState",value:function(){return{hideLabel:"true"===this.props["hide-label"],value:this.props.value,images:this.parseBackgroundImage(this.props.value)}}},{key:"parseBackgroundImage",value:function(t){return Bs.parseStyle(ve(t))}},{key:"setValue",value:function(t){this.setState({value:t,images:this.parseBackgroundImage(t)})}},{key:"template",value:function(){var t=this.state.hideLabel?"hide":"";return("\n            <div class='background-image-editor' >\n                <div class='label ".concat(t,"'>\n                    <label>").concat(this.props.title||"","</label>\n                    <div class='tools'>\n                        <button type=\"button\" ref='$add'>").concat(jv.add," ").concat(this.props.title?"":"Add","</button>\n                    </div>\n                </div>\n                <div class='fill-list' ref='$fillList'></div>\n            </div>\n        "))}},{key:"templateForBlendMode",value:function(t,e){return"\n        <div class='popup-item'>\n          <BlendSelectEditor \n                ref='$blend_".concat(t,"' \n                key='blendMode' \n                value=\"").concat(e,'" \n                params="').concat(t,'" \n                onchange="changeRangeEditor" \n            />\n        </div>\n        ')}},{key:zr("$fillList"),value:function(){var t=this,e=this.$selection.current||{color:"black"};return this.state.images.map((function(n,r){var o=n.image,i=q_[o.type],a=Z_[o.type],c=n.selected?"selected":"";return n.selected&&(t.selectedIndex=r),"\n            <div class='fill-item ".concat(c,"' data-index='").concat(r,"' ref=\"fillIndex").concat(r,"\"  draggable='true' data-fill-type=\"").concat(i,'" >\n                <BackgroundPositionEditor ').concat(be({key:"background-position",index:r,ref:"$bp".concat(r),x:n.x,y:n.y,width:n.width,height:n.height,repeat:n.repeat,size:n.size,blendMode:n.blendMode})," onchange='changePattern' />\n                <GradientSingleEditor ").concat(be({index:r,ref:"$gse".concat(r),image:n.image,color:e.color,key:"background-image"})," onchange='changePattern'\n\n                />\n                <div class='fill-info'>\n                  <div class='gradient-info'>\n                    <div class='fill-title' ref=\"fillTitle").concat(r,'">').concat(a,"</div>\n                    <div class='blend'>\n                      ").concat(t.templateForBlendMode(r,n.blendMode),"\n                    </div>\n                    <div class='tools'>\n                      <button type=\"button\" class='remove' data-index='").concat(r,"'>").concat(jv.remove2,"</button>\n                    </div>\n                  </div>\n                </div>\n            </div>\n            ")}))}},{key:"modifyBackgroundImage",value:function(){var t=de(Bs.toPropertyCSS(this.state.images));this.parent.trigger(this.props.onchange,this.props.key,t)}},{key:Wo("add"),value:function(){this.state.images.push(new Bs({image:new Pu({angle:90,colorsteps:[new _c({percent:0,color:"white",index:0}),new _c({percent:100,color:"black",index:1})]})})),this.refresh(),this.modifyBackgroundImage()}},{key:er("$add"),value:function(){this.trigger("add")}},{key:ar("$fillList .fill-item"),value:function(t){this.startIndex=+t.$dt.attr("data-index")}},{key:ur("$fillList .fill-item")+Lr,value:function(t){}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(X_(t.splice(e,1))))}},{key:"sortBackgroundImage",value:function(t,e){this.sortItem(this.state.images,t,e)}},{key:cr("$fillList .fill-item")+Lr,value:function(t){var e=+t.$dt.attr("data-index");this.selectItem(this.startIndex,!0),this.sortBackgroundImage(this.startIndex,e),this.refresh(),this.modifyBackgroundImage()}},{key:"getCurrentBackgroundImage",value:function(){return this.state.images[this.selectedIndex]}},{key:er("$fillList .tools .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.state.images.splice(e,1),this.refresh(),this.modifyBackgroundImage()}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?this.refs["fillIndex".concat(t)].addClass("selected"):this.refs["fillIndex".concat(t)].removeClass("selected"),this.state.images.forEach((function(e,n){e.selected=n===t}))}},{key:Wo("selectFillPopupTab"),value:function(t,e){var n=q_[t];this.refs["fillIndex".concat(this.selectedIndex)].attr("data-fill-type",n)}},{key:Wo("changeRangeEditor"),value:function(t,e,n){this.trigger("changePattern",t,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e),n)}},{key:Wo("changePattern")+Dr(10),value:function(t,e,n){var r=+n;this.state.images[r].reset(e),console.log(this.$config.get("bodyEvent")),this.modifyBackgroundImage(),this.refresh()}}])&&N_(n.prototype,r),o&&N_(n,o),e}(Uo);function Q_(t){return(Q_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nC(t,e){return!e||"object"!==Q_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rC(t){return(rC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function oC(t,e){return(oC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var iC=function(t){function e(){return tC(this,e),nC(this,rC(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oC(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{hideLabel:"true"===this.props["hide-label"],boxShadows:Qv.parseStyle(this.props.value||"")}}},{key:"template",value:function(){var t=this.state.hideLabel?"hide":"";return('\n      <div class="box-shadow-editor" >\n        <div class=\'label '.concat(t,"' >\n            <label>").concat(this.props.title||"",'</label>\n            <div class=\'tools\'>\n              <button type="button" ref="$add" title="add Box Shadow">').concat(jv.add,"</button> ").concat(this.props.title?"":"Add","\n            </div>\n        </div>\n        <div class='box-shadow-list' ref='$shadowList'></div>\n      </div>\n    "))}},{key:zr("$shadowList"),value:function(){var t=this.state.boxShadows.map((function(t,e){return'\n        <div class="shadow-item real" data-index="'.concat(e,'">\n          <div class="color">\n            <div class=\'color-view\' style="background-color: ').concat(t.color,'">\n            </div>\n          </div>\n          <div class="inset" data-value="').concat(t.inset,'">').concat(jv.check,'</div>\n          <div class="offset-x">').concat(t.offsetX,'</div>\n          <div class="offset-y">').concat(t.offsetY,'</div>\n          <div class="blur-radius">').concat(t.blurRadius,'</div>\n          <div class="spread-radius">').concat(t.spreadRadius,'</div>\n          <div class="tools">\n            <button type="button" class="remove" data-index="').concat(e,'">\n              ').concat(jv.remove2,"\n            </button>\n          </div>\n        </div>\n      ")}));return t.length&&t.push('\n      <div class="shadow-item desc">\n        <div class="color"></div>      \n        <div class="inset" >Inset</div>\n\n        <div class="offset-x">X</div>\n        <div class="offset-y">Y</div>\n        <div class="blur-radius">'.concat(this.$i18n("boxshadow.editor.blur"),'</div>\n        <div class="spread-radius">').concat(this.$i18n("boxshadow.editor.spread"),'</div>\n        <div class="tools">\n        </div>\n      </div>\n      ')),t.join("")}},{key:Wo("refreshSelection"),value:function(){this.refresh()}},{key:"modifyBoxShadow",value:function(){var t=this.state.boxShadows.join(", ");this.parent.trigger(this.props.onchange,t)}},{key:Wo("add"),value:function(){this.state.boxShadows.push(new Qv({offsetX:$.px(2),offsetY:$.px(2),blurRadius:$.px(3),spreadRadius:$.px(1)})),this.refresh(),this.modifyBoxShadow()}},{key:er("$add"),value:function(){this.trigger("add")}},{key:er("$shadowList .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.state.boxShadows.splice(e,1),this.refresh(),this.modifyBoxShadow(),this.emit("hideBoxShadowPropertyPopup")}},{key:er("$shadowList .shadow-item.real > div:not(.tools)"),value:function(t){var e=+t.$dt.closest("shadow-item").attr("data-index"),n=this.state.boxShadows[e];this.viewShadowPopup(n,e)}},{key:"viewShadowPopup",value:function(t,e){this.selectedIndex=e,this.viewBoxShadowPropertyPopup(t)}},{key:"viewBoxShadowPropertyPopup",value:function(t){this.emit("showBoxShadowPropertyPopup",{changeEvent:"changeBoxShadowEditorPopup",color:t.color,inset:t.inset,offsetX:t.offsetX,offsetY:t.offsetY,blurRadius:t.blurRadius,spreadRadius:t.spreadRadius},{id:this.id})}},{key:Wo("changeBoxShadowEditorColor"),value:function(t){this.trigger("changeBoxShadowEditorPopup",{color:t})}},{key:Wo("changeBoxShadowEditorPopup"),value:function(t,e){if(e.id===this.id){var n=this.state.boxShadows[this.selectedIndex];n&&(n.reset(t),this.refresh(),this.modifyBoxShadow())}}}])&&eC(n.prototype,r),o&&eC(n,o),e}(Uo);function aC(t){return(aC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cC(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function uC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lC(t,e){return!e||"object"!==aC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fC(t){return(fC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pC(t,e){return(pC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yC=function(t){function e(){return uC(this,e),lC(this,fC(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pC(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){var t=this.props["key-value-char"]||":",e=this.props.split||",",n=(this.props.options||"").split(e).map((function(t){return t.trim()})),r=this.props.value,o=this.props.tabindex;return{keyValueChar:t,splitChar:e,label:this.props.label||"",options:n,value:r,tabIndex:o}}},{key:"template",value:function(){var t=this.state,e=t.label,n=t.tabIndex?'tabIndex="1"':"";return"\n            <div class='select-editor ".concat(e?"has-label":"","'>\n                ").concat(e?'<label title="'.concat(e,'">').concat(e,"</label>"):"","\n                <select ref='$options' ").concat(n,"></select>\n            </div>\n        ")}},{key:"getValue",value:function(){return this.refs.$options.value}},{key:"setValue",value:function(t){this.state.value=t+"",this.refs.$options.val(this.state.value),this.refresh()}},{key:"refresh",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.load()}},{key:Hr("$options"),value:function(){return{"data-count":this.state.options.length.toString()}}},{key:zr("$options"),value:function(){var t=this;return this.state.options.map((function(e){var n=e;if((o=e).includes(t.state.keyValueChar)){var r=cC(o.split(t.state.keyValueChar),2),o=r[0];n=r[1]}""===n?n=t.props["none-value"]?t.props["none-value"]:"":"-"===n&&(n="----------",o="");var i=o===t.state.value?"selected":"";return"<option ".concat(i,' value="').concat(o,'">').concat(n,"</option>")}))}},{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({options:t.split(this.state.splitChar).map((function(t){return t.trim()}))})}},{key:fr("$options"),value:function(){this.updateData({value:this.refs.$options.value})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}])&&sC(n.prototype,r),o&&sC(n,o),e}(Uo);function hC(t){return(hC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mC(t,e){return!e||"object"!==hC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gC(t){return(gC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wC(t,e){return(wC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var kC=function(t){function e(){return vC(this,e),mC(this,gC(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wC(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectEditor:yC}}},{key:"initState",value:function(){var t=this.props.units||"px,em,%",e=$.parse(this.props.value||$.z());return{removable:"true"===this.props.removable,calc:"true"===this.props.calc,label:this.props.label||"",min:+this.props.min||0,max:+this.props.max||100,step:+this.props.step||1,key:this.props.key,params:this.props.params||"",layout:this.props.layout||"",units:t,value:e}}},{key:"template",value:function(){return"<div class='small-editor' ref='$body'></div>"}},{key:"refresh",value:function(){this.load()}},{key:zr("$body"),value:function(){var t=this.state,e=t.min,n=t.max,r=t.step,o=t.label,i=t.removable,a=t.layout,c=+this.state.value.value.toString();isNaN(c)&&(c=0);var u=a,s=(+c).toString(),l=this.state.units.split(",").map((function(t){var e=t;return"number"===e&&(e=""),"".concat(t,":").concat(e)})).join(",");return"\n        <div ".concat(be({ref:"$range",class:me(dC({"range-editor":!0,"has-label":!!o,"is-removable":i},u,!0))}),">\n            ").concat(o?'<label title="'.concat(o,'">').concat(o,"</label>"):"","\n            <div class='range-editor-type' data-type='range'>\n                <input type='range' ref='$property' value=\"").concat(s,'" min="').concat(e,'" max="').concat(n,'" step="').concat(r,"\" /> \n                <div class='area' ref='$rangeArea'>\n                    <input type='number' ref='$propertyNumber' value=\"").concat(s,'" min="').concat(e,'" max="').concat(n,'" step="').concat(r,"\" tabIndex=\"1\" />\n                    <SelectEditor ref='$unit' key='unit' value=\"").concat(this.state.selectedUnit||this.state.value.unit,'" options="').concat(l,"\" onchange='changeUnit' />\n                </div>\n            </div>\n            <button type='button' class='remove thin' ref='$remove' title='Remove'>").concat(jv.remove,"</button>\n        </div>\n    ")}},{key:"getValue",value:function(){return this.state.value.clone()}},{key:"setValue",value:function(t){this.setState({value:$.parse(t)})}},{key:yr("$propertyNumber"),value:function(t){this.refs.$rangeArea.addClass("focused")}},{key:vr("$propertyNumber"),value:function(t){this.refs.$rangeArea.removeClass("focused")}},{key:er("$remove"),value:function(t){this.updateData({value:""})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}},{key:"initValue",value:function(){""==this.state.value&&(this.state.value=new $(0,this.children.$unit.getValue()))}},{key:pr("$propertyNumber"),value:function(t){var e=+this.getRef("$propertyNumber").value;this.getRef("$property").val(e),this.initValue(),this.updateData({value:new $(e,this.children.$unit.getValue())})}},{key:wr("$property")+Ar("moveRange")+Ir("moveRange"),value:function(){}},{key:"moveRange",value:function(){this.trigger("changeValue")}},{key:Wo("changeValue")+Vr(100),value:function(){var t=+this.getRef("$property").value;this.refs.$propertyNumber.val(t),this.initValue(),this.updateData({value:new $(t,this.children.$unit.getValue())})}},{key:Wo("changeUnit"),value:function(t,e){this.initValue(),this.updateData({value:this.state.value.toUnit(e)})}}])&&bC(n.prototype,r),o&&bC(n,o),e}(Uo);function OC(t){return(OC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PC(t,e){return!e||"object"!==OC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xC(t){return(xC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $C(t,e){return($C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var EC=[{key:"border-top-left-radius",title:"topLeft"},{key:"border-top-right-radius",title:"topRight"},{key:"border-bottom-right-radius",title:"bottomRight"},{key:"border-bottom-left-radius",title:"bottomLeft"}],_C=EC.map((function(t){return t.key})),CC=function(t){function e(){return jC(this,e),PC(this,xC(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$C(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{RangeEditor:kC}}},{key:"initState",value:function(){return Fv.parseStyle(this.props.value)}},{key:"template",value:function(){return"<div class='border-radius-editor' ref='$body'></div>"}},{key:Wo("changeBorderRadius"),value:function(t,e){var n=this;"border-radius"===t&&_C.forEach((function(t){n.children["$".concat(t)].setValue(e.clone())})),this.setBorderRadius()}},{key:zr("$body"),value:function(){var t=this,e=this.state.isAll?"all":"partitial",n=this.state["border-radius"];return'\n      <div class="property-item border-radius-item">\n        <div class="radius-selector" data-selected-value="'.concat(e,'" ref="$selector">\n          <button type="button" data-value="all">').concat(jv.border_all,'</button>\n          <button type="button" data-value="partitial">\n            ').concat(jv.border_inner,"\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <RangeEditor ref='$all' key='border-radius' value=\"").concat(n,'" onchange=\'changeBorderRadius\' />\n        </div>\n      </div>\n      <div\n        class="property-item full border-radius-item"\n        ref="$partitialSetting"\n        style="display: none;"\n      >\n        <div class="radius-setting-box" ref="$radiusSettingBox">\n          ').concat(EC.map((function(e){var n=t.state[e.key],r=t.$i18n("border.radius.editor."+e.title);return"\n              <div>\n                  <RangeEditor ref='$".concat(e.key,"' label='").concat(r,"' key='").concat(e.key,"' value='").concat(n,"' onchange='changeBorderRadius' />\n              </div>  \n            ")})).join(""),"\n        </div>\n      </div>\n    ")}},{key:pr("$radiusSettingBox input"),value:function(t){this.setBorderRadius()}},{key:fr("$radiusSettingBox select"),value:function(t){this.setBorderRadius()}},{key:"setBorderRadius",value:function(){var t=this;"all"===this.refs.$selector.attr("data-selected-value")?(this.state.isAll=!0,this.state["border-radius"]=this.children.$all.getValue()):(this.state.isAll=!1,_C.forEach((function(e){t.state[e]=t.children["$".concat(e)].getValue()}))),this.modifyBorderRadius()}},{key:"modifyBorderRadius",value:function(){var t=this,e="";e=this.state.isAll?this.state["border-radius"]+"":_C.map((function(e){return"".concat(t.state[e])})).join(" "),this.parent.trigger(this.props.onchange,e)}},{key:er("$selector button"),value:function(t){var e=t.$dt.attr("data-value");this.refs.$selector.attr("data-selected-value",e),"all"===e?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.setBorderRadius()}}])&&SC(n.prototype,r),o&&SC(n,o),e}(Uo);function TC(t){return(TC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VC(t,e){return!e||"object"!==TC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function AC(t){return(AC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function IC(t,e){return(IC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var LC=function(t){function e(){return RC(this,e),VC(this,AC(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IC(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{params:this.props.params,color:this.props.color||"rgba(0, 0, 0, 1)"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyColor()}},{key:"modifyColor",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.state.color,this.state.params)}},{key:"changeColor",value:function(t){this.setState({color:t})}},{key:"setValue",value:function(t){this.changeColor(t)}},{key:Hr("$miniView"),value:function(){return{style:{"background-color":this.state.color}}}},{key:"template",value:function(){return"\n            <div class='color-single-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ".concat(this.state.color,"\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        ")}},{key:er("$preview"),value:function(t){this.viewColorPicker()}},{key:"viewColorPicker",value:function(){this.emit("showColorPickerPopup",{target:this,changeEvent:"changeColorSingleEditor",color:this.state.color})}},{key:Wo("changeColorSingleEditor"),value:function(t,e){this.refs.$miniView.cssText("background-color: ".concat(t)),this.updateData({color:t})}}])&&DC(n.prototype,r),o&&DC(n,o),e}(Uo);function MC(t){return(MC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function FC(t,e){return!e||"object"!==MC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function GC(t){return(GC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function HC(t,e){return(HC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var XC=function(t){function e(){return zC(this,e),FC(this,GC(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&HC(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{label:this.props.label,value:this.props.value||"rgba(0, 0, 0, 1)"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t),this.modifyColor()}},{key:"updateEndData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t),this.modifyEndColor()}},{key:"getValue",value:function(){return this.state.value}},{key:"setValue",value:function(t){this.changeColor(t)}},{key:"modifyColor",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}},{key:"modifyEndColor",value:function(){this.parent.trigger(this.props.onchangeend,this.props.key,this.state.value,this.props.params)}},{key:"changeColor",value:function(t){this.setState({value:t})}},{key:"refresh",value:function(){this.refs.$miniView.cssText("background-color: ".concat(this.state.value)),this.refs.$colorCode.val(this.state.value)}},{key:"template",value:function(){var t=this.state.label;return"\n            <div class='color-view-editor ".concat(t?"has-label":"","'>\n                ").concat(t?"<label>".concat(t,"</label>"):"","            \n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ").concat(this.state.value,"\" ref='$miniView'></div>\n                    </div>\n                </div>\n                <div class='color-code'>\n                    <input type=\"text\" ref='$colorCode' value='").concat(this.state.value,'\' tabIndex="1" />\n                </div>\n            </div>\n        ')}},{key:Hr("$miniView"),value:function(){return{style:{"background-color":this.state.value}}}},{key:Hr("$colorCode"),value:function(){return{value:this.state.value}}},{key:yr("$colorCode"),value:function(t){this.refs.$colorCode.addClass("focused")}},{key:vr("$colorCode"),value:function(t){this.refs.$colorCode.removeClass("focused")}},{key:er("$preview"),value:function(t){this.viewColorPicker()}},{key:"viewColorPicker",value:function(){this.emit("showColorPickerPopup",{target:this,changeEvent:"changeColorViewEditor",changeEndEvent:"changeEndColorViewEditor",color:this.state.value})}},{key:er("$remove"),value:function(t){this.updateData({value:""})}},{key:pr("$el .color-code input"),value:function(t){var e=t.$dt.value;this.refs.$miniView.cssText("background-color: ".concat(e)),this.updateData({value:e})}},{key:Wo("changeColorViewEditor"),value:function(t){this.updateData({value:t})}},{key:Wo("changeEndColorViewEditor"),value:function(t){this.updateEndData({value:t})}}])&&BC(n.prototype,r),o&&BC(n,o),e}(Uo);function YC(t){return(YC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function NC(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function KC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UC(t,e){return!e||"object"!==YC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ZC(t){return(ZC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qC(t,e){return(qC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var JC=function(t){function e(){return KC(this,e),UC(this,ZC(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qC(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{key:this.props.key,currentBezier:vt(this.props.value||"linear"),currentBezierIndex:0,selectedColor:"#609de2",animatedColor:"#609de266",curveColor:"#609de2",baseLineColor:"rgba(117, 117, 117, 0.46)"}}},{key:"template",value:function(){return"\n            <div class='cubic-bezier-editor'>\n                <div class='predefined'>\n                    <div class='left' ref='$left'>".concat(jv.chevron_left,"</div>\n                    <div class='predefined-text' ref='$text'></div>\n                    <div class='right' ref='$right'>").concat(jv.chevron_right,"</div>\n                </div>\n                <div class='animation'>\n                    <canvas \n                        class='animation-canvas' \n                        ref='$animationCanvas' \n                        title='Click and Replay point animation' \n                        width='230px' \n                        height='20px'\n                    ></canvas>\n                </div>\n                <div class='item-list' ref='$itemList' data-selected-value=''>\n                    <div class='item' data-bezier='ease' title='ease'>\n                        <canvas class='item-canvas' ref='$item1Canvas' width=\"30px\" height=\"30px\"></canvas>\n                    </div>\n                    <div class='item' data-bezier='ease-in' title='ease-in'>\n                        <canvas class='item-canvas' ref='$item2Canvas' width=\"30px\" height=\"30px\"></canvas>\n                    </div>\n                    <div class='item' data-bezier='ease-out' title='ease-out'>\n                        <canvas class='item-canvas' ref='$item3Canvas' width=\"30px\" height=\"30px\"></canvas>\n                    </div>\n                </div>\n                <div class='bezier'>\n                    <canvas class='bezier-canvas' ref='$canvas' width='200px' height=\"200px\"></canvas>\n                    <div class='control' ref='$control'>\n                        <div class='pointer1' ref='$pointer1'></div>\n                        <div class='pointer2' ref='$pointer2'></div>\n                    </div>\n                </div>\n            </div>\n        ")}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t),this.modifyCubicBezier()}},{key:"modifyCubicBezier",value:function(){this.parent.trigger(this.props.onchange,this.state.key,bt(this.state.currentBezier))}},{key:er("$left"),value:function(){var t=this.state,e=t.currentBezier,n=t.currentBezierIndex;0==n?n=dt.length-1:--n,e=dt[n],this.updateData({currentBezierIndex:n,currentBezier:e}),this.refresh()}},{key:er("$right"),value:function(){var t=this.state,e=t.currentBezier,n=t.currentBezierIndex;n=++n%dt.length,e=dt[n],this.updateData({currentBezierIndex:n,currentBezier:e}),this.refresh()}},{key:er("$text"),value:function(){var t=NC(dt[this.state.currentBezierIndex]);this.updateData({currentBezier:t}),this.refresh()}},{key:er("$itemList .item"),value:function(t){var e=t.$dt.attr("data-bezier");this.refs.$itemList.attr("data-selected-value",e);var n=vt(e);this.updateData({currentBezier:n}),this.refresh()}},{key:"refresh",value:function(){this.refreshPointer(),this.refreshEasingText(),this.refreshBezierCanvas()}},{key:"refreshBezierCanvas",value:function(){this.drawBezierCanvas(this.refs.$canvas,this.state.currentBezier,!0)}},{key:"drawBezierCanvas",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=vt(e),t.update((function(){var o=r?30:0,i=r?30:0,a=t.width()-2*o,c=t.height()-2*i,u=t.context();u.lineWidth=1,u.strokeStyle=n.state.baseLineColor,u.beginPath(),u.moveTo(o,c+i),u.lineTo(a+o,i),u.stroke(),u.closePath(),u.strokeStyle=n.state.selectedColor,u.beginPath(),u.moveTo(o,c+i),u.lineTo(e[0]*a+o,(0==e[1]?c:(1-e[1])*c)+i),u.moveTo(a+o,i),u.lineTo(e[2]*a+o,(1==e[3]?0:(1-e[3])*c)+i),u.stroke(),u.closePath(),u.lineWidth=2,u.strokeStyle=n.state.curveColor;var s=e[0]*a,l=0==e[1]?c:(1-e[1])*c,f=e[2]*a,p=1==e[3]?0:(1-e[3])*c,y=a;u.beginPath(),u.moveTo(o,i+c),u.bezierCurveTo(o+s,i+l,o+f,i+p,o+y,i+0),u.stroke()})),r&&this.drawPoint()}},{key:"refreshEasingText",value:function(){this.refs.$text.html(this.state.currentBezier[4]||"ease")}},{key:"refreshPointer",value:function(){var t=vt(this.state.currentBezier),e=this.refs.$control.width(),n=this.refs.$control.height(),r=t[0]*e,o=(1-t[1])*n;this.refs.$pointer1.css({left:$.px(r),top:$.px(o)}),r=t[2]*e,o=(1-t[3])*n,this.refs.$pointer2.css({left:$.px(r),top:$.px(o)})}},{key:"drawPoint",value:function(){var t=this;this.timer&&clearTimeout(this.timer),this.animationTimer&&clearTimeout(this.animationTimer),this.timer=setTimeout((function(){t.animationPoint()}),100)}},{key:"start",value:function(t){var e=this,n=this.animationCanvasData.func(t),r=10+(this.animationCanvasData.width-20)*n.y,o=this.animationCanvasData.context;o.beginPath(),o.arc(r,10,5,0,2*Math.PI),o.fill(),o.stroke(),o.closePath(),t>=1||(this.animationTimer=setTimeout((function(){e.start(t+.05)}),50))}},{key:"animationPoint",value:function(){var t=vt(this.state.currentBezier),e=_t(bt(t));this.refs.$animationCanvas.clear();var n=this.refs.$animationCanvas.width(),r=this.refs.$animationCanvas.height(),o=this.refs.$animationCanvas.context();o.fillStyle=this.state.animatedColor,o.strokeStyle=this.state.selectedColor,o.lineWidth=1,this.animationCanvasData={func:e,width:n,height:r,context:o},this.start(0)}},{key:"setPosition",value:function(t,e){var n=this.refs.$control.width(),r=this.refs.$control.height(),o=this.refs.$control.offset().left,i=this.refs.$control.offset().top,a=e,c=a.x;0>c?c=0:a.x>document.body.clientWidth&&(c=document.body.clientWidth),(c-=o)<0&&(c=0),n<c&&(c=n);var u=a.y;return 0>u?u=0:a.y>document.body.clientHeight&&(u=document.body.clientHeight),u-=i,t.css({left:c+"px",top:u+"px"}),{x:M(c,n),y:u==r?0:(r-u)/r}}},{key:wr("$pointer1")+Ar("movePointer1")+Ir("drawPoint"),value:function(t){this.clientX=t.clientX,this.clientY=t.clientY}},{key:"movePointer1",value:function(t,e){var n=this.setPosition(this.refs.$pointer1,{x:this.clientX+t,y:this.clientY+e});this.state.currentBezier[0]=n.x,this.state.currentBezier[1]=n.y,this.refreshBezierCanvas(),this.modifyCubicBezier()}},{key:wr("$pointer2")+Ar("movePointer2")+Ir("drawPoint"),value:function(t){this.clientX=t.clientX,this.clientY=t.clientY}},{key:"movePointer2",value:function(t,e){var n=this.setPosition(this.refs.$pointer2,{x:this.clientX+t,y:this.clientY+e});this.state.currentBezier[2]=n.x,this.state.currentBezier[3]=n.y,this.refreshBezierCanvas(),this.modifyCubicBezier()}},{key:Wo("showCubicBezierEditor"),value:function(t){var e=vt(t||this.state.currentBezier);this.setState({currentBezier:e}),this.refresh(),this.drawBezierCanvas(this.refs.$item1Canvas,"ease"),this.drawBezierCanvas(this.refs.$item2Canvas,"ease-in"),this.drawBezierCanvas(this.refs.$item3Canvas,"ease-out")}}])&&WC(n.prototype,r),o&&WC(n,o),e}(Uo);function QC(t){return(QC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function eT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tT(Object(n),!0).forEach((function(e){nT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rT(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function oT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aT(t,e){return!e||"object"!==QC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cT(t){return(cT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uT(t,e){return(uT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var sT={blur:Nb.spec,grayscale:Wb.spec,"hue-rotate":Ub.spec,invert:Zb.spec,brightness:qb.spec,contrast:Jb.spec,"drop-shadow":nm.spec,opacity:Qb.spec,saturate:tm.spec,sepia:em.spec,svg:Kb.spec},lT=function(t){function e(){return oT(this,e),aT(this,cT(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uT(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectEditor:yC,RangeEditor:kC,ColorViewEditor:XC}}},{key:"initState",value:function(){return{hideLabel:"true"===this.props["hide-label"],filters:Yb.parseStyle(this.props.value)}}},{key:"template",value:function(){var t=this.state.hideLabel?"hide":"";return("\n      <div class='filter-editor filter-list'>\n          <div class='label ".concat(t,"' >\n              <label>").concat(this.props.title||"",'</label>\n              <div class=\'tools\'>\n                <select ref="$filterSelect"></select>\n                <button type="button" ref="$add" title="add Filter">').concat(jv.add,"</button>\n              </div>\n          </div>\n          <div class='filter-list' ref='$filterList'></div>\n      </div>"))}},{key:zr("$filterSelect"),value:function(){var t=xx.map((function(t){return{title:t,value:t}})),e=this.getSVGFilterList();return(e.length?[].concat(rT(t),[{title:"-------",value:""}],rT(e)):rT(t)).map((function(t){var e=t.title,n=t.value;return"<option value='".concat(n,"'>").concat(e,"</option>")}))}},{key:"getSpec",value:function(t){return sT[t]}},{key:"makeDropShadowFilterTemplate",value:function(t,e,n){var r=this;return('\n      <div class="filter-item">\n        <div class="title drop-shadow" draggable="true" data-index="'.concat(n,'">\n          <label>').concat(this.$i18n("filter.property.drop-shadow"),'</label>\n          <div class="filter-menu">\n            <button type="button" class="del" data-index="').concat(n,'">\n              ').concat(jv.remove2,'\n            </button>\n          </div>\n        </div>\n\n        <div class="filter-ui drop-shadow-color">\n          <ColorViewEditor \n            label="').concat(this.$i18n("filter.property.drop-shadow.color"),"\" \n            ref='$dropShadowColorView").concat(n,"' \n            params=\"").concat(n,'" \n            value="').concat(e.color,'" \n            onChange="changeDropShadowColor" />\n        </div>\n\n        ').concat(["offsetX","offsetY","blurRadius"].map((function(o){return'        \n            <div class="filter-ui drop-shadow">\n                <RangeEditor \n                  ref=\'$'.concat(o).concat(n,"' \n                  label=\"").concat(r.$i18n("filter.property.drop-shadow.".concat(o)),'"\n                  key="').concat(n,'" \n                  min="').concat(t[o].min,'"\n                  min="').concat(t[o].max,'"\n                  params="').concat(o,'" \n                  value="').concat(e[o].value,'" units="').concat(t[o].units.join(","),'" onchange="changeRangeEditor" />\n            </div>')})).join(""),"\n      </div>\n    "))}},{key:"getSVGFilterList",value:function(){var t=this.$selection.currentProject,e=[];return t&&(e=t.svgfilters.map((function(t){return{title:"svg - #".concat(t.id),value:t.id}}))),e}},{key:"makeOneFilterEditor",value:function(t,e,n){if("svg"===e.type){var r="",o=this.$selection.currentProject;return o&&(r=(r=o.svgfilters.map((function(t){return t.id}))).length?","+r.join(","):""),"\n      <SelectEditor \n        ref='$select".concat(t,"' \n        key=\"").concat(t,'" \n        label="SVG Filter"\n        value="').concat(e.value,'" \n        options="').concat(r,'"\n        onchange="changeRangeEditor"  />')}return("\n      <RangeEditor \n        ref='$range".concat(t,"_").concat(e.type,"' \n        key=\"").concat(t,"\" \n        min='").concat(n.min,"'\n        max='").concat(n.max,"'\n        value=\"").concat(e.value,'" \n        units="').concat(n.units.join(","),'"   \n        onchange="changeRangeEditor" />\n      '))}},{key:"makeOneFilterTemplate",value:function(t,e,n){var r="svg"===e.type,o="".concat(this.$i18n("filter.property."+e.type));return'\n      <div class="filter-item" data-index="'.concat(n,'">\n        <div class="title" >\n          <label draggable="true" data-index="').concat(n,'" title="').concat(r?"":o,'">').concat(o,"</label>\n          ").concat("svg"!=e.type?'\n          <div class="filter-ui">\n            '.concat(this.makeOneFilterEditor(n,e,t),"\n          </div>\n        "):"\n          <div>\n            <span class='svg-filter-edit' data-index=\"".concat(n,'">').concat(e.value,"</span>\n          </div>\n        "),'          \n          <div class="filter-menu">\n            <button type="button" class="del" data-index="').concat(n,'">\n              ').concat(jv.remove2,"\n            </button>\n          </div>\n        </div>\n      </div>\n    ")}},{key:"makeFilterTemplate",value:function(t,e){return"drop-shadow"===t.type?this.makeDropShadowFilterTemplate(this.getSpec(t.type),t,e):this.makeOneFilterTemplate(this.getSpec(t.type),t,e)}},{key:zr("$filterList"),value:function(){var t=this;return this.state.filters.map((function(e,n){return t.makeFilterTemplate(e,n.toString())}))}},{key:ar("$filterList .filter-item .title label"),value:function(t){this.startIndex=+t.$dt.attr("data-index")}},{key:ur("$filterList .filter-item .title label")+Lr,value:function(t){}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(rT(t.splice(e,1))))}},{key:"sortFilter",value:function(t,e){this.sortItem(this.state.filters,t,e)}},{key:cr("$filterList .filter-item")+Lr,value:function(t){var e=+t.$dt.attr("data-index");this.$selection.current&&(this.sortFilter(this.startIndex,e),this.refresh(),this.modifyFilter())}},{key:"modifyFilter",value:function(){var t=this.state.filters.join(" ");this.parent.trigger(this.props.onchange,t)}},{key:"makeFilter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Yb.parse(eT({},e,{type:t}))}},{key:er("$filterList .svg-filter-edit"),value:function(t){var e=+t.$dt.attr("data-index"),n=this.state.filters[e],r=this.$selection.currentProject;if(r){var o=r.getSVGFilterIndex(n.value);this.trigger("openSVGFilterPopup",o)}}},{key:Wo("openSVGFilterPopup"),value:function(t){var e=(this.$selection.currentProject||{svgfilters:[]}).svgfilters[t];this.emit("showSVGFilterPopup",{changeEvent:"changeSVGFilterRealUpdate",index:t,preview:!1,filters:e.filters})}},{key:Wo("changeSVGFilterRealUpdate"),value:function(t){var e=this.$selection.currentProject;e&&(e.setSVGFilterValue(t.index,{filters:t.filters}),this.emit("refreshSVGFilterAssets"),this.emit("refreshSVGArea"))}},{key:Wo("add"),value:function(t){var e=this;"svg"===t?this.emit("addSVGFilterAssetItem",(function(n,r){e.state.filters.push(e.makeFilter(t,{value:r})),e.refresh(),e.modifyFilter(),e.trigger("openSVGFilterPopup",n)})):(this.state.filters.push(this.makeFilter(t)),this.refresh(),this.modifyFilter())}},{key:er("$add"),value:function(){var t=this.refs.$filterSelect.value;this.trigger("add",t)}},{key:er("$filterList .filter-menu .del"),value:function(t){var e=+t.$dt.attr("data-index");this.state.filters.splice(e,1),this.refresh(),this.modifyFilter()}},{key:Wo("changeDropShadowColor"),value:function(t,e,n){var r=+n;this.state.filters[r].reset({color:e}),this.modifyFilter()}},{key:Wo("changeRangeEditor"),value:function(t,e,n){n?this.state.filters[+t].reset(nT({},n,e)):this.state.filters[+t].reset({value:e}),this.modifyFilter()}},{key:Wo("refreshSVGArea")+Dr(1e3),value:function(){this.load("$filterSelect"),this.load("$filterList")}}])&&iT(n.prototype,r),o&&iT(n,o),e}(Uo);function fT(t){return(fT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dT(t,e){return!e||"object"!==fT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vT(t){return(vT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bT(t,e){return(bT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var mT=function(t){function e(){return yT(this,e),dT(this,vT(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bT(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectEditor:yC}}},{key:"initState",value:function(){var t=this.props.units||"px,em,%",e=$.parse(this.props.value||$.z());return{removable:"true"===this.props.removable,label:this.props.label||"",min:+this.props.min||0,max:+this.props.max||100,step:+this.props.step||1,key:this.props.key,params:this.props.params||"",layout:this.props.layout||"",units:t,value:e}}},{key:"template",value:function(){return"<div class='small-editor' ref='$body'></div>"}},{key:zr("$body"),value:function(){var t=this.state,e=t.min,n=t.max,r=t.step,o=t.label,i=t.removable,a=t.layout,c=+this.state.value.value.toString();isNaN(c)&&(c=0);var u=a,s=(+c).toString();return"\n        <div ".concat(be({ref:"$range",class:me(pT({"input-range-editor":!0,"has-label":!!o,"is-removable":i},u,!0))}),">\n            ").concat(o?'<label title="'.concat(o,'">').concat(o,"</label>"):"","\n            <div class='range-editor-type' data-type='range'>\n                <div class='area'>\n                    <input type='number' ref='$propertyNumber' value=\"").concat(s,'" min="').concat(e,'" max="').concat(n,'" step="').concat(r,"\" tabIndex=\"1\" />\n                    \n                    <SelectEditor ref='$unit' key='unit' value=\"").concat(this.state.selectedUnit||this.state.value.unit,'" options="').concat(this.state.units,"\" onchange='changeUnit' />\n                    \n                </div>\n            </div>\n            <button type='button' class='remove' ref='$remove' title='Remove'>").concat(jv.remove,"</button>\n        </div>\n    ")}},{key:"getValue",value:function(){return this.state.value.clone()}},{key:"setValue",value:function(t){this.setState({value:$.parse(t)},!1),this.refs.$propertyNumber.val(this.state.value.value),this.refs.$unit.val(this.state.value.unit)}},{key:yr("$propertyNumber"),value:function(t){this.refs.$range.addClass("focused")}},{key:vr("$propertyNumber"),value:function(t){this.refs.$range.removeClass("focused")}},{key:er("$remove"),value:function(t){this.updateData({value:""})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}},{key:"initValue",value:function(){""==this.state.value&&(this.state.value=new $(0,this.children.$unit.getValue()))}},{key:pr("$propertyNumber"),value:function(t){var e=+this.getRef("$propertyNumber").value;this.initValue(),this.updateData({value:new $(e,this.children.$unit.getValue())})}},{key:Wo("changeUnit"),value:function(t,e){this.initValue(),this.updateData({value:this.state.value.toUnit(e)})}},{key:Wo("changeVarType"),value:function(t,e){this.updateData({value:new $(this.refs.$calc.value,e)})}}])&&hT(n.prototype,r),o&&hT(n,o),e}(Uo);function gT(t){return(gT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wT(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function kT(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function OT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ST(t,e){return!e||"object"!==gT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function PT(t){return(PT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xT(t,e){return(xT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $T=["circle","circle closest-side","circle closest-corner","circle farthest-side","circle farthest-corner","ellipse","ellipse closest-side","ellipse closest-corner","ellipse farthest-side","ellipse farthest-corner"],ET=["static-gradient","linear-gradient","repeating-linear-gradient","radial-gradient","repeating-radial-gradient","conic-gradient","repeating-conic-gradient","image-resource"],_T={"image-resource":jv.photo},CT={"radial-gradient":!0,"repeating-radial-gradient":!0,"conic-gradient":!0,"repeating-conic-gradient":!0},TT={top:["50%","0%"],"top left":["0%","0%"],"top right":["100%","0%"],left:["0%","50%"],right:["100%","50%"],bottom:["50%","100%"],"bottom left":["0%","100%"],"bottom right":["100%","100%"]},RT=function(t){function e(){return OT(this,e),ST(this,PT(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xT(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{InputRangeEditor:mT,RangeEditor:kC,SelectEditor:yC}}},{key:"initState",value:function(){return{index:+(this.props.index||0),value:this.props.value,image:Bs.parseImage(this.props.value||"")||{type:"",colorsteps:[]}}}},{key:"setValue",value:function(t){this.setState({image:Bs.parseImage(t)},!1),this.refresh(),this.parent.trigger("changeTabType",this.state.image.type)}},{key:"template",value:function(){var t=this.state.image,e=(t=t||{}).type||"static-gradient";return"url"===e&&(e="image-resource"),"\n        <div class='gradient-editor' data-selected-editor='".concat(e,"'>\n            <div class='gradient-preview'>\n              <div class='gradient-view' ref='$gradientView' title='").concat(this.$i18n("gradient.editor.drag.message"),"'></div>\n              <div class='drag-pointer' ref='$dragPosition'></div>\n              <div class='preset-position'>\n                <div data-value='top' title='top'>").concat(jv.chevron_right,"</div>\n                <div data-value='right' title='right'>").concat(jv.chevron_right,"</div>\n                <div data-value='left' title='left'>").concat(jv.chevron_right,"</div>\n                <div data-value='bottom' title='bottom'>").concat(jv.chevron_right,"</div>\n                <div data-value='top left' title='top left'>").concat(jv.chevron_right,"</div>\n                <div data-value='top right' title='top right'>").concat(jv.chevron_right,"</div>\n                <div data-value='bottom left' title='bottom left'>").concat(jv.chevron_right,"</div>\n                <div data-value='bottom right' title='bottom right'>").concat(jv.chevron_right,'</div>                \n              </div>\n              <div data-editor=\'image-loader\'>\n                <input type=\'file\' accept="image/*" ref=\'$file\' />\n              </div>              \n            </div>\n            <div class="picker-tab">\n              <div class="picker-tab-list" ref="$tab">\n                ').concat(ET.map((function(t){return"<span class='picker-tab-item ".concat(t,"' data-editor='").concat(t,"'><span class='icon'>").concat(_T[t]||"","</span></span>")})).join(""),"\n              </div>\n            </div>\n            <div class='gradient-steps' data-editor='gradient'>\n                <div class=\"hue-container\" ref=\"$back\"></div>            \n                <div class=\"hue\" ref=\"$steps\">\n                    <div class='step-list' ref=\"$stepList\" ></div>\n                </div>\n            </div>\n            <div class='tools' data-editor='tools'>\n              <label>Offset <input type='checkbox' ref='$cut' checked />  connected</label>\n              <InputRangeEditor ref='$range' calc=\"false\" key='length' onchange='changeColorStepOffset' />\n            </div>\n            <div class='sub-editor' ref='$subEditor'> \n              <div data-editor='angle'>\n                <RangeEditor label='Angle' ref='$angle' calc=\"false\" units=\"deg\" min=\"-720\" max=\"720\" key='angle' onchange='changeKeyValue' />\n              </div>\n              <div data-editor='centerX'>\n                <RangeEditor label='Center X' ref='$radialPositionX' calc=\"false\" value=\"50%\"  key='radialPositionX' onchange='changeKeyValue' />\n              </div>                \n              <div data-editor='centerY'>                      \n                <RangeEditor label='Center Y' ref='$radialPositionY' calc=\"false\" value=\"50%\" key='radialPositionY' onchange='changeKeyValue' />\n              </div>                \n              <div data-editor='radialType'>              \n                <SelectEditor label='Radial Type' ref='$radialType' value=\"\" options=\"").concat($T.join(","),"\" key='radialType' onchange='changeKeyValue' />\n              </div>\n\n            </div>            \n        </div>\n      ")}},{key:fr("$file"),value:function(t){var e=this;this.$selection.currentProject&&kT(t.target.files).forEach((function(t){e.emit("updateImageAssetItem",t,(function(t){e.trigger("setImageUrl",t)}))}))}},{key:er("$el .preset-position [data-value]"),value:function(t){var e=t.$dt.attr("data-value");TT[e]&&(this.state.image.radialPosition=ue(TT[e]),this.refresh(),this.updateData())}},{key:nr("$gradientView")+Lr,value:function(t){this.state.image.radialPosition=["50%","50%"],this.refresh(),this.updateData()}},{key:wr("$gradientView")+Ar("moveDragPosition"),value:function(t){var e=this.refs.$dragPosition.parent();this.containerRect=e.rect(),this.startXY=t.xy}},{key:"moveDragPosition",value:function(t,e){var n=this.startXY.x+t,r=this.startXY.y+e;this.containerRect.x>n?n=this.containerRect.x:this.containerRect.x+this.containerRect.width<n&&(n=this.containerRect.x+this.containerRect.width),this.containerRect.y>r?r=this.containerRect.y:this.containerRect.y+this.containerRect.height<r&&(r=this.containerRect.y+this.containerRect.height);var o=$.percent((n-this.containerRect.x)/this.containerRect.width*100),i=$.percent((r-this.containerRect.y)/this.containerRect.height*100);this.state.image.radialPosition=[o,i],this.bindData("$dragPosition"),this.bindData("$gradientView"),this.children.$radialPositionX.setValue(o),this.children.$radialPositionY.setValue(i),this.updateData()}},{key:er("$tab .picker-tab-item"),value:function(t){var e=t.$dt.attr("data-editor");this.$el.attr("data-selected-editor",e),this.parent.trigger("changeTabType",e);var n="image-resource"===e?this.state.image.url:this.state.url;this.state.image=Bs.changeImageType({type:e,url:n,colorsteps:this.state.image.colorsteps||[],angle:$.parse(this.children.$angle.getValue()).value,radialType:this.children.$radialType.getValue(),radialPosition:[this.children.$radialPositionX.getValue(),this.children.$radialPositionY.getValue()]}),this.refresh(),this.updateData(),this.sendMessage()}},{key:"sendMessage",value:function(t){"linear-gradient"===(t=this.$el.attr("data-selected-editor"))||"repeating-linear-gradient"===t?this.emit("addStatusBarMessage",""):this.emit("addStatusBarMessage","Drag if you want to move center position")}},{key:Wo("changeKeyValue"),value:function(t,e){"angle"===t&&(e=e.value),this.state.image[t]=e,"radialPositionX"!==t&&"radialPositionY"!==t||(this.state.image.radialPosition=[this.state.image.radialPositionX||"50%",this.state.image.radialPositionY||"50%"]),this.bindData("$gradientView"),this.updateData()}},{key:Wo("changeColorStepOffset"),value:function(t,e){this.currentStep&&(this.currentStep.percent=e.value,this.state.image.sortColorStep(),this.refresh(),this.updateData())}},{key:er("$back"),value:function(t){var e=this.refs.$stepList.rect(),n=e.x,r=e.right,o=t.xy.x;o<n?o=n:o>r&&(o=r);var i=(o-n)/e.width*100;this.state.image.insertColorStep(i),this.state.image.sortColorStep(),this.refresh(),this.updateData()}},{key:Hr("$el"),value:function(){var t=this.state.image.type;return"url"===t&&(t="image-resource"),this.parent.trigger("changeTabType",t),{"data-selected-editor":t}}},{key:Hr("$stepList"),value:function(){return{"data-selected-index":this.state.index.toString(),style:{"background-image":this.getLinearGradient()}}}},{key:Hr("$gradientView"),value:function(){var t=this.state.image.type,e="auto";return"url"!==t&&"image-resource"!==t||(e="cover"),{style:{"background-image":this.state.image.toString(),"background-size":e,"background-repeat":"no-repeat"}}}},{key:Hr("$dragPosition"),value:function(){var t="50%",e="50%";if(CT[this.state.image.type]){var n=wT(this.state.image.radialPosition,2);t=n[0],e=n[1]}return{style:{left:t,top:e}}}},{key:zr("$stepList"),value:function(){var t=this;return(this.state.image.colorsteps||[]).map((function(e,n){var r=t.$selection.isSelectedColorStep(e.id)?"selected":"";return("\n      <div class='step ".concat(r,"' data-id='").concat(e.id,"' data-cut='").concat(e.cut,"' style='left: ").concat(e.percent,"%;'>\n        <div class='color-view' style=\"background-color: ").concat(e.color,"\"></div>\n        <div class='arrow' style=\"background-color: ").concat(e.color,'"></div>\n      </div>'))}))}},{key:er("$cut"),value:function(){this.currentStep&&(this.currentStep.cut=this.refs.$cut.checked(),this.refresh(),this.updateData())}},{key:"removeStep",value:function(t){this.state.image.removeColorStep(t),this.refresh(),this.updateData()}},{key:"selectStep",value:function(t){var e=this;this.state.id=t,this.$selection.selectColorStep(t),this.state.image.colorsteps&&(this.currentStep=this.state.image.colorsteps.find((function(t){return e.$selection.isSelectedColorStep(t.id)})),this.refs.$cut.checked(this.currentStep.cut),this.children.$range.setValue($.percent(this.currentStep.percent)),this.parent.trigger("selectColorStep",this.currentStep.color)),this.refresh()}},{key:wr("$stepList .step")+Ar(),value:function(t){var e=t.$dt.attr("data-id");if(t.altKey)return this.removeStep(e),!1;this.selectStep(e),this.startXY=t.xy,this.cachedStepListRect=this.refs.$stepList.rect()}},{key:"getStepListRect",value:function(){return this.cachedStepListRect}},{key:"move",value:function(t,e){var n=this.getStepListRect(),r=n.x,o=n.right,i=this.startXY.x+t;i<r?i=r:i>o&&(i=o);var a=(i-r)/n.width*100;this.currentStep.percent=a,this.children.$range.setValue($.percent(a)),this.state.image.sortColorStep(),this.refresh(),this.updateData()}},{key:"refresh",value:function(){this.load()}},{key:"getLinearGradient",value:function(){var t=this.state.image;return"linear-gradient(to right, ".concat(Fc.toColorString(t.colorsteps),")")}},{key:Wo("setColorStepColor"),value:function(t){"static-gradient"===this.state.image.type?(this.state.image.colorsteps[0].color=t,this.refresh(),this.updateData()):this.currentStep&&(this.currentStep.color=t,this.refresh(),this.updateData())}},{key:Wo("setImageUrl"),value:function(t){this.state.image&&(this.state.url=t,this.state.image.reset({url:t}),this.refresh(),this.updateData())}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.parent.trigger(this.props.onchange,this.state.image.toString())}}])&&jT(n.prototype,r),o&&jT(n,o),e}(Uo);function DT(t){return(DT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function AT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function MT(t,e){return!e||"object"!==DT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zT(t,e,n){return(zT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=BT(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function BT(t){return(BT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function FT(t,e){return(FT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var GT=function(t){function e(){return IT(this,e),MT(this,BT(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FT(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){var t=this.props.value;t="infinite"===t?new $(0,"infinite"):$.number(t.split("normal")[0]);var n=this.props.units||"px,em,%";return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?VT(Object(n),!0).forEach((function(e){AT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},zT(BT(e.prototype),"initState",this).call(this),{},{key:this.props.key,params:this.props.params||"",units:n,value:t})}}])&&LT(n.prototype,r),o&&LT(n,o),e}(kC);function HT(t){return(HT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XT(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function YT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function KT(t,e){return!e||"object"!==HT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function WT(t){return(WT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function UT(t,e){return(UT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ZT=function(t){function e(){return YT(this,e),KT(this,WT(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UT(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){var t=this.props.value.split(";").filter((function(t){return t.trim()})).map((function(t){var e=XT(t.split(":"),2),n=e[0],r=e[1];return{key:n=n.replace("--",""),value:r}}));return{hideLabel:"true"==this.props["hide-label"],params:this.props.params||"",values:t}}},{key:"template",value:function(){var t=this.state.hideLabel?"hide":"";return("\n        <div class='var-editor var-list'>\n            <div class='label ".concat(t,"' >\n                <label>").concat(this.props.title||"",'</label>\n                <div class=\'tools\'>\n                    <button type="button" ref="$add" title="add Var">').concat(jv.add,"</button>\n                </div>\n            </div>\n            <div class='var-list' ref='$varList'></div>\n        </div>"))}},{key:Wo("add"),value:function(){this.state.values.push({key:"",value:""}),this.refresh(),this.updateData()}},{key:er("$add"),value:function(){this.trigger("add")}},{key:zr("$varList"),value:function(){return this.state.values.map((function(t,e){return'\n                <div class=\'var-item\' >\n                    <div>\n                        <input type="text" data-type="key" value="'.concat(t.key,'" data-index="').concat(e,'"  placeholder="variable" />\n                    </div>\n                    <div>\n                        <input type="text" data-type="value" value="').concat(t.value,'" data-index="').concat(e,'"  placeholder="value" />\n                    </div>\n                    <div class="tools">\n                        <button type="button" class="del" data-index="').concat(e,'">\n                        ').concat(jv.remove2,"\n                        </button>\n                    </div>\n                </div>\n            ")}))}},{key:er("$varList .del"),value:function(t){var e=+t.$dt.attr("data-index");this.state.values.splice(e,1),this.refresh(),this.updateData()}},{key:pr("$varList input"),value:function(t){var e=+t.$dt.attr("data-index"),n=t.$dt.attr("data-type");this.state.values[e][n]=t.$dt.value,this.updateData()}},{key:"updateData",value:function(t){var e=this.state.values.map((function(t){return"".concat(t.key,":").concat(t.value)})).join(";");this.parent.trigger(this.props.onchange,e,this.props.params)}}])&&NT(n.prototype,r),o&&NT(n,o),e}(Uo);function qT(t){return(qT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tR(t,e){return!e||"object"!==qT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eR(t){return(eR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nR(t,e){return(nR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rR=function(t){function e(){return JT(this,e),tR(this,eR(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nR(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){var t=$.parse(this.props.value||$.number(0));return t=t.toUnit("number"),{label:this.props.label||"",min:+this.props.min||0,max:+this.props.max||100,step:+this.props.step||1,key:this.props.key,params:this.props.params||"",layout:this.props.layout||"",value:t}}},{key:"template",value:function(){return"<div class='small-editor' ref='$body'></div>"}},{key:zr("$body"),value:function(){var t=this.state,e=t.min,n=t.max,r=t.step,o=t.label,i=t.type,a=t.layout,c=+this.state.value.value.toString();isNaN(c)&&(c=0);var u=o?"has-label":"",s=a,l=(+c).toString();return"\n        <div class='number-input-editor ".concat(u," ").concat(s,"' data-selected-type='").concat(i,"'>\n            ").concat(o?"<label>".concat(o,"</label>"):"","\n            <div class='range-editor-type' data-type='range'>\n                <div class='area'>\n                    <input type='number' ref='$propertyNumber' value=\"").concat(l,'" min="').concat(e,'" max="').concat(n,'" step="').concat(r,'" />\n                </div>\n            </div>\n        </div>\n    ')}},{key:"getValue",value:function(){return this.state.value||0}},{key:"setValue",value:function(t){this.setState({value:$.parse(t)})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}},{key:pr("$propertyNumber"),value:function(t){var e=+this.getRef("$propertyNumber").value;this.updateData({value:this.state.value.set(e)})}}])&&QT(n.prototype,r),o&&QT(n,o),e}(Uo);function oR(t){return(oR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iR(Object(n),!0).forEach((function(e){cR(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uR(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function sR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fR(t,e){return!e||"object"!==oR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pR(t){return(pR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yR(t,e){return(yR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hR=["perspective","rotate","rotateX","rotateY","rotateZ","rotate3d","skewX","skewY","translate","translateX","translateY","translateZ","translate3d","scale","scaleX","scaleY","scaleZ","scale3d","matrix","matrix3d"],dR={scale:["X","Y"],translate:["X","Y"],translate3d:["tx","ty","tz"],matrix:["a","b","c","d","tx","ty"],matrix3d:["a1","b1","c1","d1","a2","b2","c2","d2","a3","b3","c3","d3","a4","b4","c4","d4"]},vR=function(t){function e(){return sR(this,e),fR(this,pR(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yR(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{NumberInputEditor:rR,RangeEditor:kC}}},{key:"initState",value:function(){return{hideLabel:"true"===this.props["hide-label"],transforms:yd.parseStyle(this.props.value)}}},{key:"template",value:function(){var t=this,e=this.state.hideLabel?"hide":"";return"\n      <div class='transform-editor transform-list'>\n          <div class='label ".concat(e,"' >\n              <label>Transform</label>\n              <div class='tools'>\n                <select ref=\"$transformSelect\">\n                  ").concat(hR.map((function(e){var n=t.$i18n("css.item."+e);return"<option value='".concat(e,"'>").concat(n,"</option>")})).join(""),'\n                </select>\n                <button type="button" ref="$add" title="add Transform">').concat(jv.add,"</button>\n              </div>\n          </div>\n          <div class='transform-list' ref='$transformList'></div>\n      </div>")}},{key:"getLabel",value:function(t,e){switch(t){case"scale":case"translate":case"translate3d":case"matrix":case"matrix3d":return dR[t][e]}return""}},{key:"isMultiValue",value:function(t){switch(t){case"translate3d":case"matrix":case"matrix3d":return!0}return!1}},{key:"getRange",value:function(t){switch(t){case"translateX":case"translateY":case"translateZ":case"translate":case"translate3d":return{min:-1e3,max:1e3,step:1,units:"px,%,em"};case"matrix":case"matrix3d":return{min:-100,max:100,step:.01,units:"number"};case"rotateX":case"rotateY":case"rotateZ":case"rotate":case"skewY":case"skewX":return{min:-360,max:360,step:.1,units:"deg,turn,rad"};case"perspective":return{min:0,max:1e4,step:1,units:"px,%,em"};case"scale":case"scaleX":case"scaleY":return{min:0,max:10,step:.1,units:"number"}}return{min:0,max:100,step:1,units:"px,%,em"}}},{key:"makeOneTransformTemplate",value:function(t,e,n){var r=this;return('\n      <div class="transform-item" data-index="'.concat(n,'">\n        <div class="title" data-index="').concat(n,'">\n          <label draggable="true" >').concat(this.$i18n("css.item."+t),'</label>\n          <div class="transform-ui">\n\n          </div>\n          <div class="transform-menu">\n            <button type="button" class="del" data-index="').concat(n,'">\n              ').concat(jv.remove2,'\n            </button>\n          </div>\n        </div>\n        <div class="transform-ui ').concat(t,'">\n          ').concat(e.value.map((function(e,o){var i=r.getLabel(t,o),a=r.getRange(t),c=a.min,u=a.max,s=a.step,l=a.units;return"\n              <div>\n                <RangeEditor \n                      ref='$range_".concat(t,"_").concat(n,"_").concat(o,"' \n                      min=\"").concat(c,'" \n                      max="').concat(u,'" \n                      step="').concat(s,'" \n                      label="').concat(i,'"\n                      key="').concat(n,"\" \n                      params='").concat(o,"' \n                      value=\"").concat(e,'" \n                      units="').concat(l,'" \n                      onchange="changeRangeEditor" />\n              </div>')})).join(""),"      \n        </div>\n      </div>\n    "))}},{key:"makeMultiTransformTemplate",value:function(t,e,n){var r=this;return('\n      <div class="transform-item" data-index="'.concat(n,'">\n        <div class="title" data-index="').concat(n,'">\n          <label draggable="true" >').concat(this.$i18n("css.item."+t),'</label>\n          <div></div>\n          <div class="transform-menu">\n            <button type="button" class="del" data-index="').concat(n,'">\n              ').concat(jv.remove2,'\n            </button>\n          </div>\n        </div>\n        <div class="transform-ui ').concat(t,'">\n\n          ').concat("translate3d"===t?"\n            <pre>\n  1 | 0 | 0 | tx\n  0 | 1 | 0 | ty\t\n  0 | 0 | 1 | tz\t\n  0 | 0 | 0 | 1</pre>\n          ":"","\n\n          ").concat("matrix"===t?"\n            <pre>\n  a | c | tx\t\n  b | d | ty\t\n  0 | 0 | 1</pre>\n          ":"","    \n          \n          ").concat("matrix3d"===t?"\n            <pre>\n  a1 | a2 | a3 | a4\t\n  b1 | b2 | b3 | b4\t\n  c1 | c2 | c3 | c4\t\n  d1 | d2 | d3 | d4</pre>\n          ":"","     \n          \n          <div class='").concat(t,"'>\n          ").concat(e.value.map((function(e,o){var i=r.getLabel(t,o),a=r.getRange(t),c=a.min,u=a.max,s=a.step,l=a.units;return"\n              <div>\n                <NumberInputEditor \n                      ref='$range_".concat(t,"_").concat(n,"_").concat(o,"' \n                      min=\"").concat(c,'" \n                      max="').concat(u,'" \n                      step="').concat(s,'" \n                      label="').concat(i,'"\n                      key="').concat(n,"\" \n                      params='").concat(o,"' \n                      value=\"").concat(e,'" \n                      units="').concat(l,'" \n                      onchange="changeRangeEditor" />\n              </div>')})).join(""),"   \n          </div>       \n        </div>\n      </div>\n    "))}},{key:"makeTransformTemplate",value:function(t,e){return this.isMultiValue(t.type)?this.makeMultiTransformTemplate(t.type,t,e):this.makeOneTransformTemplate(t.type,t,e)}},{key:zr("$transformList"),value:function(){var t=this;return this.state.transforms.map((function(e,n){return t.makeTransformTemplate(e,n.toString())}))}},{key:ar("$transformList .transform-item .title label"),value:function(t){this.startIndex=+t.$dt.parent().attr("data-index")}},{key:ur("$transformList .transform-item")+Lr,value:function(t){}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(uR(t.splice(e,1))))}},{key:"sortTransform",value:function(t,e){this.sortItem(this.state.transforms,t,e)}},{key:cr("$transformList .transform-item")+Lr,value:function(t){var e=+t.$dt.attr("data-index");this.$selection.current&&(this.sortTransform(this.startIndex,e),this.refresh(),this.modifyTransform())}},{key:"modifyTransform",value:function(){var t=this.state.transforms.join(" ");this.parent.trigger(this.props.onchange,t)}},{key:"getDefaultValue",value:function(t){switch(t){case"translateX":case"translateY":case"translateZ":return[$.z()];case"rotateX":case"rotateY":case"rotateZ":case"rotate":case"skewY":case"skewX":case"perspective":return[$.deg(0)];case"translate":return[$.z(),$.z()];case"translate3d":return[$.z(),$.z(),$.z()];case"scale":return[$.number(1),$.number(1)];case"scaleX":case"scaleY":return[$.number(1)];case"matrix":return[$.number(1),$.number(0),$.number(0),$.number(1),$.number(0),$.number(0)];case"matrix3d":return[$.number(1),$.number(0),$.number(0),$.number(0),$.number(0),$.number(1),$.number(0),$.number(0),$.number(0),$.number(0),$.number(1),$.number(0),$.number(0),$.number(0),$.number(0),$.number(1)]}return[$.number(0)]}},{key:"makeTransform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getDefaultValue(t);return yd.parse(aR({},e,{type:t,value:n}))}},{key:Wo("add"),value:function(t){this.state.transforms.push(this.makeTransform(t)),this.refresh(),this.modifyTransform()}},{key:er("$add"),value:function(){var t=this.refs.$transformSelect.value;this.trigger("add",t)}},{key:er("$transformList .transform-menu .del"),value:function(t){var e=+t.$dt.attr("data-index");this.state.transforms.splice(e,1),this.refresh(),this.modifyTransform()}},{key:Wo("changeRangeEditor"),value:function(t,e,n){n?this.state.transforms[+t].value[+n]=e:this.state.transforms[+t].reset({value:e}),this.modifyTransform()}}])&&lR(n.prototype,r),o&&lR(n,o),e}(Uo);function bR(t){return(bR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mR(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function gR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kR(t,e){return!e||"object"!==bR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function OR(t){return(OR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jR(t,e){return(jR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var SR=[{key:"transform-origin-x",title:"X"},{key:"transform-origin-y",title:"Y"}],PR=SR.map((function(t){return t.key})),xR={top:"50% 0%","top left":"0% 0%","top right":"100% 0%",left:"0% 50%",center:"50% 50%",right:"100% 50%",bottom:"50% 100%","bottom left":"0% 100%","bottom right":"100% 100%"},$R=function(t){function e(){return gR(this,e),kR(this,OR(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jR(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{RangeEditor:kC}}},{key:"initState",value:function(){var t=this.props.value.split(" "),e={isAll:!1,"transform-origin":$.percent(50),"transform-origin-x":$.percent(50),"transform-origin-y":$.percent(50)};return this.props.value&&(1===t.length?(e.isAll=!0,e["transform-origin"]=$.parse(t[0]),e["transform-origin-x"]=$.parse(t[0]),e["transform-origin-y"]=$.parse(t[0])):2==t.length&&(e.isAll=!1,e["transform-origin-x"]=$.parse(t[0]),e["transform-origin-y"]=$.parse(t[1]))),e}},{key:"template",value:function(){return"\n      <div class='transform-origin-editor'>\n        <div class='direction' ref='$direction'>\n          <div class='pos' data-value='top'></div>\n          <div class='pos' data-value='top left'></div>\n          <div class='pos' data-value='top right'></div>\n          <div class='pos' data-value='bottom'></div>\n          <div class='pos' data-value='bottom left'></div>\n          <div class='pos' data-value='bottom right'></div>\n          <div class='pos' data-value='left'></div>\n          <div class='pos' data-value='right'></div>\n          <div class='pos' data-value='center'></div>\n        </div>\n        <div ref='$body'></div>\n      </div>\n    "}},{key:er("$direction .pos"),value:function(t){var e=t.$dt.attr("data-value");this.state.isAll=!1;var n=mR(xR[e].split(" "),2),r=n[0],o=n[1];this.state["transform-origin-x"]=$.parse(r),this.state["transform-origin-y"]=$.parse(o),this.refresh(),this.modifyTransformOrigin()}},{key:Wo("changeTransformOrigin"),value:function(t,e){var n=this;"transform-origin"===t&&PR.forEach((function(t){n.children["$".concat(t)].setValue(e.toString())})),"transform-origin-z"===t&&(this.state[t]=e),this.setTransformOrigin()}},{key:zr("$body"),value:function(){var t=this,e=this.state.isAll?"all":"partitial",n=this.state["transform-origin"];return'\n      <div class="transform-origin-item">\n        <div class="radius-selector" data-selected-value="'.concat(e,'" ref="$selector">\n          <button type="button" data-value="all">').concat(jv.border_all,'</button>\n          <button type="button" data-value="partitial">\n            ').concat(jv.border_inner,"\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <RangeEditor ref='$all' key='transform-origin' value=\"").concat(n,'" onchange=\'changeTransformOrigin\' />\n        </div>\n      </div>\n      <div class="full transform-origin-item" ref="$partitialSetting" >\n        <div class="radius-setting-box" ref="$radiusSettingBox">\n          ').concat(SR.map((function(e){return"\n              <div>\n                  <RangeEditor ref='$".concat(e.key,"' label='").concat(e.title,"' key='").concat(e.key,"' value=\"").concat(t.state[e.key],"\" onchange='changeTransformOrigin' />\n              </div>  \n            ")})).join(""),"\n\n          <div>\n            <RangeEditor ref='$transform-origin-z' label='Z' key='transform-origin-z' value=\"").concat(this.state["transform-origin-z"]||"","\" onchange='changeTransformOrigin' />\n          </div>  \n        </div>\n      </div>\n    ")}},{key:"setTransformOrigin",value:function(){var t=this;"all"===this.refs.$selector.attr("data-selected-value")?(this.state.isAll=!0,this.state["transform-origin"]=this.children.$all.getValue()):(this.state.isAll=!1,PR.forEach((function(e){t.state[e]=t.children["$".concat(e)].getValue()}))),this.modifyTransformOrigin()}},{key:"modifyTransformOrigin",value:function(){var t="";this.state.isAll?t="".concat(this.state["transform-origin"]):(t="".concat(this.state["transform-origin-x"]," ").concat(this.state["transform-origin-y"]),this.state["transform-origin-z"]&&(t="".concat(t," ").concat(this.state["transform-origin-z"]))),this.parent.trigger(this.props.onchange,t)}},{key:er("$selector button"),value:function(t){var e=t.$dt.attr("data-value");this.refs.$selector.attr("data-selected-value",e),"all"===e?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.setTransformOrigin()}}])&&wR(n.prototype,r),o&&wR(n,o),e}(Uo);function ER(t){return(ER="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _R(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function CR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RR(t,e){return!e||"object"!==ER(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function DR(t){return(DR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function VR(t,e){return(VR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var AR=[{key:"perspective-origin-x",title:"X"},{key:"perspective-origin-y",title:"Y"}],IR=AR.map((function(t){return t.key})),LR={top:"50% 0%","top left":"0% 0%","top right":"100% 0%",left:"0% 50%",center:"50% 50%",right:"100% 50%",bottom:"50% 100%","bottom left":"0% 100%","bottom right":"100% 100%"},MR=function(t){function e(){return CR(this,e),RR(this,DR(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&VR(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{RangeEditor:kC}}},{key:"initState",value:function(){var t=this.props.value.split(" "),e={isAll:!0,"perspective-origin":$.z(),"perspective-origin-x":$.z(),"perspective-origin-y":$.z()};return this.props.value&&(1===t.length?(e.isAll=!0,e["perspective-origin"]=$.parse(t[0]),e["perspective-origin-x"]=$.parse(t[0]),e["perspective-origin-y"]=$.parse(t[0])):2==t.length&&(e.isAll=!1,e["perspective-origin-x"]=$.parse(t[0]),e["perspective-origin-y"]=$.parse(t[1]))),e}},{key:"template",value:function(){return"\n      <div class='perspective-origin-editor' ref='$body'>\n        <div class='direction' ref='$direction'>\n          <div class='pos' data-value='top'></div>\n          <div class='pos' data-value='top left'></div>\n          <div class='pos' data-value='top right'></div>\n          <div class='pos' data-value='bottom'></div>\n          <div class='pos' data-value='bottom left'></div>\n          <div class='pos' data-value='bottom right'></div>\n          <div class='pos' data-value='left'></div>\n          <div class='pos' data-value='right'></div>\n          <div class='pos' data-value='center'></div>\n        </div>\n        <div ref='$body'></div>\n      </div>\n    "}},{key:er("$direction .pos"),value:function(t){var e=t.$dt.attr("data-value");this.state.isAll=!1;var n=_R(LR[e].split(" "),2),r=n[0],o=n[1];this.state["perspective-origin-x"]=$.parse(r),this.state["perspective-origin-y"]=$.parse(o),this.refresh(),this.modifyPerspectiveOrigin()}},{key:Wo("changePerspectiveOrigin"),value:function(t,e){var n=this;"perspective-origin"===t&&IR.forEach((function(t){n.children["$".concat(t)].setValue(e.toString())})),this.setPerspectiveOrigin()}},{key:zr("$body"),value:function(){var t=this,e=this.state.isAll?"all":"partitial",n=this.state["perspective-origin"];return'\n      <div class="property-item perspective-origin-item">\n        <div class="radius-selector" data-selected-value="'.concat(e,'" ref="$selector">\n          <button type="button" data-value="all">').concat(jv.border_all,'</button>\n          <button type="button" data-value="partitial">\n            ').concat(jv.border_inner,"\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <RangeEditor ref='$all' key='perspective-origin' value=\"").concat(n,'" onchange=\'changePerspectiveOrigin\' />\n        </div>\n      </div>\n      <div\n        class="property-item full perspective-origin-item"\n        ref="$partitialSetting"\n        style="display: none;"\n      >\n        <div class="radius-setting-box" ref="$radiusSettingBox">\n          ').concat(AR.map((function(e){var n=t.$i18n(e.title);return("\n              <div>\n                  <RangeEditor ref='$".concat(e.key,"' label='").concat(n,"' key='").concat(e.key,"' value=\"").concat(t.state[e.key],"\" onchange='changePerspectiveOrigin' />\n              </div>  \n            "))})).join(""),"\n        </div>\n      </div>\n    ")}},{key:"setPerspectiveOrigin",value:function(){var t=this;"all"===this.refs.$selector.attr("data-selected-value")?(this.state.isAll=!0,this.state["perspective-origin"]=this.children.$all.getValue()):(this.state.isAll=!1,IR.forEach((function(e){t.state[e]=t.children["$".concat(e)].getValue()}))),this.modifyPerspectiveOrigin()}},{key:"modifyPerspectiveOrigin",value:function(){var t="";t=this.state.isAll?"".concat(this.state["perspective-origin"]):"".concat(this.state["perspective-origin-x"]," ").concat(this.state["perspective-origin-y"]),this.parent.trigger(this.props.onchange,t)}},{key:er("$selector button"),value:function(t){var e=t.$dt.attr("data-value");this.refs.$selector.attr("data-selected-value",e),"all"===e?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.setPerspectiveOrigin()}}])&&TR(n.prototype,r),o&&TR(n,o),e}(Uo);function zR(t){return(zR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GR(t,e){return!e||"object"!==zR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function HR(t){return(HR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function XR(t,e){return(XR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var YR=function(t){function e(){return BR(this,e),GR(this,HR(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&XR(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){var t=$.parse(this.props.value||$.number(0));return t=t.toUnit("number"),{removable:"true"===this.props.removable,clamp:"true"===this.props.clamp,label:this.props.label||"",min:+this.props.min||0,max:+this.props.max||100,step:+this.props.step||1,key:this.props.key,params:this.props.params||"",layout:this.props.layout||"",value:t}}},{key:"template",value:function(){return"<div class='small-editor' ref='$body'></div>"}},{key:zr("$body"),value:function(){var t=this.state,e=t.min,n=t.max,r=t.step,o=t.label,i=t.type,a=t.removable,c=t.layout,u=+this.state.value.value.toString();isNaN(u)&&(u=0);var s=o?"has-label":"",l=a?"is-removable":"",f=c,p=(+u).toString();return"\n        <div class='number-range-editor ".concat(s," ").concat(l," ").concat(f,"' data-selected-type='").concat(i,"'>\n            ").concat(o?'<label title="'.concat(o,'">').concat(o,"</label>"):"","\n            <div class='range-editor-type' data-type='range'>\n                <div class='area'>\n                    <input type='range' ref='$property' value=\"").concat(p,'" min="').concat(e,'" max="').concat(n,'" step="').concat(r,"\" />\n                    <input type='number' ref='$propertyNumber' value=\"").concat(p,'" min="').concat(e,'" max="').concat(n,'" step="').concat(r,"\" tabIndex=\"1\" />\n                </div>\n            </div>\n            <button type='button' class='remove' ref='$remove' title='Remove'>").concat(jv.remove,"</button>\n        </div>\n    ")}},{key:"setMin",value:function(t){this.setState({min:$.parse(t)})}},{key:"setMax",value:function(t){this.setState({max:$.parse(t)})}},{key:"getValue",value:function(){return this.state.clamp?this.state.value.clamp(this.state.min,this.state.max):this.state.value}},{key:"setValue",value:function(t){this.setState({value:$.parse(t)})}},{key:yr("$propertyNumber"),value:function(t){this.refs.$propertyNumber.addClass("focused")}},{key:vr("$propertyNumber"),value:function(t){this.refs.$propertyNumber.removeClass("focused")}},{key:er("$remove"),value:function(t){this.updateData({value:""})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}},{key:pr("$propertyNumber"),value:function(t){var e=+this.getRef("$propertyNumber").value;this.getRef("$property").val(e),this.updateData({value:this.state.value.set(e)})}},{key:wr("$property")+Ar("moveRange")+Ir("moveRange"),value:function(){}},{key:"moveRange",value:function(){this.trigger("changeValue")}},{key:Wo("changeValue")+Vr(100),value:function(){var t=+this.getRef("$property").value;this.getRef("$propertyNumber").val(t),""===this.state.value&&(this.state.value=$.number(0)),this.updateData({value:this.state.value.set(t)})}}])&&FR(n.prototype,r),o&&FR(n,o),e}(Uo);function NR(t){return(NR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function KR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UR(t,e){return!e||"object"!==NR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ZR(t){return(ZR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qR(t,e){return(qR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var JR=function(t){function e(){return KR(this,e),UR(this,ZR(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qR(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{clippath:this.props.value}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t),this.modifyClipPath()}},{key:"getValue",value:function(){return this.state.clippath}},{key:"setValue",value:function(t){this.setState({clippath:t})}},{key:"modifyClipPath",value:function(){this.parent.trigger(this.props.onchange,this.state.clippath,this.props.params)}},{key:"template",value:function(){return"\n            <div class='clip-path-editor'></div>\n        "}},{key:zr(),value:function(){var t=this.state.clippath;return"\n        <div class='clippath-item'>\n            <div class='name'>".concat(t,"</div>\n        </div>\n        ")}},{key:er(),value:function(t){this.viewClipPathPicker()}},{key:"viewClipPathPicker",value:function(){this.emit("showClipPathPopup",{changeEvent:"changeClipPathEditor","clip-path":this.state.clippath})}},{key:Wo("changeClipPathEditor"),value:function(t){this.updateData({clippath:t["clip-path"]})}}])&&WR(n.prototype,r),o&&WR(n,o),e}(Uo);function QR(t){return(QR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nD(t,e){return!e||"object"!==QR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rD(t){return(rD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function oD(t,e){return(oD=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var iD=function(t){function e(){return tD(this,e),nD(this,rD(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oD(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{hideLabel:"true"===this.props["hide-label"],selectedIndex:-1,textShadows:wb.parseStyle(this.props.value)}}},{key:"template",value:function(){var t=this.state.hideLabel?"hide":"";return('\n      <div class="text-shadow-editor" >\n        <div class=\'label '.concat(t,"' >\n            <label>").concat(this.props.title||"",'</label>        \n            <div class=\'tools\'>\n              <button type="button" ref="$add" title="add Text Shadow">').concat(jv.add,"</button>\n            </div>\n        </div>\n        <div class='text-shadow-list' ref='$shadowList'></div>\n      </div>\n    "))}},{key:zr("$shadowList"),value:function(){var t=this.state.textShadows.map((function(t,e){return'\n        <div class="shadow-item real" data-index="'.concat(e,'">\n          <div class="color">\n            <div class=\'color-view\' style="background-color: ').concat(t.color,'">\n            </div>\n          </div>\n          <div class="offset-x">').concat(t.offsetX,'</div>\n          <div class="offset-y">').concat(t.offsetY,'</div>\n          <div class="blur-radius">').concat(t.blurRadius,'</div>\n          <div class="tools">\n            <button type="button" class="remove" data-index="').concat(e,'">\n              ').concat(jv.remove2,"\n            </button>\n          </div>\n        </div>\n      ")}));return t.length&&t.push('\n      <div class="shadow-item desc">\n            <div class="color"></div>\n            <div class="offset-x">X</div>\n            <div class="offset-y">Y</div>\n            <div class="blur-radius">Blur</div>\n            <div class="tools">\n            </div>\n          </div>\n      '),t.join("")}},{key:"modifyTextShadow",value:function(){var t=this.state.textShadows.join(", ");this.parent.trigger(this.props.onchange,t)}},{key:Wo("add"),value:function(){this.state.textShadows.push(new wb),this.refresh(),this.modifyTextShadow()}},{key:er("$add"),value:function(){this.trigger("add")}},{key:er("$shadowList .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.state.textShadows.splice(e,1),this.refresh(),this.modifyTextShadow()}},{key:er("$shadowList .shadow-item.real > div:not(.tools)"),value:function(t){var e=+t.$dt.closest("shadow-item").attr("data-index"),n=this.state.textShadows[e];this.viewShadowPopup(n,e)}},{key:"viewShadowPopup",value:function(t,e){this.setState({selectedIndex:e},!1),this.viewTextShadowPropertyPopup(t)}},{key:"viewTextShadowPropertyPopup",value:function(t){this.emit("showTextShadowPropertyPopup",{changeEvent:"changeTextShadowEditorPopup",color:t.color,offsetX:t.offsetX,offsetY:t.offsetY,blurRadius:t.blurRadius},{id:this.id})}},{key:Wo("changeTextShadowEditorPopup"),value:function(t,e){e.id===this.id&&(this.state.textShadows[this.state.selectedIndex].reset(t),this.refresh(),this.modifyTextShadow())}}])&&eD(n.prototype,r),o&&eD(n,o),e}(Uo);function aD(t){return(aD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sD(t,e){return!e||"object"!==aD(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lD(t){return(lD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fD(t,e){return(fD=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pD=function(t){function e(){return cD(this,e),sD(this,lD(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fD(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{NumberRangeEditor:YR}}},{key:"initState",value:function(){return{value:this.generateValue(this.props.value||"")}}},{key:"template",value:function(){return"\n      <div class='stroke-dasharray-editor'>\n        <div ref='$body'></div>\n        <div class='tools'>\n          <label ref='$add'>".concat(jv.add," ").concat(this.$i18n("stroke.dasharray.editor.add"),"</label>\n        </div>\n      </div>\n    ")}},{key:"toStringValue",value:function(){return this.state.value.join(" ")}},{key:"getValue",value:function(){return this.toStringValue()}},{key:"generateValue",value:function(t){return t.split(" ").filter(Boolean).map((function(t){return+t}))}},{key:"setValue",value:function(t){ee(t)||(t=this.generateValue(t)),this.setState({value:t})}},{key:zr("$body"),value:function(){return this.state.value.map((function(t,e){var n=e+1;return("\n        <div class='dasharray-item'>\n          <NumberRangeEditor \n            ref='$".concat(n,"' \n            label='").concat(n,"'\n            key='").concat(e,'\' \n            value="0" \n            min="0"\n            max="1000"\n            step="1"\n            onchange="changeRangeEditor" \n          />\n          <button type="button" data-index="').concat(e,"\" class='delete'>").concat(jv.remove2,"</button>\n        </div>\n      "))}))}},{key:Wo("changeRangeEditor"),value:function(t,e){var n=+t;this.state.value[n]=e,this.modifyStrokeDashArray()}},{key:er("$add"),value:function(){this.state.value.push(0),this.refresh()}},{key:er("$body .delete"),value:function(t){var e=+t.$dt.attr("data-index");this.state.value.splice(e,1),this.refresh(),this.modifyStrokeDashArray()}},{key:"modifyStrokeDashArray",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.toStringValue(),this.props.params)}}])&&uD(n.prototype,r),o&&uD(n,o),e}(Uo);function yD(t){return(yD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hD(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gD(t,e){return!e||"object"!==yD(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wD(t){return(wD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kD(t,e){return(kD=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var OD=function(t){function e(){return bD(this,e),gD(this,wD(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kD(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{parser:new Vi(this.props.value||"")}}},{key:"makeSegments",value:function(){return this.refs.$data.$$(".segment").map((function(t){var e=t.$(".command"),n=e.attr("data-command");return"Z"===n&&"false"===e.attr("data-toggle")?null:{command:n,values:t.$$(".values input[type=number]").map((function(t){return+t.value}))}})).filter((function(t){return t}))}},{key:"updateData",value:function(){var t=this.makeSegments();this.state.parser.resetSegments(t),this.modifyPathData()}},{key:"modifyPathData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}},{key:"setValue",value:function(t){this.setState({parser:new Vi(t)})}},{key:"getValue",value:function(){return this.state.parser.joinPath()}},{key:"template",value:function(){return"\n            <div class='path-data-editor'>\n                <div class='data' ref='$data'></div>\n            </div>\n        "}},{key:zr("$data"),value:function(){var t=this,e=[];this.state.parser.segments.forEach((function(n,r){var o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dD(Object(n),!0).forEach((function(e){vD(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n);e.push(o);var i=t.state.parser.segments[r+1];i&&"M"===i.command&&("Z"!==o.command?e.push({command:"Z",toggle:!1,values:[]}):o.toggle=!0)}));var n=this.state.parser.segments[this.state.parser.segments.length-1];n&&"Z"!==n.command&&e.push({command:"Z",toggle:!1,values:[]});var r=e.map((function(t){var e="M"===t.command?"m":"";return("\n                <div class='segment ".concat(e,"'>\n                    <div class='command' data-command='").concat(t.command,"' data-toggle=\"").concat(t.toggle,"\" title='Toggle'>").concat(t.command,"</div>\n                    <div class='values'>\n                        ").concat(t.values.map((function(t){return'<input type="number" value="'.concat(t,'" />')})).join(""),"\n\n                        ").concat("Z"===t.command?!1===t.toggle?"opened":"closed":"","\n                    </div>\n                </div>\n            "))}));return r.unshift("\n            <div class='segment-empty'>\n                <div class='command'></div>\n                <div class='values'>\n                    <span>X</span>\n                    <span>Y</span>\n                </div>\n            </div>\n        "),r}},{key:pr("$data input[type=number]")+Dr(300),value:function(t){this.updateData()}},{key:er("$data .command[data-toggle]"),value:function(t){var e=hD(t.$dt.attrs("data-command","data-toggle"),2),n=e[0],r=e[1];"Z"===n&&(r="false"!==r?"false":"true",t.$dt.attr("data-toggle",r),this.updateData())}}])&&mD(n.prototype,r),o&&mD(n,o),e}(Uo);function jD(t){return(jD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function SD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xD(t,e){return!e||"object"!==jD(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $D(t){return($D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ED(t,e){return(ED=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _D=function(t){function e(){return SD(this,e),xD(this,$D(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ED(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{parser:new Pm(this.props.value||"")}}},{key:"makeSegments",value:function(){return this.refs.$data.$$(".segment").map((function(t){return{x:+t.$('[data-key="x"]').value,y:+t.$('[data-key="y"]').value}}))}},{key:"updateData",value:function(){var t=this.makeSegments();this.state.parser.resetSegments(t),this.modifyPolygonData()}},{key:"modifyPolygonData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}},{key:"setValue",value:function(t){this.setState({parser:new Pm(t||"")})}},{key:"getValue",value:function(){return this.state.parser.joinPoints()}},{key:"template",value:function(){return"\n            <div class='polygon-data-editor'>\n                <div class='data' ref='$data'></div>\n            </div>\n        "}},{key:zr("$data"),value:function(){return this.state.parser.segments.map((function(t){return'\n                <div class=\'segment\'>\n                    <div class=\'values\'>\n                        <label>X <input type="number" data-key="x" value="'.concat(t.x,'" /></label>\n                        <label>Y <input type="number" data-key="y" value="').concat(t.y,'" /></label>\n                    </div>\n                </div>\n            ')}))}},{key:pr("$data input[type=number]")+Dr(300),value:function(t){this.updateData()}}])&&PD(n.prototype,r),o&&PD(n,o),e}(Uo);function CD(t){return(CD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function TD(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function RD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VD(t,e){return!e||"object"!==CD(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function AD(t){return(AD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ID(t,e){return(ID=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var LD=function(t){function e(){return RD(this,e),VD(this,AD(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ID(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{RangeEditor:kC,SelectEditor:yC}}},{key:"initState",value:function(){var t=TD((this.props.value||"").split(",").map((function(t){return t.trim()})),4);return{id:t[0],distance:t[1]||"0%",rotateStatus:t[2]||"auto",rotate:t[3]||"0deg"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyOffsetPath()}},{key:"getValue",value:function(){var t=this;return Object.keys(this.state).map((function(e){return t.state[e]})).join(",")}},{key:"refresh",value:function(){this.load()}},{key:"setValue",value:function(t){var e=TD((t||"").split(",").map((function(t){return t.trim()})),4),n=e[0],r=e[1],o=e[2],i=e[3];this.setState({id:n,distance:r,rotateStatus:o,rotate:i},!1),this.refresh()}},{key:"modifyOffsetPath",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}},{key:"template",value:function(){return"\n            <div class='offset-path-editor'></div>\n        "}},{key:"getOptions",value:function(){var t=this.$selection.currentArtboard,e={};return t&&t.allLayers.filter((function(t){return t.is("svg-path","svg-polygon")})).filter((function(t){return t["motion-based"]})).forEach((function(t){e[t.id]=t})),{options:Object.keys(e).map((function(t){return"".concat(t,":").concat(e[t].name)})).join(","),paths:e}}},{key:zr(),value:function(){var t=this.getOptions(),e=","+t.options,n=t.paths||{},r=this.state,o=r.id,i=r.rotateStatus,a=r.rotate,c=r.distance;return"\n        <div>\n            <div class='offset-path-item'>\n                <SelectEditor ref='$path' label='".concat(this.$i18n("offset.path.list.editor.path"),'\' key="id" value="').concat(o,'" options="').concat(e,"\" onchange='changeRangeEditor' />\n            </div>\n            <div class='offset-path-item'>\n                <div>").concat(this.$i18n("offset.path.list.editor.totalLength"),": <span ref='$totalLength'>").concat(n[o]&&n[o].totalLength||0,"</span></div>\n            </div>\n            <div class='offset-path-item'>\n                <RangeEditor ref='$distance' label='").concat(this.$i18n("offset.path.list.editor.distance"),'\' min="0" max="100" value="').concat(c||"0%","\" key='distance' unit=\"%,px\" onchange='changeRangeEditor' /> \n            </div>\n            <div class='offset-path-item'>\n                <SelectEditor ref='$status' label='").concat(this.$i18n("offset.path.list.editor.direction"),"' key='rotateStatus' value=\"").concat(i,"\" options=\"auto,auto angle,angle,reverse,element\" onchange='changeRangeEditor' /> \n            </div>\n            <div class='offset-path-item'>\n                <RangeEditor ref='$rotate' label='").concat(this.$i18n("offset.path.list.editor.rotate"),"' min=\"0\" max=\"2000\" key='rotate' value='").concat(a||"0deg","' units=\"deg,turn\" onchange='changeRangeEditor' /> \n            </div>     \n        </div>           \n        ")}},{key:Hr("$totalLength"),value:function(){var t=this.state.id,e=(this.getOptions().paths[t]||{totalLength:0}).totalLength||0;return{innerHTML:"<span>".concat(e,"</span>")}}},{key:Wo("changeRangeEditor"),value:function(t,e){this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e)),this.bindData("$totalLength")}}])&&DD(n.prototype,r),o&&DD(n,o),e}(Uo);function MD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zD={none:!0,hidden:!0,dotted:!0,dashed:!0,solid:!0,double:!0,groove:!0,ridge:!0,inset:!0,outset:!0},BD=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"parseStyle",value:function(t){return ve(t)}},{key:"parseValue",value:function(t){var e="",n="",r="";return t.split(" ").filter((function(t){return t.trim()})).forEach((function(t){zD[t]?e=t:Rn.isColor(t)?r=t:n=t})),{style:e,color:r,width:n}}},{key:"joinValue",value:function(t){return"".concat(t.width," ").concat(t.style," ").concat(t.color)}},{key:"join",value:function(t){return[t.border?"border: ".concat(t.border):"",t["border-top"]?"border-top: ".concat(t["border-top"]):"",t["border-left"]?"border-left: ".concat(t["border-left"]):"",t["border-right"]?"border-right: ".concat(t["border-right"]):"",t["border-bottom"]?"border-bottom: ".concat(t["border-bottom"]):""].filter((function(t){return t})).join(";")}}],(n=null)&&MD(e.prototype,n),r&&MD(e,r),t}();function FD(t){return(FD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function GD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XD(t,e){return!e||"object"!==FD(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function YD(t){return(YD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ND(t,e){return(ND=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var KD=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"].join(","),WD=function(t){function e(){return GD(this,e),XD(this,YD(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ND(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{InputRangeEditor:mT,RangeEditor:kC,SelectEditor:yC,ColorViewEditor:XC,ColorSingleEditor:LC}}},{key:"initState",value:function(){return{value:BD.parseValue(this.props.value)}}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}},{key:"getValue",value:function(){return BD.joinValue(this.state.value)}},{key:"setValue",value:function(t){this.state.value=BD.parseValue(t),this.refresh()}},{key:"refresh",value:function(){this.children.$width.setValue(this.state.value.width||$.z()),this.children.$style.setValue(this.state.value.style||"none"),this.children.$color.setValue(this.state.value.color||"rgba(0, 0, 0, 1)")}},{key:"template",value:function(){var t=this.state.value,e=t.width,n=t.style,r=t.color;return('\n      <div class="border-value-editor">\n        <label>'.concat(this.props.label,'</label>\n        <div class=\'editor-area\'>\n          <InputRangeEditor ref=\'$width\' min="0" max="100" step="1" key=\'width\' value="').concat(e,"\" onchange='changeKeyValue' />\n        </div>\n        <div class='editor-area'>\n          <SelectEditor ref='$style' key='style' options='").concat(KD,"' value=\"").concat(n,"\" onchange=\"changeKeyValue\" />\n        </div>\n        <div class='editor-area'>\n          <ColorSingleEditor ref='$color' key='color' value=\"").concat(r||"rgba(0, 0, 0, 1)",'"  onchange="changeKeyValue" />\n        </div>\n\n      </div>\n    '))}},{key:Wo("changeKeyValue"),value:function(t,e){var n=this.state.value;n[t]=e,this.updateData({value:n})}}])&&HD(n.prototype,r),o&&HD(n,o),e}(Uo);function UD(t){return(UD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function JD(t,e){return!e||"object"!==UD(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function QD(t){return(QD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tV(t,e){return(tV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var eV=["border","border-top","border-right","border-bottom","border-left"],nV={border:"all","border-top":"top","border-right":"right","border-bottom":"bottom","border-left":"left"},rV=function(t){function e(){return ZD(this,e),JD(this,QD(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tV(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{BorderValueEditor:WD}}},{key:"initState",value:function(){var t=BD.parseStyle(this.props.value);return{direction:Object.keys(t)[0]||"border",borders:t}}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}},{key:"getValue",value:function(){return BD.join(this.state.borders)}},{key:"setValue",value:function(t){this.state.borders=BD.parseStyle(t),this.refresh()}},{key:"refresh",value:function(){this.load()}},{key:zr("$editorArea"),value:function(){var t=this;return eV.map((function(e){var n=nV[e]||e;return n=t.$i18n("border.editor."+n),"\n      <div>\n        <BorderValueEditor ref='$".concat(e,"' label='").concat(n,"' key=\"").concat(e,'" value="').concat(t.state.borders[e],'" onchange="changeKeyValue" />\n      </div>\n      ')}))}},{key:"template",value:function(){return"\n      <div class=\"border-editor\">\n        <div class='header'>\n          <div></div>\n          <label>".concat(this.$i18n("border.editor.width"),"</label>\n          <label>").concat(this.$i18n("border.editor.style"),"</label>\n          <label>").concat(this.$i18n("border.editor.color"),"</label>\n        </div>\n        <div class='editor-area' ref='$editorArea'>\n\n        </div>\n      </div>\n    ")}},{key:Wo("changeKeyValue"),value:function(t,e){var n=this.state.borders;n[t]=e,this.updateData({borders:n})}}])&&qD(n.prototype,r),o&&qD(n,o),e}(Uo);function oV(t){return(oV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iV(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function aV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uV(t,e){return!e||"object"!==oV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sV(t){return(sV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lV(t,e){return(lV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fV=function(t){function e(){return aV(this,e),uV(this,sV(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lV(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{NumberRangeEditor:YR}}},{key:"initState",value:function(){var t=iV((this.props.value||"").split(":"),3);return{start:+(t[0]||0),end:+(t[1]||1),duration:+(t[2]||1)}}},{key:"refresh",value:function(){this.load(),this.children.$s.setValue(this.state.start*this.state.duration),this.children.$e.setValue(this.state.end*this.state.duration),this.children.$s.setMax(this.state.duration),this.children.$e.setMax(this.state.duration)}},{key:"template",value:function(){var t=this.state,e=t.start,n=t.end,r=t.duration;return("\n            <div class='media-progress-editor'>\n                <div class='drag-area'>\n                    <div class='progress-bar' ref='$progress'></div>\n                    <div class='bar' ref='$bar'></div>                \n                    <div class='drag-item start' ref='$start'></div>\n                    <div class='drag-item end' ref='$end'></div>\n                </div>\n                <div class='item'>\n                    <NumberRangeEditor \n                        ref='$s' \n                        label='Start' \n                        key='start' \n                        min=\"0\" \n                        max=\"".concat(r,'" \n                        step="0.001" \n                        value="').concat(e*r,"\" \n                        onchange=\"changeValue\" \n                    />\n                </div>\n                <div class='item'>\n                    <NumberRangeEditor \n                        ref='$e' \n                        label='End' \n                        key='end' \n                        min=\"0\" \n                        max=\"").concat(r,'" \n                        step="0.001" \n                        value="').concat(n*r,'" \n                        onchange="changeValue" \n                    />\n                </div>                \n            </div>\n        '))}},{key:Wo("changeValue"),value:function(t,e){this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e/this.state.duration),!0)}},{key:wr("$start")+Ar("moveStart"),value:function(t){this.rect=this.refs.$progress.rect(),this.pos=$.parse(this.refs.$start.css("left")).toPx(this.rect.width),this.max=$.parse(this.refs.$end.css("left")).toPx(this.rect.width)}},{key:"moveStart",value:function(t,e){var n=Math.min(this.max.value,Math.max(0,this.pos.value+t));this.state.start=n/this.rect.width,this.children.$s.setValue(this.state.start*this.state.duration),this.refresh(),this.updateData()}},{key:Hr("$start"),value:function(){return{"data-info":this.state.start,style:{left:$.percent(100*(this.state.start||0))}}}},{key:wr("$end")+Ar("moveStartForEnd"),value:function(t){this.rect=this.refs.$progress.rect(),this.pos=$.parse(this.refs.$end.css("left")).toPx(this.rect.width),this.min=$.parse(this.refs.$start.css("left")).toPx(this.rect.width),this.max=$.px(this.rect.width)}},{key:"moveStartForEnd",value:function(t,e){var n=Math.max(this.min.value,Math.min(this.max.value,this.pos.value+t));this.state.end=n/this.rect.width,this.children.$e.setValue(this.state.end*this.state.duration),this.refresh(),this.updateData()}},{key:Hr("$end"),value:function(){return{"data-info":this.state.end,style:{left:$.percent(100*(this.state.end||1))}}}},{key:Hr("$bar"),value:function(){var t=this.state.start||0,e=this.state.end||1;return{style:{left:$.percent(100*t),width:$.percent(100*(e-t))}}}},{key:"getValue",value:function(){var t=this.state,e=t.start,n=t.end,r=t.duration;return"".concat(e,":").concat(n,":").concat(r)}},{key:"setValue",value:function(t){var e=iV(t.split(":"),3),n=e[0],r=e[1],o=e[2];this.setState({start:Number(n),end:Number(r),duration:Number(o)})}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setState(t,e),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}}])&&cV(n.prototype,r),o&&cV(n,o),e}(Uo);function pV(t){return(pV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dV(t,e){return!e||"object"!==pV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vV(t){return(vV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bV(t,e){return(bV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var mV=function(t){function e(){return yV(this,e),dV(this,vV(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bV(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{BorderEditor:rV,NumberRangeEditor:YR,SelectEditor:yC,TextShadowEditor:iD,BoxShadowEditor:iC,FilterEditor:lT,ColorViewEditor:XC,RangeEditor:kC,StrokeDashArrayEditor:pD,BackgroundImageEditor:J_,TransformEditor:vR,TransformOriginEditor:$R,PerspectiveOriginEditor:MR,VarEditor:ZT,BorderRadiusEditor:CC,ClipPathEditor:JR,PathDataEditor:OD,PolygonDataEditor:_D,OffsetPathListEditor:LD,MediaProgressEditor:fV}}},{key:"initState",value:function(){return{hideTitle:"true"===this.props["hide-title"],hideRefresh:"true"===this.props["hide-refresh"],properties:[]}}},{key:"updateData",value:function(t){this.setState(t,!1),this.modifyProperty()}},{key:"modifyProperty",value:function(){this.parent.trigger(this.props.onchange,this.state.properties)}},{key:"template",value:function(){return"\n      <div class='css-property-editor ".concat(me({"hide-title":this.state.hideTitle,"hide-refresh":this.state.hideRefresh}),"'>\n        <div class='title'>\n          <label>").concat(this.$i18n("css.property.editor.properties"),"</label>\n          <div class='tools'>\n            ").concat(this.makePropertySelect(),"\n            <button type=\"button\" ref='$addProperty'>").concat(jv.add,"</button>\n          </div>\n        </div>\n        <div class='input grid-1 css-property-list' ref='$property'></div>\n      </div>\n    ")}},{key:"getPropertyDefaultValue",value:function(t){switch(t){case"animation-timing-function":case"box-shadow":case"text-shadow":case"color":case"background-image":case"background-color":case"text-fill-color":case"text-stroke-color":case"filter":case"backdrop-filter":case"var":case"transform":case"transform-origin":case"perspective-origin":case"playTime":return $.string("");case"offset-distance":return $.percent(0);case"rotate":return $.deg(0);case"mix-blend-mode":return"normal";case"clip-path":return"";case"opacity":return 1;default:return $.z()}}},{key:er("$addProperty"),value:function(t){var e=this.getRef("$propertySelect").value;if(this.state.properties.find((function(t){return t.key===e})))alert("".concat(e," is already added."));else{var n=this.getPropertyDefaultValue(e),r=this.$selection.current;r&&(n=r[e]),this.state.properties.push({key:e,value:n}),this.refresh(),this.modifyProperty()}}},{key:"makeIndivisualPropertyColorEditor",value:function(t,e){var n=t.key.split("-").join("");return("\n      <div class='property-editor'>\n        <ColorViewEditor ref='$".concat(n).concat(e,"' value=\"").concat(t.value,'" key="').concat(t.key,'" onChange="changeColorProperty" />\n      </div>\n    '))}},{key:"makeCustomePropertyEditor",value:function(t,e){return"\n      <div class='property-editor'>\n        <".concat(t.editor," ").concat(be({onchange:"changeSelect",ref:"$customProperty".concat(e),key:t.key,value:t.value})," />\n      </div>\n    ")}},{key:"makeIndivisualPropertyEditor",value:function(t,e){return"background-image"===t.key?"\n        <div class='property-editor'>\n          <BackgroundImageEditor ref='$backgroundImage".concat(e,"' key=\"").concat(t.key,'" hide-title="').concat(this.state.hideTitle,'" value="').concat(t.value,'" onChange="changeBackgroundImageProperty" />\n        </div>\n      '):"filter"===t.key?"\n        <div class='property-editor'>\n          <FilterEditor ref='$filter".concat(e,"' value=\"").concat(t.value,'" onChange="changeFilterProperty" />\n        </div>\n      '):"backdrop-filter"===t.key?"\n        <div class='property-editor'>\n          <FilterEditor ref='$backdropFilter".concat(e,"' value=\"").concat(t.value,'" onChange="changeBackdropFilterProperty" />\n        </div>\n      '):"box-shadow"===t.key?"\n        <div class='property-editor'>\n          <BoxShadowEditor ref='$boxshadow".concat(e,"' value=\"").concat(t.value,'" hide-label="false" onChange="changeBoxShadowProperty" />\n        </div>\n      '):"text-shadow"===t.key?"\n        <div class='property-editor'>\n          <TextShadowEditor ref='$textshadow".concat(e,"' value=\"").concat(t.value,'" hide-label="false" onChange="changeTextShadowProperty" />\n        </div>\n      '):"var"===t.key?"\n        <div class='property-editor'>\n          <VarEditor ref='$var".concat(e,"' value=\"").concat(t.value,'" onChange="changeVar" />\n        </div>\n      '):"transform"===t.key?"\n        <div class='property-editor'>\n          <TransformEditor ref='$transform".concat(e,"' value=\"").concat(t.value,'" onChange="changeTransform" />\n        </div>\n      '):"transform-origin"===t.key?"\n        <div class='property-editor'>\n          <TransformOriginEditor ref='$transformOrigin".concat(e,"' value=\"").concat(t.value,'" onChange="changeTransformOrigin" />\n        </div>\n      '):"perspective-origin"===t.key?"\n        <div class='property-editor'>\n          <PerspectiveOriginEditor ref='$perspectiveOrigin".concat(e,"' value=\"").concat(t.value,'" onChange="changePerspectiveOrigin" />\n        </div>\n      '):"fill-rule"===t.key?"\n        <div class='property-editor'>\n          <SelectEditor \n          ref='$fillRule".concat(e,'\' \n          key=\'fill-rule\' \n          icon="true" \n          options="nonzero,evenodd" \n          value="').concat(t.value,'"\n          onchange="changeSelect" />\n        </div>\n      '):"stroke-linecap"===t.key?"\n        <div class='property-editor'>\n          <SelectEditor \n          ref='$strokeLinecap".concat(e,'\' \n          key=\'stroke-linecap\' \n          icon="true" \n          options="butt,round,square" \n          value="').concat(t.value,'"\n          onchange="changeSelect" />\n        </div>\n      '):"stroke-linejoin"===t.key?"\n        <div class='property-editor'>\n          <SelectEditor \n          ref='$strokeLinejoin".concat(e,'\' \n          key=\'stroke-linejoin\' \n          icon="true" \n          options="miter,arcs,bevel,miter-clip,round" \n          value="').concat(t.value,'"\n          onchange="changeSelect" />\n        </div>\n      '):"mix-blend-mode"===t.key?"\n        <div class='property-editor'>\n          <BlendSelectEditor \n          ref='$mixBlendMode".concat(e,"' \n          key='mix-blend-mode' \n          icon=\"true\" \n          value=\"").concat(t.value,'"\n          onchange="changeSelect" />\n        </div>\n      '):"stroke-dasharray"===t.key?"\n        <StrokeDashArrayEditor \n          ref='$strokeDashArray".concat(e,"' \n          key='stroke-dasharray'\n          value='").concat(t.value,"' \n          onchange='changeSelect' \n        />\n      "):"border-radius"===t.key?"\n        <BorderRadiusEditor \n          ref='$borderRadius".concat(e,"' \n          key='border-radius'\n          value='").concat(t.value,"' \n          onchange='changeBorderRadius' \n        />\n      "):"border"===t.key?"\n        <BorderEditor \n          ref='$border".concat(e,"' \n          key='border'\n          value='").concat(t.value,"' \n          onchange='changeKeyValue' \n        />\n      "):"clip-path"===t.key?"\n        <ClipPathEditor \n          ref='$clipPath".concat(e,"' \n          key='clip-path'\n          value='").concat(t.value,"' \n          onchange='changeClipPath' \n        />\n      "):"d"===t.key?"\n        <PathDataEditor ref='$pathData".concat(e,"' key='d' value='").concat(t.value,"' onchange='changeSelect' />\n      "):"points"===t.key?"\n        <PolygonDataEditor ref='$polygonData".concat(e,"' key='points' value='").concat(t.value,"' onchange='changeSelect' />\n      "):"offset-path"===t.key?"\n        <OffsetPathListEditor ref='$offsetPathList".concat(e,"' key='offset-path' value='").concat(t.value,"' onchange='changeSelect' />\n      "):"playTime"===t.key?"\n        <MediaProgressEditor ref='$playTime".concat(e,"'  key='playTime' value=\"").concat(t.value,'" onchange="changeSelect" />      \n      '):"\n      <div class='property-editor'>\n        ???\n\n      </div>\n    "}},{key:Wo("changeKeyValue"),value:function(t,e){this.modifyPropertyValue(t,e)}},{key:Wo("changeBorderRadius"),value:function(t){this.modifyPropertyValue("border-radius",t)}},{key:Wo("changeClipPath"),value:function(t){this.modifyPropertyValue("clip-path",t)}},{key:Wo("changeColorProperty"),value:function(t,e){this.modifyPropertyValue(t,e)}},{key:Wo("changeBackgroundImageProperty"),value:function(t,e){this.modifyPropertyValue(t,e)}},{key:Wo("changeFilterProperty"),value:function(t){this.modifyPropertyValue("filter",t)}},{key:Wo("changeBackdropFilterProperty"),value:function(t){this.modifyPropertyValue("backdrop-filter",t)}},{key:Wo("changeBoxShadowProperty"),value:function(t){this.modifyPropertyValue("box-shadow",t)}},{key:Wo("changeTextShadowProperty"),value:function(t){this.modifyPropertyValue("text-shadow",t)}},{key:Wo("changeVar"),value:function(t){this.modifyPropertyValue("var",t)}},{key:Wo("changeTransform"),value:function(t){this.modifyPropertyValue("transform",t)}},{key:Wo("changeTransformOrigin"),value:function(t){this.modifyPropertyValue("transform-origin",t)}},{key:Wo("changePerspectiveOrigin"),value:function(t){this.modifyPropertyValue("perspective-origin",t)}},{key:Wo("changeSelect"),value:function(t,e){this.modifyPropertyValue(t,e)}},{key:"makePropertyEditor",value:function(t,e){if(t.editor)return this.makeCustomePropertyEditor(t,e);switch(t.key){case"animation-timing-function":case"box-shadow":case"text-shadow":case"background-image":case"filter":case"backdrop-filter":case"var":case"transform":case"transform-origin":case"perspective-origin":case"mix-blend-mode":case"border":case"border-radius":case"clip-path":case"fill-rule":case"stroke-linecap":case"stroke-linejoin":case"stroke-dasharray":case"d":case"points":case"offset-path":case"playTime":return this.makeIndivisualPropertyEditor(t,e);case"color":case"background-color":case"text-fill-color":case"text-stroke-color":case"stroke":case"fill":return this.makeIndivisualPropertyColorEditor(t,e);case"opacity":case"fill-opacity":case"stroke-dashoffset":case"offset-distance":return"\n          <div class='property-editor'>\n            <NumberRangeEditor \n              ref='$opacity".concat(e,"' \n              key='").concat(t.key,"' \n              min=\"").concat(0,'"\n              max="').concat(1,'"\n              step="').concat(.01,'"\n              value="').concat(t.value||1,'"\n              selected-unit=\'number\'\n              removable="true"\n              onchange="changeRangeEditor" />\n          </div>\n        ');case"rotate":return"\n          <div class='property-editor'>\n            <RangeEditor \n              ref='rangeEditor".concat(e,"' \n              key='").concat(t.key,"' \n              value='").concat(t.value,'\'  \n              min="-2000"\n              max="2000"\n              units="deg" \n              onChange="changeRangeEditor" />\n          </div>\n        ');case"left":case"margin-top":case"margin-bottom":case"margin-left":case"margin-right":case"padding-top":case"padding-bottom":case"padding-left":case"padding-right":case"font-size":case"font-stretch":case"width":case"height":case"perspective":case"offset-distance":case"text-stroke-width":default:return"\n          <div class='property-editor'>\n            <RangeEditor ref='rangeEditor".concat(e,"' key='").concat(t.key,"' value='").concat(t.value,'\' max="1000" onChange="changeRangeEditor" />\n          </div>\n        ')}}},{key:Wo("changeRangeEditor"),value:function(t,e){this.modifyPropertyValue(t,e+"")}},{key:"searchKey",value:function(t,e){this.state.properties.filter((function(e){return e.key===t})).forEach(e)}},{key:"modifyPropertyValue",value:function(t,e){this.searchKey(t,(function(t){t.value=e})),this.modifyProperty()}},{key:"makePropertySelect",value:function(){return"\n      <select class='property-select' ref='$propertySelect'>\n        <optgroup label='Position'>\n          <option value='x'>x</option>\n          <option value='y'>y</option>        \n        </optgroup>\n        <optgroup label='Size'>\n          <option value='width'>width</option>\n          <option value='height'>height</option>\n        </optgroup>      \n        <optgroup label='Box Model'>\n          <option value='margin-left'>margin-left</option>\n          <option value='margin-right'>margin-right</option>\n          <option value='margin-bottom'>margin-bottom</option>\n          <option value='margin-top'>margin-top</option>\n          <option value='padding-left'>padding-left</option>\n          <option value='padding-right'>padding-right</option>\n          <option value='padding-bottom'>padding-bottom</option>\n          <option value='padding-top'>padding-top</option>       \n        </optgroup>\n        <optgroup label='Border'>\n          <option value='border'>border</option>\n          <option value='border-radius'>border-radius</option>\n        </optgroup>        \n        <optgroup label='Style'>\n          <option value='background-color'>background-color</option>\n          <option value='background-image'>background-image</option>\n          <option value='box-shadow'>box-shadow</option>\n          <option value='text-shadow'>text-shadow</option>\n          <option value='filter'>filter</option>      \n          <option value='backdrop-filter'>backdrop-filter</option>\n          <option value='mix-blend-mode'>mix-blend-mode</option>\n        </optgroup>            \n        <optgroup label='Transform'>\n          <option value='transform'>transform</option>\n          <option value='transform-origin'>transform-origin</option>\n          <option value='perspective'>perspective</option>\n          <option value='perspective-origin'>perspective-origin</option>\n        </optgroup>\n        <optgroup label='Font'>\n          <option value='font-size'>font-size</option>\n          <option value='font-weight'>font-weight</option>          \n          <option value='font-stretch'>font-stretch</option>\n        </optgroup>\n        <optgroup label='Animation'>\n          <option value='animation-timing-function'>timing-function</option>\n        </optgroup>        \n      </select>\n    "}},{key:zr("$property"),value:function(){var t=this;return this.state.properties.map((function(e,n){return"\n        <div class='css-property-item'>\n          <div class='title'>\n            <label>".concat(e.key,"</label>\n            <div class='tools'>\n              <button type=\"button\" class='remove' data-index=\"").concat(n,'">').concat(jv.remove2,"</button>\n            </div>\n          </div>\n          <div class='title-2'>\n            <div class='tools'>\n              <label><button type=\"button\" class='refresh' data-index=\"").concat(n,'">').concat(jv.refresh,"</button> Refresh</label>\n            </div>\n          </div>\n          <div class='value-editor'>\n            ").concat(t.makePropertyEditor(e,n),"\n          </div>\n        </div>\n      ")}))}},{key:Wo("showCSSPropertyEditor"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setState({properties:t}),this.refresh()}},{key:er("$property .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.state.properties.splice(e,1),this.refresh(),this.modifyProperty()}},{key:er("$property .refresh"),value:function(t){this.parent.trigger("refreshPropertyValue")}}])&&hV(n.prototype,r),o&&hV(n,o),e}(Uo);function gV(t){return(gV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wV(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function kV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jV(t,e){return!e||"object"!==gV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function SV(t){return(SV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function PV(t,e){return(PV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xV=function(t){function e(){return kV(this,e),jV(this,SV(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PV(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{InputRangeEditor:mT,RangeEditor:kC,CSSPropertyEditor:mV}}},{key:"initState",value:function(){return{offsets:[]}}},{key:"updateData",value:function(t){this.setState(t,!1),this.modifyOffset()}},{key:"modifyOffset",value:function(){this.emit("changeOffsetEditor",this.state)}},{key:"template",value:function(){return"\n    <div class='editor offset-editor' ref='$editor'>\n        ".concat(this.templateForOffset(),"\n        ").concat(this.templateForOffsetInput(),"\n        ").concat(this.templateForProperty(),"        \n    </div>")}},{key:"templateForOffsetInput",value:function(){return"\n      <div class='offset-input' >\n        <div class='title'>\n          <label>Offset</label>\n          <div class='tools'>\n            <InputRangeEditor \n              key='offset' \n              min='0' \n              max='100' \n              step=\"0.01\" \n              value=\"".concat($.percent(0),"\" \n              ref='$offsetInput' \n              units=\"%\" \n              onchange='changeRangeEditor' \n            />\n          </div>\n        </div>\n      </div>\n    ")}},{key:Wo("changeRangeEditor"),value:function(t,e){var n=this.state.offsets[this.selectedIndex];n&&(n.offset=e.clone(),this.refresh(),this.modifyOffset())}},{key:"templateForProperty",value:function(){return"<CSSPropertyEditor ref='$offsetPropertyEditor' hide-refresh=\"true\" onchange='changeCSSPropertyEditor' />"}},{key:"templateForOffset",value:function(){return"<div class='offset' ref='$offset' data-selected-value=\"-1\"></div>"}},{key:"makeOffset",value:function(t,e){return"<div class='offset-item' style='left: ".concat(t.offset,";' data-offset-index='").concat(e.toString(),"'></div>")}},{key:"selectItem",value:function(t){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Qt(t)){t=-1;for(var e=0,n=this.state.offsets.length;e<n;e++)if(this.state.offsets[e].selected){t=e;break}-1===t&&(t=0)}this.getRef("$offset").attr("data-selected-value",t),this.selectedIndex=t,this.state.offsets.forEach((function(e,n){e.selected=n===t}));var r=this.state.offsets.filter((function(t){return t.selected}));this.selectedOffsetItem=r.length?r[0]:{},this.refreshOffsetInput()}},{key:"refreshOffsetInput",value:function(){var t=this.state.offsets[this.selectedIndex];t&&this.children.$offsetInput.setValue(t.offset)}},{key:zr("$offset"),value:function(){var t=this;return this.state.offsets.map((function(e,n){return t.makeOffset(e,n)}))}},{key:"isNotOffsetItem",value:function(t){return!Nn.create(t.target).hasClass("offset-item")&&!this.currentOffset}},{key:er("$offset")+$r("isNotOffsetItem")+Lr,value:function(t){this.baseOffsetWidth=this.refs.$offset.width(),this.baseOffsetArea=this.refs.$offset.offset();var e=t.xy.x,n=$.percent((e-this.baseOffsetArea.left)/this.baseOffsetWidth*100).round(100);this.state.offsets.push(new rg({offset:n})),this.selectItem(this.state.offsets.length-1,!0),this.refresh(),this.modifyOffset()}},{key:"refreshOffsetProperty",value:function(){this.emit("showCSSPropertyEditor",this.selectedOffsetItem.properties)}},{key:wr("$offset .offset-item")+Ar("moveOffset")+Ir("endOffset"),value:function(t){this.baseOffsetWidth=this.refs.$offset.width(),this.baseOffsetArea=this.refs.$offset.offset(),this.currentOffsetleft=$.parse(t.$dt.css("left")),this.currentOffset=t.$dt,this.currentOffsetIndex=+t.$dt.attr("data-offset-index"),this.currentOffsetXY=t.xy,this.baseOffsetMin=this.baseOffsetArea.left,this.baseOffsetMax=this.baseOffsetArea.left+this.baseOffsetWidth,this.isRemoveOffset=!1,t.altKey?this.isRemoveOffset=!0:(this.selectItem(this.currentOffsetIndex,!0),this.refreshOffsetInput())}},{key:"moveOffset",value:function(t,e){if(!this.isRemoveOffset){var n=this.currentOffsetXY.x+t;n<this.baseOffsetMin&&(n=this.baseOffsetMin),n>this.baseOffsetMax&&(n=this.baseOffsetMax);var r=$.percent((n-this.baseOffsetMin)/this.baseOffsetWidth*100).round(100);this.state.offsets[this.currentOffsetIndex].offset.set(r.value),this.currentOffset.css("left",r),this.refreshOffsetInput(),this.modifyOffset()}}},{key:"removeOffset",value:function(t){this.state.offsets.splice(t,1),this.selectItem(0),this.refresh(),this.modifyOffset()}},{key:"endOffset",value:function(t,e){var n=this;this.isRemoveOffset?setTimeout((function(){n.currentOffset=null,n.removeOffset(n.currentOffsetIndex)}),10):setTimeout((function(){n.currentOffset=null,n.refreshOffsetInput(),n.refreshOffsetProperty(),n.modifyOffset()}),10)}},{key:"refresh",value:function(){this.load(),this.refreshOffsetProperty()}},{key:Wo("showOffsetEditor"),value:function(t){this.setState(t),this.selectItem(),this.refresh()}},{key:Wo("changeCSSPropertyEditor"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.state.offsets[this.selectedIndex];e&&(e.properties=wV(t)),this.modifyOffset()}}])&&OV(n.prototype,r),o&&OV(n,o),e}(Uo);function $V(t){return($V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function EV(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function TV(t,e){return!e||"object"!==$V(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function RV(t){return(RV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function DV(t,e){return(DV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var VV=function(t){function e(){return _V(this,e),TV(this,RV(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DV(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{RangeEditor:kC}}},{key:"parseValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"50%",e=new $("","closest-side"),n="";if((t=t||"50%").includes("at")){var r=t.split("at").map((function(t){return t.trim()})),o=EV(r,2);e=o[0],n=o[1]}else n=t.trim();var i=n.split(" "),a=EV(i,2),c=a[0],u=a[1];return Qt(u)&&(u=c),{radius:e,x:c=$.parse(c),y:u=$.parse(u)}}},{key:"initState",value:function(){return this.parseValue(this.props.value)}},{key:"template",value:function(){return"\n        <div class='clip-path-editor circle-editor'>\n            <RangeEditor \n                ref='$range' \n                label='Radius' \n                key='radius' \n                value='".concat(this.state.radius,"' \n                min=\"0\" \n                max=\"100\" \n                step=\"0.1\" \n                units=\"%,closest-side,farthest-side\" \n                onchange='changeRangeEditor' \n            />\n            <div class='drag-area' ref='$area'>\n                <div class='drag-pointer' ref='$pointer' style='left: ").concat(this.state.x,";top: ").concat(this.state.y,";'></div>\n                <div class='clip-area circle' ref='$clipArea'></div>\n            </div>\n        </div>\n    ")}},{key:Hr("$clipArea"),value:function(){return{style:{"clip-path":"".concat(this.props.key,"(").concat(this.toClipPathValueString(),")")}}}},{key:wr("$area")+Ar()+Ir(),value:function(t){this.areaRect=this.refs.$area.rect(),this.startXY=t.xy}},{key:"move",value:function(t,e){var n=this.startXY.x+t,r=this.startXY.y+e;this.areaRect.x>n?n=this.areaRect.x:this.areaRect.right<n&&(n=this.areaRect.right),this.areaRect.y>r?r=this.areaRect.y:this.areaRect.bottom<r&&(r=this.areaRect.bottom);var o=$.percent((n-this.areaRect.x)/this.areaRect.width*100).round(1),i=$.percent((r-this.areaRect.y)/this.areaRect.height*100).round(1);this.refs.$pointer.css({left:o,top:i}),this.updateData({x:o,y:i}),this.bindData("$clipArea")}},{key:"toClipPathValueString",value:function(){var t=this.state,e=t.x,n=t.y,r=t.radius,o="".concat(e," ").concat(n),i=r+"";return i.includes("closest-side")?i="closest-side":i.includes("farthest-side")&&(i="farthest-side"),r?"".concat(i," at ").concat(o):"".concat(o)}},{key:"updateData",value:function(t){this.setState(t),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}},{key:Wo("changeRangeEditor"),value:function(t,e){if("radius"===t){var n=e,r=e.unit+"";r.includes("closest-side")?n=new $("","closest-side"):r.includes("farthest-side")&&(n=new $("","farthest-side")),this.updateData({radius:n})}}}])&&CV(n.prototype,r),o&&CV(n,o),e}(Uo);function AV(t){return(AV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function IV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function MV(t,e){return!e||"object"!==AV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zV(t){return(zV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function BV(t,e){return(BV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var FV=function(t){function e(){return IV(this,e),MV(this,zV(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&BV(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){var t=this.props.value;return{label:this.props.label||"",value:t}}},{key:"template",value:function(){var t=this.state.label;return"\n            <div class='text-editor ".concat(t?"has-label":"","'>\n                ").concat(t?"<label>".concat(t,"</label>"):"","\n                <input type='text' ref='$text' />\n            </div>\n        ")}},{key:"getValue",value:function(){return this.refs.$options.value}},{key:Hr("$text"),value:function(){return{value:this.state.value}}},{key:pr("$text"),value:function(){this.updateData({value:this.refs.$text.value})}},{key:"updateData",value:function(t){this.setState(t),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}])&&LV(n.prototype,r),o&&LV(n,o),e}(Uo);function GV(t){return(GV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function HV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YV(t,e){return!e||"object"!==GV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function NV(t){return(NV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function KV(t,e){return(KV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var WV=function(t){function e(){return HV(this,e),YV(this,NV(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KV(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{values:this.props.values.split(" ").map((function(t){return+t})),column:this.props.column}}},{key:"template",value:function(){return"<div class='small-editor input-array-editor' ref='$body' ></div>"}},{key:Hr("$body"),value:function(){return{cssText:"\n                display: grid;\n                grid-template-columns: repeat(".concat(this.state.column,", 1fr);\n                grid-column-gap: 2px;\n                grid-row-gap: 2px;\n            ")}}},{key:zr("$body"),value:function(){return this.state.values.map((function(t,e){return'\n                <div class=\'number-editor\'>\n                    <input type="number" value="'.concat(t,'" step="0.01" data-index="').concat(e,'" />\n                </div>\n            ')}))}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.values,this.props.params)}},{key:pr("$body input"),value:function(t){var e=t.$dt,n=+e.attr("data-index"),r=+e.value;this.state.values[n]=r,this.updateData()}}])&&XV(n.prototype,r),o&&XV(n,o),e}(Uo);function UV(t){return(UV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZV(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||QV(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function qV(t,e){return tA(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||JV()}function JV(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function QV(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function tA(t){if(Array.isArray(t))return t}function eA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nA(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eA(Object(n),!0).forEach((function(e){rA(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aA(t,e){return!e||"object"!==UV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cA(t){return(cA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uA(t,e){return(uA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var sA=function(t){function e(){return oA(this,e),aA(this,cA(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uA(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{TextEditor:FV,NumberRangeEditor:YR,SelectEditor:yC}}},{key:"initState",value:function(){return nA({label:this.props.label||""},this.parse(this.props.value))}},{key:"parse",value:function(t){var e,n=t.split(" "),r=tA(e=n)||QV(e)||JV(),o=r[0],i=r.slice(1);if("linear"===o)var a=qV(i,2),c=a[0],u=a[1];else if("gamma"===o)var s=qV(i,3),l=s[0],f=s[1],p=s[2];return{type:o,values:i,slop:c,intercept:u,amplitude:l,exponent:f,offset:p}}},{key:"template",value:function(){return"<div class='small-editor func-filter' ref='$body'></div>"}},{key:zr("$body"),value:function(){var t=this,e=this.state,n=e.type,r=e.label,o=r?"has-label":"";return'\n        <SelectEditor label="'.concat(r,'" key="type" value="').concat(this.state.type,'" options="identity,table,discrete,linear,gamma" onchange="changeType" />\n        <div class=\'func-filter-editor ').concat(o,"' ref='$container' data-selected-type='").concat(n,"'>\n            ").concat(r?"<label></label>":"","\n            <div data-type='identity'>\n            </div>\n            <div data-type='table'>\n                <TextEditor label='tableValues' ref='$values' key='values' value=\"").concat(this.state.values.join(" "),'" onchange="changeValues" />\n            </div>\n            <div data-type=\'linear\'>\n                ').concat(["slop","intercept"].map((function(e){return"\n                        <div>\n                            <NumberRangeEditor label='".concat(e,"' ref='$").concat(e,"' key='").concat(e,"' value=\"").concat(t.state[e],'" onchange="changeLinear" />\n                        </div>                    \n                    ')})).join(""),"\n            </div>\n            <div data-type='gamma'>\n                ").concat(["amplitude","exponent","offset"].map((function(e){return"\n                        <div>\n                            <NumberRangeEditor label='".concat(e,"' ref='$").concat(e,"' key='").concat(e,"' value=\"").concat(t.state[e],'" onchange="changeGamma" />\n                        </div>                    \n                    ')})).join(""),"            \n            </div>                                                \n        </div>\n    ")}},{key:Wo("changeType"),value:function(t,e){this.updateData({type:e}),this.refresh()}},{key:"getValue",value:function(){switch(this.state.type){case"table":case"discrete":return[this.state.type].concat(ZV(this.state.values)).join(" ");case"linear":return[this.state.type,this.state.slop,this.state.intercept].join(" ");case"gamma":return[this.state.type,this.state.amplitude,this.state.exponent,this.state.offset].join(" ")}return"identity"}},{key:"setValue",value:function(t){this.setState(nA({},this.parse(t)))}},{key:Wo("changeValues"),value:function(t,e){this.updateData(rA({},t,e.split(" ")))}},{key:Wo("changeLinear"),value:function(t,e){this.updateData(rA({},t,e))}},{key:Wo("changeGamma"),value:function(t,e){this.updateData(rA({},t,e))}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}}])&&iA(n.prototype,r),o&&iA(n,o),e}(Uo),lA={red:"\n1   0   0   0   0\n0   0   0   0   0\n0   0   0   0   0\n0   0   0   1   0\n",green:"\n0   0   0   0   0\n0   1   0   0   0\n0   0   0   0   0\n0   0   0   1   0 \n",blue:"\n0   0   0   0   0\n0   0   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n",yellow:"\n1   0   0   0   0\n0   1   0   0   0\n0   0   0   0   0\n0   0   0   1   0 \n",magenta:"\n1   0   0   0   0\n0   0   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n",cyan:"\n0   0   0   0   0\n0   1   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n",alpha:"\n1   0   0   0   0\n0   1   0   0   0\n0   0   1   0   0\n0   0   0   .5  0 \n",BlueMagenta2:"\n1   0   0   0   0\n0   0   0   0   0\n0   0   1  .5   0\n0   0   0   1   0 \n",BlueShadowMagentHightlight:"\n1   0   0   0   0\n0   0   0   0   0\n0   0   1   1   0\n0   0   0   1   0 \n",darken:"\n.5   0   0   0   0\n0  .5   0   0   0\n0   0  .5   0   0\n0   0   0   1   0 \n",ElimBlue:"\n1   0   0   0   0\n0   1   0   0   0\n0   0   1   0   0\n0   0   -2   1   0 \n",GrayOnDark:"\n0   0   1   0   0\n0   0   1   0   0\n0   0   1   0   0\n0   0   0   1   0  \n",GrayOnLight:"\n1   0   0   0   0\n1   0   0   0   0\n1   0   0   0   0\n0   0   0   1   0 \n",GrayOnMid:"\n0   1   0   0   0\n0   1   0   0   0\n0   1   0   0   0\n0   0   0   1   0 \n",HardGreen:"\n1   0   0   0   0\n0   1   0   1   0\n0   0   1   0   0\n0   0   0   1   0 \n",HardYellow:"\n1   0   0   1   0\n0   1   0   1   0\n0   0   1   0   0\n0   0   0   1   0 \n",IdenticalRedOverlay:"\n1   0   0   0   0\n0   0   0   0   0\n0   0   0   0   0\n0   0   0   1   0 \n",lighten:"\n1.5   0   0   0   0\n0   1.5   0   0   0\n0   0   1.5   0   0\n0   0   0   1   0 \n",lime:"\n1   0   0   0   0\n0   2   0   0   0\n0   0   0  .5   0\n0   0   0   1   0 \n",NoGreenMagenta:"\n1   1   0   0   0\n0   0   0   0   0\n0   1   1   0   0\n0   0   0   1   0 \n",NoGreenRed:"\n1   1   0   0   0\n0   0   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n",peachy:"\n1   0   0   0   0\n0  .5   0   0   0\n0   0   0  .5   0\n0   0   0   1   0 \n",RedOverlay:"\n1   0   0   0   0\n0   0   0   0   0\n0   0   1  -1   0\n0   0   0   1   0 \n",YesGreenColorizedMagenta:"\n1   1   0   0   0\n0   1   0   0   0\n0   1   1   0   0\n0   0   0   1   0 \n"};function fA(t){return(fA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hA(t,e){return!e||"object"!==fA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dA(t){return(dA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vA(t,e){return(vA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bA=Object.keys(lA).map((function(t){return{title:t,values:lA[t]}})),mA=function(t){function e(){return pA(this,e),hA(this,dA(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vA(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{values:lt(this.props.values)}}},{key:"template",value:function(){return"\n            <div class='small-editor color-matrix-editor' >\n                <div ref='$body'></div>\n                <div class='title'> Mix Color Template </div>\n                <div class='color-matrix-template' ref='$sample'></div>\n            </div>\n        "}},{key:Hr("$body"),value:function(){return{cssText:"\n                display: grid;\n                grid-template-columns: repeat(".concat(6,", 1fr);\n                grid-column-gap: 2px;\n                grid-row-gap: 2px;\n                text-align: left; \n            ")}}},{key:zr("$sample"),value:function(){return bA.map((function(t,e){return"<div class='sample-item' title='".concat(t.title,"' data-index=\"").concat(e,'">').concat(t.title,"</div>")}))}},{key:er("$sample .sample-item"),value:function(t){var e=+t.$dt.attr("data-index"),n=bA[e];this.updateData({values:lt(n.values)}),this.load("$body")}},{key:zr("$body"),value:function(){var t=this.state.values,e=["R","G","B","A"];return"\n            <div></div>\n            <div>R</div>\n            <div>G</div>\n            <div>B</div>\n            <div>A</div>\n            <div>M</div>\n        "+t.map((function(t,n){var r="";return n%5==0&&(r="<div>".concat(e[Math.floor(n/5)],"</div>")),"\n                ".concat(r,'\n                <div class=\'number-editor\'>\n                    <input type="number" value="').concat(t,'" step="0.01" data-index="').concat(n,'" />\n                </div>\n            ')}))}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.values,this.props.params)}},{key:pr("$body input"),value:function(t){var e=t.$dt,n=+e.attr("data-index"),r=+e.value;this.state.values[n]=r,this.updateData()}}])&&yA(n.prototype,r),o&&yA(n,o),e}(Uo),gA={dancingStroke:[{type:"SourceAlpha",id:"strokeSource",bound:{x:100,y:100},connected:[{id:"morphology"}]},{type:"Morphology",id:"morphology",operator:"dilate",radius:"3 3",bound:{x:100,y:200},in:[{id:"strokeSource"}],connected:[{id:"composite"}]},{type:"Flood",id:"flood",bound:{x:100,y:200},color:"#30597E",opacity:1,connected:[{id:"composite"}]},{type:"Composite",id:"composite",bound:{x:400,y:150},in:[{id:"flood"},{id:"morphology"}],operator:"in",connected:[{id:"composite2"}]},{type:"SourceAlpha",id:"strokeSourceAlpha2",bound:{x:400,y:200},connected:[{id:"composite2"}]},{type:"Composite",id:"composite2",bound:{x:400,y:150},in:[{id:"composite"},{id:"strokeSourceAlpha2"}],operator:"out",connected:[{id:"displacementMap"}]},{type:"Turbulence",id:"turbulence",filterType:"fractalNoise",baseFrequency:"0.01 0.02",numOctaves:1,seed:0,stitchTiles:"stitch",bound:{x:400,y:200},connected:[{id:"displacementMap"}]},{type:"DisplacementMap",id:"displacementMap",scale:17,xChannelSelector:"A",yChannelSelector:"A",bound:{x:400,y:200},in:[{id:"composite2"},{id:"turbulence"}],connected:[{id:"merge"}]},{type:"SourceGraphic",id:"strokeSourceGraphic",bound:{x:400,y:200},connected:[{id:"merge"}]},{type:"Merge",id:"merge",bound:{x:500,y:150},in:[{id:"strokeSourceGraphic"},{id:"displacementMap"}]}],stroke:[{type:"SourceAlpha",id:"strokeSource",bound:{x:100,y:100},connected:[{id:"morphology"}]},{type:"Morphology",id:"morphology",operator:"dilate",radius:"3 3",bound:{x:100,y:200},in:[{id:"strokeSource"}],connected:[{id:"composite"}]},{type:"Flood",id:"flood",bound:{x:100,y:200},color:"#30597E",opacity:1,connected:[{id:"composite"}]},{type:"Composite",id:"composite",bound:{x:400,y:150},in:[{id:"flood"},{id:"morphology"}],operator:"in",connected:[{id:"merge"}]},{type:"SourceGraphic",id:"strokeSourceGraphic",bound:{x:400,y:200},connected:[{id:"merge"}]},{type:"Merge",id:"merge",bound:{x:500,y:150},in:[{id:"composite"},{id:"strokeSourceGraphic"}]}],grayscale:[{type:"Saturate",values:"0"}],shadow:[{type:"SourceAlpha",id:"shadowSource",bound:{x:100,y:100},connected:[{id:"offset"}]},{type:"Offset",id:"offset",bound:{x:200,y:100},dx:10,dy:10,in:[{id:"shadowSource"}],connected:[{id:"blur"}]},{type:"GaussianBlur",id:"blur",bound:{x:300,y:100},stdDeviationX:5,stdDeviationY:5,in:[{id:"offset"}],connected:[{id:"composite"}]},{type:"Flood",id:"flood",bound:{x:100,y:200},color:"black",opacity:.7,connected:[{id:"composite"}]},{type:"Composite",id:"composite",bound:{x:400,y:150},in:[{id:"flood"},{id:"blur"}],operator:"in",connected:[{id:"merge"}]},{type:"SourceAlpha",id:"shadowSource2",bound:{x:400,y:200},connected:[{id:"merge"}]},{type:"Merge",id:"merge",bound:{x:500,y:150},in:[{id:"composite"},{id:"shadowSource2"}]}],innerShadow:[{type:"Flood",id:"flood",bound:{x:100,y:200},color:"black",opacity:1,connected:[{id:"composite1"}]},{type:"SourceAlpha",id:"shadowSource",bound:{x:100,y:100},connected:[{id:"composite1"}]},{type:"Composite",id:"composite1",bound:{x:200,y:150},in:[{id:"flood"},{id:"shadowSource"}],operator:"out",connected:[{id:"offset"}]},{type:"Offset",id:"offset",bound:{x:300,y:150},dx:4,dy:4,in:[{id:"composite1"}],connected:[{id:"blur"}]},{type:"GaussianBlur",id:"blur",bound:{x:400,y:150},stdDeviationX:4,stdDeviationY:4,edge:"none",in:[{id:"offset"}],connected:[{id:"composite2"}]},{type:"SourceAlpha",id:"shadowSource2",bound:{x:400,y:250},connected:[{id:"composite2"}]},{type:"Composite",id:"composite2",bound:{x:500,y:150},in:[{id:"blur"},{id:"shadowSource2"}],operator:"out",connected:[{id:"merge"}]},{type:"SourceGraphic",id:"shadowSource3",bound:{x:500,y:250},connected:[{id:"merge"}]},{type:"Merge",id:"merge",bound:{x:600,y:150},in:[{id:"composite2"},{id:"shadowSource3"}]}]};function wA(t){return(wA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kA(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function OA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SA(t,e){return!e||"object"!==wA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function PA(t){return(PA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xA(t,e){return(xA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $A=function(t){function e(){return OA(this,e),SA(this,PA(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xA(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{value:this.props.value}}},{key:"template",value:function(){return"\n            <div class='image-select-editor' ref='$body'></div>\n        "}},{key:"getValue",value:function(){return this.state.value}},{key:"setValue",value:function(t){this.setState({value:t})}},{key:zr("$body"),value:function(){return"\n            <div class='preview-container'>\n                <img src=\"".concat(this.state.value,"\" />\n                <input type='file' ref='$file' accept=\"image/*\" />\n            </div>\n            <div class='select-container'>\n                <button type=\"button\" ref='$select'>Select a image</button>\n            <div>\n        ")}},{key:fr("$file"),value:function(t){var e=this,n=kA(t.target.files);n.length&&this.emit("updateImageAssetItem",n[0],(function(t){e.trigger("changeImageSelectEditor",t)}))}},{key:er("$select"),value:function(){this.emit("showImageSelectPopup",{context:this,changeEvent:"changeImageSelectEditor",value:this.state.value})}},{key:Wo("changeImageSelectEditor"),value:function(t){this.updateData({value:t}),this.refresh()}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}])&&jA(n.prototype,r),o&&jA(n,o),e}(Uo);function EA(t){return(EA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function CA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function DA(t,e){return!e||"object"!==EA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function VA(t,e,n){return(VA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=AA(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function AA(t){return(AA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function IA(t,e){return(IA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var LA=function(t){function e(){return TA(this,e),DA(this,AA(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IA(t,e)}(e,t),n=e,(r=[{key:"getBlendList",value:function(){var t=this;return Ex.split(",").map((function(e){return"".concat(e,":").concat(t.$i18n("blend.".concat(e)))}))}},{key:"initState",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_A(Object(n),!0).forEach((function(e){CA(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},VA(AA(e.prototype),"initState",this).call(this),{options:this.getBlendList()})}}])&&RA(n.prototype,r),o&&RA(n,o),e}(yC);function MA(t){return(MA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zA(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function BA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function FA(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?BA(Object(n),!0).forEach((function(e){GA(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function GA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YA(t,e){return!e||"object"!==MA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function NA(t){return(NA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function KA(t,e){return(KA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var WA=[{label:"GRAPHIC REFERENCES",items:[{label:"Source Graphic",value:"SourceGraphic"},{label:"Source Alpha",value:"SourceAlpha"},{label:"Background Image",value:"BackgroundImage"},{label:"Background Alpha",value:"BackgroundAlpha"},{label:"Fill Paint",value:"FillPaint"},{label:"Stroke Paint",value:"StrokePaint"}]},{label:"SOURCES",items:[{label:"Flood",value:"Flood"},{label:"Turbulence",value:"Turbulence"},{label:"Image",value:"Image"}]},{label:"MODIFIER",items:[{label:"Color Matrix",value:"ColorMatrix"},{label:"Saturate",value:"Saturate"},{label:"HueRotate",value:"HueRotate"},{label:"LuminanceToAlpha",value:"LuminanceAlpha"},{label:"Drop Shadow",value:"DropShadow"},{label:"Morphology",value:"Morphology"},{label:"Convolve Matrix",value:"ConvolveMatrix"},{label:"Offset",value:"Offset"},{label:"Gaussian Blur",value:"GaussianBlur"},{label:"Tile",value:"Tile"}]},{label:"LIGHTING",items:[{label:"Specular Lighting",value:"SpecularLighting"},{label:"Diffuse Lighting",value:"DiffuseLighting"},{label:"Point Light",value:"PointLight"},{label:"Spot Light",value:"SpotLight"},{label:"Distant Light",value:"DistantLight"}]},{label:"COMBINERS",items:[{label:"Blend",value:"Blend"},{label:"Composite",value:"Composite"},{label:"Merge",value:"Merge"},{label:"DisplacementMap",value:"DisplacementMap"}]}],UA=[{label:"Template",items:[{label:"Grayscale",value:"grayscale"},{label:"Shadow",value:"shadow"},{label:"Inner Shadow",value:"innerShadow"},{label:"Stroke",value:"stroke"},{label:"Dancing Stroke",value:"dancingStroke"}]}];function ZA(t){switch(t){case"SpecularLighting":return jv.specular;case"DiffuseLighting":return jv.diffuse;case"SourceGraphic":case"SourceAlpha":return jv.image;case"BackgroundImage":case"BackgroundAlpha":return jv.outline_image;case"Flood":return jv.palette;case"Image":return jv.landscape;case"GaussianBlur":return jv.blur;case"ColorMatrix":return jv.blur_linear;case"Turbulence":return jv.waves;case"Saturate":return jv.vintage;case"HueRotate":return jv.looks;case"LuminanceAlpha":return jv.opacity;case"DropShadow":return jv.shadow;case"Morphology":return jv.broken_image;case"ConvolveMatrix":return jv.camera_roll;case"Offset":return jv.transform;case"Tile":return jv.view_comfy;case"Blend":return jv.gradient;case"Composite":return jv.merge;case"Merge":return jv.settings_input_component;case"DisplacementMap":return jv.texture}return""}function qA(t){switch(t){case"SourceGraphic":case"SourceAlpha":case"BackgroundImage":case"BackgroundAlpha":case"FillPaint":case"StrokePaint":return"graphic";case"Flood":case"Turbulence":case"Image":return"source";case"GaussianBlur":case"ColorMatrix":case"Saturate":case"HueRotate":case"LuminanceAlpha":case"DropShadow":case"Morphology":case"ConvolveMatrix":case"Offset":case"Tile":return"modifier";case"SpecularLighting":case"DiffuseLighting":case"SpotLight":case"PointLight":case"DistantLight":return"lighting";case"Blend":case"Composite":case"Merge":case"DisplacementMap":return"combiner"}return""}var JA=[45],QA=[20],tI={1:[-7],2:[-7],3:[-7],4:[-7],5:[-7]},eI={1:[0],2:[-7,7],3:[-14,0,14],4:[-21,-7,7,21],5:[-28,-14,0,14,28]};Object.keys(eI).forEach((function(t){eI[t]=eI[t].map((function(t){return t+20}))}));var nI=function(t){function e(){return HA(this,e),YA(this,NA(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KA(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{BlendSelectEditor:LA,ColorMatrixEditor:mA,InputArrayEditor:WV,NumberRangeEditor:YR,RangeEditor:kC,ColorViewEditor:XC,SelectEditor:yC,TextEditor:FV,FuncFilterEditor:sA,ImageSelectEditor:$A}}},{key:"makeFilterSelect",value:function(){var t=this;return("\n  \n    <div class='filter-item-list' ref=\"$filterSelect\">\n  \n      ".concat(we(WA,(function(e){return"\n          <div class='group' label=\"".concat(t.$i18n(e.label),'">\n            ').concat(we(e.items,(function(e){return'\n                <div class=\'item\' draggable="true" value="'.concat(e.value,"\">\n                  <span class='icon'>").concat(ZA(e.value),"</span>\n                  ").concat(t.$i18n(e.label),"\n                </div>\n                ")})),"\n          </div>\n        ")})),"\n    </div>\n    "))}},{key:"makeFilterTemplateSelect",value:function(){var t=this;return("\n  \n    <div class='filter-item-list' ref=\"$filterTemplateSelect\">\n  \n      ".concat(we(UA,(function(e){return"\n          <div class='group' label=\"".concat(t.$i18n(e.label),'">\n            ').concat(we(e.items,(function(e){return' <div class=\'item\' draggable="true" value="'.concat(e.value,'">').concat(t.$i18n(e.label),"</div>")})),"\n          </div>\n        ")})),"\n    </div>\n    "))}},{key:"initState",value:function(){return{filters:this.parseFilter(this.props.value||[]),selectedTabIndex:1,selectedIndex:-1,selectedFilter:null}}},{key:"template",value:function(){return'\n      <div class=\'svg-filter-editor filter-list\'>\n        <div class=\'left\'>\n          <div class="tab number-tab" ref="$tab">\n            <div class="tab-header full" ref="$header">\n              <div class="tab-item selected" data-value="1" title=\'Item\'>\n                <label class=\'icon\'>'.concat(this.$i18n("svg.filter.editor.tab.filter"),'</label>\n              </div>\n              <div class="tab-item" data-value="2" title="Preset">\n                <label class=\'icon\'>').concat(this.$i18n("svg.filter.editor.tab.preset"),'</label>\n              </div>\n              <div class="tab-item" data-value="3" title="Asset">\n                <label class=\'icon\'>').concat(this.$i18n("svg.filter.editor.tab.asset"),'</label>\n              </div>\n            </div>\n            <div class="tab-body">\n              <div class="tab-content selected" data-value="1">\n                ').concat(this.makeFilterSelect(),'\n              </div>\n              <div class="tab-content" data-value="2">\n                ').concat(this.makeFilterTemplateSelect(),"\n              </div>\n                     \n            </div>\n          </div>\n        </div>\n        <div  class='center'>\n          <div class='graph'>\n            <div class='drag-line-panel' ref='$dragLinePanel'></div>          \n            <div class='connected-line-panel' ref='$connectedLinePanel'></div>\n            <div class='graph-panel' ref='$graphPanel' droppable=\"true\"></div>\n          </div>\n        </div>\n        <div class='right'>\n          <div class='filter-list' ref='$filterList'></div>\n        </div>\n      </div>")}},{key:er("$header .tab-item:not(.empty-item)"),value:function(t){var e=+t.$dt.attr("data-value");this.state.selectedTabIndex!==e&&(this.$el.$$('[data-value="'.concat(this.state.selectedTabIndex,'"]')).forEach((function(t){return t.removeClass("selected")})),this.$el.$$('[data-value="'.concat(e,'"]')).forEach((function(t){return t.addClass("selected")})),this.setState({selectedTabIndex:e},!1))}},{key:ar("$filterSelect .item"),value:function(t){var e=t.$dt.attr("value");t.dataTransfer.setData("filter/type",e)}},{key:ur("$connectedLinePanel")+Lr,value:function(){}},{key:cr("$connectedLinePanel")+Lr,value:function(t){var e={x:t.offsetX,y:t.offsetY},n=t.dataTransfer.getData("filter/type");this.makeFilterNode(n,{bound:e})}},{key:"makeFilterNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state.filters.push(this.makeFilter(t,e)),this.state.selectedIndex=this.state.filters.length-1,this.state.selectedFilter=this.state.filters[this.state.selectedIndex],this.refresh(),this.modifyFilter()}},{key:"applyTemplate",value:function(t){var e=gA[t];e&&(this.setState({selectedIndex:-1,selectedFilter:null,filters:this.parseFilter(e)},!1),this.refresh(),this.modifyFilter())}},{key:"getSpec",value:function(t){return nP[t]}},{key:"makeFilterEditorTemplate",value:function(t,e,n){var r="".concat(e.type).concat(n).concat(this.state.selectedIndex).concat(Date.now());if("color-matrix"===t.inputType)return"\n        <div>\n          <ColorMatrixEditor \n            ref='$colorMatrix".concat(r,"' \n            label=\"").concat(t.title,'"\n            key="').concat(n,"\"       \n            column='").concat(t.column,"' \n            values='").concat(e[n].join(" "),'\' \n            onchange="changeRangeEditor"\n          />\n        </div>\n        ');if("input-array"===t.inputType)return"\n        <div>\n          <InputArrayEditor \n            ref='$inputArray".concat(r,"' \n            label=\"").concat(t.title,'"\n            key="').concat(n,'"       \n            column-label="R,G,B,A,M",\n            row-label="R,G,B,A",\n            column=\'').concat(t.column,"' \n            values='").concat(e[n].join(" "),'\' \n            onchange="changeRangeEditor"\n          />\n        </div>\n        ');if("blend"===t.inputType)return"\n        <div>\n          <BlendSelectEditor \n            ref='$blend".concat(r,"' \n            label=\"").concat(t.title,'"\n            key="').concat(n,"\"\n            value='").concat(e[n].toString(),'\' \n            onchange="changeRangeEditor"             \n          />\n        </div>\n        ');if("select"===t.inputType){var o=t.options;return ae(t.options)&&(o=t.options(this.state.filters)),"\n          <div>\n            <SelectEditor \n              ref='$select".concat(r,"' \n              label=\"").concat(t.title,"\"\n              options='").concat(o,"' \n              key=\"").concat(n,"\"\n              value='").concat(e[n].toString(),'\' \n              onchange="changeRangeEditor"             \n            />\n          </div>\n          ')}return"text"===t.inputType?"\n        <div>\n          <TextEditor \n            ref='$text".concat(r,"' \n            label=\"").concat(t.title,'"\n            key="').concat(n,"\"\n            value='").concat(e[n].toString(),'\' \n            onchange="changeTextEditor"\n          />\n        </div>\n        '):"number-range"===t.inputType?" \n        <div>\n          <NumberRangeEditor \n            ref='$numberrange".concat(r,"' \n            label=\"").concat(t.title,"\" \n            layout='block'             \n            min=\"").concat(t.min,'"\n            max="').concat(t.max,'"\n            step="').concat(t.step,'"\n            key="').concat(n,'" \n            value="').concat(e[n].toString(),'" \n            onchange="changeRangeEditor" \n          />\n        </div>\n      '):"color"===t.inputType?"\n        <div>\n          <ColorViewEditor \n            ref='$colorview".concat(r,"' \n            label=\"").concat(t.title,'" \n            key="').concat(n,'"\n            value="').concat(e[n].toString(),'" \n            onchange="changeSVGFilterColorViewEditor" \n          />\n        </div>\n      '):"FuncFilter"===t.inputType?"\n        <div>\n          <FuncFilterEditor \n            ref='$funcFilter".concat(r,"' \n            label=\"").concat(t.title,'" \n            key="').concat(n,'"\n            value="').concat(e[n].toString(),'" \n            onchange="changeFuncFilterEditor" \n          />\n        </div>\n      '):"ImageSelectEditor"===t.inputType?"\n        <div>\n          <ImageSelectEditor \n            ref='$imageSelect".concat(r,"' \n            label=\"").concat(t.title,'" \n            key="').concat(n,'"\n            value="').concat(e[n].toString(),'" \n            onchange="changeRangeEditor" \n          />\n        </div>\n      '):"\n      <div>\n        <RangeEditor \n          ref='$range".concat(r,"' \n          layout='block' \n          calc='false' \n          label=\"").concat(t.title,'" \n          min="').concat(t.min,'"\n          max="').concat(t.max,'"\n          step="').concat(t.step,'"\n          key="').concat(n,'" \n          value="').concat(e[n].toString(),'" \n          units="').concat(t.units.join(","),'" \n          onchange="changeRangeEditor" \n        />\n      </div>\n    ')}},{key:"makeOneFilterTemplate",value:function(t,e){var n=this;return('\n    <div class="filter-item">\n      <div class="title">\n        <label>'.concat(e.type,'</label>\n        <div class="filter-menu">\n          <button type="button" class="del">').concat(jv.remove,'</button>\n        </div>\n      </div>\n      <div class="filter-ui">\n        ').concat(Zt(t,(function(t,r){return n.makeFilterEditorTemplate(r,e,t)})),"\n\n      </div>\n    </div>\n  "))}},{key:"makeFilterTemplate",value:function(t){return this.makeOneFilterTemplate(this.getSpec(t.type),t)}},{key:zr("$filterList"),value:function(){return this.state.selectedFilter&&!1===this.state.selectedFilter.isSource()?this.makeFilterTemplate(this.state.selectedFilter):""}},{key:"modifyFilter",value:function(){var t=this;this.state.filters.forEach((function(e){e.isLight()&&e.connected.length&&e.connected.forEach((function(n){t.state.filters.filter((function(t){return t.id===n.id})).forEach((function(t){t.reset({lightInfo:e.toLightString()})}))}))})),this.parent.trigger(this.props.onchange,this.props.key,this.state.filters)}},{key:"parseFilter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){return tP.parse(t)}))}},{key:"makeFilter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return tP.parse(FA({},e,{type:t}))}},{key:er("$filterSelect .item[value]"),value:function(t){var e=t.$dt.attr("value");this.makeFilterNode(e)}},{key:er("$filterTemplateSelect .item[value]"),value:function(t){var e=t.$dt.attr("value");this.applyTemplate(e)}},{key:er("$filterList .filter-menu .del"),value:function(t){this.removeFilter(this.state.selectedFilter.id)}},{key:zr("$graphPanel"),value:function(){return this.makeGraphPanel()}},{key:"selectFilter",value:function(t){this.setState({selectedIndex:t,selectedFilter:this.state.filters[t]},!1),this.load("$filterList")}},{key:wr("$graphPanel .filter-node")+Ar()+Ir(),value:function(t){this.$target=t.$dt,this.$point=null,this.pointType="object",this.pointIndex=0;var e=this.refs.$graphPanel.rect();this.rect=e;var n=+this.$target.attr("data-index");this.selectFilter(n),this.$target.onlyOneClass("selected");var r=Nn.create(t.target);if(r.hasClass("out"))this.$point=r,this.pointType="out",this.pointIndex=0;else if(r.hasClass("in"))this.$point=r,this.pointType="in",this.pointIndex=+r.attr("data-index");else{var o=this.state.selectedFilter;this.startXY=ue(o.bound)}if("in"===this.pointType||"out"===this.pointType){var i=r.rect(),a=i.x-e.x,c=i.y-e.y,u=a+i.width/2,s=c+i.height/2;this.startXY={x:u,y:s}}this.startXY.dx=0,this.startXY.dy=0,this.load("$dragLinePanel")}},{key:zr("$dragLinePanel"),value:function(){if("in"===this.pointType||"out"===this.pointType){var t=this.startXY,e=t.x,n=t.y,r=t.dx,o=t.dy;return("\n      <svg>\n        <path ".concat(be({class:"drag-line",fill:"transparent","stroke-width":1,d:"M".concat(e,",").concat(n,"L").concat(e+r,",").concat(n+o,"Z")})," />\n      </svg>\n      "))}return""}},{key:"makeConnectedPath",value:function(t){var e=new Gi,n=t[0],r=t[t.length-1];if(!n)return"";if(!r)return"";var o=Math.abs(n.x-r.x)/2;return e.M(n).C({x:n.x+o,y:n.y},{x:r.x-o,y:r.y},r),e.d}},{key:"createPath",value:function(t,e){if(e.path)return e.path;var n=t.bound.x+JA[0],r=t.bound.y+QA[0],o=this.state.filters.map((function(t,e){return{it:t,index:e}})).find((function(t){return!!t&&!!t.it&&t&&t.it.id===e.id})),i="".concat(o.it.getInCount()),a=o.it.in.map((function(t,e){return{it:t,index:e}})).find((function(e){return!!e&&!!e.it&&e.it.id===t.id}));if(!a)return[];var c=a.index;return[{x:n,y:r},{x:o.it.bound.x+tI[i][0],y:o.it.bound.y+eI[i][c]}]}},{key:zr("$connectedLinePanel"),value:function(){var t=this;return("\n      <svg>\n        ".concat(this.state.filters.map((function(e){return e.connected.map((function(n){var r=t.createPath(e,n),o=qA(e.type);return"\n              <path ".concat(be({class:"connected-line","data-source-type":o,d:t.makeConnectedPath(r)})," />\n\n              ").concat(r.length&&"\n                <circle ".concat(be({"data-source-type":o,"data-target-id":n.id,"data-source-id":e.id,class:"connected-remove-circle",cx:(r[0].x+r[1].x)/2,cy:(r[0].y+r[1].y)/2})," />\n              "),"\n              \n            ")})).join("")})).join(""),"\n      </svg>\n    "))}},{key:er("$connectedLinePanel .connected-remove-circle"),value:function(t){var e=zA(t.$dt.attrs("data-target-id","data-source-id"),2),n=e[0],r=e[1],o=this.state.filters;o.filter((function(t){return t.id===r})).forEach((function(t){t.connected=t.connected.filter((function(t){return t.id!=n}))})),o.filter((function(t){return t.id===n})).forEach((function(t){t.in=t.in.map((function(t){return t&&t.id==r?null:t}))})),this.refresh(),this.modifyFilter()}},{key:"getCenterXY",value:function(t){var e=t.rect(),n=e.x-this.rect.x,r=e.y-this.rect.y;return{x:n+e.width/2,y:r+e.height/2}}},{key:"end",value:function(t,e){if("in"===this.pointType||"out"===this.pointType){this.startXY.dx=t,this.startXY.dy=e;var n=this.state.selectedFilter,r=this.$config.get("bodyEvent"),o=Nn.create(r.target),i=o.closest("filter-node");if("out"===this.pointType){if(o.hasClass("in")&&(c=this.state.filters[+i.attr("data-index")]))if(!c.hasLight()&&n.isLight());else{var a=+o.attr("data-index");c.in[a]||(c.setIn(a,n),n.setConnected(c))}}else if("in"===this.pointType){var c;o.hasClass("out")&&(c=this.state.filters[+i.attr("data-index")])&&(n.hasLight()&&!c.isLight()||n.in[this.pointIndex]||(n.setIn(this.pointIndex,c),c.setConnected(n)))}this.pointType=""}this.load("$dragLinePanel"),this.load("$connectedLinePanel"),this.modifyFilter()}},{key:"move",value:function(t,e){var n=this.state.selectedFilter;n&&(this.startXY.dx=t,this.startXY.dy=e,"in"===this.pointType?this.load("$dragLinePanel"):"out"===this.pointType?this.load("$dragLinePanel"):(n.reset({bound:{x:this.startXY.x+t,y:this.startXY.y+e}}),this.$target.css({left:$.px(n.bound.x),top:$.px(n.bound.y)}),this.load("$connectedLinePanel")))}},{key:"makeGraphPanel",value:function(){var t=this;return this.state.filters.map((function(e,n){return"\n        <div class='filter-node ".concat(me({selected:n===t.state.selectedIndex}),"' data-type=\"").concat(e.type,'" data-index="').concat(n,'" data-filter-id="').concat(e.id,"\" style='left: ").concat(e.bound.x,"px;top: ").concat(e.bound.y,"px;'>\n          <div class='label'>").concat(t.$i18n(e.type),"</div>\n          <div class='remove'>").concat(jv.close,"</div>\n          <div class='preview' data-source-type=\"").concat(qA(e.type),"\" data-filter-type='").concat(e.type,"'>").concat(ZA(e.type),"</div>\n          <div class='in-list'>\n            ").concat(fe(e.getInCount()).map((function(t,e){return"<div class='in' data-index='".concat(e,"'></div>")})).join(""),"\n          </div>\n          \n          <div class='out' data-index=\"0\">").concat(jv.chevron_right,"</div>\n          ").concat(e.hasLight()?"<div class='light'  data-index=\"0\"></div>":"","\n        </div>\n      ")}))}},{key:Wo("changeSVGFilterColorViewEditor"),value:function(t,e,n){this.trigger("changeRangeEditor",t,e,n)}},{key:Wo("changeFuncFilterEditor"),value:function(t,e){var n=this.state.selectedFilter;n&&n.reset(GA({},t,e)),this.modifyFilter()}},{key:Wo("changeRangeEditor"),value:function(t,e){var n=this.state.selectedFilter;n&&n.reset(GA({},t,e)),this.modifyFilter()}},{key:Wo("changeTextEditor"),value:function(t,e){var n=this.state.selectedFilter;n&&n.reset(GA({},t,e)),this.modifyFilter()}},{key:"removeFilter",value:function(t){var e=this.state.filters.filter((function(e){return e.id!=t}));e.forEach((function(e){e.connected=e.connected.filter((function(e){return e.id!=t})),e.in=e.in.filter((function(e){return e.id!=t}))})),this.state.selectedFilter.id===t&&(this.state.selectedFilter=null,this.state.selectedIndex=-1),this.setState({filters:e}),this.modifyFilter()}},{key:er("$graphPanel .filter-node .remove"),value:function(t){var e=+t.$dt.closest("filter-node").attr("data-index"),n=this.state.filters[e];this.removeFilter(n.id)}}])&&XA(n.prototype,r),o&&XA(n,o),e}(Uo);function rI(t){return(rI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aI(t,e){return!e||"object"!==rI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cI(t){return(cI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uI(t,e){return(uI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var sI=function(t){function e(){return oI(this,e),aI(this,cI(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uI(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{value:this.props.value}}},{key:"template",value:function(){return"<div class='select-editor list-view-editor' ref='$body'></div>"}},{key:Hr("$body"),value:function(){return{"data-column":this.props.column||1}}},{key:zr("$body"),value:function(){var t=this;return Object.keys(jv).map((function(e){var n=jv[e],r=e===t.state.value?"selected":"";return"<div class='list-view-item ".concat(r,"'  data-key='").concat(e,"'>").concat(n,"</div>")}))}},{key:"getValue",value:function(){return this.state.value}},{key:"setValue",value:function(t){this.state.value=t,this.refresh()}},{key:er("$body .list-view-item"),value:function(t){var e=t.$dt.attr("data-key");t.$dt.onlyOneClass("selected"),this.updateData({value:e})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}])&&iI(n.prototype,r),o&&iI(n,o),e}(Uo);function lI(t){return(lI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yI(t,e){return!e||"object"!==lI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hI(t){return(hI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dI(t,e){return(dI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vI=function(t){function e(){return fI(this,e),yI(this,hI(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dI(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{IconListViewEditor:sI}}},{key:"initState",value:function(){return{fit:!!this.props.value.fit,icon:this.props.value.icon||""}}},{key:"template",value:function(){var t=this.state.fit?'checked="checked"':"";return"\n      <div class='svg-clip-path-editor clippath-list'>\n          <div class='label' >\n              <label>".concat(this.props.title||"","</label>\n              <div class='tools'>\n              </div>\n          </div>\n          <div>\n            <label>Fit to size <input type='checkbox' ref='$fit' ").concat(t,"  /> </label>\n          </div>\n          <div>\n            <IconListViewEditor ref='$svg' key='svg' value=\"").concat(this.state.icon,'" column="6" onchange=\'changeClipPath\' />\n          </div>\n      </div>')}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyClipPath()}},{key:er("$fit"),value:function(){this.updateData({fit:this.refs.$fit.checked()})}},{key:Wo("changeClipPath"),value:function(t,e){this.updateData({icon:e})}},{key:"modifyClipPath",value:function(){var t=this.state,e=t.icon,n=t.fit;this.parent.trigger(this.props.onchange,this.props.key,{icon:e,fit:n})}}])&&pI(n.prototype,r),o&&pI(n,o),e}(Uo);function bI(t){return(bI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mI(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function gI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kI(t,e){return!e||"object"!==bI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function OI(t){return(OI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jI(t,e){return(jI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var SI=[{key:"top",title:"Top"},{key:"right",title:"Right"},{key:"bottom",title:"Bottom"},{key:"left",title:"Left"}],PI=function(t){function e(){return gI(this,e),kI(this,OI(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jI(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{RangeEditor:kC}}},{key:"initState",value:function(){var t=mI(Kd.parse(this.props.value),5),e=t[0],n=t[1],r=t[2],o=t[3],i=t[4];return{isAll:1===e,all:n.clone(),top:n.clone(),right:r.clone(),bottom:o.clone(),left:i.clone()}}},{key:"template",value:function(){return"<div class='direction-editor' ref='$body'></div>"}},{key:Wo("changeBorderRadius"),value:function(t,e){var n=this;"all"===t&&SI.forEach((function(t){n.state[t.key]=e.clone(),n.children["$".concat(t.key)].setValue(e.clone())})),this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:zr("$body"),value:function(){var t=this,e=this.state.isAll?"all":"partitial",n=this.state.all,r="all"===e?"display:none":"display:block";return'\n      <div class="property-item direction-item">\n        <div class="radius-selector" data-selected-value="'.concat(e,'" ref="$selector">\n          <button type="button" data-value="all">').concat(jv.border_all,'</button>\n          <button type="button" data-value="partitial">\n            ').concat(jv.border_inner,"\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <RangeEditor ref='$all' key='all' value=\"").concat(n,'" onchange=\'changeBorderRadius\' />\n        </div>\n      </div>\n      <div\n        class="property-item full direction-item"\n        ref="$partitialSetting"\n        style="').concat(r,'"\n      >\n        <div class="radius-setting-box">\n          ').concat(SI.map((function(e){var n=t.state[e.key];return("\n              <div>\n                  <RangeEditor ref='$".concat(e.key,"' label='").concat(e.title,"' key='").concat(e.key,"' value=\"").concat(n,"\" onchange='changeBorderRadius' />\n              </div>  \n            "))})).join(""),"\n        </div>\n      </div>\n    ")}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1);var e=[];e=this.state.isAll?[1,this.state.all,this.state.all,this.state.all,this.state.all]:[4,this.state.top,this.state.right,this.state.bottom,this.state.left],this.parent.trigger(this.props.onchange,e)}},{key:er("$selector button"),value:function(t){var e=t.$dt.attr("data-value");this.refs.$selector.attr("data-selected-value",e),"all"===e?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.updateData({isAll:"all"===e})}}])&&wI(n.prototype,r),o&&wI(n,o),e}(Uo);function xI(t){return(xI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _I(t,e){return!e||"object"!==xI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function CI(t){return(CI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function TI(t,e){return(TI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var RI=function(t){function e(){return $I(this,e),_I(this,CI(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&TI(t,e)}(e,t),n=e,(r=[{key:"afterRender",value:function(){var t=this;this.colorPicker=Qh.create({$editor:this.$editor,type:"sketch",position:"inline",container:this.refs.$color.el,color:this.props.value||"rgba(0, 0, 0, 1)",onChange:function(e){t.changeColor(e)},onLastUpdate:function(e){t.changeEndColor(e)}})}},{key:"initState",value:function(){return{color:"rgba(0, 0, 0, 1)"}}},{key:"template",value:function(){return'\n      <div ref="$color"></div>\n    '}},{key:"changeColor",value:function(t){this.parent.trigger(this.props.onchange,t)}},{key:"changeEndColor",value:function(t){this.parent.trigger(this.props.onchangeend,t)}},{key:"setValue",value:function(t){this.colorPicker.initColorWithoutChangeEvent(t)}},{key:"refresh",value:function(){this.colorPicker.initColorWithoutChangeEvent(this.state.color)}}])&&EI(n.prototype,r),o&&EI(n,o),e}(Uo);function DI(t){return(DI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VI(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function AI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function II(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LI(t,e){return!e||"object"!==DI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function MI(t){return(MI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zI(t,e){return(zI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var BI=function(t){function e(){return AI(this,e),LI(this,MI(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zI(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){var t=this.props["key-value-char"]||":",e=this.props.split||",",n=(this.props.options||"").split(e).map((function(t){return t.trim()})),r=(this.props.icons||"").split(e).map((function(t){return t.trim()})),o=(this.props.colors||"").split(e).map((function(t){return t.trim()})),i=this.props.value||"";return{keyValueChar:t,label:this.props.label||"",options:n,icons:r,colors:o,value:i}}},{key:"template",value:function(){var t=this.state.label;return"\n            <div class='select-icon-editor ".concat(t?"has-label":"","'>\n                ").concat(t?'<label title="'.concat(t,'">').concat(t,"</label>"):"","\n                <div class='items' ref='$options'></div>\n            </div>\n        ")}},{key:er("$close"),value:function(){this.updateData({value:""}),this.refresh()}},{key:"getValue",value:function(){return this.state.value||""}},{key:"setValue",value:function(t){this.setState({value:t})}},{key:zr("$options")+Rr,value:function(){var t=this;return this.state.options.map((function(e,n){var r=e,o=e,i="";if((c=e).includes(t.state.keyValueChar)){var a=VI(c.split(t.state.keyValueChar),2),c=a[0];r=a[1]}var u=c===t.state.value,s=u?"selected":"";if(""===e)r=jv.close,o="close";else{var l=t.state.icons[n];jv[l]&&(i="icon"),o=r,r=jv[l]||r||l||e}var f=t.state.colors[n],p={};return u&&f&&(p["background-color"]=f),"<div class='select-icon-item ".concat(s," ").concat(i,"' style='").concat(de(p),"' data-value=\"").concat(c,"\" title='").concat(o,"'>").concat(r,"</div>")}))}},{key:er("$options .select-icon-item"),value:function(t){var e=t.$dt.attr("data-value");this.updateData({value:e}),this.refresh()}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}}])&&II(n.prototype,r),o&&II(n,o),e}(Uo);function FI(t){return(FI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function HI(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?GI(Object(n),!0).forEach((function(e){XI(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function XI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function KI(t,e){return!e||"object"!==FI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function WI(t){return(WI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function UI(t,e){return(UI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ZI=function(t){function e(){return YI(this,e),KI(this,WI(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UI(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{index:this.props.index,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,repeat:this.props.repeat,size:this.props.size,blendMode:this.props.blendMode,color:"rgba(0, 0, 0, 1)"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyValue(t)}},{key:"modifyValue",value:function(t){this.parent.trigger(this.props.onchange,this.props.key,t,this.state.index)}},{key:"setValue",value:function(t){this.setState(HI({},t))}},{key:Hr("$miniView"),value:function(){return{style:{"background-image":"linear-gradient(to top right, black, white)","background-repeat":this.state.repeat,"background-size":"7px 7px"}}}},{key:"template",value:function(){return"\n            <div class='background-position-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ".concat(this.state.color,"\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        ")}},{key:er("$preview"),value:function(t){this.viewBackgroundPositionPopup()}},{key:"viewBackgroundPositionPopup",value:function(){this.emit("showBackgroundImagePositionPopup",{changeEvent:"changeBackgroundPositionPattern",data:this.state},{id:this.id})}},{key:Wo("changeBackgroundPositionPattern"),value:function(t,e){e.id===this.id&&this.updateData(HI({},t))}}])&&NI(n.prototype,r),o&&NI(n,o),e}(Uo);function qI(t){return(qI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function QI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nL(t,e){return!e||"object"!==qI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rL(t){return(rL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function oL(t,e){return(oL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var iL=function(t){function e(){return tL(this,e),nL(this,rL(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oL(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{index:this.props.index,image:this.props.image,color:"rgba(0, 0, 0, 1)"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyValue(t)}},{key:"modifyValue",value:function(t){this.parent.trigger(this.props.onchange,this.props.key,t,this.state.index)}},{key:"setValue",value:function(t){this.setState(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?JI(Object(n),!0).forEach((function(e){QI(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t))}},{key:Hr("$miniView"),value:function(){return{style:{"background-image":this.state.image,"background-size":"cover",color:this.props.color}}}},{key:"template",value:function(){return"\n            <div class='gradient-single-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ".concat(this.state.color,"\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        ")}},{key:er("$preview"),value:function(t){this.viewGradientPopup()}},{key:"viewGradientPopup",value:function(){this.emit("showGradientPickerPopup",{instance:this,changeEvent:"changeGradientSingle",gradient:this.state.image})}},{key:Wo("changeGradientSingle"),value:function(t,e){this.updateData({image:t}),this.refresh()}}])&&eL(n.prototype,r),o&&eL(n,o),e}(Uo);function aL(t){return(aL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sL(t,e){return!e||"object"!==aL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lL(t){return(lL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fL(t,e){return(fL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pL=function(t){function e(){return cL(this,e),sL(this,lL(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fL(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{index:this.props.index,label:this.props.label,simple:"true"===this.props.simple,image:K$.parseImage(this.props.image||"transparent")}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyValue(t)}},{key:"modifyValue",value:function(t){this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.state.index)}},{key:"getValue",value:function(){return this.state.image.toString()}},{key:"setValue",value:function(t){this.setState({image:K$.parseImage(t)})}},{key:Hr("$fillView"),value:function(){var t=this.state.image;return t?{innerHTML:t.toSVGString(this.fillId)}:{innerHTML:""}}},{key:Hr("$fillColor"),value:function(){var t=this.state.image;return t?{fill:t.toFillValue(this.fillId)}:{fill:"transparent"}}},{key:Hr("$colors"),value:function(){var t=this.state.image;if(!t)return{fill:"transparent"};var e="url"!=t.type?"".concat(t.colorsteps[0].color):"transparent";return(t.type.includes("linear")||t.type.includes("radial"))&&(e=t.colorsteps.map((function(t){return"<span class='color' style='background-color: ".concat(t.color,"' title='").concat(t.color,"'></span>")})).join("")),{innerHTML:"<div> ".concat(e," </div>")}}},{key:"template",value:function(){var t=this.state,e=t.label,n=(t.removable,t.simple);return"\n            <div class='fill-single-editor ".concat(e?"has-label":"","'>\n                ").concat(e?"<label>".concat(e,"</label>"):"","            \n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n\n                        <svg class='color-view' ref='$miniView'>\n                            <defs ref='$fillView'></defs>\n                            <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" ref='$fillColor' fill='url(#").concat(this.fillId,")' />\n                        </svg>\n                    </div>\n                </div>\n                <div class='colors ").concat(n?"simple":"","' ref='$colors'></div>\n            </div>\n        ")}},{key:er("$preview"),value:function(t){this.viewGradientPopup()}},{key:"viewGradientPopup",value:function(){this.emit("showFillPickerPopup",{instance:this,changeEvent:"changeFillSingle",image:this.state.image})}},{key:Wo("changeFillSingle"),value:function(t,e){this.updateData({image:K$.parseImage(t)}),this.refresh()}},{key:"fillId",get:function(){return this.id+"fill"}}])&&uL(n.prototype,r),o&&uL(n,o),e}(Uo);function yL(t){return(yL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vL(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function bL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gL(t,e){return!e||"object"!==yL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wL(t){return(wL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kL(t,e){return(kL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var OL=["static-gradient","linear-gradient","radial-gradient","image-resource"],jL={"image-resource":jv.photo},SL={top:{x1:"0%",y1:"100%",x2:"0%",y2:"0%"},"top left":{x1:"100%",y1:"100%",x2:"0%",y2:"0%"},"top right":{x1:"0%",y1:"100%",x2:"100%",y2:"0%"},left:{x1:"100%",y1:"0%",x2:"0%",y2:"0%"},right:{x1:"0%",y1:"0%",x2:"100%",y2:"0%"},bottom:{x1:"0%",y1:"0%",x2:"0%",y2:"100%"},"bottom left":{x1:"100%",y1:"0%",x2:"0%",y2:"100%"},"bottom right":{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}},PL=["x1","y1","x2","y2","cx","cy","r","fx","fy","fr","spreadMethod","patternUnits","patternWidth","patternHeight","imageX","imageY","imageWidth","imageHeight"],xL=["x1","y1","x2","y2","cx","cy","r","fx","fy","fr","patternWidth","patternHeight","imageX","imageY","imageWidth","imageHeight"],$L=function(t){function e(){return bL(this,e),gL(this,wL(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kL(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{InputRangeEditor:mT,RangeEditor:kC,SelectIconEditor:BI,SelectEditor:yC}}},{key:"initState",value:function(){return{cachedRect:null,index:+(this.props.index||0),value:this.props.value,image:K$.parseImage(this.props.value||"transparent")||j$.create()}}},{key:"setValue",value:function(t){this.setState({cachedRect:null,image:K$.parseImage(t)},!1),this.refresh(),this.parent.trigger("changeTabType",this.state.image.type)}},{key:"template",value:function(){var t=this,e=this.state.image,n=(e=e||{}).type||"static-gradient";return"url"===n&&(n="image-resource"),"\n        <div class='fill-editor' data-selected-editor='".concat(n,"'>\n            <div class='gradient-preview'>\n              <div class='gradient-view' ref='$gradientView'>\n                <div class='drag-pointer' ref='$dragPosition'></div>\n              </div>\n              <svg class='pointer-draw' ref='$pointerDrawArea'>\n                <line data-type='line' ref='$line' />\n                <circle r='5' data-type='start' ref='$startPoint' />\n                <circle r='5' data-type='end' ref='$endPoint' />\n                <circle r='5' data-type='center' ref='$centerPoint' />\n                <circle r='5' data-type='f' ref='$fPoint' />\n              </svg>              \n              <div class='preset-position'>\n                <div data-value='top' title='top'>").concat(jv.chevron_right,"</div>\n                <div data-value='right' title='right'>").concat(jv.chevron_right,"</div>\n                <div data-value='left' title='left'>").concat(jv.chevron_right,"</div>\n                <div data-value='bottom' title='bottom'>").concat(jv.chevron_right,"</div>\n                <div data-value='top left' title='top left'>").concat(jv.chevron_right,"</div>\n                <div data-value='top right' title='top right'>").concat(jv.chevron_right,"</div>\n                <div data-value='bottom left' title='bottom left'>").concat(jv.chevron_right,"</div>\n                <div data-value='bottom right' title='bottom right'>").concat(jv.chevron_right,'</div>                \n              </div>\n              <div data-editor=\'image-loader\'>\n                <input type=\'file\' accept="image/*" ref=\'$file\' />\n              </div>              \n            </div>\n            <div class="picker-tab">\n              <div class="picker-tab-list" ref="$tab">\n                ').concat(OL.map((function(t){return"<span class='picker-tab-item ".concat(t,"' data-editor='").concat(t,"'><span class='icon'>").concat(jL[t]||"","</span></span>")})).join(""),"\n              </div>\n            </div>\n            <div class='gradient-steps' data-editor='gradient'>\n                <div class=\"hue-container\" ref=\"$back\"></div>            \n                <div class=\"hue\" ref=\"$steps\">\n                    <div class='step-list' ref=\"$stepList\" ></div>\n                </div>\n            </div>\n            <div class='tools' data-editor='tools'>\n              <RangeEditor label='").concat(this.$i18n("fill.editor.offset"),"' ref='$range' key='length' onchange='changeColorStepOffset' />\n            </div>\n            <div class='sub-editor' ref='$subEditor'> \n                <div data-editor='spreadMethod'>\n                  <SelectIconEditor label='").concat(this.$i18n("fill.editor.spread"),"' ref='$spreadMethod' value=\"pad\" options='pad,reflect,repeat' key='spreadMethod' onchange='changeKeyValue' />\n                </div>  \n                <div data-editor='patternUnits'>\n                  <SelectEditor label='Pattern' ref='$patternUnits' options='userSpaceOnUse' key='patternUnits' onchange='changeKeyValue' />\n                </div>                  \n                ").concat(xL.map((function(n){var r=t.$i18n("fill.editor."+n);return("\n                    <div data-editor='".concat(n,"'>\n                      <RangeEditor label='").concat(r,"' ref='$").concat(n,"' value=\"").concat(t.getImageFieldValue(e,n),"\" key='").concat(n,"' onchange='changeKeyValue' />\n                    </div>\n                  "))})).join(""),"\n                                                                                                                                \n            </div>            \n        </div>\n      ")}},{key:"getImageFieldValue",value:function(t,e){var n=t[e];if(Qt(n))switch(e){case"cx":case"cy":case"r":case"fx":case"fy":return"50%";case"x1":case"y1":case"y2":case"fr":case"imageX":case"imageY":return"0%";case"x2":case"patternWidth":case"patternHeight":case"imageWidth":case"imageHeight":return"100%"}return n}},{key:fr("$file"),value:function(t){var e=this;this.$selection.currentProject&&vL(t.target.files).forEach((function(t){e.emit("updateImageAssetItem",t,(function(t){e.trigger("setImageUrl",t)}))}))}},{key:er("$el .preset-position [data-value]"),value:function(t){var e=t.$dt.attr("data-value");SL[e]&&(this.state.image.reset(SL[e]),this.refresh(),this.refreshFieldValue(),this.updateData())}},{key:"refreshFieldValue",value:function(){this.children.$x1.setValue(this.state.image.x1),this.children.$y1.setValue(this.state.image.y1),this.children.$x2.setValue(this.state.image.x2),this.children.$y2.setValue(this.state.image.y2),this.children.$cx.setValue(this.state.image.cx),this.children.$cy.setValue(this.state.image.cy),this.children.$r.setValue(this.state.image.r),this.children.$fx.setValue(this.state.image.fx),this.children.$fy.setValue(this.state.image.fy),this.children.$fr.setValue(this.state.image.fr),this.children.$spreadMethod.setValue(this.state.image.spreadMethod),this.children.$patternUnits.setValue(this.state.image.patternUnits),this.children.$patternWidth.setValue(this.state.image.patternWidth),this.children.$patternHeight.setValue(this.state.image.patternHeight),this.children.$imageX.setValue(this.state.image.imageX),this.children.$imageY.setValue(this.state.image.imageY),this.children.$imageWidth.setValue(this.state.image.imageWidth),this.children.$imagenHeight.setValue(this.state.image.imageHeight)}},{key:"getDrawAreaRect",value:function(){return{width:198,height:150}}},{key:"getFieldValue",value:function(t){return $.parse(this.getImageFieldValue(this.state.image,t))}},{key:Hr("$line"),value:function(){var t=this.getDrawAreaRect(),e=t.width,n=t.height;return{x1:this.getFieldValue("x1").toPx(e),y1:this.getFieldValue("y1").toPx(n),x2:this.getFieldValue("x2").toPx(e),y2:this.getFieldValue("y2").toPx(n)}}},{key:Hr("$startPoint"),value:function(){var t=this.getDrawAreaRect(),e=t.width,n=t.height;return{cx:this.getFieldValue("x1").toPx(e),cy:this.getFieldValue("y1").toPx(n)}}},{key:Hr("$endPoint"),value:function(){var t=this.getDrawAreaRect(),e=t.width,n=t.height;return{cx:this.getFieldValue("x2").toPx(e),cy:this.getFieldValue("y2").toPx(n)}}},{key:Hr("$centerPoint"),value:function(){var t=this.getDrawAreaRect(),e=t.width,n=t.height;return{cx:this.getFieldValue("cx").toPx(e),cy:this.getFieldValue("cy").toPx(n)}}},{key:Hr("$fPoint"),value:function(){var t=this.getDrawAreaRect(),e=t.width,n=t.height;return{cx:this.getFieldValue("fx").toPx(e),cy:this.getFieldValue("fy").toPx(n)}}},{key:wr("$pointerDrawArea circle[data-type]")+Ar("moveDragPointer"),value:function(t){this.containerRect=this.refs.$pointerDrawArea.rect(),this.startXY=t.xy,this.type=t.$dt.attr("data-type"),this.state.cachedRect=null}},{key:"getRectRate",value:function(t,e,n){var r=t.width,o=t.height,i=t.x,a=t.y;return i>e?e=i:i+r<e&&(e=i+r),a>n?n=a:a+o<n&&(n=a+o),{left:$.percent((e-i)/r*100),top:$.percent((n-a)/o*100)}}},{key:"moveDragPointer",value:function(t,e){var n=this.startXY.x+t,r=this.startXY.y+e,o=this.getRectRate(this.containerRect,n,r),i=o.left,a=o.top;"start"==this.type?(this.state.image.reset({x1:i,y1:a}),this.children.$x1.setValue(i),this.children.$y1.setValue(a),this.bindData("$startPoint"),this.bindData("$line")):"end"==this.type?(this.state.image.reset({x2:i,y2:a}),this.children.$x2.setValue(i),this.children.$y2.setValue(a),this.bindData("$endPoint"),this.bindData("$line")):"center"==this.type?(this.state.image.reset({cx:i,cy:a}),this.children.$cx.setValue(i),this.children.$cy.setValue(a),this.bindData("$centerPoint")):"f"==this.type&&(this.state.image.reset({fx:i,fy:a}),this.children.$fx.setValue(i),this.children.$fy.setValue(a),this.bindData("$fPoint")),this.bindData("$gradientView"),this.updateData()}},{key:er("$tab .picker-tab-item"),value:function(t){var e=this,n=t.$dt.attr("data-editor");this.$el.attr("data-selected-editor",n),this.parent.trigger("changeTabType",n);var r="image-resource"===n?this.state.image.url:this.state.url,o={};PL.forEach((function(t){o[t]=e.children["$".concat(t)].getValue()})),this.state.image=K$.changeImageType(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hL(Object(n),!0).forEach((function(e){dL(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({type:n,url:r,colorsteps:this.state.image.colorsteps||[]},o)),this.refresh(),this.updateData(),this.sendMessage()}},{key:"sendMessage",value:function(t){"linear-gradient"===(t=this.$el.attr("data-selected-editor"))?this.emit("addStatusBarMessage",""):"url"===t||"image-resource"===t?this.emit("addStatusBarMessage",this.$i18n("fill.editor.message.click.image")):this.emit("addStatusBarMessage",this.$i18n("fill.editor.message.drag.position"))}},{key:Wo("changeKeyValue"),value:function(t,e){this.state.image.reset(dL({},t,e)),this.bindData("$gradientView"),this.bindData("$line"),this.bindData("$startPoint"),this.bindData("$endPoint"),this.bindData("$centerPoint"),this.bindData("$fPoint"),this.updateData()}},{key:Wo("changeColorStepOffset"),value:function(t,e){this.currentStep&&(this.currentStep.percent=e.value,this.state.image.sortColorStep(),this.refresh(),this.updateData())}},{key:er("$back"),value:function(t){var e=this.refs.$stepList.rect(),n=e.x,r=e.right,o=t.xy.x;o<n?o=n:o>r&&(o=r);var i=(o-n)/e.width*100;this.state.image.insertColorStep(i),this.state.image.sortColorStep(),this.refresh(),this.updateData()}},{key:Hr("$el"),value:function(){var t=this.state.image.type;return"url"===t&&(t="image-resource"),this.parent.trigger("changeTabType",t),{"data-selected-editor":t}}},{key:Hr("$stepList"),value:function(){return{"data-selected-index":this.state.index.toString(),style:{"background-image":this.getLinearGradient()}}}},{key:Hr("$gradientView"),value:function(){return{innerHTML:'\n        <svg x="0" y="0" width="100%" height="100%">\n          <defs>\n            '.concat(this.state.image.toSVGString(this.fillId),'\n          </defs>\n          <rect x="0" y="0" width="100%" height="100%" fill="').concat(this.state.image.toFillValue(this.fillId),'" />\n        </svg>\n      ')}}},{key:zr("$stepList"),value:function(){var t=this;return(this.state.image.colorsteps||[]).map((function(e,n){var r=t.$selection.isSelectedColorStep(e.id)?"selected":"";return("\n      <div class='step ".concat(r,"' data-id='").concat(e.id,"' style='left: ").concat(e.percent,"%;'>\n        <div class='color-view' style=\"background-color: ").concat(e.color,"\"></div>\n        <div class='arrow' style=\"background-color: ").concat(e.color,'"></div>\n      </div>'))}))}},{key:"removeStep",value:function(t){this.state.image.removeColorStep(t),this.refresh(),this.updateData()}},{key:"selectStep",value:function(t){var e=this;this.state.id=t,this.$selection.selectColorStep(t),this.state.image.colorsteps&&(this.currentStep=this.state.image.colorsteps.find((function(t){return e.$selection.isSelectedColorStep(t.id)})),this.children.$range.setValue($.percent(this.currentStep.percent)),this.parent.trigger("selectColorStep",this.currentStep.color)),this.refresh()}},{key:wr("$stepList .step")+Ar(),value:function(t){var e=t.$dt.attr("data-id");if(t.altKey)return this.removeStep(e),!1;this.selectStep(e),this.startXY=t.xy,this.cachedStepListRect=this.refs.$stepList.rect()}},{key:"getStepListRect",value:function(){return this.cachedStepListRect}},{key:"move",value:function(t,e){var n=this.getStepListRect(),r=n.x,o=n.right,i=this.startXY.x+t;i<r?i=r:i>o&&(i=o);var a=(i-r)/n.width*100;this.currentStep.percent=a,this.children.$range.setValue($.percent(a)),this.state.image.sortColorStep(),this.refresh(),this.updateData()}},{key:"refresh",value:function(){this.load()}},{key:"getLinearGradient",value:function(){var t=this.state.image;return"linear-gradient(to right, ".concat(Fc.toColorString(t.colorsteps),")")}},{key:Wo("setColorStepColor"),value:function(t){"static-gradient"===this.state.image.type?(this.state.image.setColor(t),this.refresh(),this.updateData()):this.currentStep&&(this.currentStep.color=t,this.refresh(),this.updateData())}},{key:Wo("setImageUrl"),value:function(t){this.state.image&&(this.state.url=t,this.state.image.reset({url:t}),this.refresh(),this.updateData())}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.parent.trigger(this.props.onchange,this.state.image.toString())}},{key:"fillId",get:function(){return this.id+"fill"}}])&&mL(n.prototype,r),o&&mL(n,o),e}(Uo);function EL(t){return(EL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _L(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function CL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RL(t,e){return!e||"object"!==EL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function DL(t){return(DL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function VL(t,e){return(VL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var AL=function(t){function e(){return CL(this,e),RL(this,DL(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&VL(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){var t=this.props.value;return{options:[],label:this.props.label||"",value:t}}},{key:"template",value:function(){var t=this.state.label;return"\n            <div class='svg-filter-select-editor ".concat(t?"has-label":"","'>\n                ").concat(t?"<label>".concat(t,"</label>"):"","\n                <select ref='$options'></select>\n                <button type='button' class='open thin' ref='$open' title='Open SVG Filter Editor'>").concat(jv.fullscreen,"</button>\n                <button type='button' class='remove thin' ref='$remove' title='Remove'>").concat(jv.remove,"</button>\n            </div>\n        ")}},{key:er("$remove"),value:function(t){this.updateData({value:""})}},{key:er("$open"),value:function(t){var e=this.state.value;if(e.includes("id")){var n=this.$selection.currentProject.getSVGFilterIndex(e);n>-1&&this.trigger("openSVGFilterPopup",n)}}},{key:"getValue",value:function(){return this.state.value}},{key:"setValue",value:function(t){this.setState({value:t})}},{key:"refresh",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.load()}},{key:Hr("$options"),value:function(){return{"data-count":this.state.options.length.toString()}}},{key:zr("$options"),value:function(){var t=this,e=this.$selection.currentProject,n="";return e&&(n=(n=e.svgfilters.map((function(t){return t.id}))).length?","+n.join(","):""),(n=(n+=",-,new").split(",")).map((function(e){var n=e;if((o=e).includes(":")){var r=_L(o.split(":"),2),o=r[0];n=r[1]}""===n?n=t.props["none-value"]?t.props["none-value"]:"":"-"===n&&(n="----------",o="");var i=o===t.state.value?"selected":"";return"<option ".concat(i,' value="').concat(o,'">').concat(n,"</option>")}))}},{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({options:t.split(this.state.splitChar).map((function(t){return t.trim()}))})}},{key:"sendMessage",value:function(t){"new"===t?this.emit("addStatusBarMessage",this.$i18n("svgfilter.select.editor.message.create")):"-"===t?this.emit("addStatusBarMessage",this.$i18n("svgfilter.select.editor.message.select")):this.emit("addStatusBarMessage","")}},{key:fr("$options"),value:function(){var t=this,e=this.refs.$options.value;"new"==e?this.emit("addSVGFilterAssetItem",(function(e,n){t.updateData({value:n}),t.refresh(),t.trigger("openSVGFilterPopup",e)})):"-"===e||this.updateData({value:e})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}},{key:Wo("refreshSVGArea")+Dr(1e3),value:function(){this.load("$options")}},{key:Wo("openSVGFilterPopup"),value:function(t){this.emit("refreshSVGFilterAssets"),this.emit("refreshSVGArea");var e=(this.$selection.currentProject||{svgfilters:[]}).svgfilters[t];this.emit("showSVGFilterPopup",{changeEvent:"changeSVGFilterEditorRealUpdate",preview:!1,index:t,filters:e.filters})}},{key:Wo("changeSVGFilterEditorRealUpdate"),value:function(t){var e=this.$selection.currentProject;e&&(e.setSVGFilterValue(t.index,{filters:t.filters}),this.emit("refreshSVGFilterAssets"),this.emit("refreshSVGArea"))}}])&&TL(n.prototype,r),o&&TL(n,o),e}(Uo);function IL(t){return(IL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function LL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ML(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zL(t,e){return!e||"object"!==IL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function BL(t){return(BL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function FL(t,e){return(FL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var GL=function(t){function e(){return LL(this,e),zL(this,BL(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FL(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){var t=this.props.value;return{label:this.props.label||"",height:$.px(100),value:t}}},{key:"template",value:function(){var t=this.state,e=t.label,n=t.height,r=t.value;return"\n            <div class='text-editor ".concat(e?"has-label":"","'>\n                ").concat(e?"<label>".concat(e,"</label>"):"","\n                <textarea ref='$text' style='height:").concat(n,"'>").concat(r,"</textarea>\n            </div>\n        ")}},{key:"getValue",value:function(){return this.refs.$options.value}},{key:"setValue",value:function(t,e){this.setState({value:t},!1),e&&this.setState({height:e},!1),this.refresh()}},{key:Hr("$text"),value:function(){return{text:this.state.value||"",style:{height:this.state.height}}}},{key:pr("$text"),value:function(){this.updateData({value:this.refs.$text.value})}},{key:"updateData",value:function(t){this.setState(t),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}])&&ML(n.prototype,r),o&&ML(n,o),e}(Uo);function HL(t){return(HL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function YL(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?XL(Object(n),!0).forEach((function(e){NL(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function NL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UL(t,e){return!e||"object"!==HL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ZL(t){return(ZL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qL(t,e){return(qL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var JL=function(t){function e(){return KL(this,e),UL(this,ZL(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qL(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectIconEditor:BI}}},{key:"getDirectionOptions",value:function(){return this.makeOptionsFunction("row,column,row-reverse,column-reverse")}},{key:"getWrapOptions",value:function(){return this.makeOptionsFunction("nowrap,wrap,wrap-reverse")}},{key:"getJustifyContentOptions",value:function(){return this.makeOptionsFunction("flex-start,flex-end,center,space-between,space-around")}},{key:"getAlignItemsOptions",value:function(){return this.makeOptionsFunction("flex-start,flex-end,center,baseline,stretch")}},{key:"getAlignContentOptions",value:function(){return this.makeOptionsFunction("flex-start,flex-end,center,space-between,space-around,stretch")}},{key:"makeOptionsFunction",value:function(t){var e=this;return t.split(",").map((function(t){return"".concat(t,":").concat(e.$i18n("flex.layout.editor."+t))})).join(",")}},{key:"initState",value:function(){return YL({},ve(this.props.value))}},{key:"setValue",value:function(t){this.setState(YL({},ve(t)))}},{key:"getValue",value:function(){return de(this.state)}},{key:"modifyData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}},{key:zr("$body"),value:function(){return"\n            <div class='flex-layout-item'>\n                <div class='label'><label>".concat(this.$i18n("flex.layout.editor.direction"),"</label></div>\n                <SelectIconEditor \n                    key='flex-direction'\n                    value=\"").concat(this.state["flex-direction"]||"row",'"\n                    options="').concat(this.getDirectionOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.editor.wrap"),"</label></div>\n                <SelectIconEditor \n                    key='flex-wrap'\n                    value=\"").concat(this.state["flex-wrap"]||"wrap",'"\n                    options="').concat(this.getWrapOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.editor.justify-content"),"</label></div>\n                <SelectIconEditor \n                    key='justify-content'\n                    value=\"").concat(this.state["justify-content"]||"flex-start",'"\n                    options="').concat(this.getJustifyContentOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.editor.align-items"),"</label></div>\n                <SelectIconEditor \n                    key='align-items'\n                    value=\"").concat(this.state["align-items"]||"flex-start",'"\n                    options="').concat(this.getAlignItemsOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.editor.align-content"),"</label></div>\n                <SelectIconEditor \n                    key='align-content'\n                    value=\"").concat(this.state["align-content"]||"flex-start",'"\n                    options="').concat(this.getAlignContentOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>    \n        ")}},{key:"template",value:function(){return"\n            <div class='flex-layout-editor' ref='$body' ></div>\n        "}},{key:Wo("changeKeyValue"),value:function(t,e,n){this.setState(NL({},t,e),!1),this.modifyData()}}])&&WL(n.prototype,r),o&&WL(n,o),e}(Uo);function QL(t){return(QL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tM(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function eM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rM(t,e){return!e||"object"!==QL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oM(t){return(oM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function iM(t,e){return(iM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var aM=/(auto)|(repeat\([^\)]*\))|(([\d.]+)(px|pt|fr|r?em|deg|vh|vw|%))/gi,cM=function(t){function e(){return eM(this,e),rM(this,oM(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iM(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectEditor:yC,NumberInputEditor:rR,InputRangeEditor:mT}}},{key:"getLayoutItemOptions",value:function(){var t=this;return"none,auto,repeat,length".split(",").map((function(e){return"".concat(e,":").concat(t.$i18n("grid.box.editor.".concat(e)))})).join(",")}},{key:"initState",value:function(){return{label:this.props.label,list:this.parseValue(this.props.value)}}},{key:"setValue",value:function(t){this.setState({list:this.parseValue(t)})}},{key:"parseValue",value:function(t){for(var e=null,n=[];null!==(e=aM.exec(t));){var r=e[0];if("auto"===r)n.push({type:"auto",count:0,value:"0px"});else if(r.includes("repeat")){var o=r.split("repeat(")[1].split(")");o.pop();var i=tM(o.join("").split(",")),a=i[0],c=i.slice(1);n.push({type:"repeat",count:a,value:c.join(", ")})}else n.push({type:"length",count:1,value:r})}return n}},{key:"getValue",value:function(){return this.state.list.map((function(t){return"repeat"===t.type?"repeat(".concat(t.count,", ").concat(t.value,")"):"auto"===t.type||"none"===t.type?t.type:t.value})).join(" ")}},{key:"modifyData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}},{key:"makeItem",value:function(t,e){return"\n            <div class='item' data-repeat-type='".concat(t.type,"' data-index='").concat(e,"' >\n                <div class='repeat'>\n                    <SelectEditor \n                        ref='$").concat(e,"-type' \n                        options=\"").concat(this.getLayoutItemOptions(),'" \n                        key="type" \n                        value="').concat(t.type||"auto",'" \n                        params="').concat(e,"\" \n                        onchange=\"changeKeyValue\" />\n                </div>\n                <div class='count'>\n                    <NumberInputEditor \n                        ref='$").concat(e,'-count\' \n                        key="count" \n                        value="').concat(t.count,'" \n                        params="').concat(e,"\" \n                        max='1000'\n                        onchange=\"changeKeyValue\" />\n                </div>                \n                <div class='value'>\n                    <InputRangeEditor \n                        ref='$").concat(e,'-value\' \n                        key="value" \n                        value="').concat(t.value,'" \n                        params="').concat(e,"\" \n                        units='auto,fr,px,em,%'\n                        onchange=\"changeKeyValue\" />\n                </div>\n                <div class='tools'>\n                    <button type=\"button\" class='copy'>").concat(jv.copy,"</button>                \n                    <button type=\"button\" class='remove'>").concat(jv.remove2,"</button>\n                </div>\n            </div>\n        ")}},{key:zr("$list"),value:function(){var t=this;return this.state.list.map((function(e,n){return t.makeItem(e,n)}))}},{key:"template",value:function(){return"\n            <div class='grid-box-editor' ref='$body' >\n                <div class='grid-box-editor-item'>\n                    <div class='item header'>\n                        <div class='repeat'>\n                            <label>".concat(this.state.label," </label>\n                            <button type='button' ref='$add'>").concat(jv.add,"</button>\n                        </div>\n                        <div class='count'>").concat(this.$i18n("grid.box.editor.count"),"</div>\n                        <div class='value'>").concat(this.$i18n("grid.box.editor.value"),"</div>\n                        <div class='tools'></div>\n                    </div>\n                    <div ref='$list'></div>\n                </div>\n            </div>\n        ")}},{key:er("$list .remove"),value:function(t){var e=+t.$dt.closest("item").attr("data-index");this.state.list.splice(e,1),this.refresh(),this.modifyData()}},{key:er("$list .copy"),value:function(t){var e=+t.$dt.closest("item").attr("data-index"),n=clone(this.state.list[e]);this.state.list.splice(e,0,n),this.refresh(),this.modifyData()}},{key:er("$add"),value:function(){this.trigger("add")}},{key:Wo("add"),value:function(){this.state.list.push({type:"auto",count:0,value:"0px"}),this.refresh(),this.modifyData()}},{key:Wo("changeKeyValue"),value:function(t,e,n){var r=+n,o=this.state.list[r];o&&("type"===t&&this.refs.$list.$('[data-index="'.concat(r,'"]')).attr("data-repeat-type",e),o[t]=e),this.modifyData()}}])&&nM(n.prototype,r),o&&nM(n,o),e}(Uo);function uM(t){return(uM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fM(t,e){return!e||"object"!==uM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pM(t){return(pM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yM(t,e){return(yM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hM=function(t){function e(){return sM(this,e),fM(this,pM(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yM(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{RangeEditor:kC}}},{key:"initState",value:function(){return{label:this.props.label,value:this.parseValue(this.props.value)}}},{key:"setValue",value:function(t){this.setState({list:this.parseValue(t)})}},{key:"parseValue",value:function(t){return $.parse(t)}},{key:"getValue",value:function(){return this.state.value}},{key:"modifyData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}},{key:"makeItem",value:function(){return"\n            <div class='item'>\n                <div class='value'>\n                    <RangeEditor\n                        label='".concat(this.state.label,"' \n                        ref='$value' \n                        key=\"value\" \n                        value=\"").concat(this.state.value,'" \n                        units=\'px,em,%\'\n                        onchange="changeKeyValue" />\n                </div>\n            </div>\n        ')}},{key:zr("$list"),value:function(){return this.makeItem()}},{key:"template",value:function(){return"\n            <div class='grid-gap-editor' ref='$body' >\n                <div class='grid-gap-editor-item'>\n                    <div ref='$list'></div>\n                </div>\n            </div>\n        "}},{key:Wo("changeKeyValue"),value:function(t,e){this.state.value=e,this.modifyData()}}])&&lM(n.prototype,r),o&&lM(n,o),e}(Uo);function dM(t){return(dM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bM(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vM(Object(n),!0).forEach((function(e){mM(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kM(t,e){return!e||"object"!==dM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function OM(t){return(OM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jM(t,e){return(jM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var SM=function(t){function e(){return gM(this,e),kM(this,OM(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jM(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectIconEditor:BI,GridBoxEditor:cM,GridGapEditor:hM}}},{key:"initState",value:function(){return bM({},ve(this.props.value))}},{key:"setValue",value:function(t){this.setState(bM({},ve(t)))}},{key:"getValue",value:function(){return de(this.state)}},{key:"modifyData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}},{key:zr("$body"),value:function(){return"\n            <div class='grid-layout-item'>\n                <GridBoxEditor \n                    label='".concat(this.$i18n("grid.layout.editor.template.columns"),"'\n                    ref='$columnBox'\n                    key='grid-template-columns'\n                    value=\"").concat(this.state["grid-template-columns"]||"","\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <GridGapEditor \n                    label='").concat(this.$i18n("grid.layout.editor.column.gap"),"'\n                    key='grid-column-gap'\n                    value=\"").concat(this.state["grid-column-gap"]||"","\"\n                    onchange='changeKeyValue'\n                />\n            </div>            \n            <div class='grid-layout-item'>\n                <GridBoxEditor \n                    label='").concat(this.$i18n("grid.layout.editor.template.rows"),"'\n                    ref='$rowBox'\n                    key='grid-template-rows'\n                    value=\"").concat(this.state["grid-template-rows"]||"","\"\n                    onchange='changeKeyValue'\n                />\n            </div>            \n            <div class='grid-layout-item'>\n                <GridGapEditor \n                    label='").concat(this.$i18n("grid.layout.editor.row.gap"),"'                \n                    key='grid-row-gap'\n                    value=\"").concat(this.state["grid-row-gap"]||"","\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n        ")}},{key:"template",value:function(){return"\n            <div class='grid-layout-editor' ref='$body' ></div>\n        "}},{key:Wo("changeKeyValue"),value:function(t,e,n){this.setState(mM({},t,e),!1),this.modifyData()}}])&&wM(n.prototype,r),o&&wM(n,o),e}(Uo);function PM(t){return(PM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CM(t,e){return!e||"object"!==PM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TM(t){return(TM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function RM(t,e){return(RM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var DM=function(t){function e(){return EM(this,e),CM(this,TM(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RM(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectIconEditor:BI}}},{key:"initState",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xM(Object(n),!0).forEach((function(e){$M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},ve(this.props.value))}},{key:"setValue",value:function(t){this.setState(ve(t))}},{key:"getValue",value:function(){return de(this.state)}},{key:"modifyData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}},{key:zr("$body"),value:function(){return"\n            <div class='flex-layout-item'>\n                <div class='label'><label>".concat(this.$i18n("flex.layout.item.editor.direction"),"</label></div>\n                <SelectIconEditor \n                    key='flex-direction'\n                    value=\"").concat(this.state["flex-direction"]||"row",'"\n                    options="').concat(getDirectionOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.item.editor.wrap"),"</label></div>\n                <SelectIconEditor \n                    key='flex-wrap'\n                    value=\"").concat(this.state["flex-wrap"]||"wrap",'"\n                    options="').concat(getWrapOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.item.editor.justify-content"),"</label></div>\n                <SelectIconEditor \n                    key='justify-content'\n                    value=\"").concat(this.state["justify-content"],'"\n                    options="').concat(getJustifyContentOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.item.editor.align-items"),"</label></div>\n                <SelectIconEditor \n                    key='align-items'\n                    value=\"").concat(this.state["align-items"],'"\n                    options="').concat(getAlignItemsOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.item.editor.align-content"),"</label></div>\n                <SelectIconEditor \n                    key='align-content'\n                    value=\"").concat(this.state["align-content"],'"\n                    options="').concat(getAlignContentOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>    \n        ")}},{key:"template",value:function(){return"\n            <div class='flex-layout-editor' ref='$body' ></div>\n        "}},{key:Wo("changeKeyValue"),value:function(t,e,n){this.setState($M({},t,e),!1),this.modifyData()}}])&&_M(n.prototype,r),o&&_M(n,o),e}(Uo);function VM(t){return(VM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function IM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zM(t,e){return!e||"object"!==VM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function BM(t){return(BM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function FM(t,e){return(FM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var GM=function(t){function e(){return LM(this,e),zM(this,BM(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FM(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectIconEditor:BI}}},{key:"initState",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?AM(Object(n),!0).forEach((function(e){IM(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},ve(this.props.value))}},{key:"setValue",value:function(t){this.setState(ve(t))}},{key:"getValue",value:function(){return de(this.state)}},{key:"modifyData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}},{key:zr("$body"),value:function(){return"\n            <div class='grid-layout-item'>\n                <div class='label'><label>".concat(this.$i18n("grid.layout.item.editor.direction"),"</label></div>\n                <SelectIconEditor \n                    key='grid-direction'\n                    value=\"").concat(this.state["grid-direction"]||"row",'"\n                    options="').concat(getDirectionOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("grid.layout.item.editor.wrap"),"</label></div>\n                <SelectIconEditor \n                    key='grid-wrap'\n                    value=\"").concat(this.state["grid-wrap"]||"wrap",'"\n                    options="').concat(getWrapOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("grid.layout.item.editor.justify-content"),"</label></div>\n                <SelectIconEditor \n                    key='justify-content'\n                    value=\"").concat(this.state["justify-content"],'"\n                    options="').concat(getJustifyContentOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("grid.layout.item.editor.align-items"),"</label></div>\n                <SelectIconEditor \n                    key='align-items'\n                    value=\"").concat(this.state["align-items"],'"\n                    options="').concat(getAlignItemsOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("grid.layout.item.editor.align-content"),"</label></div>\n                <SelectIconEditor \n                    key='align-content'\n                    value=\"").concat(this.state["align-content"],'"\n                    options="').concat(getAlignContentOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>    \n        ")}},{key:"template",value:function(){return"\n            <div class='grid-layout-editor' ref='$body' ></div>\n        "}},{key:Wo("changeKeyValue"),value:function(t,e,n){this.setState(IM({},t,e),!1),this.modifyData()}}])&&MM(n.prototype,r),o&&MM(n,o),e}(Uo);function HM(t){return(HM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function YM(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?XM(Object(n),!0).forEach((function(e){NM(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function NM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UM(t,e){return!e||"object"!==HM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ZM(t){return(ZM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qM(t,e){return(qM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var JM=function(t){function e(){return KM(this,e),UM(this,ZM(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qM(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{index:this.props.index,x:$.parse(this.props.x),y:$.parse(this.props.y),width:$.parse(this.props.width),height:$.parse(this.props.height),lineWidth:$.parse(this.props.linewidth),lineHeight:$.parse(this.props.lineheight),backColor:this.props.backcolor,foreColor:this.props.forecolor,blendMode:this.props.blendmode,type:this.props.type}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyValue(t)}},{key:"modifyValue",value:function(t){this.parent.trigger(this.props.onchange,this.props.key,t,this.state.index)}},{key:"setValue",value:function(t){this.setState(YM({},t))}},{key:Hr("$miniView"),value:function(){var t=YM({},this.state);return this.state.width.value>80&&(t.width=$.px(80),t.x=$.px(t.x.value/this.state.width.value/80)),this.state.height.value>80&&(t.height=$.px(80),t.y=$.px(this.state.y.value/this.state.height.value/80)),{cssText:dl.parse(t).toCSS()}}},{key:"template",value:function(){return"\n            <div class='pattern-size-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ".concat(this.state.color,"\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        ")}},{key:er("$preview"),value:function(t){this.viewBackgroundPositionPopup()}},{key:"viewBackgroundPositionPopup",value:function(){this.emit("showPatternInfoPopup",{changeEvent:"changePatternInfo",data:this.state,instance:this})}},{key:Wo("changePatternInfo"),value:function(t){this.updateData(YM({},t))}}])&&WM(n.prototype,r),o&&WM(n,o),e}(Uo),QM=[{key:"check",title:"Check",execute:function(){return[{pattern:"check(20px 20px, 10px 10px, black, transparent)"},{pattern:"check(40px 40px, 20px 20px, black, transparent)"},{pattern:"check(60px 60px, 30px 30px, #DDB104, rgba(254,240,188,0))"},{pattern:"check(80px 80px, 40px 40px, #DDB104, rgba(254,240,188,0))"},{pattern:"check(100px 100px, 50px 50px, #DCF3DC, transparent)"},{pattern:"check(200px 200px, 100px 100px, #102C45, transparent)"}]}},{key:"grid",title:"Grid",execute:function(){return[{pattern:"grid(20px 20px, 10px 10px, black, transparent)"},{pattern:"grid(40px 40px, 20px 20px, black, transparent)"},{pattern:"grid(60px 60px, 30px 30px, #DDB104, rgba(254,240,188,0))"},{pattern:"grid(80px 80px, 40px 40px, #DDB104, rgba(254,240,188,0))"},{pattern:"grid(100px 100px, 50px 50px, #DCF3DC, transparent)"},{pattern:"grid(200px 200px, 100px 100px, #102C45, transparent)"}]}},{key:"dot",title:"Dot",execute:function(){return[{pattern:"dot(20px 20px, 10px 10px, #B7C4CD, white, normal, 1px)"},{pattern:"dot(40px 40px, 20px 20px, #E7393F, #FEF0BC, normal, 2px)"},{pattern:"dot(60px 60px, 30px 30px, #E7393F, black, normal, 3px)"},{pattern:"dot(80px 80px, 40px 40px, #B7C4CD, white, normal, 4px)"}]}},{key:"cross-dot",title:"Cross Dot",execute:function(){return[{pattern:"cross-dot(20px 20px, 10px 10px, #B7C4CD, white, normal, 1px)"},{pattern:"cross-dot(40px 40px, 20px 20px, #DDB104, #FEF0BC, normal, 4px)"},{pattern:"cross-dot(60px 60px, 30px 30px, #35DB92, #DCF9EC, normal, 6px)"}]}},{key:"diagonal-line",title:"Diagonal Line",execute:function(){return[{pattern:"diagonal-line(10px 10px, 45deg, #B7C4CD, white, normal, 1px)"},{pattern:"diagonal-line(25px 25px, 90deg, #DDB104, #FEF0BC, normal, 2px)"},{pattern:"diagonal-line(50px 50px, 135deg, #35DB92, #DCF9EC, normal, 3px)"}]}},{key:"vertical-line",title:"Vertical Line",execute:function(){return[{pattern:"vertical-line(10px 10px, 0, #B7C4CD, white, normal, 1px)"},{pattern:"vertical-line(25px 25px, 0, #DDB104, #FEF0BC, normal, 2px)"},{pattern:"vertical-line(50px 50px, 0, black, rgba(231,57,63,0.9), normal, 1px)"}]}},{key:"horizontal-line",title:"Horizontal Line",execute:function(){return[{pattern:"horizontal-line(10px 10px, 0, #B7C4CD, white, normal, 1px)"},{pattern:"horizontal-line(25px 25px, 0, #DDB104, #FEF0BC, normal, 2px)"},{pattern:"horizontal-line(50px 50px, 0, #35DB92, #DCF9EC, normal, 3px)"}]}}];function tz(t){return(tz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ez(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function nz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oz(t,e){return!e||"object"!==tz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iz(t){return(iz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function az(t,e){return(az=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cz={MediaProgressEditor:fV,BlendSelectEditor:LA,PatternEditor:function(t){function e(){return nz(this,e),oz(this,iz(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&az(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectEditor:yC,ColorSingleEditor:LC,PatternSizeEditor:JM}}},{key:"initState",value:function(){return{hideLabel:"true"===this.props["hide-label"],value:this.props.value,patterns:this.parsePattern(this.props.value)}}},{key:"parsePattern",value:function(t){return dl.parseStyle(t)}},{key:"setValue",value:function(t){this.setState({value:t,patterns:this.parsePattern(t)})}},{key:"template",value:function(){var t=this.state.hideLabel?"hide":"";return("\n            <div class='pattern-editor' >\n                <div class='label ".concat(t,"'>\n                    <label>").concat(this.props.title||"","</label>\n                    <div class='tools'>\n                        <button type=\"button\" ref='$add'>").concat(jv.add," ").concat(this.props.title?"":"Add","</button>\n                    </div>\n                </div>\n                <div class='pattern-list' ref='$patternList'></div>\n            </div>\n        "))}},{key:zr("$patternList"),value:function(){var t=this;return this.state.patterns.map((function(e,n){var r=e.selected?"selected":"";return e.selected&&(t.selectedIndex=n),"\n            <div class='pattern-item ".concat(r,"' data-index='").concat(n,"' ref=\"fillIndex").concat(n,"\"  draggable='true'>\n                <PatternSizeEditor ").concat(be({key:"pattern-size",ref:"$bp".concat(n),type:e.type,x:e.x,y:e.y,width:e.width,height:e.height,index:n,foreColor:e.foreColor,backColor:e.backColor,blendMode:e.blendMode,lineWidth:e.lineWidth,lineHeight:e.lineHeight})," onchange='changePatternSizeInfo' />\n                <div class='tools'>\n                    <button type=\"button\" class='remove' title='Remove a pattern' data-index='").concat(n,"'>").concat(jv.remove,"</button>\n                </div>\n            </div>\n            ")}))}},{key:"modifyPattern",value:function(){var t=dl.join(this.state.patterns);this.parent.trigger(this.props.onchange,this.props.key,t)}},{key:Wo("add"),value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"check",n=QM.find((function(t){return t.key===e}));n&&((t=this.state.patterns).push.apply(t,ez(dl.parseStyle(n.execute()[0].pattern))),this.refresh(),this.modifyPattern())}},{key:er("$add"),value:function(){this.trigger("add")}},{key:ar("$patternList .pattern-item"),value:function(t){this.startIndex=+t.$dt.attr("data-index")}},{key:ur("$patternList .pattern-item")+Lr,value:function(t){}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(ez(t.splice(e,1))))}},{key:"sortPattern",value:function(t,e){this.sortItem(this.state.patterns,t,e)}},{key:cr("$patternList .pattern-item")+Lr,value:function(t){var e=+t.$dt.attr("data-index");this.selectItem(this.startIndex,!0),this.sortPattern(this.startIndex,e),this.modifyPattern(),this.refresh()}},{key:"getCurrentPattern",value:function(){return this.state.patterns[this.selectedIndex]}},{key:er("$patternList .tools .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.state.patterns.splice(e,1),this.modifyPattern(),this.refresh()}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?this.refs["fillIndex".concat(t)].addClass("selected"):this.refs["fillIndex".concat(t)].removeClass("selected"),this.state.patterns.forEach((function(e,n){e.selected=n===t}))}},{key:Wo("changePatternSizeInfo")+Dr(10),value:function(t,e,n){this.state.patterns[n].reset(e),this.modifyPattern(),this.refresh()}}])&&rz(n.prototype,r),o&&rz(n,o),e}(Uo),PatternSizeEditor:JM,GridGapEditor:hM,NumberInputEditor:rR,GridLayoutItemEditor:GM,GridBoxEditor:cM,FlexLayoutItemEditor:DM,GridLayoutEditor:SM,FlexLayoutEditor:JL,TextAreaEditor:GL,ColorMatrixEditor:mA,FuncFilterEditor:sA,SVGFilterSelectEditor:AL,FillEditor:$L,FillSingleEditor:pL,BorderEditor:rV,BorderValueEditor:WD,GradientSingleEditor:iL,BackgroundPositionEditor:ZI,OffsetPathListEditor:LD,PolygonDataEditor:_D,PathDataEditor:OD,StrokeDashArrayEditor:pD,InputRangeEditor:mT,SelectIconEditor:BI,ImageSelectEditor:$A,EmbedColorPicker:RI,IconListViewEditor:sI,InputArrayEditor:WV,DirectionEditor:PI,SVGClipPathEditor:vI,NumberRangeEditor:YR,TextEditor:FV,SVGFilterEditor:nI,CircleEditor:VV,BackgroundImageEditor:J_,BoxShadowEditor:iC,BorderRadiusEditor:CC,ColorSingleEditor:LC,ColorViewEditor:XC,CubicBezierEditor:JC,FilterEditor:lT,GradientEditor:RT,IterationCountEditor:GT,OffsetEditor:xV,CSSPropertyEditor:mV,PerspectiveOriginEditor:MR,RangeEditor:kC,SelectEditor:yC,TextShadowEditor:iD,TransformEditor:vR,TransformOriginEditor:$R,VarEditor:ZT};function uz(t){return(uz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fz(t,e){return!e||"object"!==uz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pz(t){return(pz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yz(t,e){return(yz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hz=function(t){function e(){return sz(this,e),fz(this,pz(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yz(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return cz}},{key:"onToggleShow",value:function(){}},{key:"template",value:function(){return"\n        <div class='property ".concat(this.isHideHeader()?"no-title":""," ").concat(this.getClassName()," ").concat(this.isFirstShow()?"show":"","'>\n            ").concat(this.isHideHeader()?"":"\n            <div class='property-title ".concat(this.getTitleClassName(),'\' ref="$title">\n                <label class="').concat(this.hasKeyframe()?"has-keyframe":"",'"> \n                  ').concat(this.hasKeyframe()?"\n                      <span class='add-timeline-property' data-property='".concat(this.getKeyframeProperty(),"'></span>\n                    "):""," \n                  <span ref='$propertyTitle'>").concat(this.getTitle(),"</span>\n                  <span class='icon'>").concat(jv.chevron_right,'</span>\n                </label>\n                <span class="tools">').concat(this.getTools(),"</span>\n            </div>"),"\n            <div class='property-body'>").concat(this.getBody(),"</div>\n            ").concat(this.getFooter()?"<div class='property-footer'>".concat(this.getFooter(),"</div>"):"","\n        </div>\n        ")}},{key:"setTitle",value:function(t){this.refs.$propertyTitle.text(t)}},{key:"hasKeyframe",value:function(){return!1}},{key:"isHideHeader",value:function(){return!1}},{key:"isFirstShow",value:function(){return!0}},{key:"getClassName",value:function(){return""}},{key:"getTitleClassName",value:function(){return""}},{key:"getTitle",value:function(){return""}},{key:"getTools",value:function(){return""}},{key:"getBody",value:function(){return""}},{key:"getFooter",value:function(){return""}},{key:er("$title label"),value:function(t){var e=t.$dt.parent(),n=Nn.create(t.target).hasClass("add-timeline-property");e.hasClass("property-title")&&!1===n&&(this.$el.toggleClass("show"),this.onToggleShow())}},{key:er("$title .icon"),value:function(t){t.$dt.parent().hasClass("property-title")&&(this.$el.toggleClass("show"),this.onToggleShow())}},{key:er("$el .property-body .add-timeline-property")+Lr+Mr,value:function(t){var e=t.$dt.attr("data-property"),n=t.$dt.attr("data-editor");this.emit("addTimelineCurrentProperty",{property:e,editor:n})}},{key:er("$el .property-title .add-timeline-property")+Lr+Mr,value:function(t){var e=t.$dt.attr("data-property"),n=t.$dt.attr("data-editor");this.emit("addTimelineCurrentProperty",{property:e,editor:n})}},{key:"isPropertyShow",value:function(){return this.$el.hasClass("show")}},{key:"toggle",value:function(t){this.$el.toggle(t)}},{key:"hide",value:function(){this.$el.hide()}},{key:"show",value:function(){this.$el.show()}},{key:"onShowTitle",value:function(t){}},{key:"refreshShowIsNot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.$selection.current;n&&(t.includes(n.itemType)?this.hide():(this.show(),e&&this.refresh()))}},{key:"refreshShow",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.$selection.current;n?ae(t)&&t()?(this.show(),e&&this.refresh()):!ae(t)&&t.includes(n.itemType)?(this.show(),e&&this.refresh()):this.hide():this.hide()}},{key:"startInputEditing",value:function(t){t&&(t.attr("contenteditable",!0),t.css({"background-color":"white",outline:"1px auto black",color:"black"}),t.focus())}},{key:"endInputEditing",value:function(t,e){if(t){t.attr("contenteditable",!1),t.css({"background-color":null,outline:null,color:null});var n=t.attr("data-index");e&&e(n,t.text().trim()),t.blur()}}}])&&lz(n.prototype,r),o&&lz(n,o),e}(Uo);function dz(t){return(dz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vz(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function bz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gz(t,e){return!e||"object"!==dz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wz(t){return(wz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kz(t,e){return(kz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Oz={"stroke-dasharray":"Stroke Dash Array","stroke-dashoffset":"Stroke Dash Offset","stroke-linejoin":"Stroke Line Join"},jz=function(t){function e(){return bz(this,e),gz(this,wz(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kz(t,e)}(e,t),n=e,(r=[{key:Wo("refreshCanvas","refreshSelection")+Dr(1e3),value:function(){this.refresh()}},{key:"makeTimelineObjectRow",value:function(t){var e=this,n=this.$selection.currentProject,r=n.searchById(t.id);if(r){var o=this.$timeline.checkLayer(r.id),i=n.searchById(r.id);return"\n        <div class='timeline-object' data-timeline-animation-id=\"".concat(r.id,"\">\n            <div class='timeline-object-row layer' data-selected='").concat(o,"' data-layer-id='").concat(r.id,"' data-property=''>\n                <div class='icon'>").concat(jv.chevron_right,"</div>\n                <div class='title'> ").concat(r.name,"</div>\n                <div class='tools'>\n                    <button type=\"button\" class='remove-timeline' data-layer-id='").concat(r.id,"'>").concat(jv.remove,"</button>\n                    <button type=\"button\" class='empty'></button>                    \n                </div>\n            </div>\n\n            ").concat(t.properties.map((function(t){var n=e.$timeline.checkProperty(r.id,t.property);return("\n                <div class='timeline-object-row layer-property' data-selected='".concat(n,"' data-layer-id='").concat(r.id,"' data-property='").concat(t.property,"'>\n                  <div class='icon'></div>                    \n                    <div class='title'>").concat(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Oz[t]||e||t}(t.property),"</div>\n                    <div class='current-value'>\n                      ").concat("d"===t.property?i.totalLength:"","\n                      ").concat("points"===t.property?i.totalLength:"","\n                    </div>\n                    <div class='tools'>\n                        <button type=\"button\" class='remove' data-layer-id='").concat(r.id,"' data-property='").concat(t.property,"'>").concat(jv.remove,"</button>\n                        <button type=\"button\" class='add' data-layer-id='").concat(r.id,"' data-property='").concat(t.property,"'></button>\n                    </div>\n                </div>"))})).join(""),"                                                      \n        </div>\n        ")}}},{key:"template",value:function(){return"\n            <div class='timeline-object-list'></div>\n        "}},{key:zr()+Rr,value:function(){var t=this,e=this.$selection.currentProject;if(!e)return"";var n=e.getSelectedTimeline();return n?n.animations.map((function(e){return t.makeTimelineObjectRow(e)})):""}},{key:"refreshSelection",value:function(){var t=this;this.$el.$$('[data-selected="true"]').forEach((function(t){t.attr("data-selected","false")})),this.$timeline.each((function(e){var n=t.$el.$('[data-layer-id="'.concat(e.layerId,'"][data-property="').concat(e.property,'"]'));n&&n.attr("data-selected","true")}))}},{key:er("$el .timeline-object-row.layer .title"),value:function(t){var e=t.$dt.closest("timeline-object");e.toggleClass("collapsed");var n=t.$dt.closest("timeline-object-row").attr("data-layer-id");this.$timeline.selectLayer(n),this.$timeline.toggleLayerContainer(e.attr("data-timeline-animation-id")),this.refreshSelection(),this.emit("toggleTimelineObjectRow",n,e.hasClass("collapsed"))}},{key:er("$el .timeline-object-row.layer .add-property"),value:function(t){var e=t.$dt.closest("timeline-object-row").$(".property-select").val(),n=t.$dt.attr("data-layer-id");if(e){var r=this.$selection.current;this.emit("addTimelineProperty",{layerId:n,property:e,value:r[e]})}}},{key:er("$el .timeline-object-row.layer .remove-timeline"),value:function(t){var e=t.$dt.attr("data-layer-id");e&&this.emit("removeTimeline",e)}},{key:er("$el .timeline-object-row.layer-property .add"),value:function(t){var e=t.$dt.attr("data-layer-id"),n=t.$dt.attr("data-property");n&&this.emit("copyTimelineProperty",e,n)}},{key:er("$el .timeline-object-row.layer-property .remove"),value:function(t){var e=t.$dt.attr("data-layer-id"),n=t.$dt.attr("data-property");n&&this.emit("removeTimelineProperty",e,n)}},{key:er("$el .timeline-object-row.layer-property .title"),value:function(t){var e=vz(t.$dt.closest("timeline-object-row").attrs("data-layer-id","data-property"),2),n=e[0],r=e[1];this.$timeline.selectProperty(n,r),this.refreshSelection(),this.emit("refreshTimeline")}},{key:Wo("refreshTimeline"),value:function(){this.refresh()}}])&&mz(n.prototype,r),o&&mz(n,o),e}(Uo);function Sz(t){return(Sz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ez(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cz(t,e){return!e||"object"!==Sz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tz(t){return(Tz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rz(t,e){return(Rz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Dz=function(t){function e(){return Ez(this,e),Cz(this,Tz(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rz(t,e)}(e,t),n=e,(r=[{key:"config",value:function(t){return this.parent.state[t]}},{key:"calculateTimeToPosition",value:function(t,e,n){var r=(t-e)/(n-e);return $.px(this.rect.totalWidth*r+10)}},{key:"makeSubOffset",value:function(t,e){var n=[];if("offset-path"===t){var r=$z(e.split(",").map((function(t){return t.trim()})),1)[0],o=this.$selection.currentProject.searchById(r);o&&(e=o.d)}else e=null;if(e){var i=Tm(new Vi(e).segments),a=i.totalLength,c=i.interpolateList,u=0;(n=c.map((function(t){var e={totalLength:a,length:t.length+u};return u+=t.length,e}))).pop()}return n}},{key:"makeKeyframe",value:function(t,e,n){var r=this,o=n.keyframes.filter((function(t){return e.displayStartTime<=t.time&&t.time<=e.displayEndTime})).map((function(t,o){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pz(Object(n),!0).forEach((function(e){xz(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pz(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({left:r.calculateTimeToPosition(t.time,e.displayStartTime,e.displayEndTime)},t,{subOffset:r.makeSubOffset(n.property,t.value),index:o})}));return"\n        <div class='keyframe-back'".concat(be({"data-layer-id":t,"data-property":n.property}),">\n\n            ").concat(o.map((function(e,i){var a=o[i+1];if(!a)return"";var c=$.px(e.left.value),u=$.px(a.left.value-e.left.value),s=r.$timeline.checked(e.id)&&r.$timeline.checked(a.id);return"\n                    <div ".concat(be({"data-selected":"".concat(s),class:{"offset-line":!0}})," style='left: ").concat(c,"; width: ").concat(u,"'} ></div>\n\n                    ").concat(e.subOffset.map((function(r,o){var i=$.px(e.left.value+r.length/r.totalLength*u.value);return("\n                        <div class='".concat(me({"sub-offset":!0}),"' style='left: ").concat(i,"' ").concat(be({"data-offset-id":e.id,"data-layer-id":t,"data-property":n.property,"data-suboffset-index":o})," ></div>\n        \n                        "))})).join(""),"\n                ")})).join(""),"\n        </div>\n        <div class='keyframe'>\n\n            ").concat(o.map((function(e){var o=r.$timeline.checked(e.id);return("<div class='offset' style='left: ".concat(e.left,"' ").concat(be({"data-selected":"".concat(o),"data-offset-id":e.id,"data-layer-id":t,"data-property":n.property,"data-offset-index":e.index})," ></div>\n\n                "))})).join(""),"\n        </div>")}},{key:"makeTimelineKeyframeRow",value:function(t,e){var n=this,r=this.$selection.currentProject.searchById(e.id);if(r){var o={};e.properties.map((function(t){return t.keyframes.map((function(t){return t.time}))})).forEach((function(t){t.forEach((function(t){return o[t]=!0}))}));var i=Object.keys(o).map((function(t){return+t}));return("\n        <div class='timeline-keyframe ".concat(me({collapsed:e.collapsed}),"' data-timeline-layer-id=\"").concat(r.id,"\">\n            <div class='timeline-keyframe-row layer'  ").concat(be({"data-row-index":this.state.rowIndex++,"data-layer-id":r.id})," >\n                <div class='keyframe-shadow'>\n                ").concat(i.map((function(e){var r=n.calculateTimeToPosition(e,t.displayStartTime,t.displayEndTime);return("<div class='offset' style='left: ".concat(r,"'></div>"))})).join(""),"\n                </div>\n            </div>\n\n            ").concat(e.properties.map((function(e){return"\n                <div class='timeline-keyframe-row layer-property' ".concat(be({"data-row-index":n.state.rowIndex++,"data-property":e.property,"data-layer-id":r.id})," >\n                    ").concat(e.keyframes.length?n.makeKeyframe(r.id,t,e):"","\n                </div>")})).join(""),"                                                      \n        </div>\n        "))}}},{key:"template",value:function(){return"\n            <div class='timeline-keyframe-container' tabIndex=\"-1\">\n                <div ref='$keyframeList' class='timeline-keyframe-list'></div>\n                <div class='drag-area' ref='$dragArea'></div>\n            </div>\n        "}},{key:"hasDragPlace",value:function(t){var e=Nn.create(t.target);return!1===e.hasClass("offset")&&!1===e.hasClass("offset-line")}},{key:"getRowIndex",value:function(t){return t=Qt(t)?this.state.rowIndex:+t}},{key:ir("$el")+Er("Backspace"),value:function(t){this.emit("deleteTimelineKeyframe")}},{key:"isNotMoved",value:function(t,e){return 0===t&&0===e}},{key:wr("$el")+$r("hasDragPlace")+Ar("moveDragArea")+Ir("moveEndDragArea"),value:function(t){this.dragXY=this.getRealPosition(t),this.startRowIndex=this.getRowIndex(Nn.create(t.target).attr("data-row-index")),this.left=null,this.width=null}},{key:"moveDragArea",value:function(t,e){if(!this.isNotMoved(t,e)){var n=t<0?$.px(this.dragXY.x+t):$.px(this.dragXY.x),r=e<0?$.px(this.dragXY.y+e):$.px(this.dragXY.y),o=$.px(Math.abs(t)),i=$.px(Math.abs(e));this.refs.$dragArea.css({left:n,top:r,width:o,height:i}),this.left=n,this.width=o}}},{key:"getLayerList",value:function(){for(var t=this.getRowIndex(Nn.create(this.$config.get("bodyEvent").target).attr("data-row-index")),e=Math.min(t,this.startRowIndex),n=Math.max(t,this.startRowIndex),r=[],o=e;o<=n;o++)r.push('[data-row-index="'.concat(o,'"]'));return this.refs.$keyframeList.$$(r.join(",")).map((function(t){var e=$z(t.attrs("data-layer-id","data-property"),2);return{layerId:e[0],property:e[1]}}))}},{key:"getTime",value:function(t,e,n){return t+(e-t)*n}},{key:"moveEndDragArea",value:function(t,e){if(!this.isNotMoved(t,e))if(this.left){this.refs.$dragArea.css({left:null,top:null,width:null,height:null});var n=this.$el.width(),r=this.getTimeRateByPosition(this.left.value/n),o=this.getTimeRateByPosition((this.left.value+this.width.value)/n);this.$timeline.selectBySearch(this.getLayerList(),r,o),this.refresh(),this.startRowIndex=null}else this.doubleClicked?this.doubleClicked=!1:(this.$timeline.empty(),this.refresh())}},{key:zr("$keyframeList")+Rr,value:function(){var t=this,e=this.$selection.currentProject;if(!e)return"";var n=e.getSelectedTimeline();if(!n)return"";var r=this.$el.rect().width-20;return this.rect={totalWidth:r,startX:10},this.state.rowIndex=0,n.animations.map((function(e){return t.makeTimelineKeyframeRow(n,e)}))}},{key:er("$el .timeline-keyframe-row.layer .title"),value:function(t){t.$dt.closest("timeline-keyframe").toggleClass("collapsed")}},{key:"hasCurrentTimeline",value:function(){return!!this.currentTimeline}},{key:"getRealPosition",value:function(t){var e=this.$el.rect(),n={x:t.xy.x-e.left,width:e.width,y:t.xy.y-e.top,height:e.height},r=n.width-10;return n.x<10&&(n.x=10),n.x>r&&(n.x=r),n.rate=(n.x-10)/(r-10),n}},{key:"getTimeRateByPosition",value:function(t){var e=this.currentTimeline;if(e){var n=e.displayStartTime,r=e.displayEndTime;return this.getTime(n,r,t)}return 0}},{key:nr("$el .layer-property"),value:function(t){var e=$z(t.$dt.attrs("data-layer-id","data-property"),2),n=e[0],r=e[1],o=this.getTimeRateByPosition(this.getRealPosition(t).rate);this.emit("addTimelineKeyframe",{layerId:n,property:r,time:o}),this.doubleClicked=!0,this.refresh()}},{key:wr("$el .layer-property .offset")+$r("hasCurrentTimeline")+Ar("moveOffset")+Ir("moveEndOffset"),value:function(t){var e=this;this.$offset=t.$dt;var n=this.$offset.attr("data-offset-id"),r=this.$offset.attr("data-property"),o=this.$offset.attr("data-layer-id");this.$keyframeBack=this.$offset.closest("timeline-keyframe-row").$(".keyframe-back");var i=this.$el.rect().width-20;this.rect={totalWidth:i,startX:10};var a=this.$selection.currentProject;a&&(this.offset=a.getTimelineKeyframeById(o,r,n),this.layerId=o,this.property=r,this.cachedOffsetTime=this.offset.time),this.timeline=this.currentTimeline,this.$timeline.checked(n)||this.$timeline.select(this.offset),this.cachedOffsetList={},this.$timeline.cachedList().forEach((function(t){e.cachedOffsetList[t.id]=t.time})),this.emit("refreshOffsetValue",this.offset)}},{key:"moveOffset",value:function(t,e){var n=this;if(!this.isNotMoved(t,e)){var r=this.timeline,o=r.displayStartTime,i=r.displayEndTime,a=r.fps,c=t<0?-1:1,u=Math.abs(t)/this.rect.totalWidth*(i-o);this.$timeline.each((function(t){var e=n.cachedOffsetList[t.id]+u*c;e=Math.max(e,o),e=Math.min(e,i);var r=Fa(a,e);e=Ba(a,r),t.time=e})),this.refresh(),this.emit("refreshOffsetValue",this.offset)}}},{key:Wo("toggleTimelineObjectRow"),value:function(t,e){this.$el.$('.timeline-keyframe[data-timeline-layer-id="'.concat(t,'"]')).toggleClass("collapsed",e)}},{key:"moveEndOffset",value:function(t,e){if(this.isNotMoved(t,e))return this.refresh(),void this.emit("refreshOffsetValue",this.offset);var n=this.$selection.currentProject;n&&(this.$timeline.each((function(t){n.sortTimelineKeyframe(t.layerId,t.property)})),this.refresh())}},{key:Wo("addTimeline","moveTimeline")+Dr(100),value:function(){this.refresh()}},{key:Wo("refreshTimeline","toggleFooterEnd"),value:function(){this.refresh()}},{key:Wo("resize.window")+Dr(100),value:function(){this.refresh()}},{key:"currentTimeline",get:function(){var t=this.$selection.currentProject;if(t)return t.getSelectedTimeline()}}])&&_z(n.prototype,r),o&&_z(n,o),e}(Uo);function Vz(t){return(Vz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Az(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lz(t,e){return!e||"object"!==Vz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mz(t){return(Mz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zz(t,e){return(zz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Bz=function(t){function e(){return Az(this,e),Lz(this,Mz(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zz(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n        <div class='keyframe-time-control'>\n            <div class='time-manager'>\n                <button type=\"button\" ref='$timer'>".concat(jv.timer,'</button>\n                <label>\n                    <input type="text" ref=\'$currentTime\' />\n                </label>\n                <label>FPS <input type="number" ref=\'$fps\' min="0" max="999" /></label>\n                <label>\n                    <input type="text" ref=\'$duration\' />\n                </label>\n            </div>\n        </div>')}},{key:"refresh",value:function(){this.refreshTimeInfo()}},{key:"hasCurrentTimeline",value:function(){return!!this.currentTimeline}},{key:"refreshTimeInfo",value:function(){var t=this.currentTimeline;t&&(this.refs.$currentTime.val(t.currentTimecode),this.refs.$duration.val(t.totalTimecode),this.refs.$fps.val(t.fps))}},{key:"refreshCurrentTime",value:function(){var t=this.currentTimeline;t&&this.refs.$currentTime.val(t.currentTimecode)}},{key:Wo("playTimeline"),value:function(){this.refreshCurrentTime()}},{key:Wo("refreshTimeline"),value:function(){this.refresh()}},{key:Wo("moveTimeline","refreshSelection")+Vr(10),value:function(){this.refresh()}},{key:ir("$fps")+_r,value:function(t){var e=+this.refs.$fps.val(),n=this.$selection.currentProject;n&&(n.setFps(e),this.emit("moveTimeline"))}},{key:"checkNumberOrTimecode",value:function(t){var e=t.target.value.trim();return+e+""===e||!!e.match(/^[0-9:]+$/)}},{key:"checkKey",value:function(t){return!!t.key.match(/^[0-9:]+$/)||"Backspace"===t.code||"ArrowRight"===t.code||"ArrowLeft"===t.code}},{key:er("$timer"),value:function(){var t=this.$selection.currentProject;t&&(t.seek(this.refs.$currentTime.value,(function(t){return!0})),this.emit("playTimeline"))}},{key:or("$currentTime"),value:function(t){if(!this.checkKey(t))return t.preventDefault(),t.stopPropagation(),!1}},{key:ir("$currentTime")+_r+$r("checkNumberOrTimecode")+$r("hasCurrentTimeline")+Lr,value:function(t){var e=this.refs.$currentTime.value,n=this.$selection.currentProject;n&&n.setTimelineCurrentTime(e),this.refresh(),this.emit("moveTimeline")}},{key:or("$duration"),value:function(t){if(!this.checkKey(t))return t.preventDefault(),t.stopPropagation(),!1}},{key:ir("$duration")+_r+$r("checkNumberOrTimecode")+$r("hasCurrentTimeline")+Lr,value:function(t){var e=this.refs.$duration.value,n=this.$selection.currentProject;n&&n.setTimelineTotalTime(e),this.refresh(),this.emit("moveTimeline")}},{key:"currentTimeline",get:function(){var t=this.$selection.currentProject;return t?t.getSelectedTimeline():null}}])&&Iz(n.prototype,r),o&&Iz(n,o),e}(Uo);function Fz(t){return(Fz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xz(t,e){return!e||"object"!==Fz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yz(t){return(Yz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nz(t,e){return(Nz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Kz=function(t){function e(){return Gz(this,e),Xz(this,Yz(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nz(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{KeyframeTimeControl:Bz}}},{key:"template",value:function(){return"\n            <div class='timeline-top-toolbar'>\n                <KeyframeTimeControl />\n            </div>\n        "}}])&&Hz(n.prototype,r),o&&Hz(n,o),e}(Uo);function Wz(t){return(Wz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qz(t,e){return!e||"object"!==Wz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tB(t){return(tB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function eB(t,e){return(eB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nB=function(t){function e(){return qz(this,e),Qz(this,tB(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eB(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n        <div class='keyframe-time-view'>\n            <div class='time-duration'>\n                <div class='duration-handle-left'></div>\n                <div class='duration-handle-right'></div>\n                <div class='duration-slider' ref='$slider'>\n                    <div class='gauge' ref='$gauge'></div>\n                    <div class='start' ref='$start'></div>\n                    <div class='end' ref='$end'></div>\n                </div>\n            </div>\n            <canvas ref=\"$canvas\"></canvas>\n        </div>"}},{key:"refresh",value:function(){this.refreshTimeDisplay(),this.refreshCanvas()}},{key:"hasCurrentTimeline",value:function(){return!!this.currentTimeline}},{key:"refreshTimeDisplay",value:function(){var t=this.currentTimeline;if(t){var e=$.percent(t.displayStartTime/t.totalTime*100),n=$.percent(t.displayEndTime/t.totalTime*100);this.refs.$start.css("left",e),this.refs.$end.css("left",n),this.refs.$gauge.css({left:e,width:$.percent(n.value-e.value)})}}},{key:wr("$start")+$r("hasCurrentTimeline")+Ar("moveStartButton"),value:function(t){this.sliderRect=this.refs.$slider.rect(),this.endX=$.parse(this.refs.$end.css("left")).toPx(this.sliderRect.width)}},{key:"moveStartButton",value:function(){var t=this.$config.get("pos").x-this.sliderRect.x,e=this.endX;t=Math.max(t,0);var n=(t=Math.min(t,e))/this.sliderRect.width;this.$selection.currentProject.setDisplayStartTimeRate(n),this.refreshTimeDisplay(),this.refreshCanvas(),this.emit("moveTimeline")}},{key:wr("$end")+$r("hasCurrentTimeline")+Ar("moveEndButton"),value:function(t){this.sliderRect=this.refs.$slider.rect(),this.startX=$.parse(this.refs.$start.css("left")).toPx(this.sliderRect.width)}},{key:"moveEndButton",value:function(){var t=this.$config.get("pos").x-this.sliderRect.x,e=this.startX,n=this.sliderRect.width;t=Math.max(t,e);var r=(t=Math.min(t,n))/this.sliderRect.width;this.$selection.currentProject.setDisplayEndTimeRate(r),this.refreshTimeDisplay(),this.refreshCanvas(),this.emit("moveTimeline")}},{key:wr("$gauge")+$r("hasCurrentTimeline")+Ar("moveGaugeButton"),value:function(t){this.sliderRect=this.refs.$slider.rect();var e=this.currentTimeline,n=e.displayStartTime,r=e.displayEndTime;this.timelineStartTime=n,this.timelineEndTime=r}},{key:"moveGaugeButton",value:function(t,e){var n=t/this.sliderRect.width;this.$selection.currentProject.setDisplayTimeDxRate(n,this.timelineStartTime,this.timelineEndTime),this.refreshTimeDisplay(),this.refreshCanvas(),this.emit("moveTimeline")}},{key:"config",value:function(t){return this.parent.state[t]}},{key:"setConfig",value:function(t,e){this.parent.setState(Zz({},t,e),!1)}},{key:"refreshCanvas",value:function(){var t=this.$theme("timeline_grid_font_color"),e=this.$theme("timeline_timeview_bottom_color"),n=this.$theme("timeline_line_color"),r=this.currentTimeline;if(r){var o=this.$el.rect(),i=o.width,a=(o.height,r.displayStartTime),c=r.displayEndTime,u=r.fps,s=r.currentTime,l=Math.floor(a*u),f=Math.floor(c*u),p=(i=o.width,f-l),y=5;p<100?y=10:p<1e3?y=100:p<1e4?y=1e3:p<1e5&&(y=1e4),l%y!=0&&(l+=y-l%y);var h={textAlign:"center",textBaseline:"middle",font:"10px sans-serif"};this.refs.$canvas.resize({width:i,height:24}),this.refs.$canvas.update((function(){var r=this.rect(),o=i-20;for(this.drawOption(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Uz(Object(n),!0).forEach((function(e){Zz(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uz(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({strokeStyle:"rgba(204, 204, 204, 0.3)",lineWidth:.5},h));l<f;l+=y){var p=(Ba(u,l)-a)/(c-a)*o;this.drawOption({fillStyle:t}),this.drawText(p+10,7,Ga(u,l).replace(/00\:/g,"")+"f")}this.drawOption({strokeStyle:e,lineWidth:1}),this.drawLine(0,r.height-.5,r.width,r.height);var d=(s-a)/(c-a)*o;this.drawOption({strokeStyle:n,fillStyle:n,lineWidth:1}),this.drawPath([d-4+10,r.height-10],[d+4+10,r.height-10],[d+4+10,r.height-4],[d+10,r.height],[d-4+10,r.height-4],[d-4+10,r.height-10])}))}}},{key:wr("$canvas")+$r("hasCurrentTimeline")+Ar()+Ir("moveEndCurrentTime"),value:function(t){this.selectedCanvasOffset=this.refs.$canvas.offset(),this.originalRect=this.$el.rect(),this.width=this.originalRect.width-20,this.emit("hideSelectionToolView"),this.$selection.empty(),this.emit("refreshSelection")}},{key:"move",value:function(){var t=this.width,e=t,n=this.$config.get("pos").x-this.selectedCanvasOffset.left;n=Math.max(n,0),n=Math.min(n,e),this.$selection.currentProject.setTimelineCurrentTimeRate(n/t),this.refresh(),this.$selection.currentProject.seek(),this.emit("moveTimeline")}},{key:"moveEndCurrentTime",value:function(){this.emit("resetSelection")}},{key:Wo("resize.window")+Dr(100),value:function(){this.refresh()}},{key:Wo("refreshTimeline","playTimeline","toggleFooterEnd"),value:function(){this.refresh()}},{key:Wo("moveTimeline","refreshSelection")+Vr(10),value:function(){this.refresh()}},{key:"currentTimeline",get:function(){var t=this.$selection.currentProject;return t?t.getSelectedTimeline():null}}])&&Jz(n.prototype,r),o&&Jz(n,o),e}(Uo);function rB(t){return(rB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aB(t,e){return!e||"object"!==rB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cB(t){return(cB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uB(t,e){return(uB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var sB=function(t){function e(){return oB(this,e),aB(this,cB(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uB(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n            <div class='keyframe-time-grid-view'>\n                <canvas ref=\"$canvas\"></canvas>\n            </div>\n        "}},{key:"refresh",value:function(){this.refreshCanvas()}},{key:"currentTimeline",value:function(){var t=this.$selection.currentProject;if(t)return t.getSelectedTimeline()}},{key:"hasCurrentTimeline",value:function(){return!!this.currentTimeline()}},{key:"refreshCanvas",value:function(){var t=this.$theme("timeline_line_color"),e=this.currentTimeline();if(e){var n=this.$el.rect().width,r=e.currentTime,o=e.displayStartTime,i=e.displayEndTime;this.refs.$canvas.resize(this.$el.rect()),this.refs.$canvas.update((function(){var e=this.rect(),a=(r-o)/(i-o)*(n-20);this.drawOption({strokeStyle:t,lineWidth:1}),this.drawLine(a+10,0,a+10,e.height)}))}}},{key:Wo("resize.window")+Dr(100),value:function(){this.refresh()}},{key:Wo("refreshTimeline","playTimeline","toggleFooterEnd"),value:function(){this.refresh()}},{key:Wo("moveTimeline","refreshSelection")+Vr(50),value:function(){this.refresh()}}])&&iB(n.prototype,r),o&&iB(n,o),e}(Uo);function lB(t){return(lB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dB(t,e){return!e||"object"!==lB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vB(t){return(vB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bB(t,e){return(bB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var mB=function(t){function e(){return yB(this,e),dB(this,vB(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bB(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{CSSPropertyEditor:mV,CubicBezierEditor:JC}}},{key:"initState",value:function(){return{time:0,timing:"linear",selectedIndex:1}}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.state)}},{key:"getProperties",value:function(){return[{key:this.state.property,value:Qt(this.state.value)?"10px":this.state.value,editor:this.state.editor}].filter((function(t){return t.key}))}},{key:"refresh",value:function(){var t=this.$selection.currentProject,e="00:00:00:00";if(t){var n=t.getSelectedTimeline();n&&(e=Fa(n.fps,this.state.time))}this.refs.$offsetTime.val(e),this.children.$propertyEditor.trigger("showCSSPropertyEditor",this.getProperties()),this.children.$cubicBezierEditor.trigger("showCubicBezierEditor",this.state.timing)}},{key:"template",value:function(){return'\n    <div class=\'timeline-value-editor\'>\n        <div class="tab number-tab" ref="$tab">\n            <div class="tab-header full" ref="$header">\n                <div class="tab-item selected" data-value="1">\n                    <label>'.concat(this.$i18n("timeline.value.editor.value"),'</label>\n                </div>          \n                <div class="tab-item" data-value="2">\n                    <label>').concat(this.$i18n("timeline.value.editor.timing"),'</label> \n                </div>                            \n            </div>\n            <div class="tab-body" ref="$body">\n                <div class="tab-content selected padding-zero" data-value="1">\n                    ').concat(this.templateForOffset(),"  \n                    ").concat(this.templateForProperty(),'  \n                </div>\n                <div class="tab-content" data-value="2">\n                    ').concat(this.templateForTimingFunction(),"\n                </div>\n            </div>\n        </div>\n    </div>\n    ")}},{key:er("$header .tab-item"),value:function(t){var e=+t.$dt.attr("data-value");this.state.selectedIndex!==e&&(this.$el.$$('[data-value="'.concat(this.state.selectedIndex,'"]')).forEach((function(t){return t.removeClass("selected")})),this.$el.$$('[data-value="'.concat(e,'"]')).forEach((function(t){return t.addClass("selected")})),this.setState({selectedIndex:e},!1),this.refresh())}},{key:"checkNumberOrTimecode",value:function(t){var e=t.target.value.trim();return+e+""===e||!!e.match(/^[0-9:]+$/)}},{key:"checkKey",value:function(t){return!!t.key.match(/^[0-9:]+$/)||"Backspace"===t.code||"ArrowRight"===t.code||"ArrowLeft"===t.code}},{key:or("$offsetTime"),value:function(t){if(!this.checkKey(t))return t.preventDefault(),t.stopPropagation(),!1}},{key:ir("$offsetTime")+_r+$r("checkNumberOrTimecode")+Lr,value:function(t){var e=this.refs.$offsetTime.value,n=this.$selection.currentProject;if(n){var r=n.getSelectedTimeline();this.updateData({time:Ba(r.fps,e)})}}},{key:"templateForOffset",value:function(){return"\n      <div class='offset-input'>\n        <label>".concat(this.$i18n("timeline.value.editor.time"),"</label>\n        <div class='input-area'>\n          <input type=\"text\" ref='$offsetTime' title=\"").concat(this.$i18n("timeline.value.editor.offset.message"),"\" />\n        </div>\n        <button type=\"button\" ref='$seek' title='Seek timeline'>").concat(jv.gps_fixed,"</button>\n      </div>\n    ")}},{key:er("$seek"),value:function(){var t=this,e=this.$selection.currentProject;e&&(e.seek(this.refs.$offsetTime.value,(function(e){return e.layer.id===t.state.layerId&&e.property===t.state.property})),this.emit("playTimeline"))}},{key:"templateForProperty",value:function(){return"\n      <CSSPropertyEditor ref='$propertyEditor' hide-title='true' onchange='changePropertyEditor' />\n    "}},{key:"templateForTimingFunction",value:function(){return"\n    <div class='timing-function'>\n      <CubicBezierEditor ref='$cubicBezierEditor' key=\"timing\" value=\"".concat(this.state.timingFunction,"\" onChange='changeCubicBezier' />\n    </div>\n    ")}},{key:Wo("refreshPropertyValue"),value:function(){var t=this.$selection.currentProject;if(t){var e=t.searchById(this.state.layerId);if(e){var n=e[this.state.property]+"";this.trigger("refreshOffsetValue",{value:n}),this.updateData({value:n})}}}},{key:Wo("refreshOffsetValue"),value:function(t){this.setState(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fB(Object(n),!0).forEach((function(e){pB(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t),!1),this.refresh()}},{key:Wo("changeCubicBezier"),value:function(t,e){this.updateData(pB({},t,e+""))}},{key:Wo("changePropertyEditor"),value:function(t){if(t.length){var e=t[0];this.updateData({value:e.value+""})}}}])&&hB(n.prototype,r),o&&hB(n,o),e}(Uo);function gB(t){return(gB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OB(t,e){return!e||"object"!==gB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jB(t){return(jB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function SB(t,e){return(SB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var PB=function(t){function e(){return wB(this,e),OB(this,jB(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&SB(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n            <div class='timeline-play-control' >\n                <div class='row'>\n                    <div class='play-buttons' ref='$playButtons' data-status='".concat(this.state.status,"'>\n                        <button type=\"button\" data-value='play' class='play' title='").concat(this.$i18n("timeline.play.control.play"),"'>").concat(jv.play,"</button>\n                        <button type=\"button\" data-value='pause' class='pause' title='").concat(this.$i18n("timeline.play.control.pause"),"'>").concat(jv.pause,"</button>                \n                        <button type=\"button\" data-value='first' class='first' title='").concat(this.$i18n("timeline.play.control.first"),"'>").concat(jv.skip_prev,"</button>\n                        <button type=\"button\" data-value='prev' class='prev' title='").concat(this.$i18n("timeline.play.control.prev"),"'>").concat(jv.fast_rewind,"</button>                    \n                        <button type=\"button\" data-value='next' class='next' title='").concat(this.$i18n("timeline.play.control.next"),"'>").concat(jv.fast_forward,"</button>\n                        <button type=\"button\" data-value='last' class='last' title='").concat(this.$i18n("timeline.play.control.last"),"'>").concat(jv.skip_next,"</button>\n                    </div>\n                </div>\n                <div class='row'>            \n                    <label title='Speed'>").concat(this.$i18n("timeline.play.control.speed"),"</label>\n                    <div class='input speed-number' >\n                        <input type='number' min=\"0.1\" max=\"10\" step=\"0.1\" ref='$speed' value='").concat(this.state.speed,"' />\n                    </div>\n                </div>                \n                <div class='row'>            \n                    <label><span ref='$repeatStatus'>").concat(this.$i18n("timeline.play.control.repeat"),"</span></label>\n                    <div class='input' >\n                        <input type='number' min=\"0\" max=\"100\" step=\"1\" ref='$iteration' value='").concat(this.state.iterationCount,"' />\n                    </div> \n                </div>\n                <div class='row'>\n                    <label> ").concat(this.$i18n("timeline.play.control.direction"),"</label>\n                    <div class='direction-buttons' ref='$direction' data-selected-direction='").concat(this.state.direction,"'>\n                        <button type=\"button\" data-value='normal' title='").concat(this.$i18n("timeline.play.control.normal"),"'>").concat(jv.arrowRight,"</button>\n                        <button type=\"button\" data-value='alternate' title='").concat(this.$i18n("timeline.play.control.alternate"),"'>").concat(jv.alternate,"</button>\n                        <button type=\"button\" data-value='reverse' title='").concat(this.$i18n("timeline.play.control.reverse"),"' style='transform: rotateY(180deg)'>").concat(jv.arrowRight,"</button>\n                        <button type=\"button\" data-value='alternate-reverse' title='").concat(this.$i18n("timeline.play.control.alternate.reverse"),"' style='transform: rotateY(180deg)'>").concat(jv.alternate_reverse,"</button>\n                    </div>\n                </div>                                \n            </div>\n        ")}},{key:"initState",value:function(){var t=1,e=1,n="normal",r=this.getSelectedTimeline();return r&&(t=r.speed,e=r.iterationCount,n=r.direction),{status:"pause",speed:t,iterationCount:e,direction:n}}},{key:"getSelectedTimeline",value:function(){var t=this.$selection.currentProject;if(t)return t.getSelectedTimeline()}},{key:"updateData",value:function(t){this.setState(t,!1);var e=this.$selection.currentProject;e&&e.setTimelineInfo(t)}},{key:er("$playButtons button"),value:function(t){var e=t.$dt.attr("data-value");this.setState({status:e}),"play"===e?this.play():"pause"===e?this.pause():"first"===e?this.first():"prev"===e?this.prev():"next"===e?this.next():"last"===e&&this.last()}},{key:"first",value:function(){this.emit("firstTimelineItem"),this.$editor.changeMode("SELECTION"),this.emit("afterChangeMode")}},{key:"prev",value:function(){this.emit("prevTimelineItem"),this.$editor.changeMode("SELECTION"),this.emit("afterChangeMode")}},{key:"next",value:function(){this.emit("nextTimelineItem"),this.$editor.changeMode("SELECTION"),this.emit("afterChangeMode")}},{key:"last",value:function(){this.emit("lastTimelineItem"),this.$editor.changeMode("SELECTION"),this.emit("afterChangeMode")}},{key:"play",value:function(){this.emit("playTimelineItem",this.state.speed,this.state.iterationCount,this.state.direction)}},{key:"pause",value:function(){this.emit("pauseTimelineItem"),this.$editor.changeMode("SELECTION"),this.emit("afterChangeMode")}},{key:Wo("stopTimeline"),value:function(){this.updateData({status:"pause"})}},{key:er("$direction button"),value:function(t){this.updateData({direction:t.$dt.attr("data-value")}),this.refresh()}},{key:er("$repeatStatus"),value:function(t){var e=0;0===this.refs.$iteration.value&&(e=1),this.updateData({iterationCount:e}),this.refs.$iteration.val(e),this.bindData("$repeatStatus")}},{key:pr("$iteration"),value:function(t){this.updateData({iterationCount:+this.refs.$iteration.value}),this.bindData("$repeatStatus")}},{key:pr("$speed"),value:function(t){this.updateData({speed:+this.refs.$speed.value})}},{key:Hr("$repeatStatus"),value:function(){return{text:0===this.state.iterationCount?this.$i18n("timeline.play.control.infinite"):this.$i18n("timeline.play.control.repeat")}}},{key:Hr("$playButtons"),value:function(){return{"data-status":this.state.status}}},{key:Hr("$direction"),value:function(){return{"data-selected-direction":this.state.direction}}},{key:Wo("selectTimeline"),value:function(){this.refresh()}}])&&kB(n.prototype,r),o&&kB(n,o),e}(Uo);function xB(t){return(xB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _B(t,e){return!e||"object"!==xB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function CB(t){return(CB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function TB(t,e){return(TB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var RB=function(t){function e(){return $B(this,e),_B(this,CB(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&TB(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("timeline.animation.property.title")}},{key:"getClassName",value:function(){return"full"}},{key:"getTools",value:function(){return"\n      <button type='button' ref='$add' title=\"Add an animation\">".concat(jv.add,"</button>\n    ")}},{key:"getBody",value:function(){return'\n      <div class="timeline-animation-list" ref="$timelineAnimationList"></div>\n    '}},{key:zr("$timelineAnimationList")+Rr,value:function(){var t=this.$selection.currentProject;return t?t.timeline.map((function(t,e){var n=t.selected?"selected":"";return("\n        <div class='timeline-animation-item ".concat(n,"'>\n          <div class='preview icon'>\n            ").concat(jv.local_movie,"\n          </div>\n          <div class='detail'>\n            <label data-id='").concat(t.id,"'>").concat(t.title,'</label>\n            <div class="tools">\n              <button type="button" class="remove" data-id="').concat(t.id,"\" title='Remove'>").concat(jv.remove2,"</button>\n            </div>\n          </div>\n        </div>\n      "))})):""}},{key:nr("$timelineAnimationList .timeline-animation-item"),value:function(t){this.startInputEditing(t.$dt.$("label"))}},{key:"modifyDoneInputEditing",value:function(t){var e=this;this.endInputEditing(t,(function(n,r){var o=t.attr("data-id"),i=e.$selection.currentProject;i&&i.setTimelineTitle(o,r)}))}},{key:or("$timelineAnimationList .timeline-animation-item label")+_r+Lr+Mr,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:dr("$timelineAnimationList .timeline-animation-item label")+Lr+Mr,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:er("$add"),value:function(t){this.emit("addTimelineItem")}},{key:er("$timelineAnimationList .timeline-animation-item .remove"),value:function(t){var e=t.$dt.attr("data-id");this.emit("removeAnimationItem",e)}},{key:er("$timelineAnimationList .timeline-animation-item label"),value:function(t){var e=t.$dt.attr("data-id"),n=this.$selection.currentProject;n&&(n.selectTimeline(e),t.$dt.closest("timeline-animation-item").onlyOneClass("selected"),this.emit("refreshTimeline"),this.emit("selectTimeline"))}},{key:Wo("addTimeline","removeTimeline","removeAnimation"),value:function(){this.refresh()}},{key:Wo("refreshTimeline","refreshSelection","refreshArtboard")+Dr(100),value:function(){this.refresh()}}])&&EB(n.prototype,r),o&&EB(n,o),e}(hz);function DB(t){return(DB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function IB(t,e){return!e||"object"!==DB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function LB(t){return(LB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function MB(t,e){return(MB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zB=function(t){function e(){return VB(this,e),IB(this,LB(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&MB(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{TimelineAnimationProperty:RB,TimelinePlayControl:PB,TimelineValueEditor:mB,KeyframeTimeView:nB,TimelineKeyframeList:Dz,TimelineObjectList:jz,TimelineTopToolbar:Kz,KeyframeTimeGridView:sB}}},{key:"isFirstShow",value:function(){return!1}},{key:"getTitle",value:function(){return this.$i18n("timeline.property.title")}},{key:"getTools",value:function(){return"\n      <TimelinePlayControl />\n      \n    "}},{key:"getClassName",value:function(){return"timeline full managed-tool"}},{key:"getBody",value:function(){return"\n      <div class='timeline-animation-area'>\n        <TimelineAnimationProperty />\n      </div>\n      <div class='timeline-area'>\n        <div class='timeline-header'>\n          <div class='timeline-object-toolbar'>\n            <TimelineTopToolbar />\n          </div>\n          <div class='timeline-keyframe-toolbar' ref='$keyframeToolBar'>\n            <KeyframeTimeView ref='$keyframeTimeView' /> \n          </div>\n        </div>\n        <div class='timeline-body'>\n          <div class='timeline-object-area' ref='$area'>\n            <TimelineObjectList />\n          </div>\n          <div class='timeline-keyframe-area' ref='$keyframeArea'>\n            <TimelineKeyframeList ref='$keyframeList' />          \n          </div>\n          <KeyframeTimeGridView ref='$keyframeTimeGridView' />            \n        </div>\n      </div>\n      <div class='timeline-value-area'>\n        <TimelineValueEditor ref='$valueEditor' onchange='changeKeyframeValue' />\n      </div>\n    "}},{key:mr("$keyframeArea"),value:function(t){this.refs.$area.setScrollTop(this.refs.$keyframeArea.scrollTop())}},{key:mr("$area"),value:function(t){this.refs.$keyframeArea.setScrollTop(this.refs.$area.scrollTop())}},{key:Wo("refreshValueEditor")+Dr(100),value:function(){this.children.$valueEditor.refresh()}},{key:"afterRender",value:function(){this.trigger("refreshValueEditor")}},{key:Wo("changeKeyframeValue"),value:function(t){this.emit("setTimelineOffset",t)}},{key:ur("$area")+Lr,value:function(t){}},{key:cr("$area")+Lr,value:function(t){this.emit("addTimelineItem",t.dataTransfer.getData("layer/id"))}},{key:"onToggleShow",value:function(){this.emit("toggleFooter",this.isPropertyShow())}}])&&AB(n.prototype,r),o&&AB(n,o),e}(hz);function BB(t){return(BB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function HB(t,e){return!e||"object"!==BB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function XB(t){return(XB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function YB(t,e){return(YB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var NB=["visible","hidden","scroll","auto"],KB=function(t){function e(){return FB(this,e),HB(this,XB(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&YB(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("background.color.property.title")}},{key:"isHideHeader",value:function(){return!0}},{key:"getOverflowList",value:function(){var t=this;return NB.map((function(e){return"".concat(e,":").concat(t.$i18n("background.color.property.overflow.".concat(e)))})).join(",")}},{key:"getBody",value:function(){return"\n\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='rotate'></span>\n        </div>\n        <RangeEditor \n          ref='$rotate' \n          key='rotate' \n          label='".concat(this.$i18n("background.color.property.rotate"),"'\n          min=\"0\"\n          max=\"360\"\n          step=\"0.01\"\n          units=\"deg\"\n          onchange=\"changeRotate\" />\n      </div>        \n\n\n        <div class='property-item animation-property-item' style='display:none;'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='z-index'></span>\n          </div>\n          <NumberRangeEditor \n            ref='$zIndex' \n            key='z-index' \n            label='").concat(this.$i18n("background.color.property.zindex"),"'\n            min=\"-1000\"\n            max=\"1000\"\n            step=\"1\"\n            onchange=\"changeSelect\" />\n        </div>\n\n        <div class='property-item animation-property-item'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='opacity'></span>\n          </div>\n          <NumberRangeEditor \n            ref='$opacity' \n            key='opacity' \n            label='").concat(this.$i18n("background.color.property.opacity"),"'\n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            onchange=\"changeSelect\" />\n        </div>        \n        \n        <div class='property-item animation-property-item'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='mix-blend-mode'></span>\n          </div>\n          <BlendSelectEditor \n            label='").concat(this.$i18n("background.color.property.blend"),"'\n            ref='$mixBlend' \n            removable='true'\n            key='mix-blend-mode' \n            icon=\"true\" \n            tabIndex=\"1\"\n            onchange=\"changeSelect\" />\n        </div>        \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='overflow'></span>\n          </div>\n          <SelectEditor \n            label='").concat(this.$i18n("background.color.property.overflow"),"'\n            ref='$overflow' \n            removable='true'\n            key='overflow' \n            icon=\"true\" \n            tabIndex=\"1\"\n            options=\"").concat(this.getOverflowList(),'" \n            onchange="changeSelect" />\n        </div>                \n      ')}},{key:Wo("refreshRect")+Dr(100),value:function(){var t=this.$selection.current;if(t){var e=t.rotate;e&&this.children.$rotate.setValue(e)}}},{key:Wo("changeRotate"),value:function(t,e){this.$selection.current&&this.command("setAttribute","change rotate",{rotate:e},!0,!0)}},{key:"refresh",value:function(){var t=this.$selection.current;if(t){this.children.$zIndex.setValue(t["z-index"]||0),this.children.$opacity.setValue(t.opacity||"1"),this.children.$mixBlend.setValue(t["mix-blend-mode"]),this.children.$overflow.setValue(t.overflow);var e=t.rotate;e&&this.children.$rotate.setValue(e)}}},{key:Wo("changeSelect"),value:function(t,e){this.command("setAttribute","change attribute : ".concat(t),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:"afterRender",value:function(){this.show()}},{key:Wo("refreshSelection"),value:function(){this.refresh()}}])&&GB(n.prototype,r),o&&GB(n,o),e}(hz);function WB(t){return(WB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function UB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qB(t,e){return!e||"object"!==WB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function JB(t){return(JB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function QB(t,e){return(QB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tF=function(t){function e(){return UB(this,e),qB(this,JB(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QB(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("border.radius.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"border-radius"}},{key:"getBody",value:function(){return"<div class=\"property-item full border-radius-item\" ref='$body'></div>"}},{key:zr("$body"),value:function(){var t=(this.$selection.current||{})["border-radius"]||"";return"\n      <BorderRadiusEditor ref='$1' value='".concat(t,"' onchange='changeBorderRadius' />\n    ")}},{key:Wo("refreshSelection")+Dr(100),value:function(){this.refreshShow(["rect","circle","text","cube","cylinder"])}},{key:Wo("changeBorderRadius"),value:function(t){this.command("setAttribute","change border radius",{"border-radius":t})}}])&&ZB(n.prototype,r),o&&ZB(n,o),e}(hz);function eF(t){return(eF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oF(t,e){return!e||"object"!==eF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iF(t){return(iF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function aF(t,e){return(aF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cF=function(t){function e(){return nF(this,e),oF(this,iF(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aF(t,e)}(e,t),n=e,(r=[{key:"isHideHeader",value:function(){return!0}},{key:"getTitle",value:function(){return this.$i18n("size.property.title")}},{key:Wo("refreshSelection"),value:function(){this.refreshShowIsNot("project")}},{key:Wo("refreshRect")+Vr(100),value:function(){this.refresh()}},{key:"refresh",value:function(){var t=this.$selection.current;t&&(this.children.$width.setValue(t.width),this.children.$height.setValue(t.height))}},{key:"getBody",value:function(){return"\n      <div style='display: grid;grid-template-columns: repeat(2, 1fr); grid-column-gap: 10px; padding-top: 10px;'>\n        <div class='property-item animation-property-item' style='padding:0px'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='width'></span>\n          </div>\n          <InputRangeEditor ref='$width' key='width' min=\"0\" max='3000' onchange='changRangeEditor' />\n        </div>\n        <div class='property-item animation-property-item' style='padding:0px'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='height'></span>      \n          </div>\n          <InputRangeEditor ref='$height' key='height' min=\"0\" max='3000' onchange='changRangeEditor' />\n        </div>      \n      </div>\n      <div style='display: grid;grid-template-columns: repeat(2, 1fr); grid-column-gap: 10px; text-align: center;padding: 4px 0px;'>\n        <span>".concat(this.$i18n("size.property.width"),"</span>\n        <span>").concat(this.$i18n("size.property.height"),"</span>\n      </div>\n    ")}},{key:Wo("changRangeEditor"),value:function(t,e){this.$selection.reset(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e)),this.emit("resetSelection")}}])&&rF(n.prototype,r),o&&rF(n,o),e}(hz);function uF(t){return(uF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fF(t,e){return!e||"object"!==uF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pF(t){return(pF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yF(t,e){return(yF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hF=function(t){function e(){return sF(this,e),fF(this,pF(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yF(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("boxshadow.property.title")}},{key:"getBody",value:function(){return'\n      <div class="full box-shadow-item" ref="$shadowList"></div>\n    '}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"box-shadow"}},{key:zr("$shadowList"),value:function(){var t=this.$selection.current||{};return("\n      <BoxShadowEditor ref='$boxshadow' value=\"".concat(t["box-shadow"]||"",'" hide-label="true" onChange="changeBoxShadow" />\n    '))}},{key:"getTools",value:function(){return"<button type=\"button\" ref='$add'>".concat(jv.add,"</button>")}},{key:er("$add"),value:function(){this.children.$boxshadow.trigger("add")}},{key:Wo("refreshSelection")+Dr(100),value:function(){this.refreshShow(["artboard","rect","circle","text"])}},{key:Wo("changeBoxShadow"),value:function(t){this.command("setAttribute","change box shadow",{"box-shadow":t})}}])&&lF(n.prototype,r),o&&lF(n,o),e}(hz);function dF(t){return(dF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mF(t,e){return!e||"object"!==dF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gF(t){return(gF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wF(t,e){return(wF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kF(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var OF=[];["margin","padding"].forEach((function(t){OF.push.apply(OF,kF(["-top","-bottom","-left","-right"].map((function(e){return t+e}))))}));var jF=function(t){function e(){return vF(this,e),mF(this,gF(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wF(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("box.model.property.title")}},{key:Wo("refreshSelection")+Dr(100),value:function(){this.refreshShow(["artboard","rect","circle","text"])}},{key:"getBody",value:function(){return'<div class="property-item box-model-item" ref="$boxModelItem"></div>'}},{key:"templateInput",value:function(t,e){var n=e[t]||$.z();return('<input type="number" ref="$'.concat(t,'" value="').concat(n.value,'" tabIndex="1" />'))}},{key:zr("$boxModelItem"),value:function(){var t=this.$selection.current;return t?'\n      <div>\n        <div class="margin" data-title="'.concat(this.$i18n("box.model.property.margin"),'">\n          <div data-value="top">\n            ').concat(this.templateInput("margin-top",t),'\n          </div>\n          <div data-value="bottom">\n            ').concat(this.templateInput("margin-bottom",t),'\n          </div>\n          <div data-value="left">\n            ').concat(this.templateInput("margin-left",t),'\n          </div>\n          <div data-value="right">\n            ').concat(this.templateInput("margin-right",t),'\n          </div>\n        </div>\n        <div class="padding" data-title="').concat(this.$i18n("box.model.property.padding"),'">\n          <div data-value="top">\n            ').concat(this.templateInput("padding-top",t),'\n          </div>\n          <div data-value="bottom">\n            ').concat(this.templateInput("padding-bottom",t),'\n          </div>\n          <div data-value="left">\n            ').concat(this.templateInput("padding-left",t),'\n          </div>\n          <div data-value="right">\n            ').concat(this.templateInput("padding-right",t),"\n          </div>\n        </div>\n        <div class='content' title='Content'>\n        \n        </div>\n      </div>\n    "):""}},{key:pr("$boxModelItem input"),value:function(t){this.resetBoxModel()}},{key:"resetBoxModel",value:function(){var t=this,e={};OF.forEach((function(n){e[n]=$.px(t.getRef("$",n).value)})),this.command("setAttribute","change padding or margin",e)}}])&&bF(n.prototype,r),o&&bF(n,o),e}(hz);function SF(t){return(SF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $F(t,e){return!e||"object"!==SF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function EF(t){return(EF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _F(t,e){return(_F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var CF=function(t){function e(){return PF(this,e),$F(this,EF(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_F(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"Content"}},{key:Wo("refreshSelection","refreshContent")+Dr(100),value:function(){this.refreshShow(["text"])}},{key:"getBody",value:function(){return'\n      <div class="property-item content-item">\n        <textarea ref="$contentItem"></textarea>\n      </div>\n    '}},{key:Hr("$contentItem"),value:function(){var t=this.$selection.current;return t?{value:t.content||""}:""}},{key:pr("$contentItem"),value:function(t){this.setContent()}},{key:"setContent",value:function(){var t=this.$selection.current;if(t){var e={content:this.refs.$contentItem.value};t.reset(e),this.emit("refreshCanvasForPartial",t)}}}])&&xF(n.prototype,r),o&&xF(n,o),e}(hz);function TF(t){return(TF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VF(t,e){return!e||"object"!==TF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function AF(t){return(AF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function IF(t,e){return(IF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var LF=function(t){function e(){return RF(this,e),VF(this,AF(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IF(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("font.property.title")}},{key:"getClassName",value:function(){return"item"}},{key:"afterRender",value:function(){this.show()}},{key:Wo("refreshSelection"),value:function(){this.refresh()}},{key:"refresh",value:function(){var t=this.$selection.current;t&&(this.children.$color.setValue(t.color||"rgba(0, 0, 0, 1)"),this.children.$size.setValue(t["font-size"]),this.children.$stretch.setValue(t["font-stretch"]||"0%"),this.children.$style.setValue(t["font-style"]),this.children.$family.setValue(t["font-family"]))}},{key:"getBody",value:function(){return"\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='color'></span>\n        </div>\n        <ColorViewEditor ref='$color' label='".concat(this.$i18n("font.property.color"),"' key='color' onchange=\"changeColor\" />\n      </div>      \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='font-size'></span>\n        </div>\n        <RangeEditor \n          ref='$size' \n          label='").concat(this.$i18n("font.property.size"),"' \n          key=\"font-size\" \n          \n          onchange=\"changeRangeEditor\" />\n      </div>\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='font-stretch'></span>\n        </div>\n        <RangeEditor \n          ref='$stretch' \n          label='").concat(this.$i18n("font.property.stretch"),"' \n          key=\"font-stretch\" \n          \n          units='%',\n          onchange=\"changeRangeEditor\" />\n      </div>      \n \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='font-weight'></span>\n        </div>\n        <NumberRangeEditor \n          ref='$weightRange' \n          label='").concat(this.$i18n("font.property.weight"),'\' \n          key=\'font-weight\' \n         \n          value="400" \n          min="100"\n          max="900"\n          step="1"\n          calc="false"\n          unit="number" \n          onchange="changeRangeEditor" \n          />\n      </div>              \n      <div class=\'property-item\'>\n        <SelectIconEditor \n          ref=\'$style\' \n          label=\'').concat(this.$i18n("font.property.style"),"' \n          key=\"font-style\" \n          options=\"normal:I,italic\" \n          icons='I,italic'\n          onchange=\"changeRangeEditor\" />\n      </div>      \n\n      <div class='property-item'>\n        <SelectEditor \n          ref='$family' \n          icon=\"true\"\n          label='").concat(this.$i18n("font.property.family"),'\' \n          key="font-family" \n          options=",serif,sans-serif,monospace,cursive,fantasy,system-ui" \n          onchange="changeRangeEditor" \n        />\n      </div> \n         \n    ')}},{key:Wo("changeColor"),value:function(t,e){this.trigger("changeRangeEditor",t,e)}},{key:Wo("changeRangeEditor"),value:function(t,e){this.command("setAttribute","change font attribute",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&DF(n.prototype,r),o&&DF(n,o),e}(hz);function MF(t){return(MF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function FF(t,e){return!e||"object"!==MF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function GF(t){return(GF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function HF(t,e){return(HF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var XF=function(t){function e(){return zF(this,e),FF(this,GF(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&HF(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("text.shadow.property.title")}},{key:"getBody",value:function(){return'\n      <div class="full text-shadow-item" ref="$shadowList"></div>\n    '}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"text-shadow"}},{key:"getTools",value:function(){return"<button type=\"button\" ref='$add'>".concat(jv.add,"</button>")}},{key:er("$add"),value:function(){this.children.$textshadow.trigger("add")}},{key:zr("$shadowList"),value:function(){var t=this.$selection.current||{};return("\n      <TextShadowEditor ref='$textshadow' value=\"".concat(t["text-shadow"]||"",'" hide-label="true" onChange="changeTextShadow" />\n    '))}},{key:"afterRender",value:function(){this.show()}},{key:Wo("refreshSelection"),value:function(){this.refresh()}},{key:Wo("changeTextShadow"),value:function(t){this.command("setAttribute","change text shadow",{"text-shadow":t})}}])&&BF(n.prototype,r),o&&BF(n,o),e}(hz);function YF(t){return(YF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function NF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function WF(t,e){return!e||"object"!==YF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function UF(t){return(UF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ZF(t,e){return(ZF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qF=function(t){function e(){return NF(this,e),WF(this,UF(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ZF(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("text.property.title")}},{key:"afterRender",value:function(){this.show()}},{key:Wo("refreshSelection"),value:function(){this.refresh()}},{key:"refresh",value:function(){var t=this.$selection.current;t&&(this.children.$align.setValue(t["text-align"]),this.children.$transform.setValue(t["text-transform"]),this.children.$decoration.setValue(t["text-decoration"]))}},{key:"getBody",value:function(){return"\n      <div class=\"property-item\">\n        <SelectIconEditor \n          ref='$align' \n          label='".concat(this.$i18n("text.property.align"),"' \n          key='text-align' \n          value='left' \n          options=\"left,center,right,justify\" \n          icons=\"align_left,align_center,align_right,align_justify\" \n          onchange='changeTextValue' />        \n      </div>        \n      <div class=\"property-item\">\n        <SelectIconEditor \n          ref='$transform' \n          label='").concat(this.$i18n("text.property.transform"),"' \n          key='text-transform' \n          options=\"none,uppercase:A,lowercase:a,capitalize:Aa\"\n          onchange='changeTextValue' />                \n      </div>        \n      <div class=\"property-item\">\n        <SelectIconEditor \n          ref='$decoration' \n          label='").concat(this.$i18n("text.property.decoration"),"' \n          key='text-decoration' \n          options=\"none,underline,overline:O,line-through\" \n          icons=\"A,underline,O,strikethrough\"\n          onchange='changeTextValue' />        \n      </div>                    \n    ")}},{key:Wo("changeTextValue"),value:function(t,e){this.command("setAttribute","change text property : ".concat(t),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&KF(n.prototype,r),o&&KF(n,o),e}(hz);function JF(t){return(JF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function QF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eG(t,e){return!e||"object"!==JF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nG(t){return(nG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rG(t,e){return(rG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var oG=function(t){function e(){return QF(this,e),eG(this,nG(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rG(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("font.spacing.property.title")}},{key:"afterRender",value:function(){this.show()}},{key:Wo("refreshSelection"),value:function(){this.refresh()}},{key:"refresh",value:function(){var t=this.$selection.current;t&&(this.children.$lineHeight.setValue(t["line-height"]||$.number(1)),this.children.$letter.setValue(t["letter-spacing"]||"0px"),this.children.$word.setValue(t["word-spacing"]||"0px"),this.children.$indent.setValue(t["text-indent"]||"0px"))}},{key:"getBody",value:function(){return"\n\n    <div class='property-item animation-property-item'>\n      <div class='group'>\n        <span class='add-timeline-property' data-property='line-height'></span>\n      </div>\n      <RangeEditor \n        ref='$lineHeight' \n        label='".concat(this.$i18n("font.spacing.property.lineHeight"),"' \n        key=\"line-height\" \n        units=\",px,%,em\"\n        onchange=\"changeRangeEditor\" />\n    </div>       \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='letter-spacing'></span>\n        </div>\n        <RangeEditor ref='$letter' label='").concat(this.$i18n("font.spacing.property.letterSpacing"),"' key=\"letter-spacing\" min=\"-100\" max=\"100\" onchange=\"changeRangeEditor\" />\n      </div>\n\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='word-spacing'></span>\n        </div>\n        <RangeEditor ref='$word' label='").concat(this.$i18n("font.spacing.property.wordSpacing"),"' key=\"word-spacing\"  min=\"-100\" max=\"100\" onchange=\"changeRangeEditor\" />\n      </div>\n\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-indent'></span>\n        </div>      \n        <RangeEditor ref='$indent' label='").concat(this.$i18n("font.spacing.property.indent"),'\' key="text-indent"  min="-100" max="100" onchange="changeRangeEditor" />\n      </div>      \n    ')}},{key:Wo("changeRangeEditor"),value:function(t,e){""===e.unit&&(e=$.number(e.value)),this.command("setAttribute","change font attribute: ".concat(t),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&tG(n.prototype,r),o&&tG(n,o),e}(hz);function iG(t){return(iG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uG(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function sG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fG(t,e){return!e||"object"!==iG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pG(t){return(pG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yG(t,e){return(yG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hG=[{key:"top",title:"Top"},{key:"bottom",title:"Bottom"},{key:"left",title:"Left"},{key:"right",title:"Right"}],dG=hG.map((function(t){return t.key})),vG={image:"Image","static-gradient":"Static","linear-gradient":"Linear","repeating-linear-gradient":"".concat(jv.repeat," Linear"),"radial-gradient":"Radial","repeating-radial-gradient":"".concat(jv.repeat," Radial"),"conic-gradient":"Conic","repeating-conic-gradient":"".concat(jv.repeat," Conic")},bG=function(t){function e(){return sG(this,e),fG(this,pG(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yG(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"Border Image"}},{key:Wo("refreshSelection"),value:function(){this.refresh()}},{key:"getTools",value:function(){var t=(this.$selection.current||{}).appliedBorderImage||!1;return"\n      <label><input type='checkbox' ".concat(t?"checked":""," ref='$apply' /> Apply</label>\n    ")}},{key:er("$apply"),value:function(){var t=this.$selection.current;if(t){var e=this.refs.$apply.checked();t.reset({applyBorderImage:e}),this.emit("refreshElement",t)}}},{key:"getColorStepList",value:function(t){switch(t.type){case"static-gradient":case"linear-gradient":case"repeating-linear-gradient":case"radial-gradient":case"repeating-radial-gradient":case"conic-gradient":case"repeating-conic-gradient":return this.getColorStepString(t.colorsteps)}return""}},{key:"getColorStepString",value:function(t){return t.map((function(t){return"<div class='step' data-colorstep-id=\"".concat(t.id,"\" data-selected='").concat(t.selected,"' style='background-color:").concat(t.color,";'></div>")})).join("")}},{key:zr("$borderImageView"),value:function(){var t=(this.$selection.current||{borderImage:{image:{}}}).borderImage,e=t.type?vG[t.type]:"",n="background-image: ".concat(t.image.toString(),"; background-size: cover;");return" \n      <div class='preview' ref=\"$preview\">\n        <div class='mini-view'>\n          <div class='color-view'  style=\"".concat(n,"\" ref=\"$miniView\"></div>\n        </div>\n      </div> \n      <div class='fill-info'>\n        <div class='gradient-info'>\n          <div class='fill-title' ref=\"$fillTitle\">").concat(e,"</div>\n          <div class='colorsteps' ref=\"$colorsteps\">\n            ").concat(this.getColorStepList(t.image),"\n          </div>\n        </div>\n      </div>\n    ")}},{key:Wo("changeBorderImage"),value:function(t,e){var n=this;"border-image-slice"===t&&dG.forEach((function(t){n.children["$".concat(t,"Slice")].setValue(e)})),this.setBorderImageProperty()}},{key:"getBody",value:function(){return this.$selection.current,'\n      <div class="property-item border-image-item" ref=\'$borderImageView\'></div>    \n      <div class="property-item border-slice-item">\n        <div class="slice-selector" data-selected-value="all" ref="$selector">\n          <button type="button" data-value="all">'.concat(jv.border_all,'</button>\n          <button type="button" data-value="partitial">\n            ').concat(jv.border_inner,'\n          </button>\n        </div>\n        <div class="slice-value">\n          <RangeEditor ref=\'$allSlice\' key=\'border-image-slice\' onchange=\'changeBorderImage\' />\n        </div>\n      </div>\n      <div\n        class="property-item border-slice-item full has-list"\n        ref="$partitialSetting"\n        style="display: none;"\n      >\n        <div class="slice-setting-box" ref="$sliceSettingBox">\n          ').concat(hG.map((function(t){return"\n              <div>\n                <label class='title'>".concat(t.title,"</label>\n              </div>\n              <div>\n                <RangeEditor ref='$").concat(t.key,"Slice' label='Slice' key='border-image-slice-").concat(t.key,"' onchange='changeBorderImage' /> \n              </div>  \n              <div>\n                <RangeEditor ref='$").concat(t.key,"Width' label='Width' key='border-image-width-").concat(t.key,"' onchange='changeBorderImage' /> \n              </div>                \n            ")})).join(""),"\n        </div>\n      </div>\n    ")}},{key:fr("$sliceSettingBox select"),value:function(t){this.setBorderImageProperty()}},{key:er("$borderImageView .preview"),value:function(){this.viewFillPopup(this.refs.$preview,"")}},{key:er("$borderImageView .colorsteps .step"),value:function(t){this.refs.$colorsteps.$('[data-selected="true"]').removeAttr("data-selected");var e=t.$dt.attr("data-colorstep-id");t.$dt.attr("data-selected",!0);var n=t.$dt.closest("border-image-item").$(".preview");this.viewFillPopup(n,e)}},{key:"getFillData",value:function(t){var e={type:t.type};switch(e.type){case"image":e.url=t.image?t.image.url:"";break;default:if(t.image){var n=t.image;e.type=n.type,e.colorsteps=uG(n.colorsteps),e.angle=n.angle,e.radialType=n.radialType||"ellipse",e.radialPosition=n.radialPosition||S.CENTER}else e.colorsteps=[],e.angle=0,e.radialType="ellipse",e.radialPosition=S.CENTER}return e}},{key:"viewFillPopup",value:function(t,e){var n=this.$selection.current;n&&this.emit("showFillPopup",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?aG(Object(n),!0).forEach((function(e){cG(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aG(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({changeEvent:"changeBorderImageFillPopup"},this.getFillData(n.borderImage),{selectColorStepId:e,refresh:!0}))}},{key:"viewChangeImage",value:function(t){var e=this.$selection.current;if(e){var n,r=e.borderImage;r&&((n=this.getRef("$miniView"))&&r.image&&n.css({"background-image":r.image.toString(),"background-size":"cover"}),(n=this.getRef("$fillTitle"))&&n.html(vG.image),(n=this.getRef("$colorsteps",this.selectedIndex))&&n.empty())}}},{key:"setImage",value:function(t){var e=this.$selection.current;e&&(e.borderImage.setImageUrl(t),this.viewChangeImage(t),this.emit("refreshElement",e))}},{key:"viewChangeGradient",value:function(t){var e=this.$selection.current;if(e){var n,r=e.borderImage;r&&((n=this.getRef("$miniView"))&&n.css({"background-image":r.image.toString(),"background-size":"cover"}),(n=this.getRef("$fillTitle"))&&n.html(vG[t.type]),(n=this.getRef("$colorsteps",this.selectedIndex))&&n.html(this.getColorStepString(t.colorsteps)))}}},{key:"setGradient",value:function(t){var e=this.$selection.current;e&&(e.borderImage.setGradient(t),this.viewChangeGradient(t),this.emit("refreshElement",e))}},{key:Wo("changeBorderImageFillPopup"),value:function(t){switch(t.type){case"image":this.setImage(t);break;default:this.setGradient(t)}}},{key:"setBorderImageProperty",value:function(){var t=this,e=this.$selection.current;if(e){var n=e.borderImage;if("all"===this.refs.$selector.attr("data-selected-value")){var r=this.children.$allSlice.getValue();n.reset({slice:{top:r.clone(),right:r.clone(),bottom:r.clone(),left:r.clone()}})}else dG.forEach((function(e){n.slice[e]=t.children["$".concat(e,"Slice")].getValue(),n.width[e]=t.children["$".concat(e,"Width")].getValue()}));this.emit("refreshElement",e)}}},{key:er("$selector button"),value:function(t){var e=t.$dt.attr("data-value");this.refs.$selector.attr("data-selected-value",e),"all"===e?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.setBorderImageProperty()}}])&&lG(n.prototype,r),o&&lG(n,o),e}(hz);function mG(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"@";return"".concat(e).concat(t.startIndex).padEnd(10,"0")}function gG(t,e){var n=function(t,e){var n=t.match(e),r=[];if(!n)return r;for(var o=0,i=n.length;o<i;o++)r.push({parsedString:n[o]});var a={next:0};return r.forEach((function(e){var n=t.indexOf(e.parsedString,a.next);e.startIndex=n,e.endIndex=n+e.parsedString.length,a.next=e.endIndex})),r}(t,e);return n.forEach((function(e){t=t.replace(e.parsedString,mG(e))})),{str:t,matches:n}}function wG(t,e){return e.forEach((function(e){t=t.replace(mG(e),e.parsedString)})),t}function kG(t){return(kG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function OG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SG(t,e){return!e||"object"!==kG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function PG(t,e,n){return(PG="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xG(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function xG(t){return(xG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $G(t,e){return($G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var EG=/((cubic-bezier|steps)\(([^\)]*)\))/gi,_G=function(t){function e(){return OG(this,e),SG(this,xG(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$G(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new e(t)}},{key:"join",value:function(t){return t.map((function(t){return new e(t).toString()})).join(",")}},{key:"add",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.parseStyle(t);return r.push(e.parse(n)),e.join(r)}},{key:"remove",value:function(t,n){return e.filter(t,(function(t,e){return n!=e}))}},{key:"filter",value:function(t,n){return e.join(e.parseStyle(t).filter((function(t){return n(t)})))}},{key:"replace",value:function(t,n,r){var o=e.parseStyle(t);return o[n]?o[n]=r:o.push(r),e.join(o)}},{key:"get",value:function(t,n){return e.parseStyle(t)[n]}},{key:"parseStyle",value:function(t){var n=[];if(!t)return n;var r=gG(t,EG);return(n=r.str.split(",").map((function(t){var e=t.split(" ").filter(Boolean);return e.length>=7?{duration:$.parse(e[0]),timingFunction:wG(e[1],r.matches),delay:$.parse(e[2]),iterationCount:"infinite"===e[3]?$.string("infinite"):$.parse(e[3]),direction:e[4],fillMode:e[5],playState:e[6],name:e[7]}:e.length>=3?{duration:$.parse(e[0]),timingFunction:wG(e[1],r.matches),delay:$.parse(e[2]),name:e[3]}:e.length>=1?{duration:$.parse(e[0]),name:e[1]}:{}}))).map((function(t){return e.parse(t)}))}}],(r=[{key:"getDefaultObject",value:function(){return{itemType:"animation",checked:!0,name:"none",direction:"normal",duration:$.second(0),timingFunction:"linear",delay:$.second(0),iterationCount:$.string("infinite"),playState:"running",fillMode:"none"}}},{key:"convert",value:function(t){return(t=PG(xG(e.prototype),"convert",this).call(this,t)).duration=$.parse(t.duration),t.iterationCount=$.parse(t.iterationCount),t}},{key:"toCloneObject",value:function(){var t=this.json;return{name:t.name,direction:t.direction,duration:t.duration+"",timingFunction:t.timingFunction,delay:t.delay,iterationCount:t.iterationCount+"",playState:t.playState,fillMode:t.fillMode}}},{key:"togglePlayState",value:function(t){t?this.reset({playState:"running"===t?"running":"paused"}):"paused"===this.json.playState?this.reset({playState:"running"}):this.reset({playState:"paused"})}},{key:"toCSS",value:function(){return this.json.name?{animation:this.toString()}:{}}},{key:"toString",value:function(){var t=this.json;return[t.duration,t.timingFunction,t.delay,t.iterationCount,t.direction,t.fillMode,t.playState,t.name].join(" ")}}])&&jG(n.prototype,r),o&&jG(n,o),e}(ac);function CG(t){return(CG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function TG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function RG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function AG(t,e){return!e||"object"!==CG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function IG(t){return(IG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function LG(t,e){return(LG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var MG=function(t){function e(){return DG(this,e),AG(this,IG(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LG(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("animation.property.title")}},{key:"getBody",value:function(){return"<div class='animation-list' ref='$animationList'></div>"}},{key:"getTools",value:function(){return'\n        <button type="button" ref="$add" title="add Fill">'.concat(jv.add,"</button>\n    ")}},{key:zr("$animationList")+Rr,value:function(){var t=this,e=this.$selection.current;return e?_G.parseStyle(e.animation).map((function(e,n){var r=t.state.selectedIndex===n?"selected":"",o=je(e.timingFunction,30,30);return"\n      <div class='animation-group-item'>\n        <div class='animation-item ".concat(r,"' \n             data-index='").concat(n,"' \n             ref=\"animationIndex").concat(n,"\" \n          >\n            <div class='timing preview' data-index='").concat(n,"' ref='$preview").concat(n,'\'>\n              <svg class=\'item-canvas\' width="30" height="30" viewBox="0 0 30 30">\n                <path d="').concat(o,"\" stroke=\"white\" stroke-width=\"1\" fill='none' />\n              </svg>\n            </div>\n            <div class='name'>\n              <div class='title' ref=\"animationName").concat(n,'">\n                ').concat(e.name?e.name:"&lt; ".concat(t.$i18n("animation.property.select a keyframe")," &gt;"),"\n              </div>\n              <div class='labels'>\n                <label class='count' title='").concat(t.$i18n("animation.property.iteration.count"),"'><small>").concat(e.iterationCount,"</small></label>\n                <label class='delay' title='").concat(t.$i18n("animation.property.delay"),"'><small>").concat(e.delay,"</small></label>\n                <label class='duration' title='").concat(t.$i18n("animation.property.duration"),"'><small>").concat(e.duration,"</small></label>\n                <label class='direction' title='").concat(t.$i18n("animation.property.direction"),"'><small>").concat(e.direction,"</small></label>\n                <label class='fill-mode' title='").concat(t.$i18n("animation.property.fill.mode"),"'><small>").concat(e.fillMode,"</small></label>\n                <label class='play-state' title='").concat(t.$i18n("animation.property.play.state"),"' data-index='").concat(n,"' data-play-state-selected-value=\"").concat(e.playState,"\">\n                  <small data-play-state-value='running'>").concat(jv.play,"</small>\n                  <small data-play-state-value='paused'>").concat(jv.pause,'</small>\n                </label>\n              </div>\n            </div>\n            <div class=\'tools\'>\n                <button type="button" class="del" data-index="').concat(n,'">\n                  ').concat(jv.remove2,"\n                </button>\n            </div>\n        </div>\n      </div>        \n      ")})):""}},{key:Wo("refreshSelection")+Dr(100),value:function(){this.refreshShowIsNot("project"),this.emit("hideAnimationPropertyPopup")}},{key:er("$add"),value:function(t){var e=this.$selection.current;e&&(e.reset({animation:_G.add(e.animation,{name:null})}),this.emit("refreshElement",e)),this.refresh()}},{key:er("$animationList .tools .del"),value:function(t){var e=t.$dt.attr("data-index"),n=this.$selection.current;n&&(n.reset({animation:_G.remove(n.animation,e)}),this.emit("refreshElement",n),this.refresh())}},{key:er("$animationList .play-state"),value:function(t){var e=+t.$dt.attr("data-index"),n=this.$selection.current;if(n){var r=_G.parseStyle(n.animation),o=r[e];o&&(o.togglePlayState(),t.$dt.attr("data-play-state-selected-value",o.playState),n.reset({animation:_G.join(r)}),this.emit("refreshElement",n))}}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?this.refs["animationIndex".concat(t)].addClass("selected"):this.refs["animationIndex".concat(t)].removeClass("selected")}},{key:"viewAnimationPicker",value:function(t){"number"==typeof this.selectedIndex&&this.selectItem(this.selectedIndex,!1),this.selectedIndex=+t.attr("data-index"),this.current=this.$selection.current,this.current&&(this.currentAnimation=_G.get(this.current.animation,this.selectedIndex),this.viewAnimationPropertyPopup())}},{key:"viewAnimationPropertyPopup",value:function(){if(this.currentAnimation){var t=this.currentAnimation;this.emit("showAnimationPropertyPopup",{changeEvent:"changeAnimationPropertyPopup",data:t.toCloneObject(),instance:this})}}},{key:er("$animationList .preview"),value:function(t){this.viewAnimationPicker(t.$dt)}},{key:"getRef",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.refs[e.join("")]}},{key:Wo("changeAnimationPropertyPopup"),value:function(t){this.currentAnimation&&(this.currentAnimation.reset(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?TG(Object(n),!0).forEach((function(e){RG(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TG(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t)),this.current&&(this.current.reset({animation:_G.replace(this.current.animation,this.selectedIndex,this.currentAnimation)}),this.emit("refreshElement",this.current),this.refresh()))}}])&&VG(n.prototype,r),o&&VG(n,o),e}(hz);function zG(t){return(zG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GG(t,e){return!e||"object"!==zG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function HG(t){return(HG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function XG(t,e){return(XG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var YG=function(t){function e(){return BG(this,e),GG(this,HG(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&XG(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("keyframe.property.title")}},{key:"getBody",value:function(){return"<div class='keyframe-list' ref='$keyframeList'></div>"}},{key:"getTools",value:function(){return'\n      <button type="button" ref="$add" title="add Filter">'.concat(jv.add,"</button>\n    ")}},{key:"makeProperty",value:function(t){var e=t.key;return"x"===e?e="left":"y"===e&&(e="top"),"\n      <div class='offset-property-item'>\n        <label>".concat(e,":</label>\n        <div class='value'>").concat(t.value,"</div>\n      </div>\n    ")}},{key:"makeOffset",value:function(t){var e=this;return("\n      <div class='offset'>\n        <label>".concat(t.offset,"</label>\n        <div class='properties'>\n          ").concat(t.properties.map((function(t){return e.makeProperty(t)})).join(""),"\n        </div>        \n      </div>\n    "))}},{key:"makeKeyframeTemplate",value:function(t,e){var n=this;return e=e.toString(),"\n      <div class='keyframe-item' data-selected-value='".concat(t.selectedType,"' ref='$keyframeIndex").concat(e,"' data-index='").concat(e,"'>\n        <div class='title'>\n          <div class='name'>").concat(t.name,"</div>\n          <div class='tools'>\n            <div class='group'>\n              <button type=\"button\" data-type='list'>").concat(jv.list,"</button>\n              <button type=\"button\" data-type='code'>").concat(jv.code,'</button>\n            </div>\n            <button type="button" class="del" data-index="').concat(e,'">').concat(jv.remove2,"</button>\n          </div>\n        </div>\n        <div class='offset-list'>\n          <div class='container'>\n            ").concat(t.offsets.map((function(t){return"\n              <div class='offset' style='left: ".concat(t.offset,"; background-color: ").concat(t.color,"'></div>\n              ")})).join(""),"\n          </div>\n        </div>\n        <div class='keyframe-code' data-type='list'>\n          ").concat(t.offsets.map((function(t){return n.makeOffset(t)})).join(""),"\n        </div>\n        <div class='keyframe-code' data-type='code'>\n          <pre>").concat(t.toString().trim(),"</pre>\n        </div>        \n      </div>\n    ")}},{key:er("$keyframeList .keyframe-item .title .group button[data-type]"),value:function(t){var e=t.$dt.closest("keyframe-item"),n=+e.attr("data-index"),r=t.$dt.attr("data-type"),o=this.$selection.currentProject;if(o){var i=o.keyframes[n];i&&i.reset({selectedType:r}),e.attr("data-selected-value",r)}}},{key:er("$keyframeList .keyframe-item .offset-list"),value:function(t){var e=+t.$dt.closest("keyframe-item").attr("data-index");this.$selection.currentProject&&this.viewKeyframePicker(e)}},{key:er("$keyframeList .del")+Lr,value:function(t){var e=t.$dt.attr("data-index"),n=this.$selection.currentProject;n&&(n.removeKeyframe(e),this.emit("refreshProject",n),this.refresh())}},{key:Wo("refreshSelection")+Dr(100),value:function(){this.refreshShowIsNot("project")}},{key:zr("$keyframeList"),value:function(){var t=this,e=this.$selection.currentProject;if(!e)return"";var n=e.keyframe?bg.parseStyle(e):e.keyframes;return e.keyframe="",e.keyframes=n,n.map((function(e,n){return t.makeKeyframeTemplate(e,n)}))}},{key:er("$add"),value:function(){var t=this.$selection.currentProject;t?(t.createKeyframe(),this.refresh(),this.emit("refreshProject",t)):alert("Please select a project.")}},{key:"viewKeyframePicker",value:function(t){"number"==typeof this.selectedIndex&&this.selectItem(this.selectedIndex,!1),this.selectedIndex=+t,this.selectItem(this.selectedIndex,!0),this.current=this.$selection.currentProject,this.current&&(this.currentKeyframe=this.current.keyframes[this.selectedIndex],this.viewKeyframePropertyPopup())}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?this.getRef("$keyframeIndex",t).addClass("selected"):this.getRef("$keyframeIndex",t).removeClass("selected"),this.current&&this.current.keyframes.forEach((function(e,n){e.selected=n===t}))}},{key:"viewKeyframePropertyPopup",value:function(t){if(this.current=this.$selection.currentProject,this.current){this.currentKeyframe=this.current.keyframes[this.selectedIndex];var e=this.currentKeyframe,n=e.name,r=e.offsets;this.emit("showKeyframePopup",{position:t,name:n,offsets:r})}}},{key:Wo("changeKeyframePopup"),value:function(t){var e=this.$selection.currentProject;e&&(this.currentKeyframe=e.keyframes[this.selectedIndex],this.currentKeyframe&&this.currentKeyframe.reset(t),this.refresh(),this.emit("refreshProject",e))}}])&&FG(n.prototype,r),o&&FG(n,o),e}(hz);function NG(t){return(NG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function KG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZG(t,e){return!e||"object"!==NG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qG(t){return(qG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function JG(t,e){return(JG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var QG=function(t){function e(){return WG(this,e),ZG(this,qG(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&JG(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("background.image.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"background-image"}},{key:"getClassName",value:function(){return"background-image"}},{key:"getBody",value:function(){return"\n      <div class='full' ref='$property'></div>      \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='background-color'></span>\n        </div>\n        <ColorViewEditor ref='$color' label=\"".concat(this.$i18n("background.color.property.color"),'" key=\'background-color\' onchange="changeColor" />\n      </div>            \n    ')}},{key:"getTools",value:function(){return"<button type=\"button\" ref='$add'>".concat(jv.add,"</button>")}},{key:er("$add"),value:function(){this.children.$backgroundImageEditor.trigger("add")}},{key:zr("$property"),value:function(){var t=(this.$selection.current||{})["background-image"]||"";return"<BackgroundImageEditor \n              ref='$backgroundImageEditor' \n              key='background-image'\n              value='".concat(t,"' \n              hide-label=\"true\"\n              onchange='changeBackgroundImage' \n            />")}},{key:Wo("refreshSelection"),value:function(){this.refreshShowIsNot(["project"])}},{key:"refresh",value:function(){this.load();var t=this.$selection.current;if(t){var e=t["background-color"]||"rgba(0, 0, 0, 1)";this.children.$color.setValue(t["background-color"]||"rgba(0, 0, 0, 1)"),this.state.backgroundColor=e}}},{key:Wo("changeColor"),value:function(t,e){this.command("setAttribute","change background color",KG({},t,e))}},{key:Wo("changeBackgroundImage")+Dr(10),value:function(t,e){this.command("setAttribute","change background image",KG({},t,e))}}])&&UG(n.prototype,r),o&&UG(n,o),e}(hz);function tH(t){return(tH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eH(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function nH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oH(t,e){return!e||"object"!==tH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iH(t){return(iH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function aH(t,e){return(aH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cH=function(t){function e(){return nH(this,e),oH(this,iH(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aH(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("filter.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"filter"}},{key:"getTitleClassName",value:function(){return"filter"}},{key:"getBody",value:function(){return"<div class='full filter-property' ref='$body'></div>"}},{key:"getTools",value:function(){return'\n      <select ref="$filterSelect">      \n      </select>\n      <button type="button" ref="$add" title="add Filter">'.concat(jv.add,"</button>\n    ")}},{key:er("$add"),value:function(){var t=this.refs.$filterSelect.value;this.children.$filterEditor.trigger("add",t)}},{key:zr("$filterSelect"),value:function(){var t=this,e=xx.map((function(e){return{title:t.$i18n("filter.property.".concat(e)),value:e}})),n=this.getSVGFilterList();return(n.length?[].concat(eH(e),[{title:"-------",value:""}],eH(n)):eH(e)).map((function(t){var e=t.title,n=t.value;return"<option value='".concat(n,"'>").concat(e,"</option>")}))}},{key:"getSVGFilterList",value:function(){var t=this.$selection.currentProject,e=[];return t&&(e=t.svgfilters.map((function(t){var e=t.id;return{title:"svg - #".concat(e),value:e}}))),e}},{key:zr("$body"),value:function(){var t=(this.$selection.current||{}).filter;return"<FilterEditor ref='$filterEditor' value='".concat(t,"' hide-label='true' onchange='changeFilterEditor' />")}},{key:Wo("changeFilterEditor"),value:function(t){this.command("setAttribute","change filter",{filter:t})}},{key:Wo("refreshSelection"),value:function(){this.refreshShowIsNot(["project"])}},{key:Wo("refreshSVGArea")+Dr(1e3),value:function(){this.load("$filterSelect")}}])&&rH(n.prototype,r),o&&rH(n,o),e}(hz);function uH(t){return(uH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function lH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pH(t,e){return!e||"object"!==uH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yH(t){return(yH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hH(t,e){return(hH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var dH=function(t){function e(){return lH(this,e),pH(this,yH(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hH(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("code.view.property.title")}},{key:Wo("refreshSelectionStyleView","refreshStyleView","refreshSelection","refreshSVGArea")+Dr(100),value:function(){this.refreshShowIsNot()}},{key:"getBody",value:function(){return"\n      <div class=\"property-item code-view-item\" ref='$body'></div>\n    "}},{key:"filterKeyName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.split(";").filter((function(t){return t.trim()})).map((function(t){var n=sH((t=t.trim()).split(":"),2),r=n[0],o=n[1];return"".concat(e,"<strong>").concat(r,"</strong>:").concat(o,";\n")})).join("").trim()}},{key:"modifyNewLine",value:function(t){return t.replace(/;/gi,";\n").trim()}},{key:zr("$body"),value:function(){var t=this,e=this.$selection.currentProject,n=e?e.toKeyframeString():"",r=e?de(e.toRootVariableCSS()):"",o=e?e.toSVGString():"";r=this.filterKeyName(r.trim()),n=this.modifyNewLine(n.trim()),o=o.replace(/\</g,"&lt;").replace(/\>/g,"&gt;");var i=this.$selection.current,a=i?ge(i.toExport()):"",c=i?i.toNestedCSS().map((function(e){var n=e.cssText?e.cssText:de(e.css);return"".concat(e.selector," { \n").concat(t.filterKeyName(ge(n),"&nbsp;&nbsp;"),"\n}")})):[],u=i?ge(i.toExportSVGCode()):"",s=i?i.selectors:[];return a=this.filterKeyName(a.trim()),"\n      <div class=''>\n       \n        ".concat(a?"<div>\n          <pre title='CSS'>".concat(a,"</pre>\n          </div>"):"","\n        \n        ").concat(c.map((function(t){return"<div>\n          <pre title='CSS'>".concat(t,"</pre>\n          </div>")})).join(""),"\n\n        ").concat(u?"<div>\n          <pre title='SVG'>".concat(u,"</pre>\n          </div>"):"","        \n\n        ").concat(s.length?"<div>\n            ".concat(s.map((function(t){return"<pre title='".concat(t.selector,"'>").concat(t.toPropertyString(),"</pre>")})).join(""),"\n            \n          </div>"):"","\n\n        ").concat(n?"<div>\n          <pre title='".concat(this.$i18n("code.view.property.keyframe"),"'>").concat(n,"</pre>\n        </div>"):"","\n        ").concat(r?"<div>\n          <label>:root</label>\n          <pre>".concat(r,"</pre>\n          </div>"):"","\n        ").concat(o?"<div>\n            <pre title='SVG'>".concat(o,"</pre>\n          </div>"):"","\n\n      </div>\n    ")}}])&&fH(n.prototype,r),o&&fH(n,o),e}(hz);function vH(t){return(vH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bH(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function mH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wH(t,e){return!e||"object"!==vH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kH(t){return(kH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function OH(t,e){return(OH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var jH=function(t){function e(){return mH(this,e),wH(this,kH(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&OH(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("backdrop.filter.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getTitleClassName",value:function(){return"filter"}},{key:"getKeyframeProperty",value:function(){return"backdrop-filter"}},{key:"getBody",value:function(){return"<div class='full filter-property' ref='$body'></div>"}},{key:"getTools",value:function(){return'\n      <select ref="$filterSelect"></select>\n      <button type="button" ref="$add" title="add Filter">'.concat(jv.add,"</button>\n    ")}},{key:er("$add"),value:function(){var t=this.refs.$filterSelect.value;this.children.$filterEditor.trigger("add",t)}},{key:zr("$filterSelect"),value:function(){var t=this,e=xx.map((function(e){return{title:t.$i18n("filter.property.".concat(e)),value:e}})),n=this.getSVGFilterList();return(n.length?[].concat(bH(e),[{title:"-------",value:""}],bH(n)):bH(e)).map((function(t){var e=t.title,n=t.value;return"<option value='".concat(n,"'>").concat(e,"</option>")}))}},{key:"getSVGFilterList",value:function(){var t=this.$selection.currentProject,e=[];return t&&(e=t.svgfilters.map((function(t){return{title:"svg - #".concat(t.id),value:t.id}}))),e}},{key:zr("$body"),value:function(){var t=(this.$selection.current||{})["backdrop-filter"];return"<FilterEditor ref='$filterEditor' value='".concat(t,"' hide-label=\"true\" onchange='changeFilterEditor' />")}},{key:Wo("changeFilterEditor"),value:function(t){this.command("setAttribute","change backdrop filter",{"backdrop-filter":t})}},{key:Wo("refreshSelection"),value:function(){this.refreshShowIsNot(["project","artboard"])}}])&&gH(n.prototype,r),o&&gH(n,o),e}(hz);function SH(t){return(SH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $H(t,e){return!e||"object"!==SH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function EH(t){return(EH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _H(t,e){return(_H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var CH=["top-left","top","top-right","left","right","bottom-left","bottom","bottom-right"],TH={top:"0","top-right":"45",right:"90","bottom-right":"135",bottom:"180","bottom-left":"225",left:"270","top-left":"315"},RH=function(t){function e(){return PH(this,e),$H(this,EH(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_H(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n            <div class='rotate-editor-view'>            \n                <div class='rotate-area' ref='$rotateArea'>\n                    <div class='rotate-container' ref='$rotateContainer'>\n                        <div class='rotate-item rotate-x'></div>\n                        <div class='rotate-item rotate-y'></div>\n                    </div>\n                </div>\n                <div class='direction-area' ref='$directionArea'>\n                    ".concat(CH.map((function(t){return"<div class='direction' data-value='".concat(t,"'></div>")})).join(""),"\n                </div>                \n                <div class='rotate-z' ref='$rotateZ'>\n                    <div class='handle-line'></div>                \n                    <div class='handle icon' ref='$handle'>").concat(jv.gps_fixed,"</div>\n                </div>                \n            </div>\n        ")}},{key:er("$directionArea .direction"),value:function(t){var e=t.$dt.attr("data-value"),n=$.deg(TH[e]||0);this.$selection.each((function(t){var e=yd.replace(t.transform,{type:"rotateZ",value:[n]});t.reset({transform:e})})),this.bindData("$rotateZ"),this.emit("refreshSelectionStyleView",null,!1,!0),this.emit("refreshRect")}},{key:Hr("$rotateContainer"),value:function(){var t=this.$selection.current||{transform:""};return{style:{transform:yd.filter(t.transform||"",(function(t){return"rotateX"===t.type||"rotateY"===t.type}))}}}},{key:Hr("$rotateZ"),value:function(){var t=this.$selection.current||{transform:""};return{style:{transform:yd.filter(t.transform||"",(function(t){return"rotate"===t.type||"rotateZ"===t.type}))}}}},{key:nr("$rotateArea"),value:function(){this.$selection.each((function(t){t.reset({transform:yd.remove(t.transform,["rotateX","rotateY"])})})),this.bindData("$rotateContainer"),this.emit("refreshSelectionStyleView",null,!1,!0),this.emit("refreshRect")}},{key:wr("$rotateArea")+Ar("moveRotateXY")+Ir("moveEndRotateXY"),value:function(){this.setCacheRotateXY()}},{key:"setCacheRotateXY",value:function(){this.setCacheBaseTrasnform("rotateX","rotateY")}},{key:"moveRotateXY",value:function(t,e){this.modifyRotateXY(t,e),this.bindData("$rotateContainer"),this.emit("refreshSelectionDragStyleView",null,!1,!0),this.emit("refreshRect")}},{key:"moveEndRotateXY",value:function(t,e){this.emit("refreshSelectionStyleView"),this.emit("refreshRect")}},{key:"modifyCacheItem",value:function(t,e,n,r,o){e[r]&&n.set(e[r].value[0].value),n.add(o),this.setTransformValue(t,r,n)}},{key:"modifyRotateXY",value:function(t,e){var n=this,r=$.deg(-e/this.$editor.scale),o=$.deg(t/this.$editor.scale);this.$selection.each((function(t,e){n.modifyCacheItem(t,e,$.deg(0),"rotateX",r),n.modifyCacheItem(t,e,$.deg(0),"rotateY",o),t.transform=yd.join(t.transformObj)}))}},{key:nr("$handle"),value:function(){this.$selection.each((function(t){t.reset({transform:yd.remove(t.transform,["rotateZ","rotate"])})})),this.bindData("$rotateZ"),this.emit("refreshSelectionStyleView",null,!1,!0),this.emit("refreshRect")}},{key:wr("$handle")+Ar()+Ir(),value:function(){this.setCacheRotateZ()}},{key:"move",value:function(t,e){this.modifyRotateZ(t,e),this.bindData("$rotateZ"),this.emit("refreshSelectionDragStyleView",null,!1,!0),this.emit("refreshRect")}},{key:"end",value:function(){this.emit("refreshSelectionStyleView"),this.emit("refreshRect")}},{key:"modifyRotateZ",value:function(t,e){var n=this,r=this.$config.get("bodyEvent"),o=$.deg(Math.floor(N(this.rotateZStart,this.rotateZCenter,{dx:t,dy:e})));this.$selection.each((function(t,e){var i=$.deg(0);e.rotateZ?i.set(e.rotateZ.value[0].value):e.rotate&&i.set(e.rotate.value[0].value),i.add(o.value),r.altKey&&i.add(-i.value%10),n.setTransformValue(t,"rotateZ",i),t.transform=yd.join(t.transformObj)}))}},{key:"setTransformValue",value:function(t,e,n){var r=t.transformObj.filter((function(t){return t.type===e}))[0];r?r.value[0]=n.clone():t.transformObj.push({type:e,value:[n.clone()]})}},{key:"setCacheBaseTrasnform",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.$selection.each((function(t,n){t.transformObj=yd.parseStyle(t.transform),n.transformObj=yd.parseStyle(n.transform),e.forEach((function(t){n[t]=n.transformObj.filter((function(e){return e.type===t}))[0]}))}))}},{key:"setCacheRotateZ",value:function(){var t=this.refs.$handle.rect(),e=this.refs.$rotateZ.rect();this.rotateZCenter={x:e.x+e.width/2,y:e.y+e.height/2},this.rotateZStart={x:t.x+t.width/2,y:t.y+t.height/2},this.setCacheBaseTrasnform("rotateZ","rotate")}},{key:Wo("refreshSelection"),value:function(){this.refresh()}}])&&xH(n.prototype,r),o&&xH(n,o),e}(Uo);function DH(t){return(DH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function AH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function MH(t,e){return!e||"object"!==DH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zH(t,e,n){return(zH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=BH(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function BH(t){return(BH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function FH(t,e){return(FH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var GH=["rotate","rotateX","rotateY","rotateZ","rotate3d","skewX","skewY","translate","translateX","translateY","translateZ","translate3d","perspective","scale","scaleX","scaleY","scaleZ","scale3d","matrix","matrix3d"],HH=function(t){function e(){return IH(this,e),MH(this,BH(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FH(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?VH(Object(n),!0).forEach((function(e){AH(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VH(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},zH(BH(e.prototype),"components",this).call(this),{RotateEditorView:RH})}},{key:"getTitle",value:function(){return this.$i18n("transform.property.title")}},{key:"getBody",value:function(){return"\n      <RotateEditorView />\n      <div class='full transform-property' ref='$body'></div>\n    "}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"transform"}},{key:"getTools",value:function(){var t=this;return('\n      <select ref="$transformSelect">\n      '.concat(GH.map((function(e){var n=t.$i18n("css.item."+e);return"<option value='".concat(e,"'>").concat(n,"</option>")})).join(""),'\n      </select>\n      <button type="button" ref="$add" title="add Filter">').concat(jv.add,"</button>\n    "))}},{key:er("$add"),value:function(){var t=this.refs.$transformSelect.value;this.children.$transformEditor.trigger("add",t)}},{key:zr("$body"),value:function(){var t=(this.$selection.current||{}).transform;return"\n      <TransformEditor ref='$transformEditor' value='".concat(t,"' hide-label=\"true\" onchange='changeTransformEditor' />\n    ")}},{key:Wo("changeTransformEditor"),value:function(t){this.command("setAttribute","change transform property",{transform:function(e){return yd.replaceAll(e.transform,t)}})}},{key:Wo("refreshSelection"),value:function(){this.refreshShowIsNot(["project","artboard"])}},{key:Wo("refreshRect")+Dr(100),value:function(){this.refresh()}}])&&LH(n.prototype,r),o&&LH(n,o),e}(hz);function XH(t){return(XH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function KH(t,e){return!e||"object"!==XH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function WH(t){return(WH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function UH(t,e){return(UH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ZH=["circle","ellipse","inset","polygon","path","svg"],qH=function(t){function e(){return YH(this,e),KH(this,WH(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UH(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("clippath.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"clip-path"}},{key:"getClassName",value:function(){return"clip-path-property"}},{key:"getBody",value:function(){return"<div class='clip-path-list' ref='$clippathList'></div>"}},{key:"getTools",value:function(){return'\n      <select ref="$clipPathSelect">      \n        '.concat(ZH.map((function(t){return"<option value='".concat(t,"'>").concat(t,"</option>")})).join(""),'\n      </select>\n      <button type="button" ref="$add" title="add Clip Path">').concat(jv.add,"</button>\n    ")}},{key:"makeClipPathTemplate",value:function(t){return"\n      <div class='clippath-item'>\n        <div class='title'>\n          <div class='name'>".concat(t,'</div>\n          <div class=\'tools\'>\n              <button type="button" class="del">\n                ').concat(jv.remove2,"\n              </button>\n          </div>\n        </div>\n      </div>\n    ")}},{key:er("$clippathList .clippath-item"),value:function(t){this.$selection.current&&this.viewClipPathPicker()}},{key:er("$clippathList .del")+Lr,value:function(t){var e=this.$selection.current;e&&(this.command("setAttribute","delete clip-path",{"clip-path":""},e.id),this.refresh(),this.emit("hideClipPathPopup"))}},{key:Wo("refreshSelection"),value:function(){this.refreshShowIsNot(["project"])}},{key:zr("$clippathList"),value:function(){var t=this.$selection.current;return t&&t["clip-path"]?this.makeClipPathTemplate(t["clip-path"]):""}},{key:er("$add"),value:function(){var t=this.$selection.current;t&&(t["clip-path"]?alert("clip-path is already exists."):(t&&(t["clip-path"]=this.refs.$clipPathSelect.value,this.command("setAttribute","change clip-path",{"clip-path":this.refs.$clipPathSelect.value},t.id)),this.refresh()))}},{key:"viewClipPathPicker",value:function(){var t=this.$selection.current;if(t){var e=av.parseStyle(t["clip-path"]);switch(e.type){case"path":var n=e.value.trim(),r=n?"modify":"path";this.emit("showPathEditor",r,{changeEvent:"updateClipPathString",current:t,d:n,box:"box",screenX:t.screenX,screenY:t.screenY,screenWidth:t.screenWidth,screenHeight:t.screenHeight});break;case"svg":break;default:this.emit("showClipPathPopup",{"clip-path":t["clip-path"]})}}}},{key:Wo("updateClipPathString"),value:function(t){var e=this.$selection.current;e&&(e.reset({"clip-path":"path(".concat(t.d,")")}),this.refresh(),this.emit("updateClipPath",t))}},{key:Wo("changeClipPathPopup"),value:function(t){var e=this.$selection.current;e&&(e.reset(t),this.refresh(),this.command("setAttribute","change clip-path",t,e.id))}}])&&NH(n.prototype,r),o&&NH(n,o),e}(hz);function JH(t){return(JH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function QH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eX(t,e){return!e||"object"!==JH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nX(t){return(nX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rX(t,e){return(rX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var oX=/((cubic-bezier|steps)\(([^\)]*)\))/gi,iX=function(t){function e(){return QH(this,e),eX(this,nX(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rX(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new e(t)}},{key:"join",value:function(t){return t.map((function(t){return new e(t).toString()})).join(",")}},{key:"add",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.parseStyle(t);return r.push(e.parse(n)),e.join(r)}},{key:"remove",value:function(t,n){return e.filter(t,(function(t,e){return n!=e}))}},{key:"filter",value:function(t,n){return e.join(e.parseStyle(t).filter((function(t){return n(t)})))}},{key:"replace",value:function(t,n,r){var o=e.parseStyle(t);return o[n]?o[n]=r:o.push(r),e.join(o)}},{key:"get",value:function(t,n){return e.parseStyle(t)[n]}},{key:"parseStyle",value:function(t){var n=[];if(!t)return n;var r=gG(t,oX);return(n=r.str.split(",").map((function(t){var e=t.split(" ").filter(Boolean);return e.length>=4?{name:e[0],duration:$.parse(e[1]),timingFunction:wG(e[2],r.matches),delay:$.parse(e[3])}:e.length>=3?{name:e[0],duration:$.parse(e[1]),delay:$.parse(e[2])}:e.length>=1?{name:e[0],duration:$.parse(e[1])}:{}}))).map((function(t){return e.parse(t)}))}}],(r=[{key:"getDefaultObject",value:function(){return{name:"all",duration:$.second(0),timingFunction:"linear",delay:$.second(0)}}},{key:"toCloneObject",value:function(){return{name:this.json.name,duration:this.json.duration+"",timingFunction:this.json.timingFunction,delay:this.json.delay+""}}},{key:"toCSS",value:function(){return{transition:this.toString()}}},{key:"toString",value:function(){var t=this.json;return[t.name,t.duration,t.timingFunction,t.delay].join(" ")}}])&&tX(n.prototype,r),o&&tX(n,o),e}(ac);function aX(t){return(aX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function uX(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fX(t,e){return!e||"object"!==aX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pX(t){return(pX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yX(t,e){return(yX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hX=function(t){function e(){return sX(this,e),fX(this,pX(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yX(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("transition.property.title")}},{key:"getBody",value:function(){return"<div class='transition-list' ref='$transitionList'></div>"}},{key:"getTools",value:function(){return'\n        <button type="button" ref="$add" title="add Transition">'.concat(jv.add,"</button>\n    ")}},{key:zr("$transitionList")+Rr,value:function(){var t=this,e=this.$selection.current;return e?iX.parseStyle(e.transition).map((function(e,n){var r=t.state.selectedIndex===n?"selected":"",o=je(e.timingFunction,30,30);return"\n      <div class='transition-group-item'>\n        <div class='transition-item ".concat(r,"' data-index='").concat(n,"' ref=\"transitionIndex").concat(n,"\">\n            <div class='timing preview' data-index='").concat(n,"' ref='$preview").concat(n,'\'>\n              <svg class=\'item-canvas\' width="30" height="30" viewBox="0 0 30 30">\n                <path d="').concat(o,"\" stroke=\"white\" stroke-width=\"1\" fill='none' />\n              </svg>\n            </div>\n            <div class='name'>\n              <div class='labels'>\n                <span class='property-name' title='Property'>").concat(e.name,"</span>\n                <span class='duration' title='Duration'><small>Duration: ").concat(e.duration,"</small></span>\n                <span class='delay' title='Delay'><small>Delay: ").concat(e.delay,'</small></span>\n              </div>\n            </div>\n            <div class=\'tools\'>\n                <button type="button" class="del" data-index="').concat(n,'">\n                  ').concat(jv.remove2,"\n                </button>\n            </div>\n        </div>\n      </div>        \n      ")})):""}},{key:Wo("refreshSelection"),value:function(){this.refreshShowIsNot(["project"])}},{key:er("$add"),value:function(t){var e=this.$selection.current;e&&(e.reset({transition:iX.add(e.transition)}),this.emit("refreshElement",e)),this.refresh()}},{key:"getCurrentTransition",value:function(){return this.current.transitions[this.selectedIndex]}},{key:er("$transitionList .tools .del"),value:function(t){var e=t.$dt.attr("data-index"),n=this.$selection.current;n&&(n.reset({transition:iX.remove(n.transition,e)}),this.emit("refreshElement",n),this.refresh())}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?this.refs["transitionIndex".concat(t)].addClass("selected"):this.refs["transitionIndex".concat(t)].removeClass("selected")}},{key:"viewTransitionPicker",value:function(t){"number"==typeof this.selectedIndex&&this.selectItem(this.selectedIndex,!1),this.selectedIndex=+t.attr("data-index"),this.current=this.$selection.current,this.current&&(this.currentTransition=iX.get(this.current.transition,this.selectedIndex),this.viewTransitionPropertyPopup())}},{key:"viewTransitionPropertyPopup",value:function(){if(this.currentTransition){var t=this.currentTransition;this.emit("showTransitionPropertyPopup",{changeEvent:"changeTransitionPropertyPopup",data:t.toCloneObject(),instance:this})}}},{key:er("$transitionList .preview"),value:function(t){this.viewTransitionPicker(t.$dt)}},{key:"getRef",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.refs[e.join("")]}},{key:Wo("changeTransitionPropertyPopup"),value:function(t){this.currentTransition&&(this.currentTransition.reset(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cX(Object(n),!0).forEach((function(e){uX(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cX(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t)),this.current&&(this.current.reset({transition:iX.replace(this.current.transition,this.selectedIndex,this.currentTransition)}),this.emit("refreshElement",this.current),this.refresh()))}}])&&lX(n.prototype,r),o&&lX(n,o),e}(hz);function dX(t){return(dX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mX(t,e){return!e||"object"!==dX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gX(t){return(gX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wX(t,e){return(wX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var kX=function(t){function e(){return vX(this,e),mX(this,gX(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wX(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("perspective.origin.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"isFirstShow",value:function(){return!1}},{key:"getKeyframeProperty",value:function(){return"perspective-origin"}},{key:"getTools",value:function(){return'\n        <button type="button" class="remove" ref=\'$remove\'>'.concat(jv.remove,"</button>\n    ")}},{key:er("$remove"),value:function(){this.trigger("changePerspectiveOrigin","")}},{key:"getBody",value:function(){return"\n      <div class=\"property-item full perspective-origin-item\" ref='$body'></div>\n    "}},{key:zr("$body"),value:function(){var t=(this.$selection.current||{})["perspective-origin"]||"";return"<PerspectiveOriginEditor \n              ref='$1' \n              value='".concat(t,"' \n              onchange='changePerspectiveOrigin' \n            />")}},{key:Wo("refreshSelection")+Dr(100),value:function(){this.refreshShowIsNot(["project"])}},{key:Wo("changePerspectiveOrigin"),value:function(t){this.command("setAttribute","change perspective origin",{"perspective-origin":t})}}])&&bX(n.prototype,r),o&&bX(n,o),e}(hz);function OX(t){return(OX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PX(t,e){return!e||"object"!==OX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xX(t){return(xX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $X(t,e){return($X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var EX=function(t){function e(){return jX(this,e),PX(this,xX(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$X(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("perspective.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"isFirstShow",value:function(){return!1}},{key:"getKeyframeProperty",value:function(){return"perspective"}},{key:"getTools",value:function(){return'\n        <button type="button" class="remove" ref=\'$remove\'>'.concat(jv.remove,"</button>\n    ")}},{key:er("$remove"),value:function(){this.trigger("changePerspective","perspective","")}},{key:"getBody",value:function(){return"<div class='property-item' ref='$perspective'></div>"}},{key:zr("$perspective"),value:function(){var t=(this.$selection.current||{}).perspective||"";return"\n        <RangeEditor ref='$1' key='perspective' value=\"".concat(t,'" max="2000px" onchange="changePerspective" />\n    ')}},{key:Wo("changePerspective"),value:function(t,e){this.command("setAttribute","change perspective",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:Wo("refreshSelection"),value:function(){this.refreshShowIsNot(["project"])}}])&&SX(n.prototype,r),o&&SX(n,o),e}(hz);function _X(t){return(_X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function CX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RX(t,e){return!e||"object"!==_X(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function DX(t){return(DX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function VX(t,e){return(VX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var AX=function(t){function e(){return CX(this,e),RX(this,DX(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&VX(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("transform.origin.property.title")}},{key:"getTools",value:function(){return'\n        <button type="button" class="remove" ref=\'$remove\'>'.concat(jv.remove,"</button>\n    ")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"transform-origin"}},{key:er("$remove"),value:function(){this.trigger("changeTransformOrigin","")}},{key:"getBody",value:function(){return"\n      <div class=\"property-item full transform-origin-item\" ref='$body'></div>\n    "}},{key:zr("$body"),value:function(){var t=(this.$selection.current||{})["transform-origin"]||"";return"<TransformOriginEditor ref='$1' value='".concat(t,"' onchange='changeTransformOrigin' />")}},{key:Wo("refreshSelection","refreshRect")+Dr(100),value:function(){this.refreshShowIsNot(["project","artboard"])}},{key:Wo("changeTransformOrigin"),value:function(t){this.command("setAttribute","change transform-origin",{"transform-origin":t})}}])&&TX(n.prototype,r),o&&TX(n,o),e}(hz);function IX(t){return(IX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function LX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zX(t,e){return!e||"object"!==IX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function BX(t){return(BX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function FX(t,e){return(FX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var GX=function(t){function e(){return LX(this,e),zX(this,BX(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FX(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"Background Clip"}},{key:"isFirstShow",value:function(){return!1}},{key:"getTools",value:function(){return"<div ref='$backgroundClip' style='padding-top: 3px;'></div>"}},{key:zr("$backgroundClip"),value:function(){var t=(this.$selection.current||{})["background-clip"]||"";return"<SelectEditor ref='$1' key='background-clip' icon=\"true\" value=\"".concat(t,'" options=",paddinb-box,border-box,content-box,text" onchange="changeSelect" />')}},{key:Wo("changeSelect"),value:function(t,e){this.command("setAttribute","change background clip",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:Wo("refreshSelection")+Dr(100),value:function(){this.refreshShow(["rect","circle","text"])}}])&&MX(n.prototype,r),o&&MX(n,o),e}(hz);function HX(t){return(HX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function NX(t,e){return!e||"object"!==HX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function KX(t){return(KX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function WX(t,e){return(WX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var UX=["",":hover",":active",":before",":after",":first-child",":last-child",":link",":active",":focus"].join(","),ZX=function(t){function e(){return XX(this,e),NX(this,KX(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WX(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("selector.property.title")}},{key:"getBody",value:function(){return"<div class='selector-list' ref='$selectorList'></div>"}},{key:"getTools",value:function(){return"\n      <div style='display:inline-block;'>\n        <SelectEditor ref='$select' key='selector' icon=\"true\" key-value-char=';' none-value=\"selector\" options=\"".concat(UX,'" />\n      </div>\n      <button type="button" ref="$add" title="add Selector">').concat(jv.add,"</button>\n    ")}},{key:"makeSelectorTemplate",value:function(t,e){return e=e.toString(),"\n      <div class='selector-item' draggable='true' ref='$selectorIndex".concat(e,"' data-index='").concat(e,"'>\n        <div class='title'>\n          <div class='name'>\n            <span>").concat(t.selector||"&lt;".concat(this.$i18n("selector.property.none"),"&gt;"),'</span>\n          </div>\n          <div class=\'tools\'>\n              <button type="button" class="del" data-index="').concat(e,'">').concat(jv.remove2,"</button>\n          </div>\n        </div>\n      </div>\n    ")}},{key:er("$selectorList .selector-item .name"),value:function(t){var e=+t.$dt.closest("selector-item").attr("data-index");this.$selection.current&&this.viewSelectorPicker(e)}},{key:er("$selectorList .selector-item .del")+Lr+Mr,value:function(t){var e=t.$dt.attr("data-index"),n=this.$selection.current;n&&(n.removeSelector(e),this.emit("refreshElement",n),this.refresh())}},{key:Wo("refreshSelection")+Dr(100),value:function(){this.refreshShowIsNot(["project","svg-path","svg-brush","svg-textpath","svg-text"])}},{key:zr("$selectorList"),value:function(){var t=this,e=this.$selection.current;if(!e)return"";var n=e.selector?Yd.parseStyle(e):e.selectors;return e.selector="",e.selectors=n,n.map((function(e,n){return t.makeSelectorTemplate(e,n)}))}},{key:ar("$selectorList .selector-item .title"),value:function(t){this.startIndex=+t.$dt.attr("data-index")}},{key:ur("$selectorList .selector-item")+Lr,value:function(t){}},{key:cr("$selectorList .selector-item")+Lr,value:function(t){var e=+t.$dt.attr("data-index"),n=this.$selection.current;n&&(n.sortSelector(this.startIndex,e),this.emit("refreshElement",n),this.refresh())}},{key:er("$add"),value:function(){var t=this.$selection.current;t&&(t.createSelector({selector:this.children.$select.getValue()}),this.emit("refreshElement",t)),this.refresh()}},{key:"viewSelectorPicker",value:function(t){"number"==typeof this.selectedIndex&&this.selectItem(this.selectedIndex,!1),this.selectedIndex=+t,this.selectItem(this.selectedIndex,!0),this.current=this.$selection.current,this.current&&(this.currentSelector=this.current.selectors[this.selectedIndex],this.viewSelectorPropertyPopup())}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?this.getRef("$selectorIndex",t).addClass("selected"):this.getRef("$selectorIndex",t).removeClass("selected"),this.current&&this.current.selectors.forEach((function(e,n){e.selected=n===t}))}},{key:"viewSelectorPropertyPopup",value:function(t){if(this.current=this.$selection.current,this.current){this.currentSelector=this.current.selectors[this.selectedIndex];var e=this.currentSelector,n=e.selector,r=e.properties;this.emit("showSelectorPopup",{position:t,selector:n,properties:r})}}},{key:Wo("changeSelectorPopup"),value:function(t){this.current=this.$selection.current,this.current&&(this.currentselector=this.current.selectors[this.selectedIndex],this.currentSelector&&this.currentSelector.reset(t),this.refresh(),this.emit("refreshElement",this.current))}}])&&YX(n.prototype,r),o&&YX(n,o),e}(hz);function qX(t){return(qX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tY(t,e){return!e||"object"!==qX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eY(t){return(eY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nY(t,e){return(nY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rY=function(t){function e(){return JX(this,e),tY(this,eY(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nY(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("position.property.title")}},{key:Wo("refreshSelection"),value:function(){this.refreshShowIsNot(["project","artboard"])}},{key:Wo("refreshRect")+Dr(100),value:function(){var t=this.$selection.current;if(!t)return"";this.children.$x&&this.children.$x.setValue(t.x),this.children.$y&&this.children.$y.setValue(t.y)}},{key:"isHideHeader",value:function(){return!0}},{key:"getBody",value:function(){return'\n      <div class="position-item" ref="$positionItem"></div>\n    '}},{key:zr("$positionItem"),value:function(){var t=this.$selection.current;return t?"\n      <div style='display: grid;grid-template-columns: repeat(2, 1fr); grid-column-gap: 10px;'>\n        <div class='property-item animation-property-item' style='padding: 0px;'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='x'></span>\n          </div>\n          <InputRangeEditor ref='$x' key='x' value='".concat(t.x,"' min=\"-1000\" max='1000' onchange='changRangeEditor' />\n        </div>\n        <div class='property-item animation-property-item' style='padding: 0px;'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='y'></span>\n          </div>\n          <InputRangeEditor ref='$y' key='y' value='").concat(t.y,"' min=\"-1000\" max='1000' onchange='changRangeEditor' />\n        </div>\n      </div>\n      <div style='display: grid;grid-template-columns: repeat(2, 1fr); grid-column-gap: 10px; text-align: center;padding: 4px 0px;'>\n        <span>").concat(this.$i18n("position.property.X"),"</span>\n        <span>").concat(this.$i18n("position.property.Y"),"</span>\n      </div>      \n    "):""}},{key:Wo("changRangeEditor"),value:function(t,e){this.command("setAttribute","change position",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e)),this.emit("refreshAllElementBoundSize")}}])&&QX(n.prototype,r),o&&QX(n,o),e}(hz);function oY(t){return(oY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cY(t,e){return!e||"object"!==oY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uY(t){return(uY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sY(t,e){return(sY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lY=function(t){function e(){return iY(this,e),cY(this,uY(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sY(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("project.property.title")}},{key:"getClassName",value:function(){return"full"}},{key:"getTools",value:function(){return"\n      <button type='button' ref='$add' title=\"Add a project\">".concat(jv.add,"</button>\n    ")}},{key:er("$add"),value:function(){this.emit("addProject")}},{key:"getBody",value:function(){return'\n      <div class="project-list scrollbar" ref="$projectList"></div>\n    '}},{key:zr("$projectList")+Rr,value:function(){var t=this;return(this.$editor.projects||[]).map((function(e,n){var r=e===t.$selection.currentProject?"selected":"";return("\n        <div class='project-item ".concat(r,"'>\n          <div class='detail'>\n            <label data-index='").concat(n,"'>").concat(e.name||"New Project",'</label>\n            <div class="tools">\n              <button type="button" class="remove" data-index="').concat(n,"\" title='Remove'>").concat(jv.remove2,"</button>\n            </div>\n          </div>\n        </div>\n      "))}))}},{key:nr("$projectList .project-item"),value:function(t){this.startInputEditing(t.$dt.$("label"))}},{key:"modifyDoneInputEditing",value:function(t){var e=this;this.endInputEditing(t,(function(t,n){var r=e.$editor.projects[t];r&&r.reset({name:n})}))}},{key:or("$projectList .project-item label")+_r+Lr+Mr,value:function(t){return this.modifyDoneInputEditing(t.$dt),!1}},{key:dr("$projectList .project-item label")+Lr+Mr,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:"selectProject",value:function(t){t&&(this.$selection.selectProject(t),t.artboards.length&&(this.$selection.selectArtboard(t.artboards[0]),this.$selection.select())),this.emit("refreshAllSelectProject")}},{key:er("$projectList .project-item label"),value:function(t){var e=+t.$dt.attr("data-index");this.selectProject(this.$editor.projects[e])}},{key:er("$projectList .project-item .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.$editor.projects.splice(e);var n=this.$editor.projects[e]||this.$editor.projects[e-1];this.selectProject(n)}},{key:Wo("refreshProjectList"),value:function(){this.refresh()}}])&&aY(n.prototype,r),o&&aY(n,o),e}(hz);function fY(t){return(fY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hY(t,e){return!e||"object"!==fY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dY(t){return(dY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vY(t,e){return(vY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bY=function(t){function e(){return pY(this,e),hY(this,dY(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vY(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("artboard.property.title")}},{key:"getClassName",value:function(){return"full"}},{key:"getTools",value:function(){return"\n      <button type='button' ref='$add' title=\"Add a artboard\">".concat(jv.add,"</button>\n    ")}},{key:"getBody",value:function(){return'\n      <div class="artboard-list scrollbar" ref="$artboardList"></div>\n    '}},{key:zr("$artboardList")+Rr,value:function(){var t=this,e=this.$selection.currentProject;return e?e.artboards.map((function(e,n){var r=e===t.$selection.currentArtboard?"selected":"",o="";return e&&e.hasLayout()&&(o=t.$i18n("artboard.property.layout.title."+e.layout)),"\n        <div class='artboard-item ".concat(r,"' data-layout=\"").concat(e.layout,"\" data-artboard-id='").concat(e.id,"'>\n          <div class='preview icon'>").concat(jv.doc,"</div>\n          <div class='detail'>\n            <label data-index='").concat(n,"' data-layout-title='").concat(o,"' >").concat(e.name,'</label>\n            <div class="tools">\n              <button type="button" class="remove" data-index="').concat(n,"\" title='Remove'>").concat(jv.remove2,"</button>\n            </div>\n          </div>\n        </div>\n      ")})):""}},{key:nr("$artboardList .artboard-item"),value:function(t){this.startInputEditing(t.$dt.$("label"))}},{key:"modifyDoneInputEditing",value:function(t){var e=this;this.endInputEditing(t,(function(t,n){var r=e.$selection.currentProject;if(r){var o=r.artboards[t];o&&(o.reset({name:n}),e.emit("refreshArtBoardName",o.id,n))}}))}},{key:or("$artboardList .artboard-item label")+_r+Lr+Mr,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:dr("$artboardList .artboard-item label")+Lr+Mr,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:er("$add"),value:function(t){this.emit("addArtBoard")}},{key:er("$artboardList .artboard-item .remove"),value:function(t){var e=this.$selection.currentProject;if(e){var n=+t.$dt.attr("data-index");e.artboards.splice(n);var r=e.artboards[n]||e.artboards[n-1];this.emit("selectArtboard",r)}}},{key:er("$artboardList .artboard-item label"),value:function(t){var e=this.$selection.currentProject;if(e){t.$dt.closest("artboard-item").onlyOneClass("selected");var n=+t.$dt.attr("data-index"),r=e.artboards[n];r&&this.emit("selectArtboard",r)}}},{key:Wo("refreshArtBoardList"),value:function(){this.refresh()}},{key:Wo("changeItemLayout"),value:function(){this.refresh()}}])&&yY(n.prototype,r),o&&yY(n,o),e}(hz);function mY(t){return(mY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gY(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function wY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kY(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wY(Object(n),!0).forEach((function(e){OY(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wY(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function OY(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PY(t,e){return!e||"object"!==mY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xY(t){return(xY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $Y(t,e){return($Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var EY=function(t){function e(){return jY(this,e),PY(this,xY(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$Y(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("layer.tree.property.title")}},{key:"getClassName",value:function(){return"full"}},{key:"initState",value:function(){return{hideDragPointer:!0,lastDragOverPosition:0,lastDragOverOffset:0,rootRect:{top:0},itemRect:{height:0}}}},{key:"getTools",value:function(){return"\n      <button type='button' ref='$add' title=\"Add a layer\">".concat(jv.add,"</button>\n    ")}},{key:"getBody",value:function(){return"\n      <div class=\"layer-list scrollbar\" ref=\"$layerList\"></div>\n      <div class='drag-point' ref='$dragPointer'></div>\n    "}},{key:Hr("$dragPointer"),value:function(){var t=this.state.lastDragOverOffset,e=this.state.itemRect.height/3,n={};if(this.state.lastDragOverOffset<e){t=0;var r=this.state.lastDragOverPosition+t-this.state.rootRect.top;n={top:$.px(r),height:"1px",width:"100%",left:"0px"},this.state.lastDragOverItemDirection="before"}else this.state.lastDragOverOffset>this.state.itemRect.height-e?(t=this.state.itemRect.height,r=this.state.lastDragOverPosition+t-this.state.rootRect.top,n={top:$.px(r),height:"1px",width:"100%",left:"0px"},this.state.lastDragOverItemDirection="after"):(t=0,r=this.state.lastDragOverPosition+t-this.state.rootRect.top,n={top:$.px(r),height:$.px(this.state.itemRect.height),width:"100%",left:"0px"},this.state.lastDragOverItemDirection="self");return{style:kY({position:"absolute"},n,{display:this.state.hideDragPointer?"none":"block"})}}},{key:"getIcon",value:function(t){if(t.isGroup)return jv.group;switch(t.itemType){case"circle":return jv.lens;case"image":return jv.image;case"text":case"svg-text":return jv.title;case"svg-textpath":return jv.text_rotate;case"svg-path":return jv.pentool;case"cube":return jv.cube;case"cylinder":return jv.cylinder;default:return jv.rect}}},{key:"makeLayerList",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.layers?gY(t.layers).reverse().map((function(t,r){var o=e.$selection.check(t)?"selected":"",i=t.name;t.is("text")&&(i=t.text||t.name);var a="";t.hasLayout()&&(a=e.$i18n("layer.tree.property.layout.title."+t.layout));var c=t.isTreeItemHide();return("        \n      <div class='layer-item ".concat(o,"' data-is-group=\"").concat(t.isGroup,'" data-depth="').concat(n,"\" data-layout='").concat(t.layout,"' data-layer-id='").concat(t.id,"' data-is-hide=\"").concat(c,"\"  draggable=\"true\">\n        <div class='detail'>\n          <label data-layout-title='").concat(a,"' > \n            <div class='folder ").concat(t.collapsed?"collapsed":"","'>").concat(jv.arrow_right,"</div>\n            <span class='icon' data-item-type=\"").concat(t.itemType,'">').concat(e.getIcon(t),"</span> \n            <span class='name'>").concat(i,'</span>\n          </label>\n          <div class="tools">\n            <button type="button" class="lock" data-lock="').concat(t.lock,"\" title='Lock'>").concat(t.lock?jv.lock:jv.lock_open,'</button>\n            <button type="button" class="visible" data-visible="').concat(t.visible,"\" title='Visible'>").concat(jv.visible,'</button>\n            <button type="button" class="remove" title=\'Remove\'>').concat(jv.remove2,"</button>            \n          </div>\n        </div>\n      </div>\n\n      ").concat(e.makeLayerList(t,n+1),"\n    "))})).join(""):""}},{key:Wo("refreshContent"),value:function(t){this.refresh()}},{key:zr("$layerList")+Rr,value:function(){var t=this.$selection.currentArtboard;return t?this.makeLayerList(t,0)+'\n      <div class=\'layer-item \' data-depth="0" data-is-last="true">\n      </div>\n    ':""}},{key:ar("$layerList .layer-item"),value:function(t){var e=t.$dt.attr("data-layer-id");t.$dt.addClass("drag-start"),t.dataTransfer.setData("layer/id",e),this.state.rootRect=this.refs.$layerList.rect(),this.state.itemRect=t.$dt.rect(),this.setState({hideDragPointer:!1},!1),this.bindData("$dragPointer")}},{key:sr("$layerList .layer-item"),value:function(t){this.setState({hideDragPointer:!0},!1),this.bindData("$dragPointer"),this.refs.$layerList.$$(".".concat("drag-start")).forEach((function(t){t.removeClass("drag-start")}))}},{key:ur("$layerList .layer-item:not(.".concat("drag-start",")"))+Lr,value:function(t){var e=t.$dt.attr("data-layer-id");this.state.lastDragOverItemId=e,this.state.lastDragOverPosition=t.$dt.rect().top,this.state.lastDragOverOffset=t.offsetY,this.bindData("$dragPointer")}},{key:cr("$layerList .layer-item:not(.".concat("drag-start",")")),value:function(t){var e=t.$dt.attr("data-layer-id"),n=t.dataTransfer.getData("layer/id");if(e!==n){var r=this.$selection.currentProject,o=r.searchById(e),i=r.searchById(n);o&&o.hasParent(i.id)||(o.add(i,this.state.lastDragOverItemDirection),this.$selection.select(i),this.setState({hideDragPointer:!0}),this.emit("refreshAll"))}}},{key:nr("$layerList .layer-item"),value:function(t){this.startInputEditing(t.$dt.$(".name"))}},{key:"modifyDoneInputEditing",value:function(t){var e=this;this.endInputEditing(t,(function(n,r){var o=t.closest("layer-item").attr("data-layer-id"),i=e.$selection.currentProject.searchById(o);i&&i.reset({name:r})}))}},{key:or("$layerList .layer-item .name")+_r+Lr+Mr,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:dr("$layerList .layer-item .name")+Lr+Mr,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:"selectLayer",value:function(t){t&&this.$selection.select(t),this.refresh(),this.emit("refreshSelection")}},{key:"addLayer",value:function(t){t&&(this.$selection.select(t),this.emit("refreshArtboard"))}},{key:er("$add"),value:function(t){this.emit("newComponent","rect",{"background-color":Rn.random(),width:$.px(200),height:$.px(100)})}},{key:er("$layerList .layer-item label .name"),value:function(t){var e=t.$dt.closest("layer-item");e.onlyOneClass("selected");var n=e.attr("data-layer-id"),r=this.$selection.currentProject.searchById(n);this.$selection.select(r),this.emit("refreshSelection")}},{key:er("$layerList .layer-item label .folder"),value:function(t){var e=this.$selection.currentProject,n=t.$dt.closest("layer-item").attr("data-layer-id"),r=e.searchById(n);r.reset({collapsed:!r.collapsed}),this.refresh()}},{key:er("$layerList .layer-item .visible"),value:function(t){var e=this.$selection.currentProject,n=t.$dt.closest("layer-item").attr("data-layer-id"),r=e.searchById(n);t.$dt.attr("data-visible",!r.visible),this.command("setAttribute","change visible for layer",{visible:!r.visible},r.id)}},{key:er("$layerList .layer-item .remove"),value:function(t){var e=this.$selection.currentProject,n=t.$dt.closest("layer-item").attr("data-layer-id");this.$selection.removeById(n),e.searchById(n).remove(),this.refresh(),this.emit("refreshArtboard")}},{key:er("$layerList .layer-item .lock"),value:function(t){var e=this.$selection.currentProject,n=t.$dt.closest("layer-item").attr("data-layer-id"),r=e.searchById(n);t.$dt.attr("data-lock",!r.lock),this.command("setAttribute","change lock for layer",{lock:!r.lock},r.id)}},{key:Wo("changeSelection"),value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&this.refs.$layerList){this.refs.$layerList.$$(".selected").forEach((function(t){t.removeClass("selected")}));var n=this.$selection.items.map((function(t){return'[data-layer-id="'.concat(t.id,'"]')})).join(",");n&&this.refs.$layerList.$$(n).forEach((function(e){e.addClass("selected");var n=t.$selection.itemKeys[e.attr("data-layer-id")];n.is("svg-path","svg-polygon")&&e.$(".icon").html(t.getIcon(n))}))}}},{key:Wo("refreshSelection","history.refreshSelection"),value:function(){this.trigger("changeSelection",!0)}},{key:Wo("refreshStylePosition"),value:function(){this.trigger("changeSelection")}},{key:Wo("refreshLayerTreeView"),value:function(){this.refresh()}},{key:Wo("changeItemLayout"),value:function(){this.refresh()}}])&&SY(n.prototype,r),o&&SY(n,o),e}(hz);function _Y(t){return(_Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function CY(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function TY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function DY(t,e){return!e||"object"!==_Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function VY(t){return(VY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function AY(t,e){return(AY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var IY=function(t){function e(){return TY(this,e),DY(this,VY(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&AY(t,e)}(e,t),n=e,(r=[{key:"getClassName",value:function(){return"artboard-size-list"}},{key:Wo("refreshSelection"),value:function(){this.refreshShow(["project","artboard"])}},{key:"initState",value:function(){return{selectedIndex:0,sizeList:[{category:"Web",groups:[{group:"Landscape",devices:[{device:"Web Small",size:"1024x600"},{device:"Web Medium",size:"1280x800"},{device:"Web Large",size:"1440x900"},{device:"Web X Large",size:"1920x1200"}]},{group:"Portrait",devices:[{device:"Web Small",size:"600x1024"},{device:"Web Medium",size:"800x1280"},{device:"Web Large",size:"900x1440"},{device:"Web X Large",size:"1200x1920"}]}]},{category:"Apple Devices",groups:[{group:"iphone",devices:[{device:"iPhone 8",size:"375x667"},{device:"iPhone 8 Plus",size:"414x736"},{device:"iPhone SE",size:"320x568"},{device:"iPhone XS",size:"375x812"},{device:"iPhone XR",size:"414x896"},{device:"iPhone XS Max",size:"414x896"}]},{group:"ipad",devices:[{device:"iPad",size:"768x1024"},{device:"iPad Pro",size:"1024x1366"}]},{group:"apple watch",devices:[{device:"Apple Watch 38nm",size:"272x340"},{device:"Apple Watch 40nm",size:"326x394"},{device:"Apple Watch 42nm",size:"313x390"},{device:"Apple Watch 44nm",size:"368x448"}]},{group:"apple tv",devices:[{device:"Apple TV",size:"1920x1080"}]},{group:"MAC",devices:[{device:"Touch Bar",size:"1085x30"}]}]},{category:"Android Devices",groups:[{group:"android mobile",devices:[{device:"Android Mobile",size:"360x640"}]},{group:"android tablet",devices:[{device:"Android Tablet",size:"768x1024"}]}]}]}}},{key:"getTitle",value:function(){return"Preset"}},{key:"getTools",value:function(){var t=this.state.sizeList.map((function(t,e){return{category:t.category,index:e}}));return("\n      <SelectEditor ref='$select' value=\"".concat(t[0].category,'" options="').concat(t.map((function(t){return t.category})).join(","),"\" onchange='changeSizeIndex'/>\n    "))}},{key:Wo("changeSizeIndex"),value:function(t,e){var n=this.state.selectedIndex;this.state.sizeList.forEach((function(t,r){t.category===e&&(n=r)})),this.state.selectedIndex=n,this.refresh()}},{key:"getBody",value:function(){return"\n      <div class='artboard-size-item' ref='$list'></div>\n    "}},{key:"makeDevice",value:function(t){return"\n      <div class='device-item' data-size='".concat(t.size,"'>\n        <div class='title'>").concat(t.device,"</div>\n        <div class='size'>").concat(t.size,"</div>\n      </div>\n    ")}},{key:er("$list .device-item"),value:function(t){var e=t.$dt.attr("data-size");this.emit("resizeArtBoard",e)}},{key:"makeGroup",value:function(t){var e=this;return("\n      <div class='group-item'>\n        <div class='title'>".concat(t.group,"</div>\n      </div>\n      <div class='devices'>\n        ").concat(t.devices.map((function(t){return e.makeDevice(t)})).join(""),"\n      </div>\n    "))}},{key:"makeCategory",value:function(t){var e=this;return("\n      <div class='category'>\n        <div class='title'>".concat(t.category,"</div>\n      </div>\n      <div class='groups'>\n        ").concat(t.groups.map((function(t){return e.makeGroup(t)})).join(""),"\n      </div>\n    "))}},{key:zr("$list")+Rr,value:function(){var t=this;return this.state.sizeList[this.state.selectedIndex].groups.map((function(e){return t.makeGroup(e)}))}},{key:Wo("changeBoardSize"),value:function(t,e){var n=this.$selection.currentArtboard;if(n&&n.is("artboard")){if(!e.trim())return;var r=CY(e.split("x"),2),o=r[0],i=r[1];o=$.px(o),i=$.px(i),this.command("setAttributeForMulti","resize artboard",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n.id,{width:o,height:i}))}}}])&&RY(n.prototype,r),o&&RY(n,o),e}(hz);function LY(t){return(LY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function MY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zY(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?MY(Object(n),!0).forEach((function(e){BY(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MY(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function BY(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FY(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function GY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XY(t,e){return!e||"object"!==LY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function YY(t){return(YY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function NY(t,e){return(NY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var KY=["","100x100","200x200","300x300","400x300","900x600","1024x762"],WY=function(t){function e(){return GY(this,e),XY(this,YY(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NY(t,e)}(e,t),n=e,(r=[{key:"getClassName",value:function(){return"item"}},{key:"getTitle",value:function(){return this.$i18n("image.property.title")}},{key:"getBody",value:function(){return"<div ref='$body' style='padding-top: 3px;'></div>"}},{key:"getFooter",value:function(){return"\n      <div>\n        <label> ".concat(this.$i18n("image.property.origin")," </label> <span ref='$sizeInfo'></span> <button type=\"button\" ref='$resize'>").concat(jv.size,"</button>\n      </div>\n      <div>\n        <SelectEditor ref='$select' label=\"").concat(this.$i18n("image.property.size"),"\" key='size' value='' options='").concat(KY.join(","),"' onchange='changeImageSize' />\n      </div>\n    ")}},{key:Wo("changeImageSize"),value:function(t,e){var n=FY(e.split("x").map((function(t){return $.px(t)})),2),r=n[0],o=n[1];this.command("setAttribute","resize image",{width:r,height:o})}},{key:er("$resize"),value:function(){var t=this.$selection.current;if(t){var e={width:t.naturalWidth.clone(),height:t.naturalHeight.clone()};this.command("setAttribute","resize image",e)}}},{key:Hr("$sizeInfo"),value:function(){var t=this.$selection.current||{};return{innerHTML:"".concat(this.$i18n("image.property.width"),": ").concat(t.naturalWidth,", ").concat(this.$i18n("image.property.height"),": ").concat(t.naturalHeight)}}},{key:zr("$body"),value:function(){var t=(this.$selection.current||{}).url||"";return"<ImageSelectEditor \n              ref='$1' \n              key='src' \n              value=\"".concat(t,'" \n              onchange="changeSelect" />')}},{key:Wo("changeSelect"),value:function(t,e,n){var r=this.$selection.current;r&&(r.reset(zY({src:e},n)),this.bindData("$sizeInfo"),this.command("setAttribute","change image",zY({src:e},n),r.id))}},{key:Wo("refreshSelection")+Dr(100),value:function(){this.refreshShow(["image"])}}])&&HY(n.prototype,r),o&&HY(n,o),e}(hz),UY={title:"random",key:"random",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return Rn.randomByCount(t).map((function(t){return{color:t}}))}},ZY=["#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#f44336","#e53935","#d32f2f","#c62828","#b71c1c","#f44336","#ff8a80","#ff5252","#ff1744","#d50000"].map((function(t){return{color:t}})),qY={title:"material red",key:"material-red",execute:function(){return ZY}},JY=["#fce4ec","#f8bbd0","#f48fb1","#f06292","#ec407a","#e91e63","#d81b60","#c2185b","#ad1457","#880e4f","#e91e63","#ff80ab","#ff4081","#f50057","#c51162"].map((function(t){return{color:t}})),QY={title:"material pink",key:"material-pink",execute:function(){return JY}},tN=["#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#6a1b9a","#4a148c","#9c27b0","#ea80fc","#e040fb","#d500f9","#aa00ff"].map((function(t){return{color:t}})),eN={title:"material purple",key:"material-purple",execute:function(){return tN}},nN=["#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#512da8","#4527a0","#311b92","#673ab7","#b388ff","#7c4dff","#651fff","#6200ea"].map((function(t){return{color:t}})),rN={title:"material deep purple",key:"material-deeppurple",execute:function(){return nN}},oN=["#e8eaf6","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3f51b5","#3949ab","#303f9f","#283593","#1a237e","#3f51b5","#8c9eff","#536dfe","#3d5afe","#304ffe"].map((function(t){return{color:t}})),iN={title:"material indigo",key:"material-indigo",execute:function(){return oN}},aN=["#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1","#2196f3","#82b1ff","#448aff","#2979ff","#2962ff"].map((function(t){return{color:t}})),cN={title:"material blue",key:"material-blue",execute:function(){return aN}},uN=["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b","#03a9f4","#80d8ff","#40c4ff","#00b0ff","#0091ea"].map((function(t){return{color:t}})),sN={title:"material light blue",key:"material-lightblue",execute:function(){return uN}},lN=["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064","#00bcd4","#84ffff","#18ffff","#00e5ff","#00b8d4"].map((function(t){return{color:t}})),fN={title:"material cyan",key:"material-cyan",execute:function(){return lN}},pN=["#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40","#009688","#a7ffeb","#64ffda","#1de9b6","#00bfa5"].map((function(t){return{color:t}})),yN={title:"material teal",key:"material-teal",execute:function(){return pN}},hN=["#E8F5E9","#C8E6C9","#A5D6A7","#81C784","#66BB6A","#4CAF50","#43A047","#388E3C","#2E7D32","#1B5E20","#B9F6CA","#69F0AE","#00E676","#00C853"].map((function(t){return{color:t}})),dN={title:"material green",key:"material-green",execute:function(){return hN}},vN=["#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F","#33691E","#CCFF90","#B2FF59","#76FF03","#64DD17"].map((function(t){return{color:t}})),bN={title:"material lightgreen",key:"material-lightgreen",execute:function(){return vN}},mN=["#F9FBE7","#F0F4C3","#E6EE9C","#DCE775","#D4E157","#CDDC39","#C0CA33","#AFB42B","#9E9D24","#827717","#F4FF81","#EEFF41","#C6FF00","#AEEA00"].map((function(t){return{color:t}})),gN={title:"material lime",key:"material-lime",execute:function(){return mN}},wN=["#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825","#F57F17","#FFFF8D","#FFFF00","#FFEA00","#FFD600"].map((function(t){return{color:t}})),kN={title:"material yellow",key:"material-yellow",execute:function(){return wN}},ON=["#FFF8E1","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00","#FF6F00","#FFE57F","#FFD740","#FFC400","#FFAB00"].map((function(t){return{color:t}})),jN={title:"material amber",key:"material-amber",execute:function(){return ON}},SN=["#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00","#E65100","#FFD180","#FFAB40","#FF9100","#FF6D00"].map((function(t){return{color:t}})),PN={title:"material orange",key:"material-orange",execute:function(){return SN}},xN=["#FBE9E7","#FFCCBC","#FFAB91","#FF8A65","#FF7043","#FF5722","#F4511E","#E64A19","#D84315","#BF360C","#FF9E80","#FF6E40","#FF3D00","#DD2C00"].map((function(t){return{color:t}})),$N={title:"material deep orange",key:"material-deeporange",execute:function(){return xN}},EN=["#EFEBE9","#D7CCC8","#BCAAA4","#A1887F","#8D6E63","#795548","#6D4C41","#5D4037","#4E342E","#3E2723"].map((function(t){return{color:t}})),_N={title:"material brown",key:"material-brown",execute:function(){return EN}},CN=["#FAFAFA","#F5F5F5","#EEEEEE","#E0E0E0","#BDBDBD","#9E9E9E","#757575","#616161","#424242","#212121"].map((function(t){return{color:t}})),TN={title:"material gray",key:"material-gray",execute:function(){return CN}},RN=["#ECEFF1","#CFD8DC","#B0BEC5","#90A4AE","#78909C","#607D8B","#546E7A","#455A64","#37474F","#263238"].map((function(t){return{color:t}})),DN={title:"material bluegray",key:"material-bluegray",execute:function(){return RN}},VN=["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"].map((function(t){return{color:t}})),AN=[UY,{title:"opencolor gray",resource:"https://yeun.github.io/open-color/",key:"opencolor-gray",execute:function(){return VN}},qY,QY,eN,rN,iN,cN,sN,fN,yN,dN,bN,gN,kN,jN,PN,$N,_N,TN,DN];function IN(t){return(IN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function LN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zN(t,e){return!e||"object"!==IN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function BN(t){return(BN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function FN(t,e){return(FN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var GN=function(t){function e(){return LN(this,e),zN(this,BN(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FN(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("color.asset.property.title")}},{key:"initState",value:function(){return{mode:"grid",preset:"random"}}},{key:"getTools",value:function(){var t=AN.map((function(t){return"".concat(t.key,":").concat(t.title)}));return('\n      <SelectEditor key="preset" value="'.concat(this.state.preset,'" options="').concat(t,'" onchange="changePreset"  />\n    '))}},{key:Wo("changePreset"),value:function(t,e){this.setState(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:"getClassName",value:function(){return"color-assets-property"}},{key:Wo("refreshSelection")+Dr(100),value:function(){this.show()}},{key:"getBody",value:function(){return"\n      <div class='property-item color-assets'>\n        <div class='color-list' ref='$colorList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:ar("$colorList .color-item"),value:function(t){var e=t.$dt.attr("data-color");t.dataTransfer.effectAllowed="copy",t.dataTransfer.setData("text/color",e)}},{key:zr("$colorList"),value:function(){var t=this,e=AN.find((function(e){return e.key===t.state.preset}));if(!e)return"";var n=e.execute().map((function(t,e){return"\n        <div class='color-item' data-index=\"".concat(e,'" data-color="').concat(t.color,'" data-custom="').concat(t.custom,"\">\n          <div class='preview' title=\"").concat(t.color,'" data-index="').concat(e,"\" draggable=\"true\"><div class='color-view' style='background-color: ").concat(t.color,";'></div></div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>").concat(jv.copy,"</button>          \n            <button type=\"button\" class='remove'>").concat(jv.remove,"</button>\n          </div>\n        </div>\n      ")}));return e.edit&&n.push("<div class='add-color-item'><butto type=\"button\">".concat(jv.add,"</button></div>")),n}},{key:"executeColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.$selection.currentProject;r?(t&&t(r),e&&this.refresh(),n&&this.emit("refreshColorAssets")):alert("Please select a project.")}},{key:er("$colorList .add-color-item"),value:function(){this.executeColor((function(t){t.createColor({color:Rn.random(),name:"",variable:""})}))}},{key:er("$colorList .remove"),value:function(t){var e=+t.$dt.closest("color-item").attr("data-index");this.executeColor((function(t){t.removeColor(e)}))}},{key:er("$colorList .copy"),value:function(t){var e=+t.$dt.closest("color-item").attr("data-index");this.executeColor((function(t){t.copyColor(e)}))}},{key:er("$colorList .preview"),value:function(t){var e=t.$dt.$(".color-view").css("background-color");"CanvasView"===this.$editor.modeView?this.emit("addBackgroundColor",e):this.emit("setColorAsset",{color:e})}},{key:Wo("changeColorAssets"),value:function(t,e){var n=this;this.executeColor((function(r){r.setColorValue(e.index,{color:t}),n.state.$el.css("background-color",t),n.state.$color.val(t)}),!1)}}])&&MN(n.prototype,r),o&&MN(n,o),e}(hz);function HN(t){return(HN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function NN(t,e){return!e||"object"!==HN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function KN(t){return(KN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function WN(t,e){return(WN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var UN=function(t){function e(){return XN(this,e),NN(this,KN(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WN(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("text.fill.property.title")}},{key:"afterRender",value:function(){this.show()}},{key:Wo("refreshSelection"),value:function(){this.refresh()}},{key:"refresh",value:function(){var t=this.$selection.current;t&&(this.children.$fillColor.setValue(t["text-fill-color"]||"rgba(0, 0, 0, 1)"),this.children.$strokeColor.setValue(t["text-stroke-color"]||"rgba(0, 0, 0, 1)"),this.children.$width.setValue(t["text-stroke-width"]||"0px"))}},{key:"getBody",value:function(){return"\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-fill-color'></span>\n        </div>\n        <ColorViewEditor ref='$fillColor' label='".concat(this.$i18n("text.fill.property.fill"),"' key='text-fill-color' onchange=\"changeColor\" />\n      </div>           \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-stroke-color'></span>\n        </div>\n        <ColorViewEditor ref='$strokeColor' label='").concat(this.$i18n("text.fill.property.stroke"),"' key='text-stroke-color' onchange=\"changeColor\" />\n      </div>                 \n\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-stroke-width'></span>\n        </div>\n        <RangeEditor \n          ref='$width' \n          label='").concat(this.$i18n("text.fill.property.strokeWidth"),'\' \n          key="text-stroke-width" \n          \n          max="50"\n          onchange="changeRangeEditor" />\n      </div>\n    \n    ')}},{key:Wo("changeColor"),value:function(t,e,n){this.trigger("changeRangeEditor",t,e)}},{key:Wo("changeRangeEditor"),value:function(t,e){this.command("setAttribute","change text fill",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&YN(n.prototype,r),o&&YN(n,o),e}(hz),ZN=["0deg","45deg","90deg"],qN=["0deg","45deg","90deg"],JN=["0deg","45deg","90deg"],QN=[{title:"Linear",key:"linear",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return fe(t).map((function(t){return{gradient:"linear-gradient(".concat(pe.apply(void 0,ZN),", ").concat(_c.createColorStep(2),")")}}))}},{title:"Random Linear",key:"random-linear",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return fe(t).map((function(t){return{gradient:"linear-gradient(".concat(pe.apply(void 0,qN),", ").concat(_c.createColorStep(10),")")}}))}},{title:"Repeat Linear",key:"repeat-linear",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return fe(t).map((function(t){return{gradient:"repeating-linear-gradient(".concat(pe.apply(void 0,JN),", ").concat(_c.createRepeatColorStep(2,"10px"),")")}}))}},{title:"Radial",key:"radial",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return fe(t).map((function(t){return{gradient:"radial-gradient(".concat("circle",", ").concat(_c.createColorStep(2),")")}}))}},{title:"Random Radial",key:"random-radial",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return fe(t).map((function(t){return{gradient:"radial-gradient(circle, ".concat(_c.createColorStep(10),")")}}))}},{title:"Repeat Radial",key:"repeat-radial",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return fe(t).map((function(t){return{gradient:"repeating-radial-gradient(".concat("circle",", ").concat(_c.createRepeatColorStep(3,"6px"),")")}}))}},{title:"Conic",key:"conic",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return fe(t).map((function(t){var e=b(45,55),n=b(45,55),r=b(0,360);return{gradient:"conic-gradient(from ".concat(r,"deg at ").concat(e,"% ").concat(n,"%, ").concat(_c.createColorStep(2,360,"deg"),")")}}))}},{title:"Random Conic",key:"random-conic",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return fe(t).map((function(t){return{gradient:"conic-gradient(from 0deg at 50% 50%, ".concat(_c.createColorStep(10,360,"deg"),")")}}))}},{title:"Repeat Conic",key:"repeat-conic",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return fe(t).map((function(t){return{gradient:"repeating-conic-gradient(from 0deg at 0% 50%, ".concat(_c.createRepeatColorStep(10,"10deg"),")")}}))}}];function tK(t){return(tK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rK(t,e){return!e||"object"!==tK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oK(t){return(oK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function iK(t,e){return(iK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var aK=function(t){function e(){return eK(this,e),rK(this,oK(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iK(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("gradient.asset.property.title")}},{key:"initState",value:function(){return{mode:"grid",preset:"linear"}}},{key:"getTools",value:function(){var t=QN.map((function(t){return"".concat(t.key,":").concat(t.title)}));return('\n      <SelectEditor key="preset" value="'.concat(this.state.preset,'" options="').concat(t,'" onchange="changePreset"  />\n    '))}},{key:Wo("changePreset"),value:function(t,e){this.setState(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:"getClassName",value:function(){return"gradient-assets-property"}},{key:Wo("refreshSelection")+Dr(100),value:function(){this.show()}},{key:"getBody",value:function(){return"\n      <div class='property-item gradient-assets'>\n        <div class='gradient-list' ref='$gradientList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:ar("$gradientList .gradient-item"),value:function(t){var e=t.$dt.attr("data-gradient");t.dataTransfer.effectAllowed="copy",t.dataTransfer.setData("text/gradient",e)}},{key:zr("$gradientList"),value:function(){var t=this,e=QN.find((function(e){return e.key===t.state.preset}));if(!e)return"";var n=e.execute().map((function(t,e){return"\n        <div class='gradient-item' data-index=\"".concat(e,"\" data-gradient='").concat(t.gradient,"' data-custom=\"").concat(t.custom,"\">\n          <div class='preview' title=\"").concat(t.gradient,"\" draggable=\"true\">\n            <div class='gradient-view' style='background-image: ").concat(t.gradient,";'></div>\n          </div>\n        </div>\n      ")}));return e.edit&&n.push("<div class='add-gradient-item'><butto type=\"button\">".concat(jv.add,"</button></div>")),n}},{key:"executeGradient",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.$selection.currentProject;r?(t&&t(r),e&&this.refresh(),n&&this.emit("refreshGradientAssets")):alert("Please select a project.")}},{key:er("$gradientList .add-gradient-item"),value:function(){this.executeGradient((function(t){t.createGradient({gradient:Fc.random(),name:"",variable:""})}))}},{key:er("$gradientList .preview"),value:function(t){var e=t.$dt.closest("gradient-item").attr("data-gradient");this.emit("drop.asset",{gradient:e})}},{key:Wo("changeGradientAssets"),value:function(t,e){var n=this;this.executeGradient((function(r){r.setGradientValue(e.index,{image:t}),n.state.$el.css("background-image",t),n.state.$item.attr("data-gradient",t)}),!1)}}])&&nK(n.prototype,r),o&&nK(n,o),e}(hz);function cK(t){return(cK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lK(t,e){return!e||"object"!==cK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fK(t){return(fK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pK(t,e){return(pK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yK=function(t){function e(){return uK(this,e),lK(this,fK(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pK(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("svg.item.property.title")}},{key:"getClassName",value:function(){return"item"}},{key:"isSVGItem",value:function(t){return t.is("svg-path","svg-brush","svg-polygon","svg-textpath","svg-text")}},{key:Wo("refreshStyleView"),value:function(){var t=this.$selection.current;t&&this.isSVGItem(t)&&this.refs.$length.text(t.totalLength||"")}},{key:Wo("refreshSelection"),value:function(){var t=this.$selection.current;t&&this.isSVGItem(t)?(this.$el.isHide()&&this.$el.show(),this.refs.$length.text(t.totalLength||""),this.children.$fill.setValue(t.fill||"rgba(0, 0, 0, 0)"),this.children.$stroke.setValue(t.stroke||"rgba(0, 0, 0, 1)"),this.children.$fillOpacity.setValue(t["fill-opacity"]||$.number(1)),this.children.$strokeWidth.setValue(t["stroke-width"]||$.number(1)),this.children.$fillRule.setValue(t["fill-rule"]||"nonzero"),this.children.$strokeDashOffset.setValue(t["stroke-dashoffset"]||$.number(0)),this.children.$strokeDashArray.setValue(t["stroke-dasharray"]||" "),this.children.$strokeLineCap.setValue(t["stroke-linecap"]||"butt"),this.children.$strokeLineJoin.setValue(t["stroke-linejoin"]||"miter")):this.$el.hide()}},{key:"refresh",value:function(){}},{key:Hr("$svgProperty"),value:function(){return{style:{display:(this.$selection.current||{})["motion-based"]?"none":"block"}}}},{key:"getBody",value:function(){var t=this.$selection.current||{};return("\n\n      <div class='property-item'> \n        <label>\n          <input type='checkbox' ref='$motionBased' ".concat(be({checked:!!t["motion-based"]})," /> \n          ").concat(this.$i18n("svg.item.property.isMotionPath"),"\n        </label>\n      </div>      \n\n      <div ref='$svgProperty'>\n        <div class='property-item animation-property-item' ref='$path'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='d'></span>      \n          </div>            \n          <label>").concat(this.$i18n("svg.item.property.path")," - <span>").concat(this.$i18n("svg.item.property.totalLength"),"</span> <span ref='$length'></span> </label>\n        </div>      \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='fill'></span>\n          </div>\n          <FillSingleEditor ref='$fill' label='").concat(this.$i18n("svg.item.property.fill"),"' key='fill' onchange=\"changeValue\" />\n        </div>\n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='fill-opacity'></span>\n          </div>            \n          <NumberRangeEditor \n            ref='$fillOpacity' \n            label='").concat(this.$i18n("svg.item.property.fillOpacity"),"' \n            key='fill-opacity' \n            value=\"1\" \n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            onchange=\"changeValue\" \n            />\n        </div>   \n\n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='fill-rule'></span>\n          </div>\n          <SelectIconEditor \n            ref='$fillRule' \n            label='").concat(this.$i18n("svg.item.property.fillRule"),"' \n            key=\"fill-rule\" \n            options=\"nonzero,evenodd\" \n            onchange=\"changeValue\" />\n        </div>            \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke'></span>\n          </div>\n          <FillSingleEditor ref='$stroke' label='").concat(this.$i18n("svg.item.property.stroke"),"' key='stroke' onchange=\"changeValue\" />\n        </div>      \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-width'></span>\n          </div>\n          <RangeEditor \n            ref='$strokeWidth' \n            label='").concat(this.$i18n("svg.item.property.strokeWidth"),"' \n            key=\"stroke-width\" \n            onchange=\"changeValue\" />\n        </div>\n              \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-dasharray'></span>      \n          </div>          \n          <label>").concat(this.$i18n("svg.item.property.dashArray"),"</label>\n        </div>\n        <div class='property-item'>\n          <StrokeDashArrayEditor ref='$strokeDashArray' key='stroke-dasharray' onchange=\"changeValue\" />\n        </div>\n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-dashoffset'></span>      \n          </div>          \n          <NumberRangeEditor \n            ref='$strokeDashOffset' \n            key='stroke-dashoffset' \n            label='").concat(this.$i18n("svg.item.property.dashOffset"),"'\n            value=\"0\" \n            min=\"-1000\"\n            max=\"1000\"\n            step=\"1\"\n            onchange=\"changeValue\" \n            />\n        </div>         \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-linecap'></span>      \n          </div>          \n          <SelectIconEditor \n            ref='$strokeLineCap' \n            label='").concat(this.$i18n("svg.item.property.lineCap"),"' \n            key=\"stroke-linecap\" \n            options=\"butt,round,square\" \n            onchange=\"changeValue\" \n          />\n        </div> \n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-linejoin'></span>      \n          </div>          \n          <SelectIconEditor \n            ref='$strokeLineJoin' \n            label='").concat(this.$i18n("svg.item.property.lineJoin"),"'             \n            key=\"stroke-linejoin\" \n            options=\"miter,bevel,round\" \n            onchange=\"changeValue\" \n          />\n        </div>        \n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='svgfilter'></span>      \n          </div>\n          <SVGFilterSelectEditor \n            ref='$svgFilter' \n            label='").concat(this.$i18n("svg.item.property.filter"),'\' \n            key="svgfilter" \n            onchange="changeValue" \n          />\n        </div>         \n      </div>\n   \n    '))}},{key:er("$motionBased"),value:function(){this.command("setAttribute","set motion base",{"motion-based":this.refs.$motionBased.checked()})}},{key:Wo("changeValue"),value:function(t,e,n){this.command("setAttribute","change svg item property : ".concat(t),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e),null,!0)}}])&&sK(n.prototype,r),o&&sK(n,o),e}(hz);function hK(t){return(hK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bK(t,e){return!e||"object"!==hK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mK(t){return(mK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gK(t,e){return(gK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wK=function(t){function e(){return dK(this,e),bK(this,mK(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gK(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("text.clip.property.title")}},{key:"isFirstShow",value:function(){return!1}},{key:"getClassName",value:function(){return"item"}},{key:"getTools",value:function(){return"<div ref='$textClip'></div>"}},{key:zr("$textClip"),value:function(){var t=(this.$selection.current||{})["text-clip"]||"";return"\n      <SelectEditor ref='$1' key='text-clip' icon=\"true\" value=\"".concat(t,'" options=",text" onchange="changeSelect" />\n    ')}},{key:Wo("changeSelect"),value:function(t,e){this.emit("setAttribute",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:Wo("refreshSelection")+Dr(100),value:function(){this.refreshShow(["text"])}}])&&vK(n.prototype,r),o&&vK(n,o),e}(hz);function kK(t){return(kK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function OK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SK(t,e){return!e||"object"!==kK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function PK(t){return(PK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xK(t,e){return(xK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $K=function(t){function e(){return OK(this,e),SK(this,PK(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xK(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("svgfilter.asset.property.title")}},{key:"initState",value:function(){return{mode:"grid"}}},{key:"getClassName",value:function(){return"svgfilter-assets-property"}},{key:Wo("refreshSelection")+Dr(100),value:function(){this.show()}},{key:"getBody",value:function(){return"\n      <div class='property-item svgfilter-assets'>\n        <div class='svgfilter-list' ref='$svgfilterList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:zr("$svgfilterList"),value:function(){var t=(this.$selection.currentProject||{svgfilters:[]}).svgfilters.map((function(t,e){var n=t.filters.map((function(t){return tP.parse(t)}));return("\n        <div class='svgfilter-item' data-index=\"".concat(e,"\">\n          <div class='preview' data-index=\"").concat(e,'">\n            <svg width="0" height="0">\n              <filter id="svgfilter-').concat(e,'">\n                ').concat(n.join("")," \n              </filter>\n            </svg>\n            <div class='svgfilter-view' style='filter: url(#svgfilter-").concat(e,");'></div>\n          </div>\n          <div class='title'>\n            <div>\n              <input type='text' class='id' data-key='id' value='").concat(t.id,"' placeholder=\"id\" />\n            </div>\n          </div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>").concat(jv.copy,"</button>          \n            <button type=\"button\" class='remove'>").concat(jv.remove,"</button>\n          </div>\n        </div>\n      "))}));return t.push("<div class='add-svgfilter-item'><button type=\"button\">".concat(jv.add,"</button></div>")),t}},{key:"executeSVGFilter",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.$selection.currentProject;r?(t&&t(r),e&&this.refresh(),n&&this.emit("refreshSVGFilterAssets")):alert("Please select a project.")}},{key:er("$svgfilterList .add-svgfilter-item"),value:function(){this.executeSVGFilter((function(t){t.createSVGFilter({id:Z(),filters:[]})}))}},{key:er("$svgfilterList .remove"),value:function(t){var e=+t.$dt.closest("svgfilter-item").attr("data-index");this.executeSVGFilter((function(t){t.removeSVGFilter(e)}))}},{key:er("$svgfilterList .copy"),value:function(t){var e=+t.$dt.closest("svgfilter-item").attr("data-index");this.executeSVGFilter((function(t){t.copySVGFilter(e)}))}},{key:pr("$svgfilterList input"),value:function(t){var e=this,n=+t.$dt.closest("svgfilter-item").attr("data-index"),r=t.$dt.attrKeyValue("data-key");this.executeSVGFilter((function(t){t.setSVGFilterValue(n,r),e.emit("refreshSVGArea")}),!1)}},{key:er("$svgfilterList .preview"),value:function(t){var e=t.$dt.closest("svgfilter-item"),n=+e.attr("data-index");this.state.$item=e,this.state.$el=t.$dt.$(".svgfilter-view");var r=(this.$selection.currentProject||{svgfilters:[]}).svgfilters[n];this.emit("showSVGFilterPopup",{changeEvent:"changeSVGFilterAssets",id:this.id,index:n,filters:r.filters})}},{key:Wo("updateSVGFilterAssets"),value:function(t){var e=this;this.executeSVGFilter((function(n){n.setSVGFilterValue(t.index,{filters:t.filters}),e.state.$item.$("filter").html(t.filters.join("\n")),e.emit("refreshSVGArea")}),!1)}},{key:Wo("changeSVGFilterAssets"),value:function(t){t.id===this.id&&this.trigger("updateSVGFilterAssets",t)}},{key:Wo("refreshSVGFilterAssets"),value:function(){this.refresh()}}])&&jK(n.prototype,r),o&&jK(n,o),e}(hz);function EK(t){return(EK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function TK(t,e){return!e||"object"!==EK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function RK(t){return(RK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function DK(t,e){return(DK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var VK=function(t){function e(){return _K(this,e),TK(this,RK(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DK(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n        <button type="button" class=\'menu-item '.concat(this.getClassName(),"' data-no-title=\"").concat(this.isHideTitle(),'" ').concat(this.isHideTitle()?'title="'.concat(this.getTitle(),'"'):"",' checked="').concat(this.getChecked()?"checked":"",'">\n            <div class="icon ').concat(this.getIcon(),'">').concat(this.getIconString(),'</div>\n            <div class="title">').concat(this.getTitle(),"</div>\n        </button>\n        ")}},{key:"getClassName",value:function(){return""}},{key:"clickButton",value:function(t){}},{key:"getChecked",value:function(){return!1}},{key:"setSelected",value:function(t){this.$el.toggleClass("selected",t)}},{key:"getTitle",value:function(){return""}},{key:"getIcon",value:function(){return""}},{key:"getIconString",value:function(){return""}},{key:"isHideTitle",value:function(){return!1}},{key:er(),value:function(t){this.clickButton(t)}}])&&CK(n.prototype,r),o&&CK(n,o),e}(Uo);function AK(t){return(AK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function IK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function MK(t,e){return!e||"object"!==AK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zK(t){return(zK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function BK(t,e){return(BK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var FK=function(t){function e(){return IK(this,e),MK(this,zK(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&BK(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return"github"}},{key:"getTitle",value:function(){return this.$i18n("menu.item.github.title")}},{key:"clickButton",value:function(t){window.open("https://github.com/easylogic/editor","github-window")}}])&&LK(n.prototype,r),o&&LK(n,o),e}(VK);function GK(t){return(GK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function HK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function XK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function KK(t,e){return!e||"object"!==GK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function WK(t){return(WK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function UK(t,e){return(UK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ZK=function(t){function e(){return YK(this,e),KK(this,WK(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UK(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n    <form class=\'codepen\' action="https://codepen.io/pen/define" method="POST" target="_code_pen">\n      <input type="hidden" name="data" ref="$codepen" value=\'\'>\n      <button type="submit">\n        <div class=\'icon codepen\'></div>\n        <div class=\'title\'>'.concat(this.$i18n("menu.item.codepen.title"),"</div>\n      </button>\n    </form>     \n    ")}},{key:gr(),value:function(){var t=Sa.generate(this.$editor);return this.refs.$codepen.val(JSON.stringify(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?HK(Object(n),!0).forEach((function(e){XK(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HK(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({title:"sapa - editor.easylogic.studio",description:"https://editor.easylogic.studio",js_external:"https://cdn.jsdelivr.net/npm/@easylogic/anipa@0.0.11/dist/main.js"},t))),!1}}])&&NK(n.prototype,r),o&&NK(n,o),e}(Uo);function qK(t){return(qK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tW(t,e){return!e||"object"!==qK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eW(t){return(eW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nW(t,e){return(nW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rW=function(t){function e(){return JK(this,e),tW(this,eW(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nW(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.rect}},{key:"getTitle",value:function(){return this.props.title||"Rect"}},{key:"clickButton",value:function(t){this.emit("addLayerView","rect")}},{key:Wo("addLayerView"),value:function(t){this.setSelected("rect"===t)}}])&&QK(n.prototype,r),o&&QK(n,o),e}(VK);function oW(t){return(oW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cW(t,e){return!e||"object"!==oW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uW(t){return(uW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sW(t,e){return(sW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lW=function(t){function e(){return iW(this,e),cW(this,uW(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sW(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.lens}},{key:"getTitle",value:function(){return this.props.title||"Circle"}},{key:"clickButton",value:function(t){this.emit("addLayerView","circle")}},{key:Wo("addLayerView"),value:function(t){this.setSelected("circle"===t)}}])&&aW(n.prototype,r),o&&aW(n,o),e}(VK);function fW(t){return(fW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hW(t,e){return!e||"object"!==fW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dW(t){return(dW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vW(t,e){return(vW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bW=function(t){function e(){return pW(this,e),hW(this,dW(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vW(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.left}},{key:"getTitle",value:function(){return"Left"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("sort.left")}}])&&yW(n.prototype,r),o&&yW(n,o),e}(VK);function mW(t){return(mW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kW(t,e){return!e||"object"!==mW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function OW(t){return(OW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jW(t,e){return(jW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var SW=function(t){function e(){return gW(this,e),kW(this,OW(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jW(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.right}},{key:"getTitle",value:function(){return"Right"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("sort.right")}}])&&wW(n.prototype,r),o&&wW(n,o),e}(VK);function PW(t){return(PW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function EW(t,e){return!e||"object"!==PW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _W(t){return(_W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function CW(t,e){return(CW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var TW=function(t){function e(){return xW(this,e),EW(this,_W(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&CW(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.center}},{key:"getTitle",value:function(){return"Center"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("sort.center")}}])&&$W(n.prototype,r),o&&$W(n,o),e}(VK);function RW(t){return(RW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function DW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function AW(t,e){return!e||"object"!==RW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function IW(t){return(IW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function LW(t,e){return(LW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var MW=function(t){function e(){return DW(this,e),AW(this,IW(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LW(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.top}},{key:"getTitle",value:function(){return"Top"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("sort.top")}}])&&VW(n.prototype,r),o&&VW(n,o),e}(VK);function zW(t){return(zW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GW(t,e){return!e||"object"!==zW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function HW(t){return(HW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function XW(t,e){return(XW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var YW=function(t){function e(){return BW(this,e),GW(this,HW(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&XW(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.bottom}},{key:"getTitle",value:function(){return"Bottom"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("sort.bottom")}}])&&FW(n.prototype,r),o&&FW(n,o),e}(VK);function NW(t){return(NW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function KW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UW(t,e){return!e||"object"!==NW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ZW(t){return(ZW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qW(t,e){return(qW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var JW=function(t){function e(){return KW(this,e),UW(this,ZW(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qW(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.middle}},{key:"getTitle",value:function(){return"middle"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("sort.middle")}}])&&WW(n.prototype,r),o&&WW(n,o),e}(VK);function QW(t){return(QW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nU(t,e){return!e||"object"!==QW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rU(t){return(rU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function oU(t,e){return(oU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var iU=function(t){function e(){return tU(this,e),nU(this,rU(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oU(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.same_height}},{key:"getTitle",value:function(){return"height"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("same.height")}}])&&eU(n.prototype,r),o&&eU(n,o),e}(VK);function aU(t){return(aU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sU(t,e){return!e||"object"!==aU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lU(t){return(lU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fU(t,e){return(fU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pU=function(t){function e(){return cU(this,e),sU(this,lU(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fU(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.same_width}},{key:"getTitle",value:function(){return"width"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("same.width")}}])&&uU(n.prototype,r),o&&uU(n,o),e}(VK);function yU(t){return(yU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vU(t,e){return!e||"object"!==yU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bU(t){return(bU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mU(t,e){return(mU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gU=function(t){function e(){return hU(this,e),vU(this,bU(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mU(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.title}},{key:"getTitle",value:function(){return this.props.title||"Text"}},{key:"getClassName",value:function(){return"text"}},{key:"clickButton",value:function(t){this.emit("addLayerView","text")}},{key:Wo("addLayerView"),value:function(t){this.setSelected("text"===t)}}])&&dU(n.prototype,r),o&&dU(n,o),e}(VK);function wU(t){return(wU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jU(t,e){return!e||"object"!==wU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function SU(t){return(SU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function PU(t,e){return(PU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xU=function(t){function e(){return kU(this,e),jU(this,SU(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PU(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.launch}},{key:"getTitle",value:function(){return this.$i18n("menu.item.export.title")}},{key:"clickButton",value:function(t){this.emit("showExportView")}}])&&OU(n.prototype,r),o&&OU(n,o),e}(VK);function $U(t){return($U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function EU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CU(t,e){return!e||"object"!==$U(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TU(t){return(TU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function RU(t,e){return(RU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var DU=function(t){function e(){return EU(this,e),CU(this,TU(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RU(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.note}},{key:"getTitle",value:function(){return this.$i18n("menu.item.learn.title")}},{key:"clickButton",value:function(t){window.open("https://www.easylogic.studio/docs/getting-started.html","learn-window")}}])&&_U(n.prototype,r),o&&_U(n,o),e}(VK);function VU(t){return(VU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LU(t,e){return!e||"object"!==VU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function MU(t){return(MU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zU(t,e){return(zU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var BU=function(t){function e(){return AU(this,e),LU(this,MU(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zU(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.cube}},{key:"getTitle",value:function(){return this.props.title||"Cube"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("addLayerView","cube")}}])&&IU(n.prototype,r),o&&IU(n,o),e}(VK);function FU(t){return(FU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function GU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XU(t,e){return!e||"object"!==FU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function YU(t){return(YU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function NU(t,e){return(NU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var KU=function(t){function e(){return GU(this,e),XU(this,YU(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NU(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.photo}},{key:"getTitle",value:function(){return this.props.title||"Image"}},{key:"clickButton",value:function(){this.emit("addLayerView","image")}}])&&HU(n.prototype,r),o&&HU(n,o),e}(VK);function WU(t){return(WU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function UU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qU(t,e){return!e||"object"!==WU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function JU(t){return(JU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function QU(t,e){return(QU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tZ=function(t){function e(){return UU(this,e),qU(this,JU(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QU(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.pentool}},{key:"getTitle",value:function(){return this.props.title||"Path"}},{key:"clickButton",value:function(t){this.emit("addLayerView","path")}},{key:Wo("addLayerView"),value:function(t){this.setSelected("path"===t)}}])&&ZU(n.prototype,r),o&&ZU(n,o),e}(VK);function eZ(t){return(eZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oZ(t,e){return!e||"object"!==eZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iZ(t){return(iZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function aZ(t,e){return(aZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var cZ=function(t){function e(){return nZ(this,e),oZ(this,iZ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aZ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.storage}},{key:"getTitle",value:function(){return this.$i18n("menu.item.save.title")}},{key:"clickButton",value:function(t){this.emit("saveJSON")}}])&&rZ(n.prototype,r),o&&rZ(n,o),e}(VK);function uZ(t){return(uZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fZ(t,e){return!e||"object"!==uZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pZ(t){return(pZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yZ(t,e){return(yZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hZ=function(t){function e(){return sZ(this,e),fZ(this,pZ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yZ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.archive}},{key:"getTitle",value:function(){return this.$i18n("menu.item.download.title")}},{key:"clickButton",value:function(t){this.emit("downloadJSON")}}])&&lZ(n.prototype,r),o&&lZ(n,o),e}(VK);function dZ(t){return(dZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mZ(t,e){return!e||"object"!==dZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gZ(t){return(gZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wZ(t,e){return(wZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var kZ=function(t){function e(){return vZ(this,e),mZ(this,gZ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wZ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.near_me}},{key:"getIcon",value:function(){return"flipY"}},{key:"getTitle",value:function(){return this.props.title||"Select"}},{key:"clickButton",value:function(t){this.emit("addLayerView","select")}},{key:Wo("addLayerView"),value:function(t){this.setSelected("select"===t)}}])&&bZ(n.prototype,r),o&&bZ(n,o),e}(VK);function OZ(t){return(OZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PZ(t,e){return!e||"object"!==OZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xZ(t){return(xZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $Z(t,e){return($Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var EZ=function(t){function e(){return jZ(this,e),PZ(this,xZ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$Z(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.outline_rect}},{key:"getTitle",value:function(){return this.props.title||"Rect"}},{key:"clickButton",value:function(t){this.emit("addLayerView","svg-rect")}}])&&SZ(n.prototype,r),o&&SZ(n,o),e}(VK);function _Z(t){return(_Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function CZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RZ(t,e){return!e||"object"!==_Z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function DZ(t){return(DZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function VZ(t,e){return(VZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var AZ=function(t){function e(){return CZ(this,e),RZ(this,DZ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&VZ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.outline_circle}},{key:"getTitle",value:function(){return this.props.title||"Circle"}},{key:"clickButton",value:function(t){this.emit("addLayerView","svg-circle")}}])&&TZ(n.prototype,r),o&&TZ(n,o),e}(VK);function IZ(t){return(IZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function LZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zZ(t,e){return!e||"object"!==IZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function BZ(t){return(BZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function FZ(t,e){return(FZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var GZ=function(t){function e(){return LZ(this,e),zZ(this,BZ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FZ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.fullscreen}},{key:"getTitle",value:function(){return this.$i18n("menu.item.fullscreen.title")}},{key:"clickButton",value:function(t){this.emit("toggle.fullscreen")}}])&&MZ(n.prototype,r),o&&MZ(n,o),e}(VK);function HZ(t){return(HZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function NZ(t,e){return!e||"object"!==HZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function KZ(t){return(KZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function WZ(t,e){return(WZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var UZ=function(t){function e(){return XZ(this,e),NZ(this,KZ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WZ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.text_rotate}},{key:"getTitle",value:function(){return this.props.title||"TextPath"}},{key:"clickButton",value:function(t){this.emit("addLayerView","svg-textpath")}}])&&YZ(n.prototype,r),o&&YZ(n,o),e}(VK);function ZZ(t){return(ZZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function QZ(t,e){return!e||"object"!==ZZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tq(t){return(tq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function eq(t,e){return(eq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nq=function(t){function e(){return qZ(this,e),QZ(this,tq(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eq(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.cylinder}},{key:"getTitle",value:function(){return this.props.title||"Cylinder"}},{key:"getClassName",value:function(){return"cylinder"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("addLayerView","cylinder")}}])&&JZ(n.prototype,r),o&&JZ(n,o),e}(VK);function rq(t){return(rq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aq(t,e){return!e||"object"!==rq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cq(t){return(cq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uq(t,e){return(uq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var sq=function(t){function e(){return oq(this,e),aq(this,cq(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uq(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.title}},{key:"getTitle",value:function(){return this.props.title||"Text"}},{key:"clickButton",value:function(t){this.emit("addLayerView","svg-text")}}])&&iq(n.prototype,r),o&&iq(n,o),e}(VK);function lq(t){return(lq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yq(t,e){return!e||"object"!==lq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hq(t){return(hq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dq(t,e){return(dq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vq=function(t){function e(){return fq(this,e),yq(this,hq(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dq(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return"github"}},{key:"getTitle",value:function(){return"Login"}},{key:"clickButton",value:function(t){this.emit("showLoginWindow")}}])&&pq(n.prototype,r),o&&pq(n,o),e}(VK);function bq(t){return(bq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wq(t,e){return!e||"object"!==bq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kq(t){return(kq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Oq(t,e){return(Oq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var jq=function(t){function e(){return mq(this,e),wq(this,kq(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oq(t,e)}(e,t),n=e,(r=[{key:"getIcon",value:function(){return"github"}},{key:"getTitle",value:function(){return"Sign"}},{key:"clickButton",value:function(t){this.emit("showSignWindow")}}])&&gq(n.prototype,r),o&&gq(n,o),e}(VK);function Sq(t){return(Sq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $q(t,e){return!e||"object"!==Sq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Eq(t){return(Eq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _q(t,e){return(_q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Cq=function(t){function e(){return Pq(this,e),$q(this,Eq(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_q(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.artboard}},{key:"getTitle",value:function(){return this.props.title||"Artboard"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("addArtBoard")}}])&&xq(n.prototype,r),o&&xq(n,o),e}(VK);function Tq(t){return(Tq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vq(t,e){return!e||"object"!==Tq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Aq(t){return(Aq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Iq(t,e){return(Iq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Lq=function(t){function e(){return Rq(this,e),Vq(this,Aq(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Iq(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.edit}},{key:"getTitle",value:function(){return this.props.title||"Draw"}},{key:"clickButton",value:function(t){this.emit("addLayerView","brush")}}])&&Dq(n.prototype,r),o&&Dq(n,o),e}(VK);function Mq(t){return(Mq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fq(t,e){return!e||"object"!==Mq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gq(t){return(Gq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hq(t,e){return(Hq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xq=function(t){function e(){return zq(this,e),Fq(this,Gq(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hq(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.brush}},{key:"getTitle",value:function(){return this.props.title||"draw a brush"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("addLayerView","brush")}},{key:Wo("addLayerView"),value:function(t){this.setSelected("brush"===t)}}])&&Bq(n.prototype,r),o&&Bq(n,o),e}(VK);function Yq(t){return(Yq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wq(t,e){return!e||"object"!==Yq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Uq(t){return(Uq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zq(t,e){return(Zq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qq=function(t){function e(){return Nq(this,e),Wq(this,Uq(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zq(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.video}},{key:"getTitle",value:function(){return this.props.title||"Video"}},{key:"clickButton",value:function(){this.emit("addLayerView","video")}}])&&Kq(n.prototype,r),o&&Kq(n,o),e}(VK);function Jq(t){return(Jq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eJ(t,e){return!e||"object"!==Jq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nJ(t){return(nJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rJ(t,e){return(rJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var oJ={KeyBoard:function(t){function e(){return Qq(this,e),eJ(this,nJ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rJ(t,e)}(e,t),n=e,(r=[{key:"getIconString",value:function(){return jv.keyboard}},{key:"getTitle",value:function(){return this.$i18n("menu.item.shortcuts.title")}},{key:"clickButton",value:function(t){this.emit("showShortcutWindow")}}])&&tJ(n.prototype,r),o&&tJ(n,o),e}(VK),AddVideo:qq,AddDrawBrush:Xq,AddDrawPath:Lq,AddArtboard:Cq,SignButton:jq,LoginButton:vq,AddSVGText:sq,AddCylinder:nq,AddSVGTextPath:UZ,Fullscreen:GZ,AddSVGCircle:AZ,AddSVGRect:EZ,SelectTool:kZ,Download:hZ,Save:cZ,AddCube:BU,AddImage:KU,AddPath:tZ,Manual:DU,ExportView:xU,AddText:gU,SameHeight:iU,SameWidth:pU,TopAlign:MW,BottomAlign:YW,MiddleAlign:JW,CenterAlign:TW,RightAlign:SW,LeftAlign:bW,AddCircle:lW,AddRect:rW,ExportCodePen:ZK,Github:FK};function iJ(t){return(iJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uJ(t,e){return!e||"object"!==iJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sJ(t){return(sJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lJ(t,e){return(lJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fJ=function(t){function e(){return aJ(this,e),uJ(this,sJ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lJ(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return oJ}},{key:"afterRender",value:function(){this.show()}},{key:"getTitle",value:function(){return this.$i18n("alignment.property.title")}},{key:"isHideHeader",value:function(){return!0}},{key:"getBody",value:function(){return'\n      <div class="alignment-item" ref="$positionItem">\n        <LeftAlign />\n        <CenterAlign />\n        <RightAlign />\n\n        <TopAlign />\n        <MiddleAlign />\n        <BottomAlign />  \n\n        <SameWidth />\n        <SameHeight />\n      </div>\n    '}}])&&cJ(n.prototype,r),o&&cJ(n,o),e}(hz);function pJ(t){return(pJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dJ(t,e){return!e||"object"!==pJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vJ(t){return(vJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bJ(t,e){return(bJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var mJ=function(t){function e(){return yJ(this,e),dJ(this,vJ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bJ(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{OffsetPathListEditor:LD}}},{key:"getTitle",value:function(){return this.$i18n("motion.property.title")}},{key:Wo("refreshSelection","refreshRect")+Dr(100),value:function(){this.refreshShowIsNot(["project"])}},{key:"refresh",value:function(){var t=this.$selection.current;t&&this.children.$offsetPathList.setValue(t["offset-path"])}},{key:"getBody",value:function(){var t=this.$selection.current||{"offset-path":""};return("\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='offset-path'></span>\n        </div>\n        <OffsetPathListEditor ref=\"$offsetPathList\" key=\"offset-path\" value=\"".concat(t["offset-path"],'" onchange="changRangeEditor" />\n      </div>\n    '))}},{key:Wo("changRangeEditor"),value:function(t,e){this.command("setAttribute","change motion attribute : ".concat(t),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&hJ(n.prototype,r),o&&hJ(n,o),e}(hz);function gJ(t){URL.revokeObjectURL(t)}function wJ(t){return(wJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kJ(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function OJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SJ(t,e){return!e||"object"!==wJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function PJ(t){return(PJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xJ(t,e){return(xJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $J=function(t){function e(){return OJ(this,e),SJ(this,PJ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xJ(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("image.asset.property.title")}},{key:"initState",value:function(){return{mode:"grid"}}},{key:"getClassName",value:function(){return"image-assets-property"}},{key:"afterRender",value:function(){this.show()}},{key:"getBody",value:function(){return"\n      <div class='property-item image-assets'>\n        <div class='image-list' ref='$imageList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:zr("$imageList")+Rr,value:function(){var t=(this.$selection.currentProject||{images:[]}).images.map((function(t,e){return"\n        <div class='image-item' data-index=\"".concat(e,'">\n          <div class=\'preview\' draggable="true">\n            <img src="').concat(t.local,"\" />\n          </div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>").concat(jv.copy,"</button>          \n            <button type=\"button\" class='remove'>").concat(jv.remove,"</button>\n          </div>\n        </div>\n      ")}));return"\n      <div class='loaded-list'>\n        ".concat(t.join(""),"\n        <div class='add-image-item'>\n          <input type='file' accept='image/*' ref='$file' />\n          <button type=\"button\">").concat(jv.add,"</button>\n        </div>        \n      </div>\n\n    ")}},{key:"executeImage",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.$selection.currentProject;r?(t&&t(r),e&&this.refresh(),n&&this.emit("refreshImageAssets")):alert("Please select a project.")}},{key:ar("$imageList .preview img"),value:function(t){var e=+t.$dt.closest("image-item").attr("data-index"),n=this.$selection.currentProject;if(n){var r=n.images[e];t.dataTransfer.setData("image/info",r.local)}}},{key:fr("$imageList .add-image-item input[type=file]"),value:function(t){var e=this;this.executeImage((function(n){kJ(t.target.files).forEach((function(t){e.emit("updateImageAssetItem",t)}))}))}},{key:er("$imageList .remove"),value:function(t){var e=t.$dt.closest("image-item"),n=+e.attr("data-index");this.executeImage((function(t){t.removeImage(n),gJ(e.$(".preview img").attr("src"))}))}},{key:er("$imageList .copy"),value:function(t){var e=+t.$dt.closest("image-item").attr("data-index");this.executeImage((function(t){t.copyImage(e)}))}},{key:Wo("addImageAsset"),value:function(){this.refresh()}}])&&jJ(n.prototype,r),o&&jJ(n,o),e}(hz);function EJ(t){return(EJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _J(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function CJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RJ(t,e){return!e||"object"!==EJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function DJ(t){return(DJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function VJ(t,e){return(VJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var AJ=function(t){function e(){return CJ(this,e),RJ(this,DJ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&VJ(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("video.asset.property.title")}},{key:"initState",value:function(){return{mode:"grid"}}},{key:"getClassName",value:function(){return"video-assets-property"}},{key:"afterRender",value:function(){this.show()}},{key:"getBody",value:function(){return"\n      <div class='property-item video-assets'>\n        <div class='video-list' ref='$videoList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:zr("$videoList")+Rr,value:function(){var t=(this.$selection.currentProject||{videos:[]}).videos.map((function(t,e){return"\n        <div class='video-item' data-index=\"".concat(e,'">\n          <div class=\'preview\' draggable="true">\n            <img src="').concat(t.local,"\" />\n          </div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>").concat(jv.copy,"</button>          \n            <button type=\"button\" class='remove'>").concat(jv.remove,"</button>\n          </div>\n        </div>\n      ")}));return"\n      <div class='loaded-list'>\n        ".concat(t.join(""),"\n        <div class='add-video-item'>\n          <input type='file' accept='video/*' ref='$file' />\n          <button type=\"button\">").concat(jv.add,"</button>\n        </div>        \n      </div>\n\n    ")}},{key:"executeVideo",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.$selection.currentProject;r?(t&&t(r),e&&this.refresh(),n&&this.emit("refreshVideoAssets")):alert("Please select a project.")}},{key:ar("$videoList .preview img"),value:function(t){var e=+t.$dt.closest("video-item").attr("data-index"),n=this.$selection.currentProject;if(n){var r=n.videos[e];t.dataTransfer.setData("video/info",r.local)}}},{key:fr("$videoList .add-video-item input[type=file]"),value:function(t){var e=this;this.executeVideo((function(n){_J(t.target.files).forEach((function(t){e.emit("updateVideoAssetItem",t)}))}))}},{key:er("$videoList .remove"),value:function(t){var e=t.$dt.closest("video-item"),n=+e.attr("data-index");this.executeVideo((function(t){t.removeVideo(n),gJ(e.$(".preview img").attr("src"))}))}},{key:er("$videoList .copy"),value:function(t){var e=+t.$dt.closest("video-item").attr("data-index");this.executeVideo((function(t){t.copyVideo(e)}))}},{key:Wo("addVideoAsset"),value:function(){this.refresh()}}])&&TJ(n.prototype,r),o&&TJ(n,o),e}(hz);function IJ(t){return(IJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function LJ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function MJ(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?LJ(Object(n),!0).forEach((function(e){zJ(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LJ(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GJ(t,e){return!e||"object"!==IJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function HJ(t,e,n){return(HJ="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=XJ(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function XJ(t){return(XJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function YJ(t,e){return(YJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var NJ=function(t){function e(){return BJ(this,e),GJ(this,XJ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&YJ(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"Component"}},{key:"isShow",value:function(){var t=this.$selection.current;return!(!t||!t.is("component"))}},{key:"initState",value:function(){return{components:{}}}},{key:"components",value:function(){return MJ({},HJ(XJ(e.prototype),"components",this).call(this),{},this.state.components)}},{key:Wo("refreshSelection")+Dr(100),value:function(){var t=this;this.refreshShow((function(e){var n=t.$selection.current;return n&&n.is("component")}))}},{key:"refresh",value:function(){var t=this,e=this.$selection.current;e&&e.is("component")&&(this.setTitle(e.getDefaultTitle()||e.itemType||e.name),this.load(),e.getProps().forEach((function(n){t.children[n.key]&&t.children[n.key].setValue(e[n.key]||n.defaultValue)})))}},{key:"getBody",value:function(){return"\n      <div ref='$body'></div>\n    "}},{key:"initComponents",value:function(){var t=this.$selection.current,n={};t&&t.is("component")&&t.getProps().forEach((function(t){re(t.editor)||(n=MJ({},n,{},t.editor))})),this.setState({components:n},!1),HJ(XJ(e.prototype),"initComponents",this).call(this)}},{key:"getPropertyEditor",value:function(t,e,n,r){return re(n)?"<".concat(n," ").concat(be(MJ({},r,{onchange:"changeComponentProperty",ref:t,key:t,value:e}))," />"):Object.keys(n).map((function(n){return"<".concat(n," ").concat(be(MJ({},r,{onchange:"changeComponentProperty",ref:t,key:t,value:e}))," />")})).join("")}},{key:zr("$body"),value:function(){var t=this,e=this.$selection.current;return e?e&&!e.is("component")?"":e.getProps().map((function(n){return re(n)?"\n          <div class='property-item'> \n            <label>".concat(n,"</label>\n          </div>"):"\n          <div class='property-item animation-property-item'> \n            <div class='group'>\n              <span class='add-timeline-property' data-property='".concat(n.key,"' data-type=\"").concat(e.itemType,'" data-editor="').concat(n.editor,'"></span>\n            </div>\n            ').concat(t.getPropertyEditor(n.key,e[n.key]||n.defaultVallue,n.editor,n.editorOptions),"\n          </div>\n        ")})):""}},{key:Wo("changeComponentProperty"),value:function(t,e){this.command("setAttribute","change component",zJ({},t,e),null,!0)}}])&&FJ(n.prototype,r),o&&FJ(n,o),e}(hz);function KJ(t){return(KJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function WJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZJ(t,e){return!e||"object"!==KJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qJ(t){return(qJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function JJ(t,e){return(JJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var QJ=function(t){function e(){return WJ(this,e),ZJ(this,qJ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&JJ(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{BorderEditor:rV}}},{key:"getTitle",value:function(){return this.$i18n("border.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"border"}},{key:"getBody",value:function(){return"<div class=\"property-item full border-item\" ref='$body'></div>"}},{key:zr("$body"),value:function(){var t=(this.$selection.current||{}).border||"";return"\n      <BorderEditor ref='$1' key='border' value='".concat(t,"' onchange='changeKeyValue' />\n    ")}},{key:Wo("refreshSelection")+Dr(100),value:function(){this.refreshShow(["rect","circle","text","cube","cylinder"])}},{key:Wo("changeKeyValue"),value:function(t,e){this.command("setAttribute","change border",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&UJ(n.prototype,r),o&&UJ(n,o),e}(hz);function tQ(t){return(tQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rQ(t,e){return!e||"object"!==tQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oQ(t){return(oQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function iQ(t,e){return(iQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var aQ=function(t){function e(){return eQ(this,e),rQ(this,oQ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iQ(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("project.information.property.title")}},{key:"getClassName",value:function(){return"full"}},{key:"refresh",value:function(){var t=this.$selection.currentProject||{name:"",description:""};this.refs.$name.val(t.name),this.refs.$description.val(t.description)}},{key:"getBody",value:function(){var t=this.$selection.currentProject||{name:"",description:""};return('\n      <div class="project-info" ref="$info">\n        <div class=\'project-info-item\'>\n          <label>'.concat(this.$i18n("project.information.property.name"),"</label>\n          <div class='input'><input type='text' value='").concat(t.name,"' ref='$name' /></div>\n        </div>\n        <div class='project-info-item'>\n          <label>").concat(this.$i18n("project.information.property.description"),"</label>\n          <div class='input'>\n            <textarea  value='").concat(t.description,"' ref='$description'></textarea>\n          </div>\n        </div>\n      </div>\n    "))}},{key:Wo("refreshProjectList"),value:function(){this.refresh()}}])&&nQ(n.prototype,r),o&&nQ(n,o),e}(hz);function cQ(t){return(cQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lQ(t,e){return!e||"object"!==cQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fQ(t){return(fQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pQ(t,e){return(pQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yQ=function(t){function e(){return uQ(this,e),lQ(this,fQ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pQ(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("path.data.property.title")}},{key:"getClassName",value:function(){return"item path-data-property"}},{key:"isSVGItem",value:function(t){return t.is("svg-path","svg-brush","svg-textpath")}},{key:"components",value:function(){return{PathDataEditor:OD}}},{key:Wo("refreshStyleView","refreshRect")+Dr(100),value:function(){this.refresh()}},{key:Wo("refreshSelection"),value:function(){this.refreshShow(["svg-path","svg-brush","svg-textpath"])}},{key:"refresh",value:function(){var t=this.$selection.current||{};this.children.$pathData.setValue(t.d)}},{key:"getBody",value:function(){var t=this.$selection.current||{};return("\n      <div>\n        <PathDataEditor ref='$pathData' key='d' value='".concat(t.d,"' onchange='changeValue' />\n      </div>\n    "))}},{key:Wo("changeValue"),value:function(t,e,n){this.emit("updatePathItem",this.$selection.current,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&sQ(n.prototype,r),o&&sQ(n,o),e}(hz);function hQ(t){return(hQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bQ(t,e){return!e||"object"!==hQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mQ(t){return(mQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gQ(t,e){return(gQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wQ=function(t){function e(){return dQ(this,e),bQ(this,mQ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gQ(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("svg.text.property.title")}},{key:Wo("refreshSelection"),value:function(){this.refreshShow(["svg-textpath","svg-text","svg-tspan"])}},{key:"refresh",value:function(){this.$selection.current&&this.setAllValue(["lengthAdjust","textLength","startOffset","text-anchor","text"])}},{key:"setAllValue",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.$selection.current;n&&e.forEach((function(e){t.children["$".concat(e)].setValue(n[e])}))}},{key:"getBody",value:function(){return"\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text'></span>\n        </div>\n        <TextAreaEditor \n          ref='$text' \n          label='".concat(this.$i18n("svg.text.property.textarea"),"' \n          key=\"text\"\n          onchange=\"changeTextValue\" />\n      </div>        \n      <div class='property-item'>\n        <SelectIconEditor \n          ref='$text-anchor' \n          label='").concat(this.$i18n("svg.text.property.anchor"),"' \n          key=\"text-anchor\" \n          options=\"start,middle,end\" \n          onchange=\"changeTextValue\" />\n      </div>            \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='lengthAdjust'></span>\n        </div>\n        <SelectEditor \n          ref='$lengthAdjust' \n          label='").concat(this.$i18n("svg.text.property.length.adjust"),"' \n          key='lengthAdjust' \n          value='spacing' \n          options=\"spacing,spacingAndGlyphs\" \n          onchange='changeTextValue' />        \n      </div>        \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='textLength'></span>\n        </div>\n        <RangeEditor \n          ref='$textLength' \n          label='").concat(this.$i18n("svg.text.property.text.length"),"' \n          key='textLength'\n          min=\"0\"\n          max='1000'\n          step=\"0.1\"\n          onchange='changeTextValue' />                \n      </div>        \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='startOffset'></span>\n        </div>\n        <RangeEditor \n          ref='$startOffset' \n          label='").concat(this.$i18n("svg.text.property.start.offset"),"' \n          key='startOffset' \n          min=\"0\"\n          max='1000'\n          step=\"0.1\"          \n          onchange='changeTextValue' />        \n      </div>                    \n    ")}},{key:Wo("changeTextValue"),value:function(t,e){this.command("setAttribute","change svg text property: ".concat(t),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e),null,!0)}}])&&vQ(n.prototype,r),o&&vQ(n,o),e}(hz);function kQ(t){return(kQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function OQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SQ(t,e){return!e||"object"!==kQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function PQ(t){return(PQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xQ(t,e){return(xQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $Q=function(t){function e(){return OQ(this,e),SQ(this,PQ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xQ(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("export.property.title")}},{key:Wo("refreshSelection","refreshContent")+Dr(100),value:function(){this.refreshShowIsNot("project")}},{key:"getClassName",value:function(){return"export-property"}},{key:"getBody",value:function(){return"\n        <div class='export-item svg'>\n          <label>SVG</label>\n          <button ref='$svg'>".concat(jv.archive," ").concat(this.$i18n("export.property.download"),"</button>\n        </div>\n        <div class='export-item png'>\n          <label>PNG</label>\n          <button ref='$png'>").concat(jv.archive," ").concat(this.$i18n("export.property.download"),"</button>\n        </div> \n      ")}},{key:er("$svg"),value:function(){this.emit("downloadSVG")}},{key:er("$png"),value:function(){this.emit("downloadPNG")}}])&&jQ(n.prototype,r),o&&jQ(n,o),e}(hz);function EQ(t){return(EQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RQ(t,e){return!e||"object"!==EQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function DQ(t){return(DQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function VQ(t,e){return(VQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var AQ=function(t){function e(){return CQ(this,e),RQ(this,DQ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&VQ(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("layout.property.title")}},{key:"getLayoutOptions",value:function(){var t=this;return["default","flex","grid"].map((function(e){return"".concat(e,":").concat(t.$i18n("layout.property.".concat(e)))})).join(",")}},{key:"getClassName",value:function(){return"layout-property"}},{key:"getBody",value:function(){return"\n        <div class='property-item' ref='$layoutType'></div>\n      "}},{key:zr("$layoutType"),value:function(){var t=this.$selection.current||{layout:"default"};return("\n      <div class='layout-select'>\n        <SelectIconEditor \n        ref='$layout' \n        key='layout' \n        icon=\"true\" \n        value=\"".concat(t.layout,'"\n        options="').concat(this.getLayoutOptions(),"\"  \n        colors=\",green,red\"\n        onchange=\"changeLayoutType\" />\n      </div>\n      <div class='layout-list' ref='$layoutList'>\n        <div data-value='default' class='").concat("default"===t.layout?"selected":"","'></div>\n        <div data-value='flex' class='").concat("flex"===t.layout?"selected":"","'>\n          <FlexLayoutEditor ref='$flex' key='flex-layout' value=\"").concat(t["flex-layout"]||"","\" onchange='changeLayoutInfo' />\n        </div>\n        <div data-value='grid' class='").concat("grid"===t.layout?"selected":"","'>\n          <GridLayoutEditor ref='$grid' key='grid-layout' value=\"").concat(t["grid-layout"]||"","\" onchange='changeLayoutInfo' />\n        </div>\n      </div>\n    "))}},{key:Wo("changeLayoutInfo"),value:function(t,e){var n=this;this.command("setAttribute","change layout info",_Q({},t,e),null,!1,!0),this.nextTick((function(){n.emit("refreshAllElementBoundSize")}))}},{key:Wo("changeLayoutType"),value:function(t,e){var n=this;this.$selection.reset(_Q({},t,e)),this.command("setAttribute","change layout type",_Q({},t,e),null,!1,!0),this.refresh(),this.nextTick((function(){n.emit("refreshAllElementBoundSize"),n.emit("changeItemLayout")}))}},{key:Wo("refreshSelection"),value:function(){this.refreshShow(["rect","circle","artboard"],!0)}}])&&TQ(n.prototype,r),o&&TQ(n,o),e}(hz);function IQ(t){return(IQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function LQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zQ(t,e){return!e||"object"!==IQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function BQ(t){return(BQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function FQ(t,e){return(FQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var GQ=function(t){function e(){return LQ(this,e),zQ(this,BQ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FQ(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("flex.layout.item.property.title")}},{key:"getClassName",value:function(){return"flex-layout-item-property"}},{key:"getLayoutOptions",value:function(){var t=this;return["none","auto","value"].map((function(e){return"".concat(e,":").concat(t.$i18n("flex.layout.item.property.".concat(e)))})).join(",")}},{key:"getBody",value:function(){return"\n        <div class='property-item' ref='$body'></div>\n      "}},{key:zr("$body"),value:function(){var t=this.$selection.current||{"flex-layout-item":"none"},e=t["flex-layout-item"]||"none",n=[];return!1===["none","auto"].includes(e)&&(n=e.split(" ")),n.length>0&&(e="value"),"\n      <div class='layout-select'>\n        <SelectIconEditor \n        ref='$layout' \n        key='layout' \n        icon=\"true\" \n        value=\"".concat(e,'"\n        options="').concat(this.getLayoutOptions(),"\"  \n        onchange=\"changeLayoutType\" />\n      </div>\n      <div class='layout-list' ref='$layoutList' data-selected-value='").concat(t.layout,"'>\n        <div data-value='none'></div>\n        <div data-value='auto'></div>\n        <div data-value='value'>\n          <div class='value-item'>\n            <RangeEditor ref='$grow' label='").concat(this.$i18n("flex.layout.item.property.grow"),'\' key="flex-grow" value="').concat(n[0],"\" min='0' max='1' step='0.01' units=\",auto\" onchange='changeFlexItem' />\n          </div>\n          <div class='value-item'>\n            <RangeEditor ref='$shrink' label='").concat(this.$i18n("flex.layout.item.property.shrink"),'\' key="flex-shrink" value="').concat(n[1],"\" min='0' max='1' step='0.01' units=\",auto\" onchange='changeFlexItem' />\n          </div>\n          <div class='value-item'>\n            <RangeEditor ref='$basis' label='").concat(this.$i18n("flex.layout.item.property.basis"),'\' key="flex-basis" value="').concat(n[2],"\" min='0' units=\"px,em,%,auto\" onchange='changeFlexItem' />\n          </div>                    \n        </div>\n      </div>\n    ")}},{key:"getFlexItemValue",value:function(t){return"auto"===t.unit?"auto":t+""}},{key:"getFlexValue",value:function(){var t=this.children.$grow.getValue(),e=this.children.$shrink.getValue(),n=this.children.$basis.getValue();return t=this.getFlexItemValue(t),e=this.getFlexItemValue(e),n=this.getFlexItemValue(n),de({flex:"".concat(t," ").concat(e," ").concat(n)})}},{key:Wo("changeFlexItem"),value:function(t,e){var n=this;this.command("setAttribute","change flex layout",{"flex-layout-item":this.getFlexValue()}),this.nextTick((function(){n.emit("refreshAllElementBoundSize")}))}},{key:Wo("changeLayoutType"),value:function(t,e){var n=this,r=this.children.$layout.getValue();e=r,"value"===r&&(e=this.getFlexValue()),this.command("setAttribute","change flex layout",{"flex-layout-item":e}),this.refs.$layoutList.attr("data-selected-value",r),this.nextTick((function(){n.emit("refreshAllElementBoundSize")}))}},{key:Wo("refreshSelection")+Dr(100),value:function(){var t=this;this.refreshShow((function(){var e=t.$selection.current;return e&&e.isInFlex()}))}}])&&MQ(n.prototype,r),o&&MQ(n,o),e}(hz);function HQ(t){return(HQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function NQ(t,e){return!e||"object"!==HQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function KQ(t){return(KQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function WQ(t,e){return(WQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var UQ=function(t){function e(){return XQ(this,e),NQ(this,KQ(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WQ(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("grid.layout.item.property.title")}},{key:"getLayoutOptions",value:function(){var t=this;return["none","value"].map((function(e){return"".concat(e,":").concat(t.$i18n("grid.layout.item.property.".concat(e)))})).join(",")}},{key:"getClassName",value:function(){return"grid-layout-item-property"}},{key:"getBody",value:function(){return"\n        <div class='property-item' ref='$body'></div>\n      "}},{key:zr("$body"),value:function(){var t=this.$selection.current||{"grid-layout-item":"none"},e=t["grid-layout-item"]||"none",n={};return!1===["none"].includes(e)&&(n=ve(t["grid-layout-item"])),Object.keys(n).length>0&&(e="value"),"\n      <div class='layout-select'>\n        <SelectIconEditor \n        ref='$layout' \n        key='layout' \n        icon=\"true\" \n        value=\"".concat(e,'"\n        options="').concat(this.getLayoutOptions(),"\"  \n        onchange=\"changeLayoutType\" />\n      </div>\n      <div class='layout-list' ref='$layoutList' data-selected-value='").concat(e,"'>\n        <div data-value='none'></div>\n        <div data-value='value'>\n          <div class='value-item'>\n            <label></label>\n            <div>").concat(this.$i18n("grid.layout.item.property.start"),"</div>\n            <div>").concat(this.$i18n("grid.layout.item.property.end"),"</div>\n          </div>\n          <div class='value-item'>\n            <label>").concat(this.$i18n("grid.layout.item.property.column"),'</label>\n            <div>\n              <NumberInputEditor ref=\'$columnStart\' key="grid-column-start" value="').concat(n["grid-column-start"]||"0","\" min='0' onchange='changeGridItem' />\n            </div>\n            <div>\n              <NumberInputEditor ref='$columnEnd' key=\"grid-column-end\" value=\"").concat(n["grid-column-end"]||"0","\" min='0' onchange='changeGridItem' />\n            </div>            \n          </div>\n          <div class='value-item'>\n            <label>").concat(this.$i18n("grid.layout.item.property.row"),'</label>\n            <div>\n              <NumberInputEditor ref=\'$rowStart\' key="grid-row-start" value="').concat(n["grid-row-start"]||"0","\" min='0' onchange='changeGridItem' />\n            </div>\n            <div>\n              <NumberInputEditor ref='$rowEnd' key=\"grid-row-end\" value=\"").concat(n["grid-row-end"]||"0","\" min='0' onchange='changeGridItem' />\n            </div>            \n          </div>          \n        </div>\n      </div>\n    ")}},{key:"getGridValue",value:function(){return de({"grid-column-start":this.children.$columnStart.getValue(),"grid-column-end":this.children.$columnEnd.getValue(),"grid-row-start":this.children.$rowStart.getValue(),"grid-row-end":this.children.$rowEnd.getValue()})}},{key:Wo("changeGridItem"),value:function(t,e){var n=this;this.command("setAttribute","change grid layout item",{"grid-layout-item":this.getGridValue()}),this.nextTick((function(){n.emit("refreshAllElementBoundSize")}))}},{key:Wo("changeLayoutType"),value:function(t,e){var n=this,r=this.children.$layout.getValue();e=r,"value"===r&&(e=this.getGridValue()),this.command("setAttribute","change grid layout item",{"grid-layout-item":e}),this.refs.$layoutList.attr("data-selected-value",r),this.nextTick((function(){n.emit("refreshAllElementBoundSize")}))}},{key:Wo("refreshSelection")+Dr(100),value:function(){var t=this;this.refreshShow((function(){var e=t.$selection.current;return e&&e.isInGrid()}))}}])&&YQ(n.prototype,r),o&&YQ(n,o),e}(hz);function ZQ(t){return(ZQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qQ(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function JQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function t0(t,e){return!e||"object"!==ZQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function e0(t){return(e0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function n0(t,e){return(n0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var r0=function(t){function e(){return JQ(this,e),t0(this,e0(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n0(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("pattern.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"pattern"}},{key:"getTitleClassName",value:function(){return"pattern"}},{key:"getBody",value:function(){return"<div class='full pattern-property' ref='$body'></div>"}},{key:"getTools",value:function(){return'\n      <select ref="$patternSelect">      \n      </select>\n      <button type="button" ref="$add" title="add Pattern">'.concat(jv.add,"</button>\n    ")}},{key:er("$add"),value:function(){var t=this.refs.$patternSelect.value;this.children.$patternEditor.trigger("add",t)}},{key:zr("$patternSelect"),value:function(){var t=this;return qQ($x.map((function(e){return{title:t.$i18n("pattern.property.".concat(e)),value:e}}))).map((function(t){var e=t.title,n=t.value;return"<option value='".concat(n,"'>").concat(e,"</option>")}))}},{key:zr("$body"),value:function(){var t=(this.$selection.current||{}).pattern;return"<PatternEditor ref='$patternEditor' value='".concat(t,"' hide-label='true' onchange='changePatternEditor' />")}},{key:Wo("changePatternEditor"),value:function(t,e){this.command("setAttribute","change pattern",{pattern:e})}},{key:Wo("refreshSelection"),value:function(){this.refreshShow(["artboard","rect","circle","text","cube","cylinder"])}},{key:Wo("refreshSVGArea")+Dr(1e3),value:function(){this.load("$patternSelect")}}])&&QQ(n.prototype,r),o&&QQ(n,o),e}(hz);function o0(t){return(o0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s0(t,e){return!e||"object"!==o0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l0(t){return(l0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f0(t,e){return(f0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p0=function(t){function e(){return a0(this,e),s0(this,l0(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f0(t,e)}(e,t),n=e,(r=[{key:"getClassName",value:function(){return"item video-property"}},{key:"getTitle",value:function(){return this.$i18n("video.property.title")}},{key:"initState",value:function(){return{$video:{el:{}},status:"play",volume:1}}},{key:"getBody",value:function(){return"<div ref='$body' style='padding-top: 3px;'></div>"}},{key:"play",value:function(){this.video&&this.video.play()}},{key:"pause",value:function(){this.video&&this.video.pause()}},{key:zr("$body"),value:function(){var t=this.$selection.current||{playTime:"0:1:1"},e=t.currentTime||0,n=(t.playTime||"0:1:1").split(":").pop();return"\n        <div ref='$tools' class='play-control' data-selected-value=\"".concat(this.state.status,'">\n          <button type="button" data-value="play" >').concat(jv.play," ").concat(this.$i18n("video.property.play"),'</button>\n          <button type="button" data-value="pause">').concat(jv.pause,"  ").concat(this.$i18n("video.property.pause"),'</button>      \n          <div>\n            <NumberRangeEditor ref=\'$currentTime\' min="0" max="').concat(n,'" value="').concat(e,"\" step=\"0.001\" onchange=\"changeCurrentTime\" />\n          </div>\n        </div>    \n        <div class='divider'></div>\n        <div class='property-item animation-property-item has-label'>        \n          <div class='group'>\n            <span class='add-timeline-property' data-property='volume'></span>\n            ").concat(this.$i18n("video.property.volume"),"\n          </div>\n          <div ref='$volume_control' class='volume-control' data-selected-value='").concat(this.volumeStatus,"'>\n            <span data-value='muted'>").concat(jv.volume_off,"</span>\n            <span data-value='down'>").concat(jv.volume_down,"</span>\n            <span data-value='up'>").concat(jv.volume_up,'</span>\n            <input type="range" ref=\'$volume\' min="0" max="1" step="0.001" value="').concat(this.state.volume,"\" />\n          </div>          \n        </div>\n        <div class='property-item animation-property-item has-label'>        \n          <div class='group'>\n            <span class='add-timeline-property' data-property='playbackRate'></span>\n            ").concat(this.$i18n("video.property.playbackRate"),'\n          </div>\n          <div>\n            <NumberRangeEditor ref=\'$playbackRate\' min="0.1" max="10" clamp="true" value="').concat(this.state.playbackRate,"\" step=\"0.001\" onchange=\"changePlaybackRate\" />\n          </div>\n        </div>        \n        <div class='property-item animation-property-item full'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='playTime'></span>\n            ").concat(this.$i18n("video.property.playTime"),"\n          </div>\n          <MediaProgressEditor ref='$progress'  key='playTime' value=\"").concat(t.playTime,'" onchange="changeSelect" />\n        </div>\n      ')}},{key:Wo("changeCurrentTime"),value:function(t,e){this.setState({currentTime:e},!1),this.command("setAttribute","change video property",{currentTime:e},null,!0)}},{key:Wo("changePlaybackRate"),value:function(t,e){this.setState({playbackRate:e},!1),this.command("setAttribute","change video property",{playbackRate:e},null,!0)}},{key:jr("$volume"),value:function(t){var e=Number(this.refs.$volume.value);this.setState({volume:e},!1),this.bindData("$volume_control"),this.command("setAttribute","change video property",{volume:e},null,!0)}},{key:Hr("$volume_control"),value:function(){return{"data-selected-value":this.volumeStatus}}},{key:Hr("$tools"),value:function(){return{"data-selected-value":this.state.status}}},{key:er("$tools button"),value:function(t){switch(t.$dt.attr("data-value")){case"play":this.setState({status:"pause"},!1),this.play();break;case"pause":this.setState({status:"play"},!1),this.pause()}this.bindData("$tools")}},{key:Wo("changeValue")+Dr(100),value:function(t,e){this.state.$video&&this.command("setAttribute","change video property",i0({},t,e),null,!0)}},{key:Wo("changeSelect"),value:function(t,e){this.command("setAttribute","change video property",i0({},t,e))}},{key:Wo("updateVideoEvent"),value:function(t){this.video.paused&&(this.setState({status:"play",currentTime:this.video.currentTime},!1),this.bindData("$tools")),this.children.$currentTime.setValue(this.video.currentTime)}},{key:Wo("refreshSelection")+Dr(100),value:function(){var t=this,e=this.$selection.current;this.refreshShow(["video"]),e&&e.is("video")&&this.emit("refElement",e.id,(function(n){var r=n.$("video");t.state.$video=r,t.setState({volume:e.volume,currentTime:e.currentTime,playbackRate:e.playbackRate},!1),t.video.ontimeupdate=function(e){t.trigger("updateVideoEvent",e)},t.video.onprogress=function(e){t.trigger("updateVideoEvent",e)},t.load("$body")}))}},{key:"video",get:function(){return this.state.$video.el}},{key:"volumeStatus",get:function(){return 0===this.state.volume?"muted":this.state.volume>.5?"up":"down"}}])&&c0(n.prototype,r),o&&c0(n,o),e}(hz);function h0(t){return(h0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m0(t,e){return!e||"object"!==h0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g0(t){return(g0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w0(t,e){return(w0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var k0,O0=function(t){function e(){return d0(this,e),m0(this,g0(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w0(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("pattern.asset.property.title")}},{key:"initState",value:function(){return{mode:"grid",preset:"check"}}},{key:"getTools",value:function(){var t=QM.map((function(t){return"".concat(t.key,":").concat(t.title)}));return('\n      <SelectEditor key="preset" value="'.concat(this.state.preset,'" options="').concat(t,'" onchange="changePreset"  />\n    '))}},{key:Wo("changePreset"),value:function(t,e){this.setState(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:"getClassName",value:function(){return"pattern-assets-property"}},{key:Wo("refreshSelection")+Dr(100),value:function(){this.show()}},{key:"getBody",value:function(){return"\n      <div class='property-item pattern-assets'>\n        <div class='pattern-list' ref='$patternList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:ar("$patternList .pattern-item"),value:function(t){var e=QM[+t.$dt.attr("data-index")].execute();t.dataTransfer.effectAllowed="copy",t.dataTransfer.setData("text/pattern",e)}},{key:zr("$patternList"),value:function(){var t=this,e=QM.find((function(e){return e.key===t.state.preset}));return e?e.execute().map((function(t,e){var n=de(dl.toCSS(t.pattern));return("\n        <div class='pattern-item' data-index=\"".concat(e,'" data-pattern="').concat(t.pattern,"\">\n          <div class='preview' title=\"").concat(t.title,"\" draggable=\"true\">\n            <div class='pattern-view' style='").concat(n,"'></div>\n          </div>\n        </div>\n      "))})):""}},{key:er("$patternList .pattern-item"),value:function(t){var e=t.$dt.attr("data-pattern");"CanvasView"===this.$editor.modeView?this.emit("addBackgroundImagePattern",e):this.emit("setPatternAsset",e)}}])&&b0(n.prototype,r),o&&b0(n,o),e}(hz);function j0(t){return(j0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $0(t,e){return!e||"object"!==j0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function E0(t){return(E0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _0(t,e){return(_0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T0=(C0(k0={HistoryProperty:function(t){function e(){return S0(this,e),$0(this,E0(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_0(t,e)}(e,t),n=e,(r=[{key:"afterRender",value:function(){this.show()}},{key:"getTitle",value:function(){return"History"}},{key:"getBody",value:function(){return"\n      <div class=\"history-list-view\" ref='$body'></div>\n    "}},{key:zr("$body")+Rr,value:function(){var t=this;return this.$editor.history.map((function(e,n){return"-"===e?"<div class='divider'>-</div>":"\n        <div class='history-item'>\n          <span>".concat(n===t.$editor.history.currentIndex?"->":"","</span>\n          <span>").concat(e.message,"</span>\n        </div>\n      ")}))}},{key:Wo("refreshHistory"),value:function(){this.refresh()}}])&&P0(n.prototype,r),o&&P0(n,o),e}(hz),PatternAssetsProperty:O0,VideoProperty:p0,PatternProperty:r0,GridLayoutItemProperty:UQ,FlexLayoutItemProperty:GQ,LayoutProperty:AQ,ExportProperty:$Q,SVGTextProperty:wQ,PathDataProperty:yQ,ProjectInformationProperty:aQ,BorderNewProperty:QJ,TimelineAnimationProperty:RB,ComponentProperty:NJ,ImageAssetsProperty:$J,VideoAssetsProperty:AJ,MotionProperty:mJ,AlignmentProperty:fJ,SVGFilterAssetsProperty:$K,TextClipProperty:wK,SVGItemProperty:yK,GradientAssetsProperty:aK,TextFillProperty:UN,ColorAssetsProperty:GN,ImageProperty:WY,ArtBoardSizeProperty:IY,LayerTreeProperty:EY,ProjectProperty:lY,ArtBoardProperty:bY,PositionProperty:rY,SelectorProperty:ZX,BackgroundClipProperty:GX,TransformOriginProperty:AX,PerspectiveProperty:EX,PerspectiveOriginProperty:kX,TransitionProperty:hX,ClipPathProperty:qH,TransformProperty:HH,BackdropFilterProperty:jH,CodeViewProperty:dH,FilterProperty:cH,BorderRadiusProperty:tF,BackgroundImageProperty:QG,KeyframeProperty:YG,AnimationProperty:MG,BorderImageProperty:bG,FontSpacingProperty:oG,TextProperty:qF,TextShadowProperty:XF,FontProperty:LF,ContentProperty:CF,BoxModelProperty:jF,BoxShadowProperty:hF,SizeProperty:cF},"BorderRadiusProperty",tF),C0(k0,"BackgroundColorProperty",KB),k0);function R0(t){return(R0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A0(t,e){return!e||"object"!==R0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I0(t){return(I0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L0(t,e){return(L0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var M0=function(t){function e(){return D0(this,e),A0(this,I0(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L0(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{selectedIndex:1}}},{key:"template",value:function(){return'\n      <div class="feature-control inspector">\n        <div>\n          <div class="tab number-tab" ref="$tab">\n            <div class="tab-header" ref="$header">\n              <div class="tab-item selected" data-value="1" title=\''.concat(this.$i18n("inspector.tab.title.style"),"'>\n                <label class='icon'>").concat(jv.palette,'</label>\n              </div>\n              <div class="tab-item" data-value="2" title=\'').concat(this.$i18n("inspector.tab.title.text"),"'>\n                <label class='icon'>").concat(jv.title,'</label>\n              </div>              \n              <div class="tab-item" data-value="3" title="').concat(this.$i18n("inspector.tab.title.transition"),'">\n                <label>').concat(jv.flash_on,'</label>\n              </div>\n              <div class="tab-item" data-value="5" title=\'').concat(this.$i18n("inspector.tab.title.code"),"'>\n                <label class='icon'>").concat(jv.code,'</label>\n              </div>       \n              <div class="tab-item" data-value="6" title=\'').concat(this.$i18n("inspector.tab.title.history"),"'>\n                <label class='icon'>").concat(jv.expand,'</label>\n              </div>                                                   \n            </div>\n            <div class="tab-body" ref="$body">\n\n              <div class="tab-content selected scrollbar" data-value="1">\n                <AlignmentProperty />\n\n                \x3c!-- Default Property --\x3e \n                <PositionProperty />\n                <SizeProperty /> \n                <BackgroundColorProperty />\n                \n                \x3c!-- SVG Item --\x3e \n                <SVGItemProperty />              \n\n                \x3c!-- Image --\x3e \n                <ImageProperty />\n\n                \x3c!-- Video --\x3e \n                <VideoProperty />\n\n                \x3c!-- Component --\x3e\n                <ComponentProperty />                \n                \n                \x3c!-- Appearance --\x3e \n\n                <BackgroundImageProperty />                \n                <PatternProperty />\n                <BorderNewProperty />\n                <BorderRadiusProperty />\n\n                <BoxModelProperty />                \n                <LayoutProperty />\n                <FlexLayoutItemProperty />\n                <GridLayoutItemProperty />      \n\n                \x3c!-- effect --\x3e\n                <BoxShadowProperty />\n                <FilterProperty />\n                <BackdropFilterProperty />\n                <ClipPathProperty />       \n\n                \x3c!-- transform --\x3e \n                <TransformProperty />                  \n                <TransformOriginProperty /> \n                \x3c!-- <PerspectiveProperty /> --\x3e\n                \x3c!-- <PerspectiveOriginProperty /> --\x3e \n\n                \x3c!-- ArtBoard --\x3e \n                <ArtBoardSizeProperty />    \n                \n                \x3c!-- SVG --\x3e\n                <PathDataProperty />                \n\n                \x3c!-- tool --\x3e                \n                <ExportProperty />\n\n\n                <div class=\'empty\'></div>\n              </div>     \n              <div class="tab-content scrollbar" data-value="2">\n\n                \x3c!-- <ContentProperty /> --\x3e    \n                <SVGTextProperty />                        \n                <FontProperty />\n                <TextProperty />\n                <TextShadowProperty />\n                <TextFillProperty />\n                <FontSpacingProperty />\n                <TextClipProperty />  \n                <div class=\'empty\'></div>\n              </div>                   \n              <div class=\'tab-content scrollbar\' data-value=\'3\'>\n                <MotionProperty />\n                \x3c!-- SelectorProperty /> --\x3e \n                <TransitionProperty />                            \n                <AnimationProperty />\n                <KeyframeProperty />    \n                <SelectorProperty />                              \n                <div class=\'empty\'></div>                \n              </div>                        \n              <div class="tab-content" data-value="5">\n                <CodeViewProperty />\n                <div class=\'empty\'></div>                           \n              </div>       \n              \n              <div class="tab-content" data-value="6">\n                <HistoryProperty />\n                <div class=\'empty\'></div>                           \n              </div>                     \n            </div>\n          </div>\n        </div>\n      </div>\n    ')}},{key:"components",value:function(){return T0}},{key:er("$header .tab-item:not(.empty-item)"),value:function(t){var e=+t.$dt.attr("data-value");this.state.selectedIndex!==e&&(this.$el.$$('[data-value="'.concat(this.state.selectedIndex,'"]')).forEach((function(t){return t.removeClass("selected")})),this.$el.$$('[data-value="'.concat(e,'"]')).forEach((function(t){return t.addClass("selected")})),this.setState({selectedIndex:e},!1))}}])&&V0(n.prototype,r),o&&V0(n,o),e}(Uo);function z0(t){return(z0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G0(t,e){return!e||"object"!==z0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function H0(t){return(H0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X0(t,e){return(X0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Y0=function(t){function e(){return B0(this,e),G0(this,H0(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X0(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{ArtBoardProperty:bY,LayerTreeProperty:EY}}},{key:"template",value:function(){return"\n      <div class='object-items'>\n        <div>\n          <ArtBoardProperty />          \n        </div>\n        <div>\n          <LayerTreeProperty />\n        </div>\n      </div>\n    "}}])&&F0(n.prototype,r),o&&F0(n,o),e}(Uo),N0={heart:'<svg viewBox="0 0 20 20">\n<path d="M9.719,17.073l-6.562-6.51c-0.27-0.268-0.504-0.567-0.696-0.888C1.385,7.89,1.67,5.613,3.155,4.14c0.864-0.856,2.012-1.329,3.233-1.329c1.924,0,3.115,1.12,3.612,1.752c0.499-0.634,1.689-1.752,3.612-1.752c1.221,0,2.369,0.472,3.233,1.329c1.484,1.473,1.771,3.75,0.693,5.537c-0.19,0.32-0.425,0.618-0.695,0.887l-6.562,6.51C10.125,17.229,9.875,17.229,9.719,17.073 M6.388,3.61C5.379,3.61,4.431,4,3.717,4.707C2.495,5.92,2.259,7.794,3.145,9.265c0.158,0.265,0.351,0.51,0.574,0.731L10,16.228l6.281-6.232c0.224-0.221,0.416-0.466,0.573-0.729c0.887-1.472,0.651-3.346-0.571-4.56C15.57,4,14.621,3.61,13.612,3.61c-1.43,0-2.639,0.786-3.268,1.863c-0.154,0.264-0.536,0.264-0.69,0C9.029,4.397,7.82,3.61,6.388,3.61"></path>\n</svg>'};function K0(t){return(K0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W0(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function U0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q0(t,e){return!e||"object"!==K0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function J0(t){return(J0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Q0(t,e){return(Q0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var t1=function(t){function e(){return U0(this,e),q0(this,J0(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q0(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{}}},{key:"template",value:function(){return"\n      <div class='library-items'>\n        <div class='group  path'>\n          <div class='title'><label>ClipArt</label></div>\n          <div class='list'>\n            ".concat(Object.keys(N0).map((function(t){return"<div class='path-item'>".concat(N0[t],"</div>")})).join(""),"\n          </div>\n        </div>\n      </div>\n    ")}},{key:er("$el .path-item"),value:function(t){var e=t.$dt.$("svg"),n=e.$("path"),r=W0(e.attr("viewBox").split(" "),4),o=r[0],i=r[1],a=r[2],c=r[3],u=n.attr("d"),s={x:+o,y:+i,width:+a,height:+c};this.emit("convertPath",u,s)}}])&&Z0(n.prototype,r),o&&Z0(n,o),e}(Uo);function e1(t){return(e1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o1(t,e){return!e||"object"!==e1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i1(t){return(i1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a1(t,e){return(a1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c1=function(t){function e(){return n1(this,e),o1(this,i1(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a1(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return oJ}},{key:"template",value:function(){return"\n      <div class='component-items'>\n        <div class='group'>\n          <label>".concat(this.$i18n("component.items.canvas"),"</label>\n          <div class='list'>\n            <SelectTool title='Select' />\n            <AddArtboard title='Artboard' />            \n          </div>\n        </div>              \n        <div class='group'>\n        <label>").concat(this.$i18n("component.items.layer"),"</label>\n          <div class='list'>\n            <AddRect title='Rect' />\n            <AddCircle title='Circle' />         \n            <AddText title='Text' />\n            <AddImage title='Image' />\n            <AddVideo title='Video' />\n          </div>\n        </div>\n        <div class='group'>\n         <label>").concat(this.$i18n("component.items.drawing"),"</label>\n          <div class='list'>            \n            \x3c!--<AddDrawBrush title='Brush' />--\x3e\n            <AddDrawPath title='Draw' />\n            <AddPath title='Path' />\n            <AddSVGRect title='Rect' />\n            <AddSVGCircle title='Circle' />\n            \x3c!-- <AddSVGText title='Text' /> --\x3e\n            <AddSVGTextPath title='Text Path' />\n          </div>          \n        </div>\n        <div class='group'>\n         <label>").concat(this.$i18n("component.items.custom"),"</label>\n          <div class='list'>            \n            <AddCube title='Cube' />\n            <AddCylinder title='Cylinder' />          \n          </div>          \n        </div>          \n      </div>\n    ")}},{key:er("$el button"),value:function(t){var e=this.refs.$el.$(".selected");e&&e.removeClass("selected"),t.$dt.addClass("selected")}}])&&r1(n.prototype,r),o&&r1(n,o),e}(Uo);function s1(t){return(s1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p1(t,e){return!e||"object"!==s1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h1(t){return(h1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d1(t,e){return(d1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b1=function(t){function e(){return l1(this,e),p1(this,h1(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d1(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return oJ}},{key:"template",value:function(){return"\n      <div class='preview-tool-menu'>\n        <div class='items'>\n          <KeyBoard />      \n          <Fullscreen />      \n          <ExportView />\n          <ExportCodePen />\n          <div class='divdier'></div>\n          <Download />\n          <Save />\n          <Github />\n          <Manual />          \n        </div>                \n      </div>\n    "}}])&&f1(n.prototype,r),o&&f1(n,o),e}(Uo);function m1(t){return(m1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k1(t,e){return!e||"object"!==m1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function O1(t){return(O1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j1(t,e){return(j1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var S1={option:"⌥",cmd:"⌘",shift:"⇧",alt:"⎇",ctrl:"⌃",enter:"⏎",escape:"⎋",arrowdown:"↓",arrowup:"↑",arrowleft:"←",arrowright:"→",backspace:"Delete",minus:"-",equal:"+"};var P1=function(t){function e(){return g1(this,e),k1(this,O1(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j1(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n      <div class='shortcut-items'></div>\n    "}},{key:zr("$el"),value:function(){var t=Kl();return Wl.map((function(e){return"\n        <div class='shortcut-item'>\n          <div class='command'>\n            <label>".concat(e.description,"</label>\n            <span><kbd>").concat((n=e[t]||e.key,n.toLowerCase().split("+").map((function(t){return S1[t]||t})).join(" + ")),"</kbd></span>\n          </div>\n          <div class='when'>").concat(e.when,"</div>\n        </div>\n      ");var n}))}}])&&w1(n.prototype,r),o&&w1(n,o),e}(Uo);function $1(t){return($1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R1(t,e){return!e||"object"!==$1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function D1(t){return(D1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function V1(t,e){return(V1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A1=function(t){function e(){return C1(this,e),R1(this,D1(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V1(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E1(Object(n),!0).forEach((function(e){_1(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E1(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({ShortCutItems:P1},T0,{ObjectItems:Y0,ComponentItems:c1,LibraryItems:t1,PreviewToolMenu:b1})}},{key:"initState",value:function(){return{selectedIndex:2}}},{key:"template",value:function(){return"\n      <div class='layer-tab'>\n        <div class=\"tab number-tab side-tab side-tab-left\" data-selected-value=\"2\" ref=\"$tab\">\n          <div class=\"tab-header full\" ref=\"$header\">\n            <div class='logo-item'>\n              <label class='logo' title='EasyLogic Studio'></label>\n            </div>                  \n            <div class='tab-item' data-value='4' title=\"".concat(this.$i18n("app.tab.title.components"),'">\n              <label>').concat(jv.add,'</label>\n            </div>          \n            <div class="tab-item selected" data-value="2" title="').concat(this.$i18n("app.tab.title.layers"),'">\n              <label>').concat(jv.account_tree,'</label>\n            </div>            \n            <div class="tab-item" data-value="1" title="').concat(this.$i18n("app.tab.title.projects"),'">\n              <label>').concat(jv.note,"</label>\n            </div>         \n            <div class='tab-item' data-value='5' title=\"").concat(this.$i18n("app.tab.title.assets"),'">\n              <label>').concat(jv.apps,"</label>\n            </div>   \n            <div class='tab-item extra-item' >\n              <PreviewToolMenu />\n            </div>               \n          </div>\n          <div class=\"tab-body\" ref=\"$body\">\n            <div class=\"tab-content project-content\" data-value=\"1\">\n              <ProjectProperty />\n              <ProjectInformationProperty />\n            </div>\n            <div class=\"tab-content selected\" data-value=\"2\">\n              <ObjectItems />\n            </div>\n            <div class='tab-content' data-value='3'>\n              <LibraryItems />\n            </div>\n            <div class='tab-content' data-value='4'>\n              <ComponentItems />\n            </div>    \n            <div class='tab-content' data-value='5'>\n              <div class='assets'>\n                <ColorAssetsProperty />\n                <GradientAssetsProperty />    \n                <PatternAssetsProperty />    \n                <ImageAssetsProperty />      \n                <VideoAssetsProperty />       \n                <SVGFilterAssetsProperty />                \n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ")}},{key:er("$header .tab-item:not(.extra-item)"),value:function(t){var e=+t.$dt.attr("data-value");this.state.selectedIndex!==e&&(this.$el.$$('[data-value="'.concat(this.state.selectedIndex,'"]')).forEach((function(t){return t.removeClass("selected")})),this.$el.$$('[data-value="'.concat(e,'"]')).forEach((function(t){return t.addClass("selected")})),this.setState({selectedIndex:e},!1))}}])&&T1(n.prototype,r),o&&T1(n,o),e}(Uo);function I1(t){return(I1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z1(t,e){return!e||"object"!==I1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B1(t){return(B1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function F1(t,e){return(F1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var G1=function(t){function e(){return L1(this,e),z1(this,B1(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F1(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{LayerTab:A1}}},{key:"template",value:function(){return'\n      <div class="feature-control object-list">\n        <LayerTab />\n      </div>\n    '}}])&&M1(n.prototype,r),o&&M1(n,o),e}(Uo);function H1(t){return(H1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N1(t,e){return!e||"object"!==H1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function K1(t){return(K1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W1(t,e){return(W1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var U1=function(t){function e(){return X1(this,e),N1(this,K1(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W1(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return cz}},{key:"template",value:function(){return"\n        <div class='popup ".concat(this.getClassName(),"'>\n            <div class='popup-title' ref=\"$title\">\n                <label>").concat(this.getTitle(),'</label>\n                <span class="tools">\n                  ').concat(this.getTools(),"\n                  <button type='button' class='close' ref='$close'>").concat(jv.close,"</button>\n                </span>\n            </div>\n            <div class='popup-body'>").concat(this.getBody(),"</div>\n        </div>\n        ")}},{key:"getClassName",value:function(){return""}},{key:"getTitle",value:function(){return""}},{key:"getTools",value:function(){return""}},{key:"getBody",value:function(){return""}},{key:er("$close"),value:function(){this.$el.hide()}},{key:wr("$title")+Ar("movePopupTitle")+Ir("endPopupTitle"),value:function(){this.x=$.parse(this.$el.css("left")),this.y=$.parse(this.$el.css("top"))}},{key:"movePopupTitle",value:function(t,e){var n=$.px(this.x.value+t),r=$.px(this.y.value+e);this.$el.css({left:n,top:r,right:"auto",bottom:"auto"})}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,e=28,n=320,r=this.$el.css("top"),o=this.$el.css("left"),i="auto"!==r?$.parse(r):$.px(110),a="auto"!==o?$.parse(o):$.px(document.body.clientWidth-n-e-t);this.$el.css({top:i,left:a,"z-index":this.$editor.zIndex}).show("inline-block")}},{key:"hide",value:function(){this.$el.hide()}},{key:Wo("hidePropertyPopup"),value:function(){this.hide()}}])&&Y1(n.prototype,r),o&&Y1(n,o),e}(Uo);function Z1(t){return(Z1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function J1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e2(t,e){return!e||"object"!==Z1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function n2(t){return(n2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r2(t,e){return(r2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var o2=function(t){function e(){return Q1(this,e),e2(this,n2(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r2(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"Box Shadow Editor"}},{key:"initState",value:function(){return{color:"rgba(0, 0, 0, 1)",inset:!1,offsetX:$.z(),offsetY:$.z(),blurRadius:$.z(),spreadRadius:$.z()}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit(this.changeEvent,t,this.state.params)}},{key:"getBody",value:function(){return"<div class='box-shadow-property-popup' ref='$popup'></div>"}},{key:zr("$popup"),value:function(){return'\n      <div class="box">\n        <div class="type">\n          <label>Type</label>\n          <div\n            class="select"\n            data-selected-value="'.concat(this.state.inset?"inset":"outset",'"\n            ref="$type"\n          >\n            <button type="button" data-value="outset">Outset</button>\n            <button type="button" data-value="inset">Inset</button>\n          </div>\n        </div>\n        <div class="drag-board" ref="$dragBoard">\n          <div\n            class="pointer"\n            ref="$pointer"\n            style="left: ').concat(this.state.offsetX,";top: ").concat(this.state.offsetY,"\"\n          ></div>\n        </div>        \n        <div class=\"popup-item offset-x\">\n          <RangeEditor ref='$offsetX' label='X' key='offsetX' value=\"").concat(this.state.offsetX,"\" onchange='changeRangeEditor' />\n        </div>\n        <div class=\"popup-item offset-y\">\n          <RangeEditor ref='$offsetY' label='Y' key='offsetY' value=\"").concat(this.state.offsetY,"\" onchange='changeRangeEditor' />        \n        </div>\n        <div class=\"popup-item blur-radius\">\n          <RangeEditor ref='$blurRadius' label='Blur' key='blurRadius' value=\"").concat(this.state.blurRadius,"\" onchange='changeRangeEditor' />        \n        </div>\n        <div class=\"popup-item spread-radius\">\n          <RangeEditor ref='$spreadRadius' label='Spread' key='spreadRadius' value=\"").concat(this.state.spreadRadius,"\" onchange='changeRangeEditor' />        \n        </div>\n        <div class='popup-item'>\n          <ColorViewEditor \n              ref='$foreColor' \n              label=\"color\" \n              key='color' \n              value=\"").concat(this.state.color,'"\n              onchange="changeRangeEditor" />\n        </div>        \n      </div>\n    ')}},{key:er("$popup .select button"),value:function(t){var e=t.$dt.attr("data-value");this.getRef("$type").attr("data-selected-value",e),this.updateData({inset:"inset"===e})}},{key:wr("$popup .drag-board")+Ar("movePointer"),value:function(t){this.offsetX=t.offsetX,this.offsetY=t.offsetY;var e=this.getRef("$dragBoard").rect();this.boardWidth=e.width,this.boardHeight=e.height}},{key:"refreshPointer",value:function(){this.getRef("$pointer").css({left:this.state.offsetX,top:this.state.offsetY})}},{key:"movePointer",value:function(t,e){var n=this.offsetX+t,r=this.offsetY+e,o=this.boardWidth/2,i=this.boardHeight/2,a=n-o,c=r-i;a<-o?a=-o:a>o&&(a=o),c<-i?c=-i:c>i&&(c=i),a=Math.floor(a),c=Math.floor(c),this.getRef("$offsetX").val(a),this.getRef("$offsetY").val(c),this.updateData({offsetX:$.px(a),offsetY:$.px(c)}),this.refreshPointer(),this.children.$offsetX.setValue(this.state.offsetX),this.children.$offsetY.setValue(this.state.offsetY)}},{key:Wo("changeRangeEditor"),value:function(t,e){this.updateData(J1({},t,e)),"offsetX"!==t&&"offsetY"!==t||this.refreshPointer()}},{key:Wo("showBoxShadowPropertyPopup"),value:function(t,e){this.changeEvent=t.changeEvent||"changeBoxShadowPropertyPopup",this.setState(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q1(Object(n),!0).forEach((function(e){J1(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{params:e})),this.refresh(),this.show(432)}},{key:Wo("hideBoxShadowPropertyPopup"),value:function(){this.hide()}}])&&t2(n.prototype,r),o&&t2(n,o),e}(U1);function i2(t){return(i2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s2(t,e){return!e||"object"!==i2(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l2(t){return(l2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f2(t,e){return(f2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p2=function(t){function e(){return a2(this,e),s2(this,l2(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f2(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"Text Shadow Editor"}},{key:"initState",value:function(){return{color:"rgba(0, 0, 0, 1)",offsetX:$.z(),offsetY:$.z(),blurRadius:$.z()}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit(this.changeEvent,t,this.params)}},{key:"getBody",value:function(){return"<div class='text-shadow-property-popup' ref='$popup'></div>"}},{key:zr("$popup"),value:function(){return'\n      <div class=\'box\'>\n        <div class="drag-board" ref="$dragBoard">\n          <div\n            class="pointer"\n            ref="$pointer"\n            style="left: '.concat(this.state.offsetX,";top: ").concat(this.state.offsetY,"\"\n          ></div>\n        </div>\n        <div class='popup-item'>\n          <RangeEditor ref='$offsetX' label='Offset X' key='offsetX' min=\"-100\" max='100' value='").concat(this.state.offsetX,"' onchange='changeShadow' />\n        </div>\n        <div class='popup-item'>\n          <RangeEditor ref='$offsetY' label=\"Offset Y\" key='offsetY' min=\"-100\" max='100' value='").concat(this.state.offsetY,"' onchange='changeShadow' />\n        </div>\n        <div class='popup-item'>\n          <RangeEditor ref='$blurRadius' label=\"Blur Radius\" key='blurRadius' value='").concat(this.state.blurRadius,"' onchange='changeShadow' />\n        </div>\n        <div class='popup-item'>\n          <ColorViewEditor \n              ref='$foreColor' \n              label=\"color\" \n              key='color' \n              value=\"").concat(this.state.color,'"\n              onchange="changeShadow" />\n        </div>        \n      </div>\n    ')}},{key:Wo("changeShadow"),value:function(t,e){this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e)),"offsetX"!==t&&"offsetY"!==t||this.refreshPointer()}},{key:wr("$popup .drag-board")+Ar("movePointer"),value:function(t){this.offsetX=t.offsetX,this.offsetY=t.offsetY;var e=this.getRef("$dragBoard").rect();this.boardWidth=e.width,this.boardHeight=e.height}},{key:"refreshPointer",value:function(){this.getRef("$pointer").css({left:this.state.offsetX,top:this.state.offsetY})}},{key:"movePointer",value:function(t,e){var n=this.offsetX+t,r=this.offsetY+e,o=this.boardWidth/2,i=this.boardHeight/2,a=n-o,c=r-i;a<-o?a=-o:a>o&&(a=o),c<-i?c=-i:c>i&&(c=i),a=Math.floor(a),c=Math.floor(c),this.updateData({offsetX:$.px(a),offsetY:$.px(c)}),this.children.$offsetX.setValue(this.state.offsetX),this.children.$offsetY.setValue(this.state.offsetY),this.refreshPointer()}},{key:Wo("showTextShadowPropertyPopup"),value:function(t,e){this.changeEvent=t.changeEvent||"changeTextShadowPropertyPopup",this.params=e,this.setState(t,!1),this.refresh(),this.show(432)}},{key:Wo("hideTextShadowPropertyPopup"),value:function(){this.hide()}}])&&c2(n.prototype,r),o&&c2(n,o),e}(U1);function h2(t){return(h2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w2(t,e){return!e||"object"!==h2(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k2(t){return(k2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O2(t,e){return(O2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j2=function(t){function e(){return m2(this,e),w2(this,k2(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O2(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("animation.property.popup.title")}},{key:"components",value:function(){return{SelectEditor:yC,CubicBezierEditor:JC,RangeEditor:kC,IterationCountEditor:GT}}},{key:"initState",value:function(){return{changeEvent:"",instance:{},data:{}}}},{key:"updateData",value:function(t){this.state.data=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d2(Object(n),!0).forEach((function(e){b2(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d2(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.state.data,{},t),this.state.instance&&this.state.instance.trigger(this.state.changeEvent,this.state.data)}},{key:"getBody",value:function(){return"<div class='animation-property-popup' ref='$popup'></div>"}},{key:zr("$popup"),value:function(){return'\n      <div class="box">\n        '.concat(this.templateForKeyframe(),"\n        ").concat(this.templateForTimingFunction(),"\n        ").concat(this.templateForIterationCount(),"\n        ").concat(this.templateForDelay(),"\n        ").concat(this.templateForDuration(),"\n        ").concat(this.templateForDirection(),"\n        ").concat(this.templateForFillMode(),"\n        ").concat(this.templateForPlayState(),"\n      </div>\n    ")}},{key:"templateForTimingFunction",value:function(){return"\n    <div class='timing-function'>\n      <label>".concat(this.$i18n("animation.property.popup.timing.function"),'</label>\n      <CubicBezierEditor ref=\'$cubicBezierEditor\' key="timingFunction" value="').concat(this.state.data.timingFunction,"\" onChange='changeCubicBezier' />\n    </div>\n    ")}},{key:"templateForKeyframe",value:function(){return"\n      <div class='name'>\n        <label>".concat(this.$i18n("animation.property.popup.keyframe"),"</label>\n        <div class='input grid-1'>\n          <select ref='$name'></select>\n        </div>\n      </div>\n    ")}},{key:zr("$name"),value:function(){var t=this,e=this.$selection.currentProject,n=[];return e&&e.keyframes&&(n=e.keyframes.map((function(t){return{key:t.name,value:t.name}}))),n.unshift({key:"Select a keyframe",value:""}),n.map((function(e){var n=e.value===t.name?"selected":"",r=t.$i18n(e.key);return"<option value='".concat(e.value,"' ").concat(n,">").concat(r,"</option>")}))}},{key:fr("$name"),value:function(){this.updateData({name:this.refs.$name.value})}},{key:"templateForDirection",value:function(){var t=this,e="normal,reverse,alternate,alternate-reverse".split(",").map((function(e){return"".concat(e,":").concat(t.$i18n(e))})).join(",");return"\n      <div class='direction'>\n        <SelectEditor \n            label='".concat(this.$i18n("animation.property.popup.direction"),"'\n            ref='$direction' \n            key='direction' \n            value=\"").concat(this.state.data.direction,"\"\n            options='").concat(e,"'\n            onChange='changeSelect'\n        /> \n      </div>\n    ")}},{key:Wo("changeSelect"),value:function(t,e){this.updateData(b2({},t,e))}},{key:"templateForPlayState",value:function(){return"\n    <div class='play-state'>\n      <SelectEditor \n          label='".concat(this.$i18n("animation.property.popup.play.state"),"'\n          ref='$playState' \n          key='playState' \n          value=\"").concat(this.state.data.playState,"\"\n          options='").concat(["paused","running"],"'\n          onChange='changeSelect'\n      /> \n    </div>\n  ")}},{key:"templateForFillMode",value:function(){var t=this,e="none,forwards,backwards,both".split(",").map((function(e){return"".concat(e,":").concat(t.$i18n(e))})).join(",");return"\n    <div class='fill-mode'>\n      <SelectEditor \n          label='".concat(this.$i18n("animation.property.popup.fill.mode"),"'\n          ref='$fillMode' \n          key='fillMode' \n          value=\"").concat(this.state.data.fillMode,"\"\n          options='").concat(e,"'\n          onChange='changeSelect'\n      /> \n    </div>\n  ")}},{key:"templateForDelay",value:function(){return"\n    <div class='delay'>\n      <RangeEditor \n        ref='$delay' \n        label='".concat(this.$i18n("animation.property.popup.delay"),"' \n        calc='false' \n        key='delay' \n        value='").concat(this.state.data.delay,"' \n        units='s,ms' \n        onChange=\"changeRangeEditor\" />\n    </div>\n    ")}},{key:"templateForDuration",value:function(){return"\n    <div class='duration'>\n      <RangeEditor \n        ref='$duration' \n        label='".concat(this.$i18n("animation.property.popup.duration"),"'  \n        key='duration' \n        value='").concat(this.state.data.duration,"' \n        units='s,ms' \n        onChange=\"changeRangeEditor\" />\n    </div>\n    ")}},{key:"templateForIterationCount",value:function(){return"\n      <div class='iteration-count'>\n        <IterationCountEditor \n          ref='$iterationCount' \n          label='".concat(this.$i18n("animation.property.popup.iteration"),"' \n          key='iterationCount' \n          value='").concat(this.state.iterationCount||"0","' \n          units='normal,infinite' \n          onChange=\"changeRangeEditor\" \n        />\n      </div>\n    ")}},{key:Wo("changeRangeEditor"),value:function(t,e){"iterationCount"===t&&(e="normal"===e.unit?$.number(e.value):$.string(e.unit)),this.updateData(b2({},t,e))}},{key:Wo("changeCubicBezier"),value:function(t,e){this.updateData(b2({},t,e))}},{key:Wo("showAnimationPropertyPopup"),value:function(t){this.setState(t),this.show(250),this.children.$cubicBezierEditor.trigger("showCubicBezierEditor",t.data.timingFunction)}},{key:Wo("hideAnimationPropertyPopup"),value:function(){this.$el.hide()}}])&&g2(n.prototype,r),o&&g2(n,o),e}(U1);function S2(t){return(S2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E2(t,e){return!e||"object"!==S2(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _2(t){return(_2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C2(t,e){return(C2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var T2=function(t){function e(){return P2(this,e),E2(this,_2(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C2(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("keyframe.popup.title")}},{key:"components",value:function(){return{OffsetEditor:xV}}},{key:"initState",value:function(){return{name:"none",offsets:[]}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit("changeKeyframePopup",this.state)}},{key:"getBody",value:function(){return"\n    <div class='keyframe-popup' ref='$popup'>\n      <div class=\"box\">\n        ".concat(this.templateForName(),"\n        ").concat(this.templateForOffset(),"\n      </div>\n    </div>")}},{key:"templateForOffset",value:function(){return"\n      <div>\n        <OffsetEditor ref='$offsetEditor' />\n      </div>\n    "}},{key:"templateForName",value:function(){return"\n      <div class='name'>\n        <label>Name</label>\n        <div class='input grid-1'>\n          <input type='text' value='".concat(this.state.name,"' ref='$name'/>\n        </div>\n      </div>\n    ")}},{key:pr("$name"),value:function(t){if(!this.refs.$name.value.match(/^[a-zA-Z0-9\b]+$/))return t.preventDefault(),t.stopPropagation(),!1;this.updateData({name:this.refs.$name.value})}},{key:"getOffsetData",value:function(){return{offsets:this.state.offsets.map((function(t){return t}))}}},{key:"refresh",value:function(){this.refs.$name.val(this.state.name),this.emit("showOffsetEditor",this.getOffsetData())}},{key:Wo("changeOffsetEditor"),value:function(t){this.updateData(t)}},{key:Wo("showKeyframePopup"),value:function(t){this.setState(t),this.refresh(),this.show(240)}},{key:Wo("hideKeyframePopup"),value:function(){this.$el.hide()}}])&&$2(n.prototype,r),o&&$2(n,o),e}(U1);function R2(t){return(R2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D2(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function V2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I2(t,e){return!e||"object"!==R2(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L2(t){return(L2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M2(t,e){return(M2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var z2=function(t){function e(){return V2(this,e),I2(this,L2(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M2(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{DirectionEditor:PI,RangeEditor:kC}}},{key:"parseValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.split("round"),n=D2(e,2),r=n[0],o=n[1],i=Kd.parse(r),a=D2(i,5),c=a[0],u=a[1],s=a[2],l=a[3],f=a[4];if(o)var p=Kd.parse(o),y=D2(p,5),h=y[0],d=y[1],v=y[2],b=y[3],m=y[4];return{isAll:1===c,top:u,right:s,bottom:l,left:f,round:o,isAllRadius:1===h,topRadius:d,rightRadius:v,bottomRadius:b,leftRadius:m}}},{key:"initState",value:function(){return this.parseValue(this.props.value)}},{key:"template",value:function(){var t=this.state,e=t.top,n=t.right,r=t.bottom,o=t.left,i=t.round,a=$.percent(Math.abs((o.value-(100-n.value))/2)).toPx(220),c=e.toPx(220),u=a.clone(),s=$.percent(100-r.value).toPx(220),l=$.percent(100-n.value).toPx(220),f=$.percent(Math.abs((e.value-(100-r.value))/2)).toPx(220),p=o.toPx(220),y=$.percent(Math.abs((e.value-(100-r.value))/2)).toPx(220),h=i?"checked":"";return"\n        <div class='clip-path-editor inset-editor'>\n            <div class='drag-area' ref='$area'>\n                <div class='drag-pointer' data-type='top' ref='$top' style='left: ".concat(a,";top: ").concat(c,";'></div>\n                <div class='drag-pointer' data-type='right' ref='$right' style='left: ").concat(l,";top: ").concat(f,";'></div>\n                <div class='drag-pointer' data-type='bottom' ref='$bottom' style='left: ").concat(u,";top: ").concat(s,";'></div>\n                <div class='drag-pointer' data-type='left' ref='$left' style='left: ").concat(p,";top: ").concat(y,";'></div>\n                <div class='clip-area inset' ref='$clipAreaView' style='pointer-events: none;'></div>\n                <div class='clip-area-handle' ref='$clipArea' style='left: ").concat(p,";top: ").concat(c,";width: ").concat($.px(l.value-o.value),";height: ").concat($.px(s.value-c.value),";'></div>\n            </div>\n            <div class='round-area'>\n                <label><input type=\"checkbox\" ").concat(h," ref='$hasRound' /> Round </label>\n                <div ref='$round'></div>\n            </div>\n        </div>\n    ")}},{key:Hr("$clipAreaView"),value:function(){return{style:{"clip-path":"".concat(this.props.key,"(").concat(this.toClipPathValueString(),")")}}}},{key:er("$hasRound"),value:function(t){this.updateData({round:this.refs.$hasRound.checked()}),this.bindData("$clipAreaView")}},{key:zr("$round"),value:function(){var t=this.state,e=[t.topRadius,t.rightRadius,t.bottomRadius,t.leftRadius].join(" ");return"<DirectionEditor ref='$borderRadius' value='".concat(e,"' onchange='changeBorderRadius' />")}},{key:Wo("changeBorderRadius"),value:function(t){var e=D2(t,5),n=e[0],r=e[1],o=e[2],i=e[3],a=e[4];this.updateData({isAllRadius:1===n,topRadius:r,rightRadius:o,bottomRadius:i,leftRadius:a}),this.bindData("$clipAreaView")}},{key:"refreshPointer",value:function(){var t=this.state,e=t.top,n=t.right,r=t.bottom,o=t.left,i=Math.abs((o.value+(100-n.value))/2),a=Math.abs((e.value+(100-r.value))/2),c=$.percent(i).toPx(220),u=e.toPx(220),s=$.percent(i).toPx(220),l=$.percent(100-r.value).toPx(220),f=$.percent(100-n.value).toPx(220),p=$.percent(a).toPx(220),y=o.toPx(220),h=$.percent(a).toPx(220);this.refs.$top.css({left:c,top:u}),this.refs.$right.css({left:f,top:p}),this.refs.$bottom.css({left:s,top:l}),this.refs.$left.css({left:y,top:h}),this.refs.$clipArea.css({left:y,top:u,width:$.px(f.value-y.value),height:$.px(l.value-u.value)}),this.bindData("$clipAreaView")}},{key:wr("$area .clip-area-handle")+Ar("moveClipArea"),value:function(t){this.type=t.$dt.attr("data-type"),this.$target=t.$dt,this.areaRect=this.refs.$area.rect(),this.startXY=t.xy,this.clipRect={left:$.parse(this.$target.css("left")),top:$.parse(this.$target.css("top")),width:$.parse(this.$target.css("width")),height:$.parse(this.$target.css("height"))}}},{key:"moveClipArea",value:function(t,e){var n=this.clipRect.width.value,r=this.clipRect.height.value,o=this.clipRect.left.value+t,i=this.clipRect.top.value+e;0>o?o=0:this.areaRect.width<o+n&&(o=this.areaRect.width-n),0>i?i=0:this.areaRect.height<i+r&&(i=this.areaRect.height-r);var a=$.px(o),c=$.px(i);this.updateData({top:c.toPercent(this.areaRect.height).round(100),bottom:$.px(this.areaRect.height-(i+r)).toPercent(this.areaRect.height).round(100),right:$.px(this.areaRect.width-(o+n)).toPercent(this.areaRect.width).round(100),left:a.toPercent(this.areaRect.width).round(100)}),this.refreshPointer()}},{key:wr("$area .drag-pointer")+Ar(),value:function(t){this.type=t.$dt.attr("data-type"),this.$target=t.$dt,this.areaRect=this.refs.$area.rect(),this.startXY=t.xy}},{key:"move",value:function(t,e){var n=this.startXY.x+t,r=this.startXY.y+e;this.areaRect.x>n?n=this.areaRect.x:this.areaRect.right<n&&(n=this.areaRect.right),this.areaRect.y>r?r=this.areaRect.y:this.areaRect.bottom<r&&(r=this.areaRect.bottom);var o=$.px(n-this.areaRect.x),i=$.px(r-this.areaRect.y);"top"===this.type?this.updateData({top:i.toPercent(this.areaRect.height).round(100)}):"bottom"===this.type?this.updateData({bottom:$.px(this.areaRect.height-i.value).toPercent(this.areaRect.height).round(100)}):"right"===this.type?this.updateData({right:$.px(this.areaRect.width-o.value).toPercent(this.areaRect.width).round(100)}):"left"===this.type&&this.updateData({left:o.toPercent(this.areaRect.width).round(100)}),this.refreshPointer()}},{key:"toClipPathValueString",value:function(){var t=this.state,e=t.top,n=t.right,r=t.left,o=t.bottom,i=t.round,a=t.topRadius,c=t.leftRadius,u=t.bottomRadius,s=t.rightRadius,l=[e,n,o,r].join(" "),f=[a,s,u,c].join(" ");return"".concat(l," ").concat(i&&f.trim()?"round ".concat(f):"")}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}}])&&A2(n.prototype,r),o&&A2(n,o),e}(Uo);function B2(t){return(B2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function G2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H2(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function X2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N2(t,e){return!e||"object"!==B2(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function K2(t){return(K2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W2(t,e){return(W2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var U2=function(t){function e(){return X2(this,e),N2(this,K2(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W2(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{RangeEditor:kC}}},{key:"parseValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=220,n=220;return t.split(",").filter((function(t){return t.trim()})).map((function(t){var r=H2(t.trim().split(" "),2),o=r[0],i=r[1];return{x:$.parse(o).toPx(e),y:$.parse(i).toPx(n)}}))}},{key:"initState",value:function(){return{value:this.parseValue(this.props.value)}}},{key:"template",value:function(){return"\n        <div class='clip-path-editor polygon-editor'>\n            <div class='drag-area' ref='$area'>\n                <div class='pointer-list' ref='$list'></div>\n                <div class='clip-area polygon' ref='$clipArea'></div>            \n            </div>\n            <div class='pointer-input' ref='$inputList'></div>\n        </div>\n    "}},{key:zr("$inputList"),value:function(){return this.state.value.map((function(t,e){return"\n            <div class='pointer-item' data-index=\"".concat(e,"\">\n                <div class='input-item'>\n                    <label>X</label><input type='number' class='x' value=\"").concat(t.x.value.toString(),"\" /><span>%</span>\n                </div>\n                <div class='input-item'>\n                    <label>Y</label><input type='number' class='y' value=\"").concat(t.y.value.toString(),"\" /><span>%</span>\n                </div>\n                <div class='tools'>\n                    <button type=\"button\" class='copy' data-index=\"").concat(e,'">').concat(jv.copy,'</button>\n                    <button type="button" class=\'remove\' data-index="').concat(e,'">').concat(jv.remove2,"</button>\n                </div>\n            </div>\n            ")}))}},{key:er("$area")+Lr,value:function(t){if(Nn.create(t.target).is(this.refs.$area)){this.areaRect=this.refs.$area.rect();var e=t.xy,n=e.x,r=e.y;this.appendValue({x:$.px(n-this.areaRect.left),y:$.px(r-this.areaRect.top)}),this.refresh()}}},{key:er("$inputList .pointer-item .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.removeValue(e),this.refresh()}},{key:er("$inputList .pointer-item .copy"),value:function(t){var e=+t.$dt.attr("data-index");this.copyValue(e),this.refresh()}},{key:Hr("$clipArea"),value:function(){return{style:{"clip-path":"polygon(".concat(this.toClipPathValueString(),")")}}}},{key:zr("$list"),value:function(){var t=this;return this.state.value.map((function(e,n){var r=[0===n?"first":"",n===t.state.value.length-1?"last":""].filter((function(t){return t})).join(" ");return"<div class='drag-pointer ".concat(r,"' data-index=\"").concat(n.toString(),"\" style='left: ").concat(e.x,";top: ").concat(e.y,";'></div>")}))}},{key:er("$area .drag-pointer")+Tr+Lr,value:function(t){var e=+t.$dt.attr("data-index");this.removeValue(e),this.refresh()}},{key:wr("$area .drag-pointer")+Ar(),value:function(t){this.selectedIndex=+t.$dt.attr("data-index"),this.$target=t.$dt,this.areaRect=this.refs.$area.rect(),this.startXY=t.xy,this.$value=this.state.value[this.selectedIndex];var e=this.refs.$inputList;this.$x=e.$('.pointer-item[data-index="'.concat(this.selectedIndex,'"] input.x')),this.$y=e.$('.pointer-item[data-index="'.concat(this.selectedIndex,'"] input.y'))}},{key:"move",value:function(t,e){var n=this.startXY.x+t,r=this.startXY.y+e;this.areaRect.x>n?n=this.areaRect.x:this.areaRect.right<n&&(n=this.areaRect.right),this.areaRect.y>r?r=this.areaRect.y:this.areaRect.bottom<r&&(r=this.areaRect.bottom);var o=$.px(n-this.areaRect.x),i=$.px(r-this.areaRect.y);this.$target.css({left:o,top:i}),this.updateValue(this.selectedIndex,{x:o,y:i}),this.$x.val(o.toPercent(220).round(10).value),this.$y.val(i.toPercent(220).round(10).value),this.bindData("$clipArea")}},{key:"toClipPathValueString",value:function(){return this.state.value.map((function(t){return"".concat(t.x.toPercent(220).round(10)," ").concat(t.y.toPercent(220).round(10))})).join(",")}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}},{key:"appendValue",value:function(t){this.state.value.push(t),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}},{key:"removeValue",value:function(t){this.state.value.splice(t,1),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}},{key:"copyValue",value:function(t){var e=this.state.value[t],n=e.x,r=e.y;this.state.value.splice(t+1,0,{x:$.px(n.value+10),y:$.px(r.value+10)}),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}},{key:"updateValue",value:function(t,e){this.state.value[t]=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F2(Object(n),!0).forEach((function(e){G2(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.state.value[t],{},e),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}}])&&Y2(n.prototype,r),o&&Y2(n,o),e}(Uo);function Z2(t){return(Z2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q2(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function J2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function t4(t,e){return!e||"object"!==Z2(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function e4(t){return(e4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function n4(t,e){return(n4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var r4=function(t){function e(){return J2(this,e),t4(this,e4(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n4(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{RangeEditor:kC}}},{key:"parseValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"50% 50%",e="50% 50%",n="";if((t=t||"50%").includes("at")){var r=t.split("at").map((function(t){return t.trim()})),o=q2(r,2);e=o[0],n=o[1]}else n=t.trim();var i=n.split(" "),a=q2(i,2),c=a[0],u=a[1];Qt(u)&&(u=c),c=$.parse(c),u=$.parse(u);var s=e.split(" "),l=q2(s,2),f=l[0],p=l[1];return Qt(p)&&(p=f),{radiusX:f=$.parse(f),radiusY:p=$.parse(p),x:c,y:u}}},{key:"initState",value:function(){return this.parseValue(this.props.value)}},{key:"template",value:function(){return"\n        <div class='clip-path-editor circle-editor'>\n            <div>\n                <RangeEditor \n                    ref='$rangeX' \n                    label='Radius X' \n                    key='radiusX' \n                    value='".concat(this.state.radiusX,"' \n                    min=\"0\" \n                    max=\"100\" \n                    step=\"0.1\" \n                    units=\"%\" \n                    onchange='changeRangeEditor' \n                />\n            </div>\n            <div>\n                <RangeEditor \n                    ref='$rangeY' \n                    label='Radius Y' \n                    key='radiusY' \n                    value='").concat(this.state.radiusY,"' \n                    min=\"0\" \n                    max=\"100\" \n                    step=\"0.1\" \n                    units=\"%\" \n                    onchange='changeRangeEditor' \n                />\n            </div>            \n            <div class='drag-area' ref='$area'>\n                <div class='drag-pointer' ref='$pointer' style='left: ").concat(this.state.x,";top: ").concat(this.state.y,";'></div>\n                <div class='clip-area circle' ref='$clipArea'></div>\n            </div>\n        </div>\n    ")}},{key:Hr("$clipArea"),value:function(){return{style:{"clip-path":"".concat(this.props.key,"(").concat(this.toClipPathValueString(),")")}}}},{key:wr("$area")+Ar()+Ir(),value:function(t){this.areaRect=this.refs.$area.rect(),this.startXY=t.xy}},{key:"move",value:function(t,e){var n=this.startXY.x+t,r=this.startXY.y+e;this.areaRect.x>n?n=this.areaRect.x:this.areaRect.right<n&&(n=this.areaRect.right),this.areaRect.y>r?r=this.areaRect.y:this.areaRect.bottom<r&&(r=this.areaRect.bottom);var o=$.percent((n-this.areaRect.x)/this.areaRect.width*100).round(1),i=$.percent((r-this.areaRect.y)/this.areaRect.height*100).round(1);this.refs.$pointer.css({left:o,top:i}),this.updateData({x:o,y:i}),this.bindData("$clipArea")}},{key:"toClipPathValueString",value:function(){var t=this.state,e=t.x,n=t.y,r=t.radiusX,o=t.radiusY,i="".concat(e," ").concat(n),a="".concat(r," ").concat(o);return"".concat(a," at ").concat(i)}},{key:"updateData",value:function(t){this.setState(t),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}},{key:Wo("changeRangeEditor"),value:function(t,e){this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e.clone()))}}])&&Q2(n.prototype,r),o&&Q2(n,o),e}(Uo);function o4(t){return(o4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c4(t,e){return!e||"object"!==o4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u4(t){return(u4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s4(t,e){return(s4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l4=function(t){function e(){return i4(this,e),c4(this,u4(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s4(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"ClipPath"}},{key:"components",value:function(){return{EllipseEditor:r4,PolygonEditor:U2,InsetEditor:z2,SelectEditor:yC,CircleEditor:VV}}},{key:"initState",value:function(){return{type:"none",value:""}}},{key:"toClipPathCSS",value:function(){return av.toCSS(this.state)}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit(this.state.changeEvent||"changeClipPathPopup",this.toClipPathCSS())}},{key:"getBody",value:function(){return"\n    <div class='clippath-popup' ref='$popup'>\n      <div class=\"box\">\n        <div class='clip-path-editor clip-path-type' ref='$clippathType'></div>\n        <div class='clip-path-editor' ref='$clippath'></div>\n      </div>\n    </div>"}},{key:zr("$clippathType"),value:function(){return"\n      <div>".concat(this.state.type," Editor</div>\n    ")}},{key:zr("$clippath"),value:function(){switch(this.state.type){case"circle":return"<CircleEditor ref='$circle' key='circle' value='".concat(this.state.value,"' onchange='changeClipPath' />");case"ellipse":return"<EllipseEditor ref='$ellipse' key='ellipse' value='".concat(this.state.value,"' onchange='changeClipPath' />");case"inset":return"<InsetEditor ref='$inset' key='inset' value='".concat(this.state.value,"' onchange='changeClipPath' />");case"polygon":return"<PolygonEditor ref='$polygon' key='polygon' value='".concat(this.state.value,"' onchange='changeClipPath' />");case"path":return"<PathEditor ref='$path' key='path' value='".concat(this.state.value,"' onchange='changeClipPath' />");case"svg":var t=(this.$selection.currentProject||{svg:[]}).svg.filter((function(t){return"clip-path"===t.type})).map((function(t){return t.name})).join(",");return t.length&&(t=","+t),"<SelectEditor ref='$svg' key='svg' value='".concat(this.state.value,"' options='").concat(t,"' onchange='changeClipPath' />");default:return"<div class='type none'></div>"}}},{key:Wo("changeClipPath"),value:function(t,e){this.updateData({type:t,value:e})}},{key:Wo("showClipPathPopup"),value:function(t){this.state.changeEvent=t.changeEvent,this.setState(av.parseStyle(t["clip-path"])),this.refresh(),this.show(220)}},{key:Wo("hideClipPathPopup"),value:function(){this.hide()}}])&&a4(n.prototype,r),o&&a4(n,o),e}(U1);function f4(t){return(f4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v4(t,e){return!e||"object"!==f4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b4(t){return(b4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m4(t,e){return(m4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g4=["none","all","background-color","background-position","background-size","border","border-color","border-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-width","border-left","border-left-color","border-left-width","border-radius","border-right","border-right-color","border-right-width","border-spacing","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-width","bottom","box-shadow","color","filter","font-size","font-size-adjust","font-stretch","font-weight","height","left","letter-spacing","line-height","margin","margin-bottom","margin-left","margin-right","margin-top","max-height","max-width","min-height","min-width","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","perspective","perspective-origin","right","text-decoration","text-decoration-color","text-indent","text-shadow","top","transform","vertical-align","visibility","width","word-spacing","z-index"],w4=function(t){function e(){return h4(this,e),v4(this,b4(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m4(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"Transition"}},{key:"components",value:function(){return{SelectEditor:yC,CubicBezierEditor:JC,RangeEditor:kC}}},{key:"initState",value:function(){return{changeEvent:"",instance:{},data:{timingFunction:"linear",duration:"0s",delay:"0s",name:"all"}}}},{key:"updateData",value:function(t){this.state.data=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p4(Object(n),!0).forEach((function(e){y4(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p4(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.state.data,{},t),this.state.instance&&this.state.instance.trigger(this.state.changeEvent,this.state.data)}},{key:"getBody",value:function(){return"<div class='transition-property-popup' ref='$popup'></div>"}},{key:zr("$popup"),value:function(){return'\n      <div class="box">\n        '.concat(this.templateForProperty(),"\n        ").concat(this.templateForTimingFunction(),"\n        ").concat(this.templateForDelay(),"\n        ").concat(this.templateForDuration(),"\n      </div>\n    ")}},{key:"templateForTimingFunction",value:function(){return"\n    <div class='timing-function'>\n      <label>Timing function</label>\n      <CubicBezierEditor ref='$cubicBezierEditor' key=\"timingFunction\" value=\"".concat(this.state.data.timingFunction,"\" onChange='changeCubicBezier' />\n    </div>\n    ")}},{key:Wo("changeTransition"),value:function(t,e){this.updateData(y4({},t,e))}},{key:"templateForProperty",value:function(){return"\n      <div class='name'>\n        <SelectEditor ref='$property' icon=\"true\" label=\"Property\" key='name' value=\"".concat(this.state.data.name,'" options="').concat(g4.join(","),"\" onChange='changeTransition' /> \n      </div>\n    ")}},{key:"templateForDelay",value:function(){return"\n    <div class='delay'>\n      <RangeEditor ref='$delay' label='Delay' calc='false' key='delay' value='".concat(this.state.data.delay,"' units='s,ms' onChange=\"changeRangeEditor\" />\n    </div>\n    ")}},{key:"templateForDuration",value:function(){return"\n    <div class='duration'>\n      <RangeEditor ref='$duration' label='Duration'  calc='false' key='duration' value='".concat(this.state.data.duration,"' units='s,ms' onChange=\"changeRangeEditor\" />\n    </div>\n    ")}},{key:Wo("changeRangeEditor"),value:function(t,e){this.updateData(y4({},t,e))}},{key:Wo("changeCubicBezier"),value:function(t,e){this.updateData(y4({},t,e))}},{key:Wo("showTransitionPropertyPopup"),value:function(t){this.setState(t),this.show(250),this.children.$cubicBezierEditor.trigger("showCubicBezierEditor",t.data.timingFunction)}},{key:Wo("hideTransitionPropertyPopup"),value:function(){this.$el.hide()}}])&&d4(n.prototype,r),o&&d4(n,o),e}(U1);function k4(t){return(k4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S4(t,e){return!e||"object"!==k4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P4(t){return(P4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x4(t,e){return(x4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $4=function(t){function e(){return O4(this,e),S4(this,P4(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x4(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"SVG Property"}},{key:"components",value:function(){return{SVGFilterEditor:nI,SVGClipPathEditor:vI}}},{key:"initState",value:function(){return{changeEvent:"changeSVGPropertyPopup",name:"",type:"",value:[]}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit(this.state.changeEvent,this.state)}},{key:"getBody",value:function(){return"\n    <div class='svg-property-editor-popup' ref='$popup'>\n      <div class=\"box\">\n        ".concat(this.templateForName(),"\n        <div class='editor' ref='$editor'></div>\n      </div>\n    </div>")}},{key:zr("$editor"),value:function(){switch(this.state.type){case"filter":return'\n          <SVGFilterEditor ref=\'$filter\' title="SVG Filter" key="filter" onchange=\'changeFilterEditor\'>\n            <property name="value" type="json">'.concat(JSON.stringify(this.state.value),"</property>\n          </SVGFilterEditor>\n        ");case"clip-path":return"\n          <SVGClipPathEditor ref='$clippath' title=\"SVG Clip Path\" key=\"clip-path\" onchange='changeClipPathEditor'>\n            <property name=\"value\" type='json'>".concat(JSON.stringify(this.state.value),"</property>\n          </SVGClipPathEditor>\n        ")}return""}},{key:Wo("changeFilterEditor"),value:function(t,e){this.updateData({value:e})}},{key:Wo("changeClipPathEditor"),value:function(t,e){this.updateData({value:e})}},{key:"templateForName",value:function(){return"\n      <div class='name'>\n        <label>Name</label>\n        <div class='input grid-1'>\n          <input type='text' value='".concat(this.state.name,"' ref='$name'/>\n        </div>\n      </div>\n    ")}},{key:pr("$name"),value:function(t){if(!this.refs.$name.value.match(/^[a-zA-Z0-9\b]+$/))return t.preventDefault(),t.stopPropagation(),!1;this.updateData({name:this.refs.$name.value})}},{key:"refresh",value:function(){this.refs.$name.val(this.state.name),this.load()}},{key:Wo("showSVGPropertyPopup"),value:function(t){this.setState(t),this.refresh(),this.show(250)}},{key:Wo("hideSVGPropertyPopup"),value:function(){this.$el.hide()}}])&&j4(n.prototype,r),o&&j4(n,o),e}(U1);function E4(t){return(E4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T4(t,e){return!e||"object"!==E4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R4(t,e,n){return(R4="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=D4(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function D4(t){return(D4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function V4(t,e){return(V4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A4=function(t){function e(){return _4(this,e),T4(this,D4(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V4(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("selector.popup.title")}},{key:"components",value:function(){return{CSSPropertyEditor:mV}}},{key:"initState",value:function(){return{selector:"",properties:[]}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit("changeSelectorPopup",this.state)}},{key:"getBody",value:function(){return"\n    <div class='selector-popup' ref='$popup'>\n      <div class=\"box\">\n        ".concat(this.templateForSelector(),"\n        ").concat(this.templateForProperty(),"        \n      </div>\n    </div>")}},{key:"templateForProperty",value:function(){return"<CSSPropertyEditor ref='$propertyEditor' onchange='changePropertyEditor' />"}},{key:"templateForSelector",value:function(){return"\n      <div class='name'>\n        <label>".concat(this.$i18n("selector.popup.selector"),"</label>\n        <div class='input grid-1'>\n          <input type='text' value='").concat(this.state.selector,"' ref='$selector'/>\n        </div>\n      </div>\n    ")}},{key:pr("$selector"),value:function(t){if(!this.refs.$selector.value.match(/^[a-zA-Z0-9\:\_\-\.\b]+$/))return t.preventDefault(),t.stopPropagation(),!1;this.updateData({selector:this.refs.$selector.value})}},{key:"refresh",value:function(){R4(D4(e.prototype),"refresh",this).call(this),this.refs.$selector.val(this.state.selector),this.children.$propertyEditor.trigger("showCSSPropertyEditor",this.state.properties)}},{key:Wo("changePropertyEditor"),value:function(t){this.updateData({properties:t})}},{key:Wo("showSelectorPopup"),value:function(t){this.setState(t),this.refresh(),this.show(250)}}])&&C4(n.prototype,r),o&&C4(n,o),e}(U1);function I4(t){return(I4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z4(t,e){return!e||"object"!==I4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B4(t){return(B4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function F4(t,e){return(F4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var G4=function(t){function e(){return L4(this,e),z4(this,B4(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F4(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("colorpicker.popup.title")}},{key:"getClassName",value:function(){return"compact"}},{key:"components",value:function(){return{EmbedColorPicker:RI}}},{key:"initState",value:function(){return{color:"rgba(0, 0, 0, 1)"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.state.target&&this.state.target.trigger(this.state.changeEvent,this.state.color,this.params)}},{key:"updateEndData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.state.target&&this.state.target.trigger(this.state.changeEndEvent,this.state.color,this.params)}},{key:"getBody",value:function(){return"\n      <div class=\"color-picker-popup\">\n        <div class='box'>\n          <EmbedColorPicker ref='$color' value='".concat(this.state.color,"' onchange='changeColor' onchangeend=\"changeEndColor\" />\n        </div>\n      </div>\n    ")}},{key:zr("$projectColors"),value:function(){return(this.$selection.currentProject||{colors:[]}).colors.map((function(t){return"\n      <div class='color-item' title='".concat(t.name,"'>\n        <div class='color-view' data-color='").concat(t.color,"' style='background-color: ").concat(t.color,"'></div>\n      </div>")}))}},{key:er("$projectColors .color-view"),value:function(t){this.updateData({color:t.$dt.attr("data-color")}),this.children.$color.setValue(this.state.color)}},{key:Wo("changeColor"),value:function(t){this.updateData({color:t})}},{key:Wo("changeEndColor"),value:function(t){this.updateEndData({color:t})}},{key:Wo("showColorPickerPopup"),value:function(t,e){if(t.changeEvent=t.changeEvent||"changeFillPopup",!(t.target instanceof Uo))throw new Error("ColorPicker needs data.target");this.params=e,this.setState(t,!1),this.children.$color.setValue(this.state.color),this.show(232)}},{key:Wo("hideColorPickerPopup"),value:function(){this.hide()}}])&&M4(n.prototype,r),o&&M4(n,o),e}(U1);function H4(t){return(H4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N4(t,e){return!e||"object"!==H4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function K4(t){return(K4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W4(t,e){return(W4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var U4=function(t){function e(){return X4(this,e),N4(this,K4(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W4(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return"Select a image"}},{key:"getClassName",value:function(){return"compact"}},{key:"initState",value:function(){return{value:""}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.state.context.trigger(this.state.changeEvent,this.state.value,{width:this.state.width,height:this.state.height,naturalWidth:this.state.naturalWidth,naturalHeight:this.state.naturalHeight})}},{key:"getBody",value:function(){return"\n      <div class=\"image-select-popup\">\n        <div class='box' ref='$imageBox'>\n          \n        </div>\n      </div>\n    "}},{key:zr("$imageBox")+Rr,value:function(){return(this.$selection.currentProject||{images:[]}).images.map((function(t,e){return"<div class='image-item' ><img src= '".concat(t.local,"' /></div>")}))}},{key:er("$imageBox .image-item"),value:function(t){var e=t.$dt.$("img");this.updateData({value:e.attr("src"),naturalWidth:$.px(e.naturalWidth),naturalHeight:$.px(e.naturalHeight),width:$.px(e.naturalWidth),height:$.px(e.naturalHeight)}),this.trigger("hideImageSelectPopup")}},{key:Wo("showImageSelectPopup"),value:function(t,e){this.setState({context:t.context,changeEvent:t.changeEvent,value:t.value,params:e},!1),this.refresh(),this.show(500)}},{key:Wo("hideImageSelectPopup"),value:function(){this.hide()}}])&&Y4(n.prototype,r),o&&Y4(n,o),e}(U1);function Z4(t){return(Z4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q4(t,e){return!e||"object"!==Z4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function t5(t){return(t5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function e5(t,e){return(e5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var n5=function(t){function e(){return q4(this,e),Q4(this,t5(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&e5(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{mode:"grid"}}},{key:"template",value:function(){return"\n      <div class='image-asset-picker'>\n        <div class='image-list' ref='$imageList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:zr("$imageList")+Rr,value:function(){return(this.$selection.currentProject||{images:[]}).images.map((function(t){return"\n        <div class='image-item'>\n          <div class='preview'>\n            <img src=\"".concat(t.local,'" />\n          </div>\n        </div>\n      ')}))}},{key:er("$imageList .image-item"),value:function(t){var e=t.$dt.$("img");this.updateData(e.attr("src"))}},{key:"updateData",value:function(t){this.parent.trigger(this.props.onchange,t)}},{key:Wo("addImageAsset"),value:function(){this.refresh()}}])&&J4(n.prototype,r),o&&J4(n,o),e}(Uo);function r5(t){return(r5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i5(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o5(Object(n),!0).forEach((function(e){a5(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o5(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a5(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s5(t,e){return!e||"object"!==r5(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l5(t,e,n){return(l5="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f5(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function f5(t){return(f5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p5(t,e){return(p5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y5=function(t){function e(){return c5(this,e),s5(this,f5(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p5(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("gradient.picker.popup.title")}},{key:"components",value:function(){return{ImageAssetPicker:n5,EmbedColorPicker:RI,GradientEditor:RT}}},{key:"initState",value:function(){return{}}},{key:"initialize",value:function(){l5(f5(e.prototype),"initialize",this).call(this),this.selectedTab="static-gradient"}},{key:"getBody",value:function(){return"\n      <div class=\"gradient-picker\" ref='$body' data-selected-editor=''>\n        <div class='box'>\n          <div ref='$gradientEditor'></div>\n        </div>\n        <div class='box'>\n          <div class='colorpicker'>\n            <EmbedColorPicker ref='$color' onchange='changeColor' />                    \n          </div>\n          <div class='assetpicker'>\n            <ImageAssetPicker ref='$asset' onchange='changeImageUrl' />\n          </div>\n        </div>\n      </div>\n     \n    "}},{key:Wo("changeTabType"),value:function(t){this.refs.$body.attr("data-selected-editor",t)}},{key:"getColorString",value:function(){var t="";return this.state.image instanceof Fc&&(t=this.state.image.getColorString()),t}},{key:"getCurrentColor",value:function(){return this.state.image.colorsteps[this.state.selectColorStepIndex||0].color}},{key:zr("$gradientEditor"),value:function(){return'<GradientEditor \n      ref="$g" \n      value="'.concat(this.state.image,'" \n      selectedIndex="').concat(this.state.selectColorStepIndex,"\" \n      onchange='changeGradientEditor'\n    />")}},{key:Wo("changeGradientEditor"),value:function(t){this.state.image=t,this.updateData()}},{key:Wo("changeColor"),value:function(t){this.children.$g.trigger("setColorStepColor",t)}},{key:Wo("changeImageUrl"),value:function(t){this.children.$g.trigger("setImageUrl",t)}},{key:Wo("showGradientPickerPopup"),value:function(t,e){t.changeEvent=t.changeEvent||"changeFillPopup",t.image=t.gradient,t.params=e,this.setState(t),this.show(432)}},{key:Wo("selectColorStep"),value:function(t){this.children.$color.setValue(t)}},{key:Wo("changeColorStep"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.image.reset(i5({},t)),this.updateData()}},{key:"updateData",value:function(){this.state.instance.trigger(this.state.changeEvent,this.state.image,this.state.params)}}])&&u5(n.prototype,r),o&&u5(n,o),e}(U1);function h5(t){return(h5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b5(t,e){return!e||"object"!==h5(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m5(t){return(m5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g5(t,e){return(g5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w5=function(t){function e(){return d5(this,e),b5(this,m5(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g5(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("svgfilter.popup.title")}},{key:"components",value:function(){return{SVGFilterEditor:nI}}},{key:"getClassName",value:function(){return"transparent"}},{key:"initState",value:function(){return{changeEvent:"changeSVGFilterPopup",id:"",preview:!0,filters:[]}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit(this.state.changeEvent,this.state)}},{key:"getBody",value:function(){return"\n    <div class='svg-property-editor-popup' ref='$popup'>\n      <div class=\"box\">\n        <div class='editor' ref='$editor'></div>\n      </div>\n    </div>"}},{key:zr("$editor"),value:function(){return"\n      <SVGFilterEditor ref='$filter' title='Filter Type' key=\"filter\" onchange='changeFilterEditor'>\n        <property name=\"value\" type=\"json\">".concat(JSON.stringify(this.state.filters),"</property>\n      </SVGFilterEditor>\n    ")}},{key:Wo("changeFilterEditor"),value:function(t,e){this.updateData({filters:e})}},{key:"refresh",value:function(){this.load()}},{key:Wo("showSVGFilterPopup"),value:function(t){t.filters=t.filters.map((function(t){return tP.parse(t)})),t.preview=!te(t.preview)||t.preview,this.setState(t),this.show(500)}},{key:Wo("hideSVGFilterPopup"),value:function(){this.$el.hide()}}])&&v5(n.prototype,r),o&&v5(n,o),e}(U1);function k5(t){return(k5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S5(t,e){return!e||"object"!==k5(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P5(t){return(P5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x5(t,e){return(x5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $5=function(t){function e(){return O5(this,e),S5(this,P5(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x5(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("background.image.position.popup.title")}},{key:"components",value:function(){return{EmbedColorPicker:RI,RangeEditor:kC,SelectEditor:yC,GradientEditor:RT}}},{key:"initState",value:function(){return{size:this.props.size||"auto",repeat:this.props.repeat||"repeat",x:this.props.x||$.z(),y:this.props.y||$.z(),width:this.props.width||$.z(),height:this.props.height||$.z(),blendMode:this.props.blendMode}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.emit(this.state.changeEvent,t,this.state.params)}},{key:"templateForSize",value:function(){return"\n      <div class='popup-item'>\n        <SelectEditor label=\"".concat(this.$i18n("background.image.position.popup.size"),"\" ref='$size' key='size' value=\"").concat(this.state.size,'" options="contain,cover,auto" onchange="changeRangeEditor" />      \n      </div>\n    ')}},{key:Wo("changeRangeEditor"),value:function(t,e){this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:"templateForX",value:function(){return'\n      <div class=\'popup-item\'>\n        <RangeEditor \n            label="X"\n            calc="false"            \n            ref="$x" \n            key="x"\n            value="'.concat(this.state.x,'"\n            min="-1000" max="1000" step="1"\n            onchange="changeRangeEditor"\n        />\n      </div>\n    ')}},{key:"templateForY",value:function(){return'\n      <div class=\'popup-item\'>\n        <RangeEditor \n            label="Y" \n            calc="false"       \n            ref="$y" \n            key="y"\n            value="'.concat(this.state.y,'"            \n            min="-1000" max="1000" step="1"\n            onchange="changeRangeEditor"\n        />\n      </div>\n    ')}},{key:"templateForWidth",value:function(){return"\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"".concat(this.$i18n("background.image.position.popup.width"),'"   \n          calc="false"             \n          ref="$width" \n          key="width"\n          value="').concat(this.state.width,'"          \n          min="0" max="500" step="1" \n          onchange="changeRangeEditor"\n      />\n    </div>\n    ')}},{key:"templateForHeight",value:function(){return"\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"".concat(this.$i18n("background.image.position.popup.height"),'"\n          calc="false"          \n          ref="$height" \n          key="height"\n          value="').concat(this.state.height,'"          \n          min="0" max="500" step="1" onchange="changeRangeEditor"\n      />\n    </div>\n    ')}},{key:"templateForRepeat",value:function(){return"\n    <div class='popup-item grid-2'>\n      <label>".concat(this.$i18n("background.image.position.popup.repeat"),"</label>\n      <div class='repeat-list' ref=\"$repeat\" data-value='").concat(this.state.repeat,"'>\n          <button type=\"button\" value='no-repeat' title=\"").concat(this.$i18n("background.image.position.popup.type.no-repeat"),'"></button>\n          <button type="button" value=\'repeat\' title="').concat(this.$i18n("background.image.position.popup.type.repeat"),'"></button>\n          <button type="button" value=\'repeat-x\' title="').concat(this.$i18n("background.image.position.popup.type.repeat-x"),'"></button>\n          <button type="button" value=\'repeat-y\' title="').concat(this.$i18n("background.image.position.popup.type.repeat-y"),'"></button>\n          <button type="button" value=\'space\' title="').concat(this.$i18n("background.image.position.popup.type.space"),'"></button>\n          <button type="button" value=\'round\' title="').concat(this.$i18n("background.image.position.popup.type.round"),'"></button>\n      </div>\n    </div>\n    ')}},{key:er("$repeat button"),value:function(t){var e=t.$dt;this.refs.$repeat.attr("data-value",e.value),this.updateData({repeat:e.value})}},{key:"templateForBlendMode",value:function(){return"\n    <div class='popup-item'>\n      <SelectEditor label=\"".concat(this.$i18n("background.image.position.popup.blend"),"\" ref='$blend' key='blendMode' value=\"").concat(this.state.blendMode,'" options="').concat(Ex,'" onchange="changeRangeEditor" />\n    </div>\n    ')}},{key:"getBody",value:function(){return"\n      <div class=\"background-image-position-picker\" ref='$picker'></div>\n    "}},{key:zr("$picker"),value:function(){return"\n      \n      <div class='box'>\n\n        <div class='background-property'>\n          ".concat(this.templateForSize(),"        \n          ").concat(this.templateForX(),"\n          ").concat(this.templateForY(),"\n          ").concat(this.templateForWidth(),"\n          ").concat(this.templateForHeight(),"\n          ").concat(this.templateForRepeat(),"\n        </div>\n      </div>\n    ")}},{key:Wo("showBackgroundImagePositionPopup"),value:function(t,e){this.state.changeEvent=t.changeEvent||"changeFillPopup",this.state.params=e,this.setState(t.data),this.show(460)}}])&&j5(n.prototype,r),o&&j5(n,o),e}(U1);function E5(t){return(E5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C5(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_5(Object(n),!0).forEach((function(e){T5(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_5(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function T5(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V5(t,e){return!e||"object"!==E5(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function A5(t,e,n){return(A5="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=I5(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function I5(t){return(I5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L5(t,e){return(L5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var M5=function(t){function e(){return R5(this,e),V5(this,I5(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L5(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("fill.picker.popup.title")}},{key:"components",value:function(){return{ImageAssetPicker:n5,EmbedColorPicker:RI,FillEditor:$L}}},{key:"initState",value:function(){return{image:j$.create()}}},{key:"initialize",value:function(){A5(I5(e.prototype),"initialize",this).call(this),this.selectedTab="static-gradient"}},{key:"getBody",value:function(){return"\n      <div class=\"gradient-picker\" ref='$body' data-selected-editor=''>\n        <div class='box'>\n          <div ref='$gradientEditor'></div>\n        </div>\n        <div class='box'>\n          <div class='colorpicker'>\n            <EmbedColorPicker ref='$color' onchange='changeColor' />                    \n          </div>\n          <div class='assetpicker'>\n            <ImageAssetPicker ref='$asset' onchange='changeImageUrl' />\n          </div>\n        </div>\n      </div>\n     \n    "}},{key:Wo("changeTabType"),value:function(t){this.refs.$body.attr("data-selected-editor",t)}},{key:"getColorString",value:function(){var t="";return this.state.image instanceof Fc&&(t=this.state.image.getColorString()),t}},{key:"getCurrentColor",value:function(){return this.state.image.colorsteps[this.state.selectColorStepIndex||0].color}},{key:zr("$gradientEditor"),value:function(){return'<FillEditor \n      ref="$g" \n      value="'.concat(this.state.image,'" \n      selectedIndex="').concat(this.state.selectColorStepIndex,"\" \n      onchange='changeFillEditor'\n    />")}},{key:Wo("changeFillEditor"),value:function(t){this.state.image=t,this.updateData()}},{key:Wo("changeColor"),value:function(t){this.children.$g.trigger("setColorStepColor",t)}},{key:Wo("changeImageUrl"),value:function(t){this.children.$g.trigger("setImageUrl",t)}},{key:Wo("showFillPickerPopup"),value:function(t,e){this.show(432),t.changeEvent=t.changeEvent||"changeFillPopup",t.params=e,this.setState(t)}},{key:Wo("selectColorStep"),value:function(t){this.children.$color.setValue(t)}},{key:Wo("changeColorStep"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.image.reset(C5({},t)),this.updateData()}},{key:"updateData",value:function(){this.state.instance.trigger(this.state.changeEvent,this.state.image,this.state.params)}}])&&D5(n.prototype,r),o&&D5(n,o),e}(U1);function z5(t){return(z5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G5(t,e){return!e||"object"!==z5(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function H5(t){return(H5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X5(t,e){return(X5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Y5,N5,K5,W5,U5,Z5,q5={PatternInfoPopup:function(t){function e(){return B5(this,e),G5(this,H5(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X5(t,e)}(e,t),n=e,(r=[{key:"getTitle",value:function(){return this.$i18n("pattern.info.popup.title")}},{key:"initState",value:function(){return{type:this.props.type||"grid",x:this.props.x||$.z(),y:this.props.y||$.z(),width:this.props.width||$.z(),height:this.props.height||$.z(),lineWidth:this.props.lineWidth||$.px(1),lineHeight:this.props.lineHeight||$.px(1),foreColor:this.props.foreColor||"black",backColor:this.props.backColor||"transparent",blendMode:this.props.blendMode||"normal"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1);var e=this.state,n=e.x,r=e.y,o=e.width,i=e.height,a=e.foreColor,c=e.backColor,u=e.blendMode,s=e.lineWidth,l=e.lineHeight;this.state.instance.trigger(this.state.changeEvent,{x:n,y:r,width:o,height:i,foreColor:a,backColor:c,blendMode:u,lineWidth:s,lineHeight:l},this.state.params)}},{key:Wo("changeRangeEditor"),value:function(t,e){this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:"templateForX",value:function(){if(this.hasNotX())return"";var t="X",e="";return"diagonal-line"===this.state.type&&(t=this.$i18n("pattern.info.popup.rotate"),e="deg"),"\n      <div class='popup-item'>\n        <RangeEditor \n            label=\"".concat(t,'"\n            calc="false"            \n            ref="$x" \n            key="x"\n            value="').concat(this.state.x,'"\n            min="0" max="1000" step="1"\n            units="').concat(e,'"\n            onchange="changeRangeEditor"\n        />\n      </div>\n    ')}},{key:"templateForY",value:function(){return this.hasNotY()?"":'\n      <div class=\'popup-item\'>\n        <RangeEditor \n            label="Y" \n            calc="false"       \n            ref="$y" \n            key="y"\n            value="'.concat(this.state.y,'"            \n            min="0" max="1000" step="1"\n            onchange="changeRangeEditor"\n        />\n      </div>\n    ')}},{key:"templateForWidth",value:function(){return"\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"".concat(this.$i18n("pattern.info.popup.width"),'"   \n          calc="false"             \n          ref="$width" \n          key="width"\n          value="').concat(this.state.width,'"          \n          min="0" max="500" step="1" \n          onchange="changeRangeEditor"\n      />\n    </div>\n    ')}},{key:"templateForHeight",value:function(){return"\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"".concat(this.$i18n("pattern.info.popup.height"),'"\n          calc="false"          \n          ref="$height" \n          key="height"\n          value="').concat(this.state.height,'"          \n          min="0" max="500" step="1" onchange="changeRangeEditor"\n      />\n    </div>\n    ')}},{key:"hasNotLineWidth",value:function(){return["check"].includes(this.state.type)}},{key:"hasNotLineHeight",value:function(){return["cross-dot","dot","check","diagonal-line","horizontal-line"].includes(this.state.type)}},{key:"hasNotX",value:function(){return["grid","dot","horizontal-line"].includes(this.state.type)}},{key:"hasNotY",value:function(){return["grid","dot","diagonal-line","vertical-line"].includes(this.state.type)}},{key:"templateForLineWidth",value:function(){return this.hasNotLineWidth()?"":"\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"".concat(this.$i18n("pattern.info.popup.lineWidth"),'"   \n          calc="false"             \n          ref="$lineWidth" \n          key="lineWidth"\n          value="').concat(this.state.lineWidth,'"          \n          min="0" max="500" step="1" \n          onchange="changeRangeEditor"\n      />\n    </div>\n    ')}},{key:"templateForLineHeight",value:function(){return this.hasNotLineHeight()?"":"\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"".concat(this.$i18n("pattern.info.popup.lineHeight"),'"\n          calc="false"          \n          ref="$lineHeight" \n          key="lineHeight"\n          value="').concat(this.state.lineHeight,'"          \n          min="0" max="500" step="1" onchange="changeRangeEditor"\n      />\n    </div>\n    ')}},{key:"templateForForeColor",value:function(){return"\n      <div class='popup-item'>\n        <ColorViewEditor \n            ref='$foreColor' \n            label=\"".concat(this.$i18n("pattern.info.popup.foreColor"),"\" \n            key='foreColor' \n            value=\"").concat(this.state.foreColor,'"\n            onchange="changeRangeEditor" />\n      </div>\n    ')}},{key:"templateForBackColor",value:function(){return"\n      <div class='popup-item'>\n        <ColorViewEditor \n            ref='$backColor' \n            label=\"".concat(this.$i18n("pattern.info.popup.backColor"),"\" \n            key='backColor' \n            value=\"").concat(this.state.backColor,'"\n            onchange="changeRangeEditor" />\n      </div>\n    ')}},{key:"templateForBlendMode",value:function(){return"\n    <div class='popup-item'>\n      <BlendSelectEditor \n            ref='$blend' \n            key='blendMode' \n            label=\"".concat(this.$i18n("pattern.info.popup.blend"),'"\n            value="').concat(this.state.blendMode,'" \n            onchange="changeRangeEditor" \n        />\n    </div>\n    ')}},{key:"getBody",value:function(){return"\n      <div class=\"background-image-position-picker\" ref='$picker'></div>\n    "}},{key:zr("$picker"),value:function(){return"\n      \n      <div class='box'>\n\n        <div class='background-property'>      \n          ".concat(this.templateForWidth(),"\n          ").concat(this.templateForHeight(),"        \n          ").concat(this.templateForLineWidth(),"\n          ").concat(this.templateForLineHeight(),"                  \n          ").concat(this.templateForX(),"\n          ").concat(this.templateForY(),"\n          ").concat(this.templateForForeColor(),"\n          ").concat(this.templateForBackColor(),"\n          ").concat(this.templateForBlendMode(),"\n        </div>\n      </div>\n    ")}},{key:Wo("showPatternInfoPopup"),value:function(t,e){this.state.changeEvent=t.changeEvent||"changePatternInfoPopup",this.state.params=e,this.state.instance=t.instance,this.setState(t.data),this.show(460)}}])&&F5(n.prototype,r),o&&F5(n,o),e}(U1),FillPickerPopup:M5,BackgroundImagePositionPopup:$5,SVGFilterPopup:w5,GradientPickerPopup:y5,ImageSelectPopup:U4,ColorPickerPopup:G4,SelectorPopup:A4,SVGPropertyPopup:$4,ClipPathPopup:l4,KeyframePopup:T2,AnimationPropertyPopup:j2,TransitionPropertyPopup:w4,TextShadowPropertyPopup:p2,BoxShadowPropertyPopup:o2};function J5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q5(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var t3=Q5({},"move",!0),e3=(Q5(Y5={},"to right",!0),Q5(Y5,"to top right",!0),Q5(Y5,"to bottom right",!0),Y5),n3=(Q5(N5={},"to left",!0),Q5(N5,"to top left",!0),Q5(N5,"to bottom left",!0),N5),r3=(Q5(K5={},"to top",!0),Q5(K5,"to top right",!0),Q5(K5,"to top left",!0),K5),o3=(Q5(W5={},"to bottom",!0),Q5(W5,"to bottom left",!0),Q5(W5,"to bottom right",!0),W5),i3=(Q5(U5={},"to right",2),Q5(U5,"to top right",2),Q5(U5,"to bottom right",2),Q5(U5,"to left",0),Q5(U5,"to top left",0),Q5(U5,"to bottom left",0),U5),a3=(Q5(Z5={},"to bottom",2),Q5(Z5,"to bottom left",2),Q5(Z5,"to bottom right",2),Q5(Z5,"to top",0),Q5(Z5,"to top left",0),Q5(Z5,"to top right",0),Z5),c3=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"isMove",value:function(t){return t3[t]}},{key:"isTop",value:function(t){return r3[t]}},{key:"isRight",value:function(t){return e3[t]}},{key:"isBottom",value:function(t){return o3[t]}},{key:"isLeft",value:function(t){return n3[t]}},{key:"getXDirection",value:function(t){return i3[t]}},{key:"getYDirection",value:function(t){return a3[t]}}],(n=null)&&J5(e.prototype,n),r&&J5(e,r),t}();function s3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l3=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$editor=e,this.$selectionToolView=n}var e,n,r;return e=t,(n=[{key:"makeGuideCache",value:function(){var t=this,e=this.$selection.currentArtboard;return this.cachedExtraItems=[],e&&(this.$selection.isArtBoard()?this.cachedExtraItems=[]:this.cachedExtraItems=e.allLayers.filter((function(e){return!t.$selection.check(e)||e.is("artboard")&&t.$selection.currentArtboard!=e})).map((function(t){return{x:t.screenX.value,y:t.screenY.value,width:t.width.value,height:t.height.value}})),this.rect=this.$selection.allRect?ue(this.$selection.allRect):null),this.cachedPosition={},this.$selection.each((function(e){t.cachedPosition[e.id]={x:e.x.value,y:e.y.value,width:e.width.value,height:e.height.value,screenX:e.screenX.value,screenY:e.screenY.value}})),this.rect}},{key:"move",value:function(t,e,n){var r=this.$selection.allRect;this.pointerType=t,this.dx=e,this.dy=n,"move"===t?(this.rect.x=r.x+e,this.rect.y=r.y+n):(c3.isRight(t)?(this.rect.width=r.width+e,this.rect.width<0&&(this.rect.x=r.x+this.rect.width,this.rect.width=Math.abs(this.rect.width))):c3.isLeft(t)&&(this.rect.x=r.x+e,this.rect.width=r.width-e,this.rect.width<0&&(this.rect.x=r.x+r.width,this.rect.width=Math.abs(this.rect.width))),c3.isBottom(t)?(this.rect.height=r.height+n,this.rect.height<0&&(this.rect.y=r.y+this.rect.height,this.rect.height=Math.abs(this.rect.height))):c3.isTop(t)&&(this.rect.height=r.height-n,this.rect.y=r.y+n,this.rect.height<0&&(this.rect.y=r.y+r.height,this.rect.height=Math.abs(this.rect.height))))}},{key:"recover",value:function(t){if(this.rect){var e=this.$selection.allRect,n=this.rect.width/e.width,r=this.rect.height/e.height,o=this.cachedPosition[t.id],i=this.rect.x+this.rect.width*((o.screenX-e.x)/e.width),a=this.rect.y+this.rect.height*((o.screenY-e.y)/e.height);t.reset({x:$.px(o.x+(i-o.screenX)).round(),y:$.px(o.y+(a-o.screenY)).round(),width:$.px(o.width*n).round(),height:$.px(o.height*r).round()})}}},{key:"compareX",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=[t.x,Math.floor(t.x+t.width/2),t.x+t.width],o=[e.x,Math.floor(e.x+e.width/2),e.x+e.width],i=[];if(r.forEach((function(r,a){o.forEach((function(o,c){Math.abs(r-o)<=n&&i.push({A:t,B:e,source:a,target:c,ax:o,bx:o})}))})),i.length){var a=c3.getXDirection(this.pointerType),c=i.filter((function(t){return t.source==a}));return c.length?c:[i[0]]}return i}},{key:"compareY",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=[t.y,Math.floor(t.y+t.height/2),t.y+t.height],o=[e.y,Math.floor(e.y+e.height/2),e.y+e.height],i=[];if(r.forEach((function(r,a){o.forEach((function(o,c){Math.abs(r-o)<=n&&i.push({A:t,B:e,source:a,target:c,ay:o,by:o})}))})),i.length){var a=c3.getYDirection(this.pointerType),c=i.filter((function(t){return t.source==a}));return c.length?c:[i[0]]}return i}},{key:"compare",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=this.compareX(t,e,n),o=this.compareY(t,e,n);return{x:r,y:o}}},{key:"getLayers",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=this.cachedExtraItems,r=[],o=[];return n.forEach((function(n){var i=t.compare(t.rect,n,e);r.push(i.x[0]),o.push(i.y[0])})),[r[0],o[0]].filter(te)}},{key:"calculate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=this.getLayers(e);return c3.isMove(this.pointerType)?n.forEach((function(e){return t.moveSnap(e)})):n.forEach((function(e){return t.sizeSnap(e)})),n}},{key:"sizeSnap",value:function(t){if(te(t.ax))switch(t.source){case 2:this.rect.width=t.bx-this.rect.x;break;case 0:this.rect.width=this.rect.x+this.rect.width-t.bx,this.rect.x=t.bx}else switch(t.source){case 2:this.rect.height=t.by-this.rect.y;break;case 0:this.rect.height=this.rect.y+this.rect.height-t.by,this.rect.y=t.by}}},{key:"moveSnap",value:function(t){if(te(t.ax)){var e=Math.round(this.rect.width/2*t.source),n=t.bx-e;this.rect.x=n}else if(te(t.ay)){var r=Math.round(this.rect.height/2*t.source),o=t.by-r;this.rect.y=o}}},{key:"recoverAll",value:function(){var t=this;c3.isMove(this.pointerType)?this.$selection.each((function(e){t.$selection.isInParent(e,t.$selection.items)||(t.recover(e),e.recover())})):this.$selection.each((function(e){t.recover(e),e.recover()}))}},{key:"$selection",get:function(){return this.$editor.selection}}])&&s3(e.prototype,n),r&&s3(e,r),t}();function f3(t){return(f3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p3(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h3(t,e,n){return(h3="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w3(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function d3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m3(t,e,n){return e&&b3(t.prototype,e),n&&b3(t,n),t}function g3(t,e){return!e||"object"!==f3(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w3(t){return(w3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k3(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O3(t,e)}function O3(t,e){return(O3=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j3={move:"move","to top":"move","to top right":"move","to top left":"move","to bottom":"move","to bottom right":"move","to bottom left":"move","to left":"move","to right":"move",translate:"transform","transform-origin":"transform",rotate3d:"transform"},S3={artboard:"artboard",rect:"rect",circle:"lens",text:"title",image:"image","svg-path":"edit","svg-textpath":"text_rotate","svg-text":"title"},P3=function(t){function e(){return d3(this,e),g3(this,w3(e).apply(this,arguments))}return k3(e,t),m3(e,[{key:"initialize",value:function(){h3(w3(e.prototype),"initialize",this).call(this),this.guideView=new l3(this.$editor,this)}},{key:"template",value:function(){return"\n    <div class='selection-view' ref='$selectionView' >\n        <div class='selection-tool' ref='$selectionTool' style='left:-100px;top:-100px;'>\n            <div class='selection-tool-item' data-position='move' ref='$selectionMove' title='move'>\n                <span class='icon' ref='$selectionIcon'>".concat(jv.flag,"</span>\n                <span ref='$selectionTitle'></span>\n            </div>       \n            <div class='selection-tool-item' data-position='to top'></div>            \n            <div class='selection-tool-item' data-position='to bottom'></div>            \n            <div class='selection-tool-item' data-position='to left'></div>            \n            <div class='selection-tool-item' data-position='to right'></div>\n            <div class='selection-tool-item' data-position='to top right'></div>\n            <div class='selection-tool-item' data-position='to bottom right'></div>\n            <div class='selection-tool-item' data-position='to top left'></div>\n            <div class='selection-tool-item' data-position='to bottom left'></div>\n        </div>\n        <div class='selection-pointer' ref='$selectionPointer'></div>\n    </div>")}},{key:er('$selectionTool .selection-tool-item[data-position="path"]'),value:function(t){this.trigger("openPathEditor")}},{key:"toggleEditingPath",value:function(t){this.refs.$selectionTool.toggleClass("editing-path",t)}},{key:"checkEditMode",value:function(){return this.$editor.isSelectionMode()}},{key:wr("$selectionView .selection-tool-item")+$r("checkEditMode")+Ar()+Ir(),value:function(t){var e;this.initMoveType(t.$dt),(e=this.parent).selectCurrent.apply(e,p3(this.$selection.items)),this.$selection.doCache(),this.initSelectionTool()}},{key:"initMoveType",value:function(t){this.$target=t||this.refs.$selectionTool.$('.selection-tool-item[data-position="move"]'),this.$target&&(this.pointerType=this.$target.attr("data-position"),this.refs.$selectionTool.attr("data-selected-position",this.pointerType),this.refs.$selectionTool.attr("data-selected-movetype",j3[this.pointerType]))}},{key:"move",value:function(t,e){this.$config.get("bodyEvent").shiftKey&&(e=t),this.refreshSelectionToolView(t,e),this.emit("refreshCanvasForPartial",null,!0)}},{key:"end",value:function(){var t=this;this.refs.$selectionTool.attr("data-selected-position",""),this.refs.$selectionTool.attr("data-selected-movetype",""),this.emit("refreshAllElementBoundSize"),this.emit("removeGuideLine"),this.nextTick((function(){t.command("setAttributeForMulti","move selection pointer",t.$selection.cloneValue("x","y","width","height"))}))}},{key:"refreshSelectionToolView",value:function(t,e,n){if(0===t&&0===e);else{this.guideView.move(n||this.pointerType,t/this.$editor.scale,e/this.$editor.scale);var r=this.guideView.calculate();this.emit("refreshGuideLine",this.calculateWorldPositionForGuideLine(r))}this.makeSelectionTool()}},{key:"getSelectedElements",value:function(){var t=this;return this.$selection.ids.map((function(e){return t.parent.state.cachedCurrentElement[e]}))}},{key:"getOriginalRect",value:function(){return this.originalRect||(this.originalRect=this.parent.$el.rect()),this.originalRect}},{key:"getOriginalArtboardRect",value:function(){return this.originalArtboardRect||(this.originalArtboardRect=this.parent.refs.$view.rect()),this.originalArtboardRect}},{key:"removeOriginalRect",value:function(){this.originalArtboardRect=null,this.originalRect=null}},{key:"initSelectionTool",value:function(){this.$selection.reselect(),this.removeOriginalRect(),this.guideView.makeGuideCache();var t=this.$selection.current;if(t){var e=t.is("svg-path","svg-brush","svg-textpath");this.refs.$selectionTool.toggleClass("path",e)}this.$editor.isSelectionMode()&&this.$el.isHide()&&this.$el.show(),this.bindData("$selectionTool"),this.makeSelectionTool()}},{key:"makeSelectionTool",value:function(){this.guideView.recoverAll();var t=0,e=0,n=0,r=0;if(this.guideView.rect){var o=this.calculateWorldPosition(this.guideView.rect);t=o.x,e=o.y,n=o.width,r=o.height}0===t&&0===e&&0===n&&0===r?(t=-1e4,e=-1e4):this.$selection.currentArtboard||(t=-1e4,e=-1e4),this.refs.$selectionTool.css({left:$.px(t),top:$.px(e),width:$.px(n),height:$.px(r)}),this.refreshPositionText(t,e,n,r)}},{key:"refreshPositionText",value:function(t,e,n,r){if(this.$selection.currentArtboard){var o=$.px(t-this.$selection.currentArtboard.x.value/this.$editor.scale).round(1),i=$.px(e-this.$selection.currentArtboard.y.value/this.$editor.scale).round(1),a=$.px(n/this.$editor.scale).round(1),c=$.px(r/this.$editor.scale).round(1),u="";switch(this.pointerType){case"move":u="X: ".concat(o,", Y: ").concat(i);break;case"to top":case"to bottom":u="Y: ".concat(i,", H: ").concat(c);break;case"to left":case"to right":u="X: ".concat(o,", W: ").concat(a);break;case"to top right":case"to top left":u="X: ".concat(o,", Y: ").concat(i,", W: ").concat(a,", H: ").concat(c);break;case"to bottom right":u="W: ".concat(a,", H: ").concat(c);break;case"to bottom left":u="X: ".concat(o,", Y: ").concat(i,", W: ").concat(a,", H: ").concat(c)}this.setPositionText(u);var s=this.$selection.length,l="";if(1===s){var f=this.$selection.current;l=f.title||f.getDefaultTitle();var p=jv[S3[f.itemType]||S3.rect];this.refs.$selectionIcon.html(p)}else s>=2&&(l="multi : ".concat(s),this.refs.$selectionIcon.html(jv.flag));this.refs.$selectionTitle.text(l),this.refs.$selectionMove.attr("title",l)}}},{key:"setPositionText",value:function(t){this.$target&&(this.$selection.current&&this.$selection.current.is("artboard")&&(t=t.split(",").filter((function(t){return!t.includes("X:")&&!t.includes("Y:")})).join(",")),this.$target.attr("data-position-text",t))}},{key:"calculateWorldPositionForGuideLine",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var n,r,o,i,a=t.calculateWorldPosition(e.A),c=t.calculateWorldPosition(e.B);return te(e.ax)&&(n=e.ax*t.$editor.scale),te(e.bx)&&(r=e.bx*t.$editor.scale),te(e.ay)&&(o=e.ay*t.$editor.scale),te(e.by)&&(i=e.by*t.$editor.scale),{A:a,B:c,ax:n,bx:r,ay:o,by:i}}))}},{key:"calculateWorldPosition",value:function(t){return{x:t.x*this.$editor.scale,y:t.y*this.$editor.scale,width:t.width*this.$editor.scale,height:t.height*this.$editor.scale}}}]),e}(function(t){function e(){return d3(this,e),g3(this,w3(e).apply(this,arguments))}return k3(e,t),m3(e,[{key:Hr("$selectionTool"),value:function(){var t=this.$selection.current;return{"data-is-layout-item":t&&t.isLayoutItem(),"data-is-layout-container":t&&t.hasLayout(),"data-layout-container":t&&(t.layout||t.parent.layout),"data-selection-length":this.$selection.length}}}]),e}(function(t){function e(){return d3(this,e),g3(this,w3(e).apply(this,arguments))}return k3(e,t),m3(e,[{key:Wo("hideSelectionToolView"),value:function(){this.refs.$selectionTool.css({left:"-10000px",top:"-10000px"})}},{key:Wo("hideSubEditor"),value:function(t){this.toggleEditingPath(!1)}},{key:Wo("openPathEditor"),value:function(){var t=this.$selection.current;t&&t.is("svg-path","svg-brush","svg-textpath")&&(this.toggleEditingPath(!0),this.emit("showPathEditor","modify",{current:t,d:t.d,box:"box",screenX:t.screenX,screenY:t.screenY,screenWidth:t.screenWidth,screenHeight:t.screenHeight}))}},{key:Wo("finishPathEdit"),value:function(){this.toggleEditingPath(!1)}},{key:Wo("refreshSelectionTool"),value:function(){this.initSelectionTool()}},{key:Wo("makeSelectionTool"),value:function(t){t&&this.removeOriginalRect();var e=this.guideView.calculate();this.makeSelectionTool(),0===this.$selection.length&&(e=[]),this.emit("refreshGuideLine",this.calculateWorldPositionForGuideLine(e))}}]),e}(Uo)));function $3(t){return($3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C3(t,e){return!e||"object"!==$3(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T3(t){return(T3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function R3(t,e){return(R3=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var D3=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"base-line";return'<text x="'.concat(t,'" y="').concat(e,"\" class='").concat(r,"'>").concat(n,"</text>")},V3=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"base-line";return("<line ".concat(be({x1:t,y1:e,x2:n,y2:r})," class='").concat(o,"' />"))},A3=function(t,e){(function(t,e){return t.includes(e)})(t,e)||t.push(e)},I3=function(t,e,n,r){if(0!==Math.abs(n-r)){e=Math.floor(e),A3(t,V3(e-2,n,e+2,n)),A3(t,V3(e,n,e,r)),A3(t,V3(e-2,r,e+2,r));var o=(r+n)/2,i=Math.floor(Math.abs(r-n));A3(t,D3(e+2,o,i))}},L3=function(t,e,n,r){if(0!==Math.abs(n-r)){e=Math.floor(e),A3(t,V3(n,e-2,n,e+2)),A3(t,V3(n,e,r,e)),A3(t,V3(r,e-2,r,e+2));var o=(r+n)/2,i=Math.floor(Math.abs(r-n));A3(t,D3(o,e-2,i,"text-center"))}},M3=function(t){function e(){return E3(this,e),C3(this,T3(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R3(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'<svg class=\'guide-line-view\' width="100%" height="100%" ></svg>'}},{key:"initState",value:function(){return{list:[]}}},{key:Hr("$el"),value:function(){return{html:this.createGuideLine(this.state.list)}}},{key:"createGuideLine",value:function(t){var e=[];return(t=t.filter((function(t,e){return 0===e}))).forEach((function(t){var n=t.B;if(te(t.ax)){var r=Math.min(n.y,t.A.y),o=Math.max(n.y+n.height,t.A.y+t.A.height),i=t.bx;if(t.A.y>t.B.y+t.B.height?I3(e,i,t.B.y+t.B.height,t.A.y):I3(e,i,r,t.A.y),t.A.x-n.x>0&&t.A.y<=n.y+n.height&&t.A.y>=n.y){var a=t.A.y+t.A.height/2;L3(e,a,n.x,t.A.x)}n.x+n.width-(t.A.x+t.A.width)>0&&t.A.y<=t.B.y+t.B.height&&t.A.y>=t.B.y&&(a=t.A.y+t.A.height/2,L3(e,a,t.A.x+t.A.width,n.x+n.width)),t.A.y+t.A.height<t.B.y?I3(e,i,t.A.y+t.A.height,t.B.y):I3(e,i,t.A.y+t.A.height,o)}else{var c=Math.max(n.x+n.width,t.A.x+t.A.width),u=t.by;if(t.A.x>t.B.x+t.B.width?L3(e,u,t.B.x+t.B.width,t.A.x):L3(e,u,t.A.x,t.B.x),t.A.y-n.y>0&&t.A.x<=t.B.x+t.B.width&&t.A.x>=t.B.x){var s=(t.A.x+(t.A.x+t.A.width))/2;I3(e,s,t.B.y,t.A.y)}n.y+n.height-(t.A.y+t.A.height)>0&&t.A.x<=t.B.x+t.B.width&&t.A.x>=t.B.x&&(s=(t.A.x+(t.A.x+t.A.width))/2,I3(e,s,t.A.y+t.A.height,t.B.y+t.B.height)),t.A.x+t.A.width<t.B.x?L3(e,u,t.A.x+t.A.width,t.B.x):L3(e,u,t.A.x+t.A.width,c)}})),e.join("")}},{key:"removeGuideLine",value:function(){this.setState({list:[]})}},{key:"setGuideLine",value:function(t){this.setState({list:t})}},{key:Wo("removeGuideLine"),value:function(){this.removeGuideLine()}},{key:Wo("refreshGuideLine"),value:function(t){this.setGuideLine(t)}}])&&_3(n.prototype,r),o&&_3(n,o),e}(Uo);function z3(t){return(z3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G3(t,e){return!e||"object"!==z3(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function H3(t){return(H3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X3(t,e){return(X3=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Y3=function(t){function e(){return B3(this,e),G3(this,H3(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X3(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n        <div class='layer-add-view'>\n            <div class='area' ref='$area'></div>\n            <div class='area-rect' ref='$areaRect'></div>\n        </div>\n        "}},{key:"initState",value:function(){return{dragXY:{x:-1e4,y:0},x:0,y:0,width:0,height:0,color:Rn.random(),fontSize:30,showRectInfo:!1,content:"Insert a text"}}},{key:wr("$el")+Ar()+Ir(),value:function(t){var e=t.xy,n=e.x,r=e.y,o=this.$el.rect();this.state.dragXY={x:Math.floor(n-o.x),y:Math.floor(r-o.y)},this.state.color=Rn.random(),this.state.text="Insert a text",this.state.x=this.state.dragXY.x,this.state.y=this.state.dragXY.y,this.state.width=0,this.state.height=0,this.bindData("$area"),this.bindData("$areaRect")}},{key:"createLayerTemplate",value:function(){var t=this.state,e=t.type,n=t.text,r=t.color,o=t.width,i=t.height;switch(e){case"rect":return"<div class='draw-item' style='background-color: ".concat(r,"'></div>");case"circle":return"<div class='draw-item' style='background-color: ".concat(r,"; border-radius: 100%;'></div>");case"video":case"audio":case"image":case"cube":case"cylinder":return"<div class='draw-item' style='outline: 1px solid blue;'></div>";case"text":case"svg-text":return"<div class='draw-item' style='font-size: 30px;outline: 1px solid blue;'>".concat(n,"</div>");case"svg-rect":return"\n            <div class='draw-item'>\n                <svg width=\"".concat(o,'" height="').concat(i,'" style="width:100%; height:100%;" overflow="visible">\n                    <path d="').concat(Gi.makeRect(0,0,o,i),'" stroke-width="5" stroke="black" fill="transparent" />\n                </svg>\n            </div>\n            ');case"svg-circle":return"\n            <div class='draw-item'>\n                <svg width=\"".concat(o,'" height="').concat(i,'" style="width:100%; height:100%;" overflow="visible">\n                    <path d="').concat(Gi.makeCircle(0,0,o,i),'" stroke-width="5" stroke="black" fill="transparent" />\n                </svg>\n            </div>\n            ');case"svg-textpath":return"\n            <div class='draw-item' style='outline: 1px solid blue;'>\n                <svg width=\"".concat(o,'" height="').concat(i,'" style="width:100%; height:100%;font-size: ').concat(i,'px;" overflow="visible">\n                    <defs>\n                        <path id=\'layer-add-path\' d="').concat(Gi.makeLine(0,i,o,i),'" />\n                    </defs>\n                    <text>\n                        <textPath ').concat(be({"xlink:href":"#layer-add-path",textLength:$.percent(100),lengthAdjust:"spacingAndGlyphs",startOffset:$.em(0)})," >").concat(n,"</textPath>\n                    </text>\n                </svg>\n            </div>\n            ")}}},{key:Hr("$area"),value:function(){return{style:{left:$.px(this.state.x),top:$.px(this.state.y),width:$.px(this.state.width),height:$.px(this.state.height)},innerHTML:this.createLayerTemplate()}}},{key:Hr("$areaRect"),value:function(){var t=this.state,e=t.x,n=t.y,r=t.width,o=t.height;return{style:{display:t.showRectInfo?"inline-block":"none",left:$.px(e+r),top:$.px(n+o)},innerHTML:"".concat(r," x ").concat(o)}}},{key:"move",value:function(t,e){this.$config.get("bodyEvent").shiftKey&&(e=t);var n={left:$.px(this.state.dragXY.x+(t<0?t:0)),top:$.px(this.state.dragXY.y+(e<0?e:0)),width:$.px(Math.abs(t)).floor(),height:$.px(Math.abs(e)).floor()};this.state.x=n.left.value,this.state.y=n.top.value,this.state.width=n.width.value,this.state.height=n.height.value,this.state.showRectInfo=!0,this.bindData("$area"),this.bindData("$areaRect")}},{key:"end",value:function(t,e){var n=this.$config.get("bodyEvent").altKey,r=this.state,o=r.x,i=r.y,a=r.width,c=r.height,u=r.color,s=r.text,l=r.fontSize,f={x:o=$.px(o).div(this.scale).floor(),y:i=$.px(i).div(this.scale).floor(),width:a=$.px(a).div(this.scale).floor(),height:c=$.px(c).div(this.scale).floor(),x2:$.px(o.value+a.value),y2:$.px(i.value+c.value),"background-color":u,content:s,"font-size":l};switch(this.state.type){case"text":case"svg-text":case"svg-textpath":0===f.width.value&&f.width.set(200),0===f.height.value&&f.height.set(50),f.x2=$.px(f.x.value+f.width.value),f.y2=$.px(f.y.value+f.height.value),delete f["background-color"];break;default:delete f.content}switch(this.state.type){case"image":this.emit("openImage",f);break;case"video":this.emit("openVideo",f);break;case"audio":this.emit("openAudio",f);break;default:this.emit("newComponent",this.state.type,f,!1)}n||this.trigger("hideLayerAppendView"),this.state.showRectInfo=!1,this.bindData("$areaRect")}},{key:Wo("showLayerAppendView"),value:function(t){this.state.type=t,this.state.isShow=!0,this.refs.$area.empty(),this.$el.show(),this.$el.focus(),this.emit("change.mode.view","CanvasView")}},{key:Wo("hideLayerAppendView"),value:function(){this.$el.isShow()&&(this.state.isShow=!1,this.$el.hide(),this.emit("change.mode.view"))}},{key:Wo("hideAddViewLayer"),value:function(){this.state.isShow=!1,this.$el.hide()}},{key:"isShow",value:function(){return this.state.isShow}},{key:ir("document")+$r("isShow")+Cr+_r+Lr+Mr,value:function(){this.trigger("hideLayerAppendView")}},{key:"scale",get:function(){return this.$editor.scale}}])&&F3(n.prototype,r),o&&F3(n,o),e}(Uo);function N3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function K3(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N3(Object(n),!0).forEach((function(e){W3(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N3(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function W3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Z3=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.segmentList=[]}var e,n,r;return e=t,(n=[{key:"reset",value:function(){return this.segmentList=[],this}},{key:"addLine",value:function(t,e){return this.segmentList.push({line:!0,x1:t.x,y1:t.y,x2:e.x,y2:e.y}),this}},{key:"addGuideLine",value:function(t,e){return this.segmentList.push({line:!0,guide:!0,x1:t.x,y1:t.y,x2:e.x,y2:e.y}),this}},{key:"addDistanceLine",value:function(t,e){return this.segmentList.push({line:!0,distance:!0,x1:t.x,y1:t.y,x2:e.x,y2:e.y}),this}},{key:"addDistanceAngle",value:function(t,e,n,r,o,i){return this.segmentList.push({angle:!0,rx:e,ry:n,line:i,degree:r,center:t,last:o}),this}},{key:"addPoint",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.segmentList.push(K3({},t,{cx:e.x,cy:e.y,selected:o,index:n,segment:r,isFirst:e.isFirst,isLast:e.isLast,isSecond:e.isSecond})),this}},{key:"addStartPoint",value:function(t,e){return this.segmentList.push(K3({},t,{cx:e.x,cy:e.y,start:!0})),this}},{key:"addCurvePoint",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.segmentList.push({curve:!0,cx:t.x,cy:t.y,index:e,selected:r,segment:n,isFirst:t.isFirst,isLast:t.isLast,isSecond:t.isSecond}),this}},{key:"addText",value:function(t,e){return this.segmentList.push({type:"text",cx:t.x,cy:t.y,text:e+""}),this}},{key:"toString",value:function(){return this.segmentList.sort((function(t,e){return t.line&&!e.line?-1:!t.line&&e.line?1:0})),this.segmentList.map((function(t){return t.angle?"\n                <path stroke-width='1' \n                    data-distance='true'\n                    fill=\"rgba(0,0,0,0.5)\"\n                    d=\"M ".concat(t.center.x,",").concat(t.center.y," A ").concat(t.rx," ").concat(t.ry,",").concat(t.degree,",0,0,").concat(t.last.x," ").concat(t.last.y," L").concat(t.line.x," ").concat(t.line.y,' Z"\n                />'):t.line?'\n                <line stroke-width=\'1\' \n                    data-segment="true"\n                    data-is-last="'.concat(t.isLast,"\"                \n                    data-guide='").concat(t.guide,"'\n                    data-distance='").concat(t.distance,"'\n                    x1='").concat(t.x1,"' x2='").concat(t.x2,"' y1='").concat(t.y1,"' y2='").concat(t.y2,"' \n                />"):t.text?'\n                <text x="'.concat(t.cx,'" y="').concat(t.cy,'" dx="5" dy="-5" text-anchor="start">').concat(t.text,"</text>\n                "):t.curve?"\n                <circle \n                    cx='".concat(t.cx,"' \n                    cy='").concat(t.cy,"' \n                    r='4'                     \n                    class='curve' \n                    data-selected='").concat(t.selected,"'                    \n                    data-is-last=\"").concat(t.isLast,'"                \n                    data-is-first="').concat(t.isFirst,'"      \n                    data-is-second="').concat(t.isSecond,'"                                  \n                    title="').concat(t.segment," curve\"                \n                    data-index='").concat(t.index,"' \n                    data-segment-point='").concat(t.segment,'\' \n                    data-segment="true" \n                />'):t.start?"\n                <circle \n                    cx='".concat(t.cx,"' \n                    cy='").concat(t.cy,"' \n                    r='4'                    \n                    class='segment'\n                    data-selected='").concat(t.selected,'\'\n                    title="Center"\n                    data-start="true" \n                />'):"\n                <circle \n                    cx='".concat(t.cx,"' \n                    cy='").concat(t.cy,"' \n                    r='4'                    \n                    class='segment'\n                    data-selected='").concat(t.selected,"'\n                    title=\"").concat(t.segment,'"\n                    data-is-last="').concat(t.isLast,'"\n                    data-is-first="').concat(t.isFirst,'"\n                    data-is-second="').concat(t.isSecond,"\"\n                    data-index='").concat(t.index,"' \n                    data-segment-point='").concat(t.segment,'\' \n                    data-segment="true" \n                />')})).join("")}}])&&U3(e.prototype,n),r&&U3(e,r),t}();function q3(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function J3(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Q3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function t8(t,e,n){return e&&Q3(t.prototype,e),n&&Q3(t,n),t}function e8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function n8(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?e8(Object(n),!0).forEach((function(e){r8(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e8(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r8(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o8=["startPoint","endPoint","reversePoint"];function i8(t,e,n,r,o){var i=t.filter((function(t){return!!t&&Math.abs(t[e]-n)<=o})).map((function(t){return{dist:Math.abs(t[e]-n),point:t}}));i.sort((function(t,e){return t.dist>e.dist?-1:1}));var a=null;return i.length&&(r+=(a=i[0].point)[e]-n),{point:a,distanceValue:r}}function a8(t,e,n,r){var o=[],i=o8;return t.filter((function(t){return t})).forEach((function(t){i.filter((function(e){return t[e]})).forEach((function(i){var a=t[i],c=Math.abs(a[e]-n);c<=r&&o.push({dist:c,point:a})}))})),o.sort((function(t,e){return t.dist>e.dist?1:-1})),o.length?o[0].point:null}function c8(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=[],i=0,a=t.length;i<a;i++){var c=i,u=t[c];if(u){if("M"===u.command)o.push({command:"M",values:[u.startPoint]});else{var s=xi.getPrevPoint(t,i);!1===u.curve?!1===s.curve?o.push({command:"L",values:[u.startPoint]}):o.push({command:"Q",values:[s.endPoint,u.startPoint]}):!1===s.curve?xi.isEqual(u.reversePoint,u.startPoint)?o.push({command:"L",values:[u.startPoint]}):o.push({command:"Q",values:[u.reversePoint,u.startPoint]}):o.push({command:"C",values:[s.endPoint,u.reversePoint,u.startPoint]})}u.close&&o.push({command:"Z"})}}var l=o.map((function(t){return u8(e,n,t,r)})).join(" ");return{d:l}}function u8(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=n.command,i=n.values;switch(o){case"Z":return"Z";default:var a=i.map((function(n){var o=n.x-t==0?0:(n.x-t)/r,i=n.y-e==0?0:(n.y-e)/r;return"".concat(o," ").concat(i)})).join(" ");return"".concat(o," ").concat(a)}}var s8=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pathEditor=e,this.pathStringManager=new Gi,this.guideLineManager=new Gi,this.segmentManager=new Z3,this.initialize(),this.initializeSelect()}return t8(t,null,[{key:"generatorPathString",value:function(t,e,n,r){return c8(t,e,n,r).d}}]),t8(t,[{key:"initialize",value:function(){this.splitLines=[],this.guideLineManager.reset(),this.segmentManager.reset(),this.pathStringManager.reset()}},{key:"initializeSelect",value:function(){this.selectedPointKeys={},this.selectedPointList=[]}},{key:"selectInBox",value:function(t){var e=[],n=["startPoint","endPoint","reversePoint"];this.state.points.forEach((function(r,o){n.forEach((function(n){var i=r[n];(function(t,e){return!(t.x2.value<e.x)&&(!(t.y2.value<e.y)&&(!(t.x.value>e.x)&&!(t.y.value>e.y)))})(t,i)&&e.push({x:i.x,y:i.y,key:n,index:o})}))})),this.select.apply(this,e)}},{key:"select",value:function(){var t=this;this.selectedPointKeys={};for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.selectedPointList=n,n.forEach((function(e){var n="".concat(e.key,"_").concat(e.index);t.selectedPointKeys[n]=!0}))}},{key:"selectKeyIndex",value:function(t,e){if(this.state.points[e]){var n=this.state.points[e][t];n&&!this.isSelectedSegment(t,e)&&this.select({x:n.x,y:n.y,key:t,index:e})}}},{key:"reselect",value:function(){var t=this;this.selectedPointList.forEach((function(e){var n=t.state.points[e.index][e.key];e.x=n.x,e.y=n.y}))}},{key:"isSelectedSegment",value:function(t,e){var n="".concat(t,"_").concat(e);return this.selectedPointKeys[n]}},{key:"applyMatrix",value:function(t){for(var e=t.x,n=t.y,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.forEach((function(t){if(t){var r=J3(t([e,n],0),2);e=r[0],n=r[1]}})),{x:e,y:n}}},{key:"applyTransform",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=A.matrix2d.translate(-this.transformRect.x,-this.transformRect.y),i=A.matrix2d.translate(this.transformRect.x,this.transformRect.y);this.transformPoints.forEach((function(e,r){var a=t.state.points[r];Object.assign(a.startPoint,t.applyMatrix.apply(t,[e.startPoint,o].concat(n,[i]))),Object.assign(a.endPoint,t.applyMatrix.apply(t,[e.endPoint,o].concat(n,[i]))),Object.assign(a.reversePoint,t.applyMatrix.apply(t,[e.reversePoint,o].concat(n,[i])))}))}},{key:"transform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.transformRect,o=r.x,i=r.y,a=r.width,c=r.height,u=a/2,s=c/2;switch(t){case"flipX":this.applyTransform(A.matrix2d.translate(-e,0),A.matrix2d.flipX());break;case"flipY":this.applyTransform(A.matrix2d.translate(0,-n),A.matrix2d.flipY());break;case"flip":this.applyTransform(A.matrix2d.translate(-e,-n),A.matrix2d.flip());break;case"to move":this.applyTransform(A.matrix2d.translate(e,n));break;case"to rotate":var l=N({x:o+u,y:i},{x:o+u,y:i+s},{dx:e,dy:n});this.applyTransform(A.matrix2d.translate(-u,-s),A.matrix2d.rotate(L(-l)),A.matrix2d.translate(u,s));break;case"to skewX":l=Y({x:u,y:s},{x:u+e,y:s});this.applyTransform(A.matrix2d.skewX(L(l)));break;case"to skewY":l=Y({x:u,y:s},{x:u,y:s+n});this.applyTransform(A.matrix2d.skewY(L(l)));break;case"to bottom right":var f=M(a+e,a),p=M(c+n,c);this.applyTransform(A.matrix2d.scale(f,p));break;case"to right":f=M(a+e,a);this.applyTransform(A.matrix2d.scale(f,1));break;case"to bottom":p=M(c+n,c);this.applyTransform(A.matrix2d.scale(1,p));break;case"to top right":f=M(a+e,a),p=M(c-n,c);this.applyTransform(A.matrix2d.scale(f,p),A.matrix2d.translate(0,n));break;case"to top left":f=M(a-e,a),p=M(c-n,c);this.applyTransform(A.matrix2d.scale(f,p),A.matrix2d.translate(e,n));break;case"to left":f=M(a-e,a);this.applyTransform(A.matrix2d.scale(f,1),A.matrix2d.translate(e,0));break;case"to top":p=M(c-n,c);this.applyTransform(A.matrix2d.scale(1,p),A.matrix2d.translate(0,n));break;case"to bottom left":f=M(a-e,a),p=M(c+n,c);this.applyTransform(A.matrix2d.scale(f,p),A.matrix2d.translate(e,0))}}},{key:"initTransform",value:function(t){this.transformRect=ue(t),this.transformPoints=this.clonePoints.map((function(t){return{startPoint:ue(t.startPoint),endPoint:ue(t.endPoint),reversePoint:ue(t.reversePoint)}}))}},{key:"setConnectedPoint",value:function(t,e){var n=this.state,r=n.dragXY.x+t,o=n.dragXY.y+e,i={x:r,y:o},a={x:r,y:o};n.dragPoints&&(n.reversePoint=xi.getReversePoint(n.startPoint,i));var c={startPoint:n.startPoint,endPoint:i,curve:!!n.dragPoints,reversePoint:a,connected:!0,close:!0};n.points.push(c)}},{key:"setCachePoint",value:function(t,e){var n=this.state,r=n.points;if(this.snapPointList=[],n.selectedIndex=t,n.connectedPoint=xi.getPrevPoint(r,t),n.connectedPoint&&!n.connectedPoint.connected&&(n.connectedPoint=null),n.segment=xi.getIndexPoint(r,t),n.segment.connected&&(n.connectedPoint=xi.getNextPoint(r,t)),xi.isFirst(n.segment)){var o=xi.getLastPoint(r,t);o.connected&&(n.connectedPoint=o)}n.segmentKey=e,n.isCurveSegment=n.segment.curve&&"startPoint"!=n.segmentKey,n.originalSegment=ue(n.segment),n.connectedPoint&&(n.originalConnectedPoint=ue(n.connectedPoint)),n.cachedPoints=[],r.filter((function(t){return t&&t!=n.segment})).forEach((function(t){n.cachedPoints.push(t.startPoint,t.reversePoint,t.endPoint)}))}},{key:"moveSegment",value:function(t,e,n){var r=this.state,o=r.originalSegment[t],i=r.segment[t];o&&(i.x=o.x+e,i.y=o.y+n)}},{key:"calculateToCurve",value:function(t,e,n){var r=(e.startPoint.x+n.startPoint.x)/2,o=(e.startPoint.y+n.startPoint.y)/2,i=(e.startPoint.x-r)/2,a=(e.startPoint.y-o)/2;return t.endPoint={x:t.startPoint.x+i,y:t.startPoint.y+a},t.reversePoint={x:t.startPoint.x-i,y:t.startPoint.y-a},{dx:i,dy:a}}},{key:"convertToCurve",value:function(t){var e=this.state.points,n=e[t];if(n.curve)if(n.curve=!1,n.reversePoint=ue(n.startPoint),n.endPoint=ue(n.startPoint),"M"===n.command){var r=xi.getPrevPoint(e,n.index);r.connected&&(r.curve=!1,r.reversePoint=ue(r.startPoint),r.endPoint=ue(r.startPoint))}else{if((o=xi.getNextPoint(e,t))&&"M"===o.command)(a=o).curve=!1,a.reversePoint=ue(a.startPoint),a.endPoint=ue(a.startPoint)}else{n.curve=!0;var o,i=xi.getPrevPoint(e,t);if((o=xi.getNextPoint(e,t))&&o.index<t&&"M"===o.command){var a=o;o=xi.getNextPoint(e,a.index),this.calculateToCurve(n,o,i),a.curve=!0,a.endPoint=ue(n.endPoint),a.reversePoint=ue(n.reversePoint)}else if(o&&o.index>t&&"M"!==o.command)this.calculateToCurve(n,o,i);else if(!o&&i){var c=(n.startPoint.x-i.startPoint.x)/3,u=(n.startPoint.y-i.startPoint.y)/3;n.endPoint={x:n.startPoint.x+c,y:n.startPoint.y+u},n.reversePoint=xi.getReversePoint(n.startPoint,n.endPoint)}else if(!i&&o){c=(n.startPoint.x-o.startPoint.x)/3,u=(n.startPoint.y-o.startPoint.y)/3;n.endPoint={x:n.startPoint.x+c,y:n.startPoint.y+u},n.reverse=xi.getReversePoint(n.startPoint,n.endPoint)}}}},{key:"moveCurveSegment",value:function(t,e,n){var r=this.state;this.moveSegment(t,e,n);var o="endPoint"===t?"reversePoint":"endPoint";r.segment[o]=xi.getReversePoint(r.segment.startPoint,r.segment[t])}},{key:"rotateSegmentTarget",value:function(t,e){var n=this.state;if(n.originalSegment&&n.segment){var r=n.originalSegment.startPoint,o=r.x,i=r.y,a=n.segment[t],c=a.x,u=a.y,s=n.originalSegment[e],l=s.x,f=s.y,p=G(K(c-o,u-i),H(l,f,o,i),o,i),y=p.x,h=p.y;n.segment[e]={x:y,y:h}}}},{key:"rotateSegment",value:function(t){this.rotateSegmentTarget(t,"endPoint"===t?"reversePoint":"endPoint")}},{key:"calculateSnap",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=this.state,i=o.cachedPoints,a=o.originalSegment[t];if(!t)return{dx:e,dy:n,snapPointList:[]};var c=a.x+e,u=a.y+n,s=i8(i,"x",c,e,r),l=s.point,f=(e=s.distanceValue,i8(i,"y",u,n,r)),p=f.point,y=(n=f.distanceValue,{x:a.x+e,y:a.y+n}),h=[];return l&&h.push({startPoint:l,endPoint:y}),p&&h.push({startPoint:p,endPoint:y}),{dx:e,dy:n,snapPointList:h}}},{key:"copySegment",value:function(t,e){e.startPoint=ue(t.startPoint),e.endPoint=ue(t.endPoint),e.reversePoint=ue(t.reversePoint)}},{key:"moveSelectedSegment",value:function(t,e){var n=this;this.selectedPointList.forEach((function(r){var o=n.state.points[r.index][r.key];o.x=r.x+t,o.y=r.y+e}))}},{key:"removeSelectedSegment",value:function(){var t=this;this.selectedPointList.forEach((function(e){t.state.points[e.index][e.key].removed=!0}));var e=xi.splitPoints(this.state.points),n=xi.recoverPoints(e.map((function(t){return t.filter((function(t){return!t.startPoint.removed})).map((function(t){return t.endPoint.removed&&(t.endPoint=ue(t.startPoint)),t.reversePoint.removed&&(t.reversePoint=ue(t.startPoint)),xi.isEqual(t.endPoint,t.startPoint,t.reversePoint)&&(t.command="L",t.curve=!1),t}))})));this.state.points=n,this.select()}},{key:"move",value:function(t,e,n){var r=this.state,o=r.isCurveSegment,i=r.segmentKey,a=r.connectedPoint,c=this.calculateSnap(i,t,e,2),u=(t=c.dx,e=c.dy,c.snapPointList);if(this.snapPointList=u||[],this.selectedPointList.length>1)this.moveSelectedSegment(t,e);else if(o)if(n.shiftKey){this.moveSegment(i,t,e);var s="endPoint"===i?"reversePoint":"endPoint";r.segment[s]=xi.getReversePoint(r.segment.startPoint,r.segment[i])}else n.altKey?(this.moveSegment(i,t,e),this.rotateSegment(i)):this.moveSegment(i,t,e);else this.moveSegment("startPoint",t,e),this.moveSegment("endPoint",t,e),this.moveSegment("reversePoint",t,e);a&&this.copySegment(r.segment,r.connectedPoint)}},{key:"moveEnd",value:function(t,e){var n=this.state,r=n.points,o=n.dragXY.x+t,i=n.dragXY.y+e,a={x:o,y:i},c={x:o,y:i};n.dragPoints&&(c=xi.getReversePoint(n.startPoint,a)),r.push({command:0===n.clickCount?"M":"",startPoint:n.startPoint,endPoint:a,curve:!!n.dragPoints,reversePoint:c}),n.startPoint=null,n.dragPoints=!1,n.moveXY=null}},{key:"setPoint",value:function(t){var e=t.first[0],n=t.second[t.second.length-1],r=this.clonePoints,o=xi.getPoint(r,e),i=xi.getPoint(r,n),a=[n8({},o,{endPoint:t.first[1]}),{startPoint:t.first[3],reversePoint:t.first[2],curve:!0,endPoint:t.second[1]},n8({},i,{reversePoint:t.second[2]})],c=xi.getIndex(r,e);r.splice.apply(r,[c,2].concat(a)),this.state.points=r}},{key:"setPointQuard",value:function(t){var e=t.first[0],n=(t.second[t.second.length-1],this.clonePoints),r=xi.getPoint(n,e),o=[n8({},r,{endPoint:{x:r.startPoint.x+(r.endPoint.x-r.startPoint.x)/3,y:r.startPoint.y+(r.endPoint.y-r.startPoint.y)/3}}),{startPoint:t.first[2],reversePoint:t.first[1],curve:!0,endPoint:t.second[1]}],i=xi.getIndex(n,e);n.splice.apply(n,[i,1].concat(o)),this.state.points=n}},{key:"setPointLine",value:function(t){var e=t.first[0],n=this.clonePoints,r=[{command:"L",startPoint:t.first[1],curve:!1,endPoint:t.first[1],reversePoint:t.first[1]}],o=xi.getIndex(n,e);n.splice.apply(n,[o+1,0].concat(r)),this.state.points=n}},{key:"toPath",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return c8(this.clonePoints,t,e,n)}},{key:"changeScale",value:function(){this.pathEditor.scale}},{key:"makeSVGPath",value:function(){return this.initialize(),this.makePointGuide(this.clonePoints),this.makeMovePositionGuide(),this.toSVGString()}},{key:"makeTriangleDistancePointGuide",value:function(t,e){var n=Math.min(t.startPoint.x,e.startPoint.x),r=Math.max(t.startPoint.x,e.startPoint.x),o=Math.min(t.startPoint.y,e.startPoint.y),i=Math.max(t.startPoint.y,e.startPoint.y);if(t.startPoint.x<e.startPoint.x&&t.startPoint.y<e.startPoint.y){this.segmentManager.addDistanceLine({x:n,y:o},{x:r,y:o}).addDistanceLine({x:r,y:o},{x:r,y:i});var a=n,c=o,u=K(r-n,i-o)-180,s=G(0,20,a,c),l=s.x,f=s.y,p=G(u/2,20,a,c),y=p.x,h=p.y,d=G(u,20,a,c);this.segmentManager.addDistanceAngle(d,20,20,u,{x:l,y:f},{x:l-20,y:f}).addText({x:y-5,y:h+15},u)}else t.startPoint.x<e.startPoint.x&&t.startPoint.y>e.startPoint.y?this.segmentManager.addDistanceLine({x:n,y:i},{x:r,y:i}).addDistanceLine({x:r,y:o},{x:r,y:i}):t.startPoint.x>e.startPoint.x&&t.startPoint.y>e.startPoint.y?this.segmentManager.addDistanceLine({x:n,y:o},{x:n,y:i}).addDistanceLine({x:n,y:i},{x:r,y:i}):t.startPoint.x>e.startPoint.x&&t.startPoint.y<e.startPoint.y&&this.segmentManager.addDistanceLine({x:n,y:i},{x:r,y:i}).addDistanceLine({x:r,y:o},{x:r,y:i})}},{key:"makeDistancePointGuide",value:function(t,e,n,r){e.selected&&(t&&this.makeTriangleDistancePointGuide(t,e),n&&this.makeTriangleDistancePointGuide(e,n))}},{key:"makeStartPointGuide",value:function(t,e,n,r){e.startPoint.isFirst=!0,this.pathStringManager.M(e.startPoint),!1===e.curve?(this.segmentManager.addPoint({},e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)),e.startPoint.isLast||this.segmentManager.addText(e.startPoint,r+1)):(this.segmentManager.addPoint({},e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)).addGuideLine(e.startPoint,e.endPoint),!1===xi.isEqual(e.startPoint,e.endPoint)&&this.segmentManager.addCurvePoint(e.endPoint,r,"endPoint",this.isSelectedSegment("endPoint",r)))}},{key:"makeMiddlePointGuideSegment",value:function(t,e,n,r){var o=this.segmentManager;!1===e.curve?!1===t.curve?(o.addPoint({},e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)),e.startPoint.isLast||o.addText(e.startPoint,r+1)):(o.addGuideLine(t.startPoint,t.endPoint).addCurvePoint(e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)),!1===xi.isEqual(t.startPoint,t.endPoint)&&o.addCurvePoint(t.endPoint,t.index,"endPoint",this.isSelectedSegment("endPoint",t.index)),e.startPoint.isLast||o.addText(e.startPoint,r+1)):!1===t.curve?xi.isEqual(e.reversePoint,e.startPoint)?(o.addPoint({},e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)),e.startPoint.isLast||o.addText(e.startPoint,r+1)):(o.addGuideLine(e.startPoint,e.reversePoint).addCurvePoint(e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)),!1===xi.isEqual(e.startPoint,e.reversePoint)&&o.addCurvePoint(e.reversePoint,r,"reversePoint",this.isSelectedSegment("reversePoint",r)),e.startPoint.isLast||o.addText(e.startPoint,r+1)):e.connected?(o.addGuideLine(t.startPoint,t.endPoint).addGuideLine(e.startPoint,e.reversePoint),!1===xi.isEqual(t.startPoint,t.endPoint)&&o.addCurvePoint(t.endPoint,t.index,"endPoint",this.isSelectedSegment("endPoint",t.index)),!1===xi.isEqual(e.startPoint,e.reversePoint)&&o.addCurvePoint(e.reversePoint,r,"reversePoint",this.isSelectedSegment("reversePoint",r))):(o.addGuideLine(t.startPoint,t.endPoint).addGuideLine(e.startPoint,e.reversePoint).addCurvePoint(e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)),!1===xi.isEqual(t.startPoint,t.endPoint)&&o.addCurvePoint(t.endPoint,t.index,"endPoint",this.isSelectedSegment("endPoint",t.index)),!1===xi.isEqual(e.startPoint,e.reversePoint)&&o.addCurvePoint(e.reversePoint,r,"reversePoint",this.isSelectedSegment("reversePoint",r)),e.startPoint.isLast||o.addText(e.startPoint,r+1))}},{key:"makeMiddlePointGuideRealPath",value:function(t,e,n,r){var o=this.pathStringManager;!1===e.curve?!1===t.curve?o.L(e.startPoint):o.Q(t.endPoint,e.startPoint):!1===t.curve?xi.isEqual(e.reversePoint,e.startPoint)?o.L(e.startPoint):o.Q(e.reversePoint,e.startPoint):o.C(t.endPoint,e.reversePoint,e.startPoint)}},{key:"makeMiddlePointGuideSplitLine",value:function(t,e,n,r){!1===e.curve?!1===t.curve?this.splitLines.push((new Gi).M(t.startPoint).L(e.startPoint).toString("split-path")):this.splitLines.push((new Gi).M(t.startPoint).Q(t.endPoint,e.startPoint).toString("split-path")):!1===t.curve?xi.isEqual(e.reversePoint,e.startPoint)?this.splitLines.push((new Gi).M(t.startPoint).L(e.startPoint).toString("split-path")):this.splitLines.push((new Gi).M(t.startPoint).Q(e.reversePoint,e.startPoint).toString("split-path")):this.splitLines.push((new Gi).M(t.startPoint).C(t.endPoint,e.reversePoint,e.startPoint).toString("split-path"))}},{key:"makePointGuide",value:function(t){for(var e=this.state.selectedIndex,n=0,r=t.length;n<r;n++){var o=t[n];if(o){var i=xi.getNextPoint(t,n),a=xi.getPrevPoint(t,n);a&&"M"===a.command&&(o.startPoint.isSecond=!0),o.startPoint.isLast=i?"M"===i.command:n===r-1,o.selected=e===n,"M"===o.command?this.makeStartPointGuide(a,o,i,n):(this.makeMiddlePointGuideRealPath(a,o,i,n),this.makeMiddlePointGuideSplitLine(a,o,i,n),this.makeMiddlePointGuideSegment(a,o,i,n)),o.close&&this.pathStringManager.Z()}}}},{key:"makeMovePositionGuide",value:function(){var t=this.state,e=t.points,n=t.startPoint,r=t.moveXY,o=t.dragPoints,i=(t.altKey,t.snapPointList);if(r){var a;i=i||[];var c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=a8(t,"x",e.x,n),o=a8(t,"y",e.y,n),i=n8({},e);r&&(i.x=r.x),o&&(i.y=o.y);var a=[];return r&&a.push({startPoint:r,endPoint:i}),o&&a.push({startPoint:o,endPoint:i}),{snapPointList:a,moveXY:i}}(e,r,2),u=c.snapPointList,s=c.moveXY;(a=i).push.apply(a,q3(u)),t.moveXY=s,r=s,this.snapPointList=i;var l=e[e.length-1];if(o)if(l){if(l.curve){var f=xi.getReversePoint(n,r);h=f.x,d=f.y;this.guideLineManager.M(l.startPoint).C(l.endPoint,{x:h,y:d},n),this.segmentManager.addGuideLine(l.startPoint,l.endPoint).addGuideLine(n,{x:h,y:d}).addGuideLine(n,r).addCurvePoint(l.endPoint).addCurvePoint({x:h,y:d}).addCurvePoint(r).addPoint(!1,n)}else if(!1===l.curve){var p=xi.getReversePoint(n,r);h=p.x,d=p.y;this.guideLineManager.M(l.startPoint).Q({x:h,y:d},n),this.segmentManager.addGuideLine(r,{x:h,y:d}).addPoint(!1,n).addCurvePoint({x:h,y:d}).addCurvePoint(r)}}else{var y=xi.getReversePoint(n,r),h=y.x,d=y.y;this.guideLineManager.M(r).L(n).L({x:h,y:d}),this.segmentManager.addCurvePoint(n).addCurvePoint(r).addCurvePoint({x:h,y:d})}else l&&(l.curve?(this.guideLineManager.M(l.startPoint).Q(l.endPoint,r),this.segmentManager.addGuideLine(l.endPoint,l.startPoint).addCurvePoint(l.endPoint)):l.close||(this.guideLineManager.M(l.startPoint).L(r),this.segmentManager.addPoint(!1,l.startPoint)))}}},{key:"makeSnapLines",value:function(){var t=[];if(this.snapPointList){var e=new Gi;t=this.snapPointList.map((function(t){return e.reset(),e.M(t.startPoint).L(t.endPoint).toString("snap-path")}))}return t.join("")}},{key:"makeSelectedSVGZone",value:function(){var t=this.state,e=t.screenX,n=t.screenY,r=t.screenWidth,o=t.screenHeight,i=this.pathEditor.scale,a=e.value*i,c=n.value*i,u=r.value*i,s=o.value*i;return"<rect class='svg-canvas' ".concat(be({x:a,y:c,width:u,height:s})," />")}},{key:"toSVGString",value:function(){return'\n        <svg width="100%" height="100%" class=\'svg-editor-canvas\'>\n            '.concat(this.makeSelectedSVGZone(),"\n            ").concat(this.guideLineManager.toString("guide",this.state.isPolygon),"\n            ").concat(this.pathStringManager.toString("object",this.state.isPolygon),"\n            ").concat(this.splitLines.join(""),"\n            ").concat(this.makeSnapLines(),"\n            ").concat(this.segmentManager.toString(),"\n        </svg>\n        ")}},{key:"state",get:function(){return this.pathEditor.state}},{key:"clonePoints",get:function(){return q3(this.state.points)}},{key:"selectedLength",get:function(){return this.selectedPointList.length}}]),t}();function l8(t){return(l8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p8(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f8(Object(n),!0).forEach((function(e){y8(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f8(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y8(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h8(t,e,n){return(h8="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w8(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function d8(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m8(t,e,n){return e&&b8(t.prototype,e),n&&b8(t,n),t}function g8(t,e){return!e||"object"!==l8(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w8(t){return(w8=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k8(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O8(t,e)}function O8(t,e){return(O8=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j8(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function S8(t){var e=j8(t,2);return{x:e[0],y:e[1]}}var P8=["fill","fill-opacity","stroke","stroke-width"],x8=function(t){function e(){return v8(this,e),g8(this,w8(e).apply(this,arguments))}return k8(e,t),m8(e,[{key:"initialize",value:function(){h8(w8(e.prototype),"initialize",this).call(this),this.pathParser=new Vi,this.pathGenerator=new s8(this)}},{key:"initState",value:function(){return{changeEvent:"updatePathItem",isShow:!1,points:[],hasTransform:!1,mode:"path",$target:null,clickCount:0,isSegment:!1,isFirstSegment:!1,screenX:$.z(),screenY:$.z(),screenWidth:$.z(),screenHeight:$.z()}}},{key:"template",value:function(){return"\n        <div class='path-editor-view' tabIndex=\"-1\">\n            <div class='path-container' ref='$view'></div>\n            <div class='path-container split-panel'>\n                <svg width=\"100%\" height=\"100%\">\n                    <circle ref='$splitCircle' class='split-circle' />\n                </svg>\n            </div>\n            <div class='path-tool'>\n                <div class='transform-manager' ref='$tool'>\n                    <div class='transform-tool-item' data-position='to rotate'></div>                \n                    <div class='transform-tool-item' data-position='to move'></div>\n                    <div class='transform-tool-item' data-position='to top'></div>\n                    <div class='transform-tool-item' data-position='to right'></div>\n                    <div class='transform-tool-item' data-position='to bottom'></div>\n                    <div class='transform-tool-item' data-position='to left'></div>\n                    <div class='transform-tool-item' data-position='to top right'></div>\n                    <div class='transform-tool-item' data-position='to bottom right'></div>\n                    <div class='transform-tool-item' data-position='to top left'></div>\n                    <div class='transform-tool-item' data-position='to bottom left'></div>  \n                </div>\n            </div>\n            <div class='segment-box' ref='$segmentBox'></div>\n        </div>"}},{key:Hr("$tool"),value:function(){this.resetTransformZone();var t=this.state.transformZoneRect;return{"data-show":"transform"===this.state.mode,"data-position":this.transformMoveType,style:{left:$.px(t.x),top:$.px(t.y),width:$.px(t.width),height:$.px(t.height)}}}},{key:"renderTransformTool",value:function(){this.bindData("$tool")}},{key:"isShow",value:function(){return this.state.isShow}},{key:"initRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.rect&&!t||(this.state.rect=this.parent.refs.$body.rect())}},{key:ir("document")+$r("isShow")+_r+Lr+Mr,value:function(){this.state.current?(this.refreshPathLayer(),this.trigger("hidePathEditor")):this.addPathLayer(),!this.state.current&&this.state.points.length?this.trigger("initPathEditorView"):this.trigger("hidePathEditor")}},{key:ir("document")+$r("isShow")+Cr+Lr+Mr,value:function(){this.state.current?this.refreshPathLayer():this.addPathLayer(),this.trigger("hidePathEditor")}},{key:"makePathLayer",value:function(t){var e,n=this,r=this.pathGenerator.toPath(t.x,t.y,this.scale).d,o=this.$selection.currentArtboard;if(o){var i=t.x/this.scale,a=t.y/this.scale,c=t.width/this.scale,u=t.height/this.scale;e=o.add(new dE({width:$.px(c),height:$.px(u),d:r,totalLength:this.totalPathLength})),P8.forEach((function(t){n.state[t]&&e.reset(y8({},t,n.state[t]))})),e.setScreenX(i),e.setScreenY(a)}return e}},{key:"updatePathLayer",value:function(){var t=this.getPathRect(),e=t.x,n=t.y,r=this.state.current;if(r&&this.isBoxMode)e=r.screenX.value/this.scale,n=r.screenY.value/this.scale;var o=this.pathGenerator.toPath(e,n,this.scale).d,i=new Vi(o);this.emit(this.state.changeEvent,{d:i.toString(),totalLength:this.totalPathLength})}},{key:"addPathLayer",value:function(){var t=this.getPathRect();(this.changeMode("modify"),t.width>0&&t.height>0)&&(this.makePathLayer(t)&&this.emit("refreshAll"))}},{key:"changeMode",value:function(t,e){this.setState(p8({mode:t,clickCount:0,moveXY:null},e),!1),this.emit("changePathManager",this.state.mode)}},{key:Wo("changePathManager"),value:function(t){this.setState(p8({},t,{clickCount:0}),!1),this.renderPath()}},{key:"isMode",value:function(t){return this.state.mode===t}},{key:Wo("changeScale"),value:function(){this.refresh()}},{key:"getCurrentObject",value:function(){var t=this.state.current;return t?{current:t,d:t.d,screenX:t.screenX,screenY:t.screenY,screenWidth:t.screenWidth,screenHeight:t.screenHeight}:null}},{key:"refresh",value:function(t){if((t=t||this.getCurrentObject())&&t.d){this.pathParser.reset(t.d),this.pathParser.scale(this.scale,this.scale);var e=t.screenX.value*this.scale,n=t.screenY.value*this.scale;this.pathParser.translate(e,n),this.state.points=this.pathParser.convertGenerator(),this.state.hasTransform=!!t.current.transform}else this.state.hasTransform=!1;this.pathGenerator.initializeSelect(),this.renderPath()}},{key:Wo("showPathEditor"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"path",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"move"===t?(e.current=null,e.points=[]):e.current||(e.current=null),e.box=e.box||"canvas",this.changeMode(t,e),this.refresh(e),this.state.isShow=!0,this.$el.show(),this.$el.focus(),this.emit("showPathManager",{mode:this.state.mode}),this.emit("hidePathDrawEditor"),this.emit("change.mode.view","PathEditorView")}},{key:Wo("hidePathEditor"),value:function(){this.$el.isShow()&&(this.pathParser.reset(""),this.setState(this.initState(),!1),this.refs.$view.empty(),this.$el.hide(),this.emit("finishPathEdit"),this.emit("hidePathManager"),this.emit("change.mode.view"))}},{key:Wo("hideAddViewLayer"),value:function(){this.state.isShow=!1,this.pathParser.reset(""),this.setState(this.initState(),!1),this.refs.$view.empty(),this.$el.hide(),this.emit("hidePathManager")}},{key:Hr("$view"),value:function(){return{class:{path:"path"===this.state.mode,modify:"modify"===this.state.mode,transform:"transform"===this.state.mode,box:"box"===this.state.box,"has-transform":!!this.state.hasTransform,"segment-move":"segment-move"===this.state.mode},innerHTML:this.pathGenerator.makeSVGPath()}}},{key:Hr("$splitCircle"),value:function(){return this.state.splitXY?{cx:this.state.splitXY.x,cy:this.state.splitXY.y,r:5}:{r:0}}},{key:"refreshPathLayer",value:function(){this.updatePathLayer()}},{key:"renderPath",value:function(){this.bindData("$view"),this.renderTransformTool()}},{key:"getPathRect",value:function(){this.initRect(!0);var t=this.refs.$view.$("path.object"),e={x:0,y:0,width:0,height:0};return t&&((e=t.rect()).x-=this.state.rect.x,e.y-=this.state.rect.y),e}},{key:"resetTransformZone",value:function(){var t=this.getPathRect();this.state.transformZoneRect=t}},{key:kr("$view"),value:function(t){if(this.initRect(),this.isMode("path")&&this.state.rect)this.state.moveXY={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y},this.state.altKey=t.altKey,this.renderPath();else{var e=Nn.create(t.target),n=e.hasClass("split-path");this.state.splitXY=n?this.calculatePointOnLine(e.attr("d"),{x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y}):null,this.bindData("$splitCircle"),this.state.altKey=!1}}},{key:wr("$view :not(.split-path)")+Ar()+Ir(),value:function(t){this.initRect(),this.state.altKey=!1;var e=this.isMode("path");this.state.dragXY={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y},this.state.isOnCanvas=!1;var n=Nn.create(t.target);if(n.hasClass("svg-editor-canvas")&&!e?this.state.isOnCanvas=!0:(this.pathGenerator.reselect(),this.state.isSegment="true"===n.attr("data-segment"),this.state.isFirstSegment=this.state.isSegment&&"true"===n.attr("data-is-first")),e){if(this.state.isFirstSegment){var r=+n.attr("data-index");this.state.startPoint=this.state.points[r].startPoint}else this.state.startPoint=this.state.dragXY;this.state.dragPoints=!1,this.state.endPoint=null}else if(this.isOnCanvas)this.renderSelectBox(this.state.dragXY);else if(this.state.isSegment){this.changeMode("segment-move");var o=j8(n.attrs("data-index","data-segment-point"),2),i=(r=o[0],o[1]);this.pathGenerator.setCachePoint(+r,i),this.pathGenerator.selectKeyIndex(i,r)}}},{key:"hideSelectBox",value:function(){this.refs.$segmentBox.css({left:$.px(-1e5)})}},{key:"renderSelectBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r={left:$.px(t.x+(e<0?e:0)),top:$.px(t.y+(n<0?n:0)),width:$.px(Math.abs(e)),height:$.px(Math.abs(n))};this.refs.$segmentBox.css(r)}},{key:"getSelectBox",value:function(){var t=j8(this.refs.$segmentBox.styles("left","top","width","height").map((function(t){return $.parse(t)})),4),e={x:t[0],y:t[1],width:t[2],height:t[3]};return e.x2=$.px(e.x.value+e.width.value),e.y2=$.px(e.y.value+e.height.value),e}},{key:"move",value:function(t,e){if(this.state.isOnCanvas)this.renderSelectBox(this.state.dragXY,t,e);else if(this.isMode("segment-move")){var n=this.$config.get("bodyEvent");this.pathGenerator.move(t,e,n),this.renderPath(),this.updatePathLayer()}else if(this.isMode("path")){n=this.$config.get("bodyEvent");this.state.dragPoints=!n.altKey}}},{key:"renderSegment",value:function(t){this.pathGenerator.selectedLength&&(this.pathGenerator.reselect(),ae(t)&&t(),this.renderPath(),this.updatePathLayer())}},{key:Wo("deleteSegment"),value:function(){var t=this;this.renderSegment((function(){t.pathGenerator.removeSelectedSegment()}))}},{key:Wo("moveSegment"),value:function(t,e){var n=this;this.renderSegment((function(){n.pathGenerator.moveSelectedSegment(t,e)}))}},{key:Wo("initPathEditorView"),value:function(){this.pathParser.reset(""),this.setState(this.initState(),!1),this.state.isShow=!0,this.refs.$view.empty(),this.$el.focus()}},{key:"end",value:function(t,e){this.state.isOnCanvas?0===t&&0===e?(this.changeMode("modify"),this.trigger("hidePathEditor")):(this.changeMode("segment-move"),this.pathGenerator.selectInBox(this.getSelectBox()),this.renderPath(),this.hideSelectBox()):this.isMode("modify")||(this.isMode("segment-move")?this.changeMode("modify"):this.isMode("path")&&(this.state.isFirstSegment?(this.changeMode("modify"),this.pathGenerator.setConnectedPoint(t,e),this.renderPath(),this.state.current?this.refreshPathLayer():(this.addPathLayer(),this.trigger("initPathEditorView"))):(this.pathGenerator.moveEnd(t,e),this.state.clickCount++,this.renderPath())))}},{key:"scale",get:function(){return this.$editor.scale}},{key:"totalPathLength",get:function(){if(!this.refs.$view)return 0;var t=this.refs.$view.$("path.object");return t?t.totalLength:0}},{key:"isBoxMode",get:function(){return"box"===this.state.box}}]),e}(function(t){function e(){return v8(this,e),g8(this,w8(e).apply(this,arguments))}return k8(e,t),m8(e,[{key:Wo("changePathTransform"),value:function(t){this.resetTransformZone();var e=this.state.transformZoneRect,n=e.width,r=e.height;switch(this.pathGenerator.initTransform(this.state.transformZoneRect),t){case"flipX":this.pathGenerator.transform("flipX",n,0);break;case"flipY":this.pathGenerator.transform("flipY",0,r);break;case"flip":this.pathGenerator.transform("flip",n,r)}this.renderPath(),this.refreshPathLayer()}},{key:wr("$tool .transform-tool-item")+Ar("moveTransformTool")+Ir("moveEndTransformTool"),value:function(t){this.transformMoveType=t.$dt.attr("data-position"),this.resetTransformZone(),this.pathGenerator.initTransform(this.state.transformZoneRect),this.startXY=t.xy}},{key:"moveTransformTool",value:function(t,e){this.pathGenerator.transform(this.transformMoveType,t,e),this.renderPath(),this.refreshPathLayer()}},{key:"moveEndTransformTool",value:function(t,e){this.transformMoveType="none",this.renderTransformTool()}}]),e}(function(t){function e(){return v8(this,e),g8(this,w8(e).apply(this,arguments))}return k8(e,t),m8(e,[{key:"calculatePointOnLine",value:function(t,e){var n=new Vi(t);if("C"===n.segments[1].command){var r=[S8(n.segments[0].values),S8(n.segments[1].values.slice(0,2)),S8(n.segments[1].values.slice(2,4)),S8(n.segments[1].values.slice(4,6))],o=xt.apply(void 0,d8(r).concat([200]))(e.x,e.y);return Vt(r,o).first[3]}if("Q"===n.segments[1].command){r=[S8(n.segments[0].values),S8(n.segments[1].values.slice(0,2)),S8(n.segments[1].values.slice(2,4))],o=$t.apply(void 0,d8(r).concat([200]))(e.x,e.y);return At(r,o).first[2]}if("L"===n.segments[1].command){r=[S8(n.segments[0].values),S8(n.segments[1].values.slice(0,2))],o=Et.apply(void 0,d8(r).concat([200]))(e.x,e.y);return It(r,o).first[1]}return e}},{key:er("$view .split-path"),value:function(t){this.initRect();var e=new Vi(t.$dt.attr("d")),n={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y};if("C"===e.segments[1].command){var r=[S8(e.segments[0].values),S8(e.segments[1].values.slice(0,2)),S8(e.segments[1].values.slice(2,4)),S8(e.segments[1].values.slice(4,6))],o=xt.apply(void 0,d8(r).concat([200]))(n.x,n.y);this.changeMode("modify"),this.pathGenerator.setPoint(Vt(r,o))}else if("Q"===e.segments[1].command){r=[S8(e.segments[0].values),S8(e.segments[1].values.slice(0,2)),S8(e.segments[1].values.slice(2,4))],o=$t.apply(void 0,d8(r).concat([200]))(n.x,n.y);this.changeMode("modify"),this.pathGenerator.setPointQuard(At(r,o))}else if("L"===e.segments[1].command){r=[S8(e.segments[0].values),S8(e.segments[1].values.slice(0,2))],o=Et.apply(void 0,d8(r).concat([200]))(n.x,n.y);this.changeMode("modify"),this.pathGenerator.setPointLine(It(r,o))}this.renderPath(),this.refreshPathLayer()}}]),e}(function(t){function e(){return v8(this,e),g8(this,w8(e).apply(this,arguments))}return k8(e,t),m8(e,[{key:nr("$view [data-segment]"),value:function(t){var e=+t.$dt.attr("data-index");this.pathGenerator.convertToCurve(e),this.renderPath(),this.refreshPathLayer()}}]),e}(Uo))));function $8(t){return($8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _8(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E8(Object(n),!0).forEach((function(e){C8(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E8(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C8(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D8(t,e){return!e||"object"!==$8(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V8(t){return(V8=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A8(t,e){return(A8=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I8=function(t){function e(){return T8(this,e),D8(this,V8(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A8(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"<div class='grid-layout-line-view' style='width:100%;height:100%;pointer-events:none;'></div>"}},{key:zr("$el"),value:function(){if(1!==this.$selection.length)return"<div></div>";var t=this.$selection.current;if(t.isInGrid()){var e=t.parent,n=e.screenX,r=e.screenY,o=e.width,i=e.height,a=e.toGridLayoutCSS();return"<div style='".concat(de(_8({position:"absolute",left:n,top:r,width:o,height:i,border:"1px solid black"},a)),"'>\n                ").concat(e.layers.map((function(t){var e=t.toLayoutItemCSS();return("<div style='".concat(de(_8({},e,{border:"1px solid dashed"})),"'></div>"))})).join(""),"\n            </div>")}return("<div></div>")}},{key:Wo("refreshGridLayoutLine","refreshSelectionTool","refreshSelection"),value:function(){this.refresh()}}])&&R8(n.prototype,r),o&&R8(n,o),e}(Uo);function L8(t){return(L8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z8(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M8(Object(n),!0).forEach((function(e){B8(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M8(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function B8(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H8(t,e){return!e||"object"!==L8(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function X8(t,e,n){return(X8="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Y8(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Y8(t){return(Y8=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function N8(t,e){return(N8=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var K8=["fill","fill-opacity","stroke","stroke-width","stroke-linecap","stroke-linejoin"],W8=function(t){function e(){return F8(this,e),H8(this,Y8(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N8(t,e)}(e,t),n=e,(r=[{key:"initialize",value:function(){X8(Y8(e.prototype),"initialize",this).call(this),this.pathParser=new Vi}},{key:"initState",value:function(){return{points:[],$target:null,fill:"transparent",stroke:"black","fill-opacity":null,"stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",tolerance:1,screenX:$.z(),screenY:$.z(),screenWidth:$.z(),screenHeight:$.z()}}},{key:Wo("changeDrawManager"),value:function(t){this.setState(z8({},t),!1)}},{key:"template",value:function(){return"\n        <div class='path-draw-view' tabIndex=\"-1\">\n            <div class='path-draw-container' ref='$view'></div>\n        </div>"}},{key:"initRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.rect&&!t||(this.state.rect=this.parent.refs.$body.rect())}},{key:ir("document")+$r("isShow")+Cr+_r+Lr+Mr,value:function(){this.trigger("hidePathDrawEditor")}},{key:"makePathLayer",value:function(t){var e,n=this,r=this.$selection.currentArtboard;if(r){var o=t.x/this.scale,i=t.y/this.scale,a=t.width/this.scale,c=t.height/this.scale,u=xi.simply(this.state.points,this.state.tolerance),s=new Vi(Gi.makePathByPoints(u)),l=s8.generatorPathString(s.convertGenerator(),t.x,t.y,this.scale);e=r.add(new dE({width:$.px(a),height:$.px(c),d:l,totalLength:this.totalPathLength})),K8.forEach((function(t){n.state[t]&&e.reset(B8({},t,n.state[t]))})),e.setScreenX(o),e.setScreenY(i)}return e}},{key:"addPathLayer",value:function(){var t=this.getPathRect();0!==t.width&&0!==t.height&&this.makePathLayer(t)&&this.emit("refreshAll")}},{key:"changeMode",value:function(t){this.setState(z8({},this.initState(),{},t),!1)}},{key:"getCurrentObject",value:function(){var t=this.state.current;return t?{current:t,d:t.d,screenX:t.screenX,screenY:t.screenY,screenWidth:t.screenWidth,screenHeight:t.screenHeight}:null}},{key:Wo("showPathDrawEditor"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.changeMode(t),this.$el.show(),this.$el.focus(),this.emit("showDrawManager",{instance:this,fill:this.state.fill,stroke:this.state.stroke,"fill-opacity":this.state["fill-opacity"],"stroke-width":this.state["stroke-width"],"stroke-linecap":this.state["stroke-linecap"],"stroke-linejoin":this.state["stroke-linejoin"]}),this.emit("hidePathEditor"),this.emit("change.mode.view","PathDrawView")}},{key:Wo("initPathDrawEditor"),value:function(){this.pathParser.reset(""),this.refs.$view.empty()}},{key:Wo("hidePathDrawEditor"),value:function(){this.$el.isShow()&&(this.trigger("initPathDrawEditor"),this.$el.hide(),this.emit("finishPathEdit"),this.emit("hideDrawManager"),this.emit("change.mode.view"))}},{key:Wo("hideAddViewLayer"),value:function(){this.$el.hide(),this.emit("hideDrawManager")}},{key:"getInnerId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"draw-manager-"+t}},{key:Hr("$view"),value:function(){return{innerHTML:'\n            <svg width="100%" height="100%" class=\'svg-editor-canvas\'>\n                '.concat(this.toDefString,"\n                <path class='object' \n                    ").concat(be({fill:this.toFillValue,stroke:this.toStrokeValue,"fill-opacity":this.state["fill-opacity"],"stroke-width":this.state["stroke-width"],"stroke-linecap":this.state["stroke-linecap"],"stroke-linejoin":this.state["stroke-linejoin"]}),'\n                    d="').concat(Gi.makePathByPoints(this.state.points),'" />\n            </svg>\n            ')}}},{key:"renderPath",value:function(){this.bindData("$view")}},{key:Wo("resizeEditor"),value:function(){this.initRect(!0)}},{key:"getPathRect",value:function(){this.initRect(!0);var t=this.refs.$view.$("path.object"),e={x:$.z(),y:$.z(),width:$.z(),height:$.z()};return t&&((e=t.rect()).x-=this.state.rect.x,e.y-=this.state.rect.y),e}},{key:wr("$view")+Ar()+Ir(),value:function(t){this.initRect(),this.state.altKey=!1,this.state.startXY={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y},this.state.points=[this.state.startXY]}},{key:"move",value:function(t,e,n,r){this.state.points.push({x:this.state.startXY.x+t,y:this.state.startXY.y+e,pressure:r}),this.renderPath()}},{key:"end",value:function(t,e){this.addPathLayer(),this.trigger("initPathDrawEditor")}},{key:"scale",get:function(){return this.$editor.scale}},{key:"totalPathLength",get:function(){if(!this.refs.$view)return 0;var t=this.refs.$view.$("path.object");return t?t.totalLength:0}},{key:"toFillSVG",get:function(){return K$.parseImage(this.state.fill||"transparent").toSVGString(this.fillId)}},{key:"toStrokeSVG",get:function(){return K$.parseImage(this.state.stroke||"black").toSVGString(this.strokeId)}},{key:"toDefInnerString",get:function(){return"\n            ".concat(this.toFillSVG,"\n            ").concat(this.toStrokeSVG,"\n        ")}},{key:"toDefString",get:function(){var t=this.toDefInnerString.trim();return("\n            <defs>\n            ".concat(t,"\n            </defs>\n        "))}},{key:"fillId",get:function(){return this.getInnerId("fill")}},{key:"strokeId",get:function(){return this.getInnerId("stroke")}},{key:"toFillValue",get:function(){return K$.parseImage(this.state.fill||"transparent").toFillValue(this.fillId)}},{key:"toStrokeValue",get:function(){return K$.parseImage(this.state.stroke||"black").toFillValue(this.strokeId)}}])&&G8(n.prototype,r),o&&G8(n,o),e}(Uo);function U8(t){return(U8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function q8(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z8(Object(n),!0).forEach((function(e){J8(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z8(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function J8(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e6(t,e){return!e||"object"!==U8(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function n6(t,e,n){return(n6="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r6(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function r6(t){return(r6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o6(t,e){return(o6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var i6=["fill","stroke-width"],a6=function(t){function e(){return Q8(this,e),e6(this,r6(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o6(t,e)}(e,t),n=e,(r=[{key:"initialize",value:function(){n6(r6(e.prototype),"initialize",this).call(this),this.pathParser=new Vi}},{key:"initState",value:function(){return{changeEvent:"updatePathItem",points:[],$target:null,fill:"black",stroke:"black","fill-opacity":null,"stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",tolerance:1,screenX:$.z(),screenY:$.z(),screenWidth:$.z(),screenHeight:$.z()}}},{key:Wo("changeDrawManager"),value:function(t){this.setState(q8({},t),!1),this.renderPath()}},{key:"template",value:function(){return"\n        <div class='brush-draw-view' tabIndex=\"-1\">\n            <div class='brush-draw-container' ref='$view'></div>\n        </div>"}},{key:"initRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.rect&&!t||(this.state.rect=this.parent.refs.$body.rect())}},{key:ir("document")+$r("isShow")+Cr+_r+Lr+Mr,value:function(){this.trigger("hideBrushDrawEditor")}},{key:"makeBrushLayer",value:function(t){var e,n=this,r=this.$selection.currentArtboard;if(r){var o=t.x/this.scale,i=t.y/this.scale,a=t.width/this.scale,c=t.height/this.scale,u=xi.simply(this.state.points,this.state.tolerance),s=new Vi(Gi.makePathByPoints(u)),l=s8.generatorPathString(s.convertGenerator(),o,i,this.scale);e=r.add(new C_({width:$.px(a),height:$.px(c),d:l,totalLength:this.totalPathLength})),i6.forEach((function(t){n.state[t]&&e.reset(J8({},t,n.state[t]))})),e.setScreenX(o),e.setScreenY(i)}return e}},{key:"addBrushLayer",value:function(){var t=this.getPathRect();if(0!==t.width&&0!==t.height){var e=this.makeBrushLayer(t);e&&(this.$selection.select(e),this.emit("refreshAll"),this.emit("refreshSelection"))}}},{key:"changeMode",value:function(t){this.setState(q8({},this.initState(),{},t),!1),this.emit("change.mode.view","PathDrawView")}},{key:"getCurrentObject",value:function(){var t=this.state.current;return t?{current:t,d:t.d,screenX:t.screenX,screenY:t.screenY,screenWidth:t.screenWidth,screenHeight:t.screenHeight}:null}},{key:Wo("showBrushDrawEditor"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.changeMode(t),this.$el.show(),this.$el.focus(),this.emit("showDrawManager",{fill:this.state.fill,stroke:this.state.stroke,"fill-opacity":this.state["fill-opacity"],"stroke-width":this.state["stroke-width"],"stroke-linecap":this.state["stroke-linecap"],"stroke-linejoin":this.state["stroke-linejoin"]})}},{key:Wo("initBrushDrawEditor"),value:function(){this.pathParser.reset(""),this.refs.$view.empty()}},{key:Wo("hideBrushDrawEditor"),value:function(){this.trigger("initBrushDrawEditor"),this.$el.hide(),this.emit("finishPathEdit"),this.emit("hideDrawManager"),this.emit("change.mode.view")}},{key:"getInnerId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"draw-manager-"+t}},{key:Hr("$view"),value:function(){return{innerHTML:'\n            <svg width="100%" height="100%" class=\'svg-editor-canvas\'>\n                '.concat(this.toDefString,"\n                <path class='object' \n                    ").concat(be({fill:"transparent",stroke:"transparent"===this.toFillValue?"black":this.toFillValue}),'\n                    d="').concat(Gi.makePathByPoints(this.state.points),'" />\n            </svg>\n            ')}}},{key:"renderPath",value:function(){this.bindData("$view")}},{key:"getPathRect",value:function(){this.initRect(!0);var t=this.refs.$view.$("path.object"),e={x:$.z(),y:$.z(),width:$.z(),height:$.z()};return t&&((e=t.rect()).x-=this.state.rect.x,e.y-=this.state.rect.y),e}},{key:wr("$view")+Ar()+Ir(),value:function(t){this.initRect(),this.state.altKey=!1,this.state.startXY={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y},this.state.points=[this.state.startXY]}},{key:"move",value:function(t,e,n,r){this.state.points.push({x:this.state.startXY.x+t,y:this.state.startXY.y+e,pressure:r}),this.renderPath()}},{key:"end",value:function(t,e){this.addBrushLayer(),this.trigger("initBrushDrawEditor")}},{key:"scale",get:function(){return this.$editor.scale}},{key:"totalPathLength",get:function(){if(!this.refs.$view)return 0;var t=this.refs.$view.$("path.object");return t?t.totalLength:0}},{key:"toFillSVG",get:function(){return K$.parseImage(this.state.fill||"transparent").toSVGString(this.fillId)}},{key:"toStrokeSVG",get:function(){return K$.parseImage(this.state.stroke||"black").toSVGString(this.strokeId)}},{key:"toDefInnerString",get:function(){return"\n            ".concat(this.toFillSVG,"\n            ").concat(this.toStrokeSVG,"\n        ")}},{key:"toDefString",get:function(){var t=this.toDefInnerString.trim();return("\n            <defs>\n            ".concat(t,"\n            </defs>\n        "))}},{key:"fillId",get:function(){return this.getInnerId("fill")}},{key:"strokeId",get:function(){return this.getInnerId("stroke")}},{key:"toFillValue",get:function(){return K$.parseImage(this.state.fill||"transparent").toFillValue(this.fillId)}},{key:"toStrokeValue",get:function(){return K$.parseImage(this.state.stroke||"black").toFillValue(this.strokeId)}}])&&t6(n.prototype,r),o&&t6(n,o),e}(Uo);function c6(t){return(c6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u6(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f6(t,e){return!e||"object"!==c6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p6(t,e,n){return(p6="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y6(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function y6(t){return(y6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h6(t,e){return(h6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d6=function(t){function e(){return s6(this,e),f6(this,y6(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h6(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return'\n    <div class=\'style-view\' style=\'pointer-events: none; position: absolute;display:inline-block;left:-1000px;\'>\n      <div ref=\'$svgArea\'></div>\n      <svg width="0" height="0">\n        <defs>\n          <marker id="start" markerWidth="8" markerHeight="8" refX="5" refY="5">\n              <circle cx="5" cy="5" r="3" style="stroke: none; fill:#000000;"/>\n          </marker>\n          <marker id="head" orient="auto" markerWidth="10" markerHeight="10" refX=".5" refY="3">\n            <path d="M0,0 V6 L5,3 Z" fill="red"></path>\n          </marker>\n        </defs>\n      </svg>\n    </div>\n    '}},{key:"initialize",value:function(){p6(y6(e.prototype),"initialize",this).call(this),this.refs.$head=Nn.create(document.head)}},{key:"makeProjectStyle",value:function(t){var e=t.toKeyframeString(),n=t.toRootVariableCSS();return"<style type='text/css' data-id='".concat(t.id,"'>\n      :root {\n        ").concat(de(n),"\n      }\n      /* keyframe */\n      ").concat(e,"\n    </style>\n    ")}},{key:"makeStyle",value:function(t){var e=this;if(t.is("project"))return this.makeProjectStyle(t);var n=t.generateView(".element-item[data-id='".concat(t.id,"']"));return("\n      <style type='text/css' data-id='".concat(t.id,"' data-timestamp='").concat(t.timestamp,"'>").concat(n,"</style>\n    ")+t.layers.map((function(t){return e.makeStyle(t)})).join(""))}},{key:"makeDragStyle",value:function(t){var e=this;if(t.is("project"))return this.makeProjectStyle(t);var n=t.generateDragView(".element-item[data-id='".concat(t.id,"']"));return("\n      <style type='text/css' data-id='".concat(t.id,"-drag' data-timestamp='").concat(t.timestamp,"'>").concat(n,"</style>\n    ")+t.layers.map((function(t){return e.makeDragStyle(t)})).join(""))}},{key:"refreshStyleHead",value:function(){var t=this,e=this.$selection.currentProject||new hP;this.refs.$head.$$("style").forEach((function(t){return t.remove()})),this.changeStyleHead(e),e.artboards.forEach((function(e){return t.changeStyleHead(e)}))}},{key:"changeStyleHead",value:function(t){var e=this,n=Nn.create("div"),r=this.makeStyle(t);n.html(r).children().forEach((function(t){e.refs.$head.append(t)}))}},{key:"changeDragStyleHead",value:function(t){var e=this;Nn.create("div").html(this.makeDragStyle(t)).children().forEach((function(t){e.refs.$head.append(t)}))}},{key:"refreshStyleHeadOne",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[t];e||(n=t.allLayers);var r=n.map((function(t){return'style[data-id="'.concat(t.id,'"],style[data-id="').concat(t.id,'-drag"]')})).join(","),o=!1;this.refs.$head.$$(r).forEach((function(e){t.isChanged(e.attr("data-timestamp"))&&(o=!0,e.remove())})),o&&this.changeStyleHead(t)}},{key:"refreshDragStyleHeadOne",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[t];e||(n=[t].concat(u6(t.allLayers)));var r=n.map((function(t){return'style[data-id="'.concat(t.id,'-drag"]')})).join(",");this.refs.$head.$$(r).forEach((function(t){t.remove()})),this.changeDragStyleHead(t)}},{key:"removeDragStyleHeadOne",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[t];e||(n=[t].concat(u6(t.allLayers)));var r=n.map((function(t){return'style[data-id="'.concat(t.id,'-drag"]')})).join(",");this.refs.$head.$$(r).forEach((function(t){t.remove()}))}},{key:"makeSvg",value:function(t){var e=t.toSVGString?t.toSVGString():"";return"\n      ".concat(e?'<svg width="0" height="0">'.concat(e,"</svg>"):"","\n    ")}},{key:zr("$svgArea")+Rr,value:function(){var t=this.$selection.currentProject||{};return this.makeSvg(t)}},{key:Wo("refreshStyleView","moveTimeline","playTimeline"),value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(this.load(),this.refreshStyleHeadOne(t,e)):this.refresh()}},{key:Wo("refreshSVGArea"),value:function(){this.load("$svgArea")}},{key:Wo("refreshSelectionStyleView"),value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e;ee(e)?n=e:null!==e&&(n=[e]);var r=[];r=n?re(n[0])?this.$selection.itemsByIds(n):n:this.$selection.items;var o=[],i=[];r.forEach((function(e){var n=e.allLayers.map((function(t){return'style[data-id="'.concat(t.id,'"],style[data-id="').concat(t.id,'-drag"]')})).join(",");i.push(n),o.push(t.makeStyle(e))})),i.length&&this.refs.$head.$$(i).forEach((function(t){t.remove()}));var a=Nn.create("div"),c=a.html(o.join("")).createChildrenFragment();this.refs.$head.append(c)}},{key:Wo("removeSelectionDragStyleView"),value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e;ee(e)?n=e:null!==e&&(n=[e]),(n?re(n[0])?this.$selection.itemsByIds(n):n:this.$selection.items).forEach((function(e){t.removeDragStyleHeadOne(e,!0)}))}},{key:Wo("refreshSelectionDragStyleView"),value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e;ee(e)?n=e:null!==e&&(n=[e]),(n?re(n[0])?this.$selection.itemsByIds(n):n:this.$selection.items).forEach((function(e){t.refreshDragStyleHeadOne(e,!0)}))}},{key:"refresh",value:function(){this.load(),this.refreshStyleHead()}}])&&l6(n.prototype,r),o&&l6(n,o),e}(Uo);function v6(t){return(v6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b6(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m6(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k6(t,e){return!e||"object"!==v6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function O6(t){return(O6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j6(t,e){return(j6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var S6=function(t){function e(){return g6(this,e),k6(this,O6(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j6(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{StyleView:d6,SelectionToolView:P3,GuideLineView:M3,PathEditorView:x8,PathDrawView:W8,LayerAppendView:Y3,BrushDrawView:a6,GridLayoutLineView:I8}}},{key:"initState",value:function(){return{mode:"selection",left:$.z(),top:$.z(),width:$.px(1e4),height:$.px(1e4),cachedCurrentElement:{},html:""}}},{key:"template",value:function(){return"\n            <div class='element-view' ref='$body'>\n                <div class='canvas-view' ref='$view'></div>\n                <div class='drag-area-rect' ref='$dragAreaRect'></div>\n                <div class='pointer-rect' ref='$pointerRect' style='display:none'></div>\n                <StyleView ref='$styleView' />\n                <GuideLineView ref='$guideLineView' />\n                <GridLayoutLineView ref='$gridLayoutLineView' />\n                <SelectionToolView ref='$selectionTool' />\n                <LayerAppendView ref='$objectAddView' />\n                <PathEditorView ref='$pathEditorView' />\n                <PathDrawView ref='$pathDrawView' />\n                <BrushDrawView ref='$brushDrawView' />\n            </div>\n        "}},{key:"getScrollXY",value:function(){return{width:this.refs.$body.scrollWidth(),height:this.refs.$body.scrollHeight(),left:this.refs.$body.scrollLeft(),top:this.refs.$body.scrollTop()}}},{key:Wo("afterChangeMode"),value:function(){this.$el.attr("data-mode",this.$editor.mode)}},{key:Wo("refElement"),value:function(t,e){ae(e)&&e(this.getElement(t))}},{key:"getElement",value:function(t){return this.state.cachedCurrentElement[t]||(this.state.cachedCurrentElement[t]=this.refs.$view.$('[data-id="'.concat(t,'"]'))),this.state.cachedCurrentElement[t]}},{key:"checkEmptyElement",value:function(t){var e=Nn.create(t.target);return"selection"===this.state.mode&&!1===e.hasClass("element-item")&&!1===e.hasClass("selection-tool-item")&&!1===e.hasClass("point")&&!1===e.hasClass("handle")&&!1===e.hasClass("perspective-handle")&&!1===e.hasClass("transform-tool-item")&&!1===e.hasClass("transform-tool")&&!1===e.isTag("svg")&&!1===e.isTag("path")&&!1===e.isTag("textPath")&&!1===e.isTag("polygon")&&!1===e.isTag("text")&&!1===e.isTag("img")&&"true"!==e.attr("data-segment")}},{key:wr("$view")+$r("checkEmptyElement")+Ar("movePointer")+Ir("moveEndPointer"),value:function(t){if(this.$target=Nn.create(t.target),this.dragXY={x:t.xy.x,y:t.xy.y},this.rect=this.refs.$body.rect(),this.canvasOffset=this.refs.$view.rect(),this.canvasPosition={x:this.canvasOffset.left-this.rect.x,y:this.canvasOffset.top-this.rect.y},this.dragXY.x-=this.rect.x,this.dragXY.y-=this.rect.y,this.$editor.isSelectionMode()){var e={left:$.px(this.dragXY.x),top:$.px(this.dragXY.y),width:$.z(),height:$.z()};this.refs.$dragAreaRect.css(e),this.state.cachedCurrentElement={},this.$el.$$(".selected").forEach((function(t){return t.removeClass("selected")}))}}},{key:"movePointer",value:function(t,e){var n=this;this.$config.get("bodyEvent").shiftKey&&(e=t);var r={left:$.px(this.dragXY.x+(t<0?t:0)),top:$.px(this.dragXY.y+(e<0?e:0)),width:$.px(Math.abs(t)),height:$.px(Math.abs(e))};if(this.refs.$dragAreaRect.css(r),this.$editor.isSelectionMode()){var o=r.left,i=r.top,a=r.width,c=r.height,u={x:$.px(o.value-this.canvasPosition.x),y:$.px(i.value-this.canvasPosition.y),width:a,height:c};u.x2=$.px(u.x.value+u.width.value),u.y2=$.px(u.y.value+u.height.value);var s=this.$selection.currentArtboard;if(s){var l;Object.keys(u).forEach((function(t){u[t].div(n.$editor.scale)}));var f=s.checkInAreaForLayers(u);0===u.width.value&&0===u.height.value&&(f=[]),(l=this.$selection).select.apply(l,m6(f))&&this.selectCurrentForBackgroundView.apply(this,m6(f))}}}},{key:"moveEndPointer",value:function(t,e){var n=this,r=b6(this.refs.$dragAreaRect.styles("left","top","width","height").map((function(t){return $.parse(t)})),4),o=r[0],i=r[1],a=r[2],c=r[3],u={x:$.px(o.value-this.canvasPosition.x),y:$.px(i.value-this.canvasPosition.y),width:a,height:c};if(u.x2=$.px(u.x.value+u.width.value),u.y2=$.px(u.y.value+u.height.value),this.refs.$dragAreaRect.css({left:$.px(-1e4),top:$.z(),width:$.z(),height:$.z()}),this.$editor.isSelectionMode()){var s,l=this.$selection.currentArtboard,f=[];l?(Object.keys(u).forEach((function(t){u[t].div(n.$editor.scale)})),f=l.checkInAreaForLayers(u),0===u.width.value&&0===u.height.value&&(f=[l]),0===f.length&&l.checkInArea(u)&&(f=[l]),(s=this.$selection).select.apply(s,m6(f))&&this.selectCurrentForBackgroundView.apply(this,m6(f)),f.length||this.$selection.select()):this.$selection.select(),this.emit("history.refreshSelection")}this.sendHelpMessage(),this.emit("removeGuideLine")}},{key:"sendHelpMessage",value:function(){1===this.$selection.length&&this.$selection.current.is("svg-path","svg-brush","svg-polygon","svg-textpath")&&this.emit("addStatusBarMessage","Please click if you want to edit to path ")}},{key:hr("$view .element-item.text"),value:function(t){t.$dt.css("height","auto")}},{key:vr("$view .element-item.text"),value:function(t){t.$dt.css("height",void 0)}},{key:ir("$view .element-item.text"),value:function(t){var e=t.$dt.html(),n=t.$dt.text().trim(),r=t.$dt.attr("data-id"),o=t.$dt.rect(),i=[];this.$selection.items.filter((function(t){return t.id===r})).forEach((function(t){t.reset({content:e,text:n,height:$.px(o.height)}),i.push({id:t.id,content:e,text:n})})),this.emit("refreshContent",i),this.children.$selectionTool.initMoveType(),this.emit("refreshSelectionTool")}},{key:"checkEditMode",value:function(){return this.$editor.isSelectionMode()}},{key:"getPointer",value:function(t,e){return"<div class='pointer' data-number=\"".concat(e,'" style="transform: translate3d( calc(').concat(t.x,"px - 10px), calc(").concat(t.y,'px - 10px), 0px)" ></div>')}},{key:"getPointerRect",value:function(t){var e=t.a,n=e.x,r=e.y;return'\n        <svg overflow="visible" style=\'position: absolute; transform: translate3d('.concat(n,"px, ").concat(r,'px, 0px)\'>\n            <path fill="transparent" stroke="black" stroke-width="3" d="M ').concat(t.a.x-n,", ").concat(t.a.y-r," L ").concat(t.b.x-n,", ").concat(t.b.y-r," L ").concat(t.c.x-n,", ").concat(t.c.y-r," L ").concat(t.d.x-n,", ").concat(t.d.y-r,' Z" />\n        </svg>')}},{key:"getRenderPointers",value:function(t){return console.log(t.center),[this.getPointer(t.a,1),this.getPointer(t.b,2),this.getPointer(t.c,3),this.getPointer(t.d,4),this.getPointer(t.center,5)].join("")+this.getPointerRect(t)}},{key:wr("$view .element-item")+$r("checkEditMode")+Ar("calculateMovedElement")+Ir("calculateEndedElement"),value:function(t){if(this.startXY=t.xy,this.$element=t.$dt,this.$element.hasClass("text")&&this.$element.hasClass("selected"))return!1;var e=this.$element.attr("data-id");this.hasSVG=!1,t.shiftKey?this.$selection.toggleById(e):this.$selection.check({id:e})?this.$selection.current.is("svg-path","svg-brush","svg-textpath","svg-polygon")&&(this.hasSVG=!0):this.$selection.selectById(e),this.selectCurrent.apply(this,m6(this.$selection.items)),this.children.$selectionTool.initMoveType(),this.emit("history.refreshSelection")}},{key:"renderPointers",value:function(){var t=this,e=this.refs.$view.findAll(".element-item").map((function(e){return t.getRenderPointers(D(e,t.refs.$view.el))})).join("");this.refs.$pointerRect.updateDiff(e)}},{key:"calculateMovedElement",value:function(t,e){this.children.$selectionTool.refreshSelectionToolView(t,e,"move"),this.updateRealPosition()}},{key:"updateRealPositionByItem",value:function(t){var e=t.toBound(),n=e.x,r=e.y,o=e.width,i=e.height,a=this.getElement(t.id);a&&a.cssText("left: ".concat(n,";top:").concat(r,";width:").concat(o,";height:").concat(i,"; transform: ").concat(t.toTransformCSS().transform,";"))}},{key:"updateRealPosition",value:function(){var t=this;this.$selection.each((function(e){t.updateRealPositionByItem(e)})),this.emit("refreshRect")}},{key:Wo("refreshArtBoardName"),value:function(t,e){this.$el.$("[data-id='".concat(t,"']")).attr("data-title",e)}},{key:"calculateEndedElement",value:function(t,e){var n=this;if(0===t&&0===e){if(this.hasSVG)return void this.emit("openPathEditor")}else this.emit("removeGuideLine"),this.nextTick((function(){n.command("setAttributeForMulti","move item",n.$selection.cloneValue("x","y","width","height"))}))}},{key:Hr("$body"),value:function(){var t=this.$editor,e=t.canvasWidth,n=t.canvasHeight;return{"data-mode":t.mode,style:{position:"relative",width:$.px(e),height:$.px(n)}}}},{key:"selectCurrent",value:function(){var t=this;this.state.cachedCurrentElement={};var e=this.$el.$$(".selected");e&&e.forEach((function(t){return t.removeClass("selected")}));for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(r.length){var i=r.map((function(t){return"[data-id='".concat(t.id,"']")})).join(","),a=this.$el.$$(i);a.forEach((function(e){t.state.cachedCurrentElement[e.attr("data-id")]=e,e.addClass("selected")}))}else this.$selection.select(this.$selection.currentArtboard);this.emit("refreshSelectionTool")}},{key:"selectCurrentForBackgroundView",value:function(){var t=this;this.state.cachedCurrentElement={};var e=this.$el.$$(".selected");e&&e.forEach((function(t){return t.removeClass("selected")}));for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(r.length){var i=r.map((function(t){return"[data-id='".concat(t.id,"']")})).join(","),a=this.$el.$$(i);a.forEach((function(e){t.state.cachedCurrentElement[e.attr("data-id")]=e,e.addClass("selected")}))}this.emit("refreshSelection"),this.emit("refreshSelectionTool")}},{key:"modifyScale",value:function(){this.refs.$view.css({transform:"scale(".concat(this.$editor.scale,")")}),this.emit("makeSelectionTool",!0)}},{key:Wo("changeScale"),value:function(){this.modifyScale()}},{key:Wo("refreshCanvasForPartial","refreshSelectionStyleView","refreshSelectionDragStyleView"),value:function(t){var e=this;(t?[t]:this.$selection.items).forEach((function(t){e.updateElement(t)}))}},{key:"updateElement",value:function(t){t&&(t.updateFunction(this.getElement(t.id)),this.updateRealPositionByItem(t))}},{key:"updateTimelineElement",value:function(t){t&&(t.updateFunction(this.getElement(t.id)),this.updateRealPositionByItem(t))}},{key:Wo("playTimeline","moveTimeline"),value:function(){var t=this,e=this.$selection.currentProject;e.getSelectedTimeline().animations.map((function(t){return e.searchById(t.id)})).forEach((function(e){t.updateTimelineElement(e,!0,!1)}))}},{key:Wo("refreshAllCanvas"),value:function(){var t=(this.$selection.currentArtboard||{html:""}).html;this.setState({html:t},!1),this.refs.$view.updateDiff(t)}},{key:Wo("refreshAllElementBoundSize"),value:function(){var t=this,e=this.$selection.items.map((function(t){return t.is("artboard")?t:t.parent}));m6(new Set(e)).forEach((function(e){t.trigger("refreshElementBoundSize",e)}))}},{key:Wo("refreshElementBoundSize"),value:function(t){var e=this;t&&t.layers.forEach((function(t){if(t.isLayoutItem()){var n=e.getElement(t.id);if(n){var r=n.offsetRect(),o=r.x,i=r.y,a=r.width,c=r.height;t.reset({x:$.px(o),y:$.px(i),width:$.px(a),height:$.px(c)}),e.trigger("refreshSelectionStyleView",t,!0)}}e.trigger("refreshElementBoundSize",t)}))}},{key:ur("view")+Lr,value:function(){}},{key:cr("$view")+Lr,value:function(t){var e=Nn.create(t.target).attr("data-id");if(e)this.$selection.length?this.emit("drop.asset",{gradient:t.dataTransfer.getData("text/gradient"),color:t.dataTransfer.getData("text/color"),imageUrl:t.dataTransfer.getData("image/info")}):this.emit("drop.asset",{gradient:t.dataTransfer.getData("text/gradient"),color:t.dataTransfer.getData("text/color"),imageUrl:t.dataTransfer.getData("image/info")},e);else{var n=t.dataTransfer.getData("image/info");this.emit("dropImageUrl",n)}}}])&&w6(n.prototype,r),o&&w6(n,o),e}(Uo);function P6(t){return(P6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E6(t,e){return!e||"object"!==P6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _6(t){return(_6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C6(t,e){return(C6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var T6=function(t){function e(){return x6(this,e),E6(this,_6(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C6(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{NumberInputEditor:rR}}},{key:"template",value:function(){return"     \n      <div class='page-tools'>\n        <button type='button' ref='$minus'>".concat(jv.remove2,"</button>\n        <div class='select'>\n          <NumberInputEditor ref='$scale' min='10' max='240' step=\"1\" key=\"scale\" value=\"").concat(100*this.$editor.scale,"\" onchange=\"changeRangeEditor\" />\n        </div>\n        <label>%</label>\n        <button type='button' ref='$plus'>").concat(jv.add,"</button>        \n      </div>\n\n    ")}},{key:Wo("changeScaleValue"),value:function(t){t<=0&&(t=.01),t=I(100*t,100),this.children.$scale.setValue(t),this.emit("updateScale",t/100)}},{key:Wo("changeRangeEditor")+Dr(1e3),value:function(t,e){this.trigger("changeScaleValue",Math.floor(e/100))}},{key:er("$plus")+Lr+Mr,value:function(){this.trigger("changeScaleValue",this.$editor.scale+.25)}},{key:er("$minus")+Lr+Mr,value:function(){this.trigger("changeScaleValue",this.$editor.scale-.25)}}])&&$6(n.prototype,r),o&&$6(n,o),e}(Uo);function R6(t){return(R6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I6(t,e){return!e||"object"!==R6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L6(t){return(L6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M6(t,e){return(M6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var z6={"segment-move":"modify",modify:"modify",path:"path",transform:"transform"},B6=function(t){function e(){return V6(this,e),I6(this,L6(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M6(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{mode:"move",fill:null,stroke:null,"fill-opacity":null,"stroke-width":null,msg:this.$i18n("path.manager.msg")}}},{key:"components",value:function(){return cz}},{key:Wo("refreshSelection"),value:function(){var t=this.$selection.current;t&&(this.children.$fill.setValue(t.fill||"rgba(0, 0, 0, 0)"),this.children.$stroke.setValue(t.stroke||"rgba(0, 0, 0, 1)"),this.children.$fillOpacity.setValue(t["fill-opacity"]||$.number(1)),this.children.$strokeWidth.setValue(t["stroke-width"]||$.number(1)))}},{key:"template",value:function(){return this.$selection.current,"\n      <div class='path-manager'>\n        <div class='tools' ref='$mode' data-selected-value='".concat(this.state.mode,"'>\n            <button type=\"button\" data-value='modify' title='").concat(this.$i18n("path.manager.mode.modify"),"' > ").concat(jv.device_hub,"</button>\n            <button type=\"button\" data-value='path' title='").concat(this.$i18n("path.manager.mode.path"),"' > ").concat(jv.control_point,"</button>\n            <button type=\"button\" data-value='transform' title='").concat(this.$i18n("path.manager.mode.transform"),"' > ").concat(jv.format_shapes,"</button>\n        </div>\n        <div class='tools' ref='$flip'>\n            <button type=\"button\" data-value='flipX' title='").concat(this.$i18n("path.manager.mode.flipX"),"'>").concat(jv.flip,"</button>\n            <button type=\"button\" data-value='flipY' title='").concat(this.$i18n("path.manager.mode.flipY"),"'>").concat(jv.flip,"</button>\n            <button type=\"button\" data-value='flip' title='").concat(this.$i18n("path.manager.mode.flipOrigin"),"'>").concat(jv.flip,"</button>\n        </div>\n        <div class='tools'>      \n          <div >\n            <FillSingleEditor ref='$fill' simple=\"true\" label='").concat(this.$i18n("svg.item.property.fill"),"' key='fill' onchange=\"changeValue\" />\n          </div>\n\n\n          <div >\n            <FillSingleEditor ref='$stroke' simple=\"true\"  label='").concat(this.$i18n("svg.item.property.stroke"),"' key='stroke' onchange=\"changeValue\" />\n          </div>      \n\n          <div >\n            <NumberInputEditor \n              ref='$fillOpacity' \n              label='").concat(this.$i18n("svg.item.property.fillOpacity"),'\' \n              key=\'fill-opacity\' \n              value="1" \n              min="0"\n              max="1"\n              step="0.01"\n              calc="false"\n              unit="number" \n              onchange="changeValue" \n              />\n          </div>   \n\n          <div >\n            <NumberInputEditor \n              ref=\'$strokeWidth\' \n              label=\'').concat(this.$i18n("svg.item.property.strokeWidth"),'\' \n              key="stroke-width" \n              onchange="changeValue" />\n          </div>\n        </div>\n      </div>    \n    ')}},{key:Wo("setColorAsset"),value:function(t){var e=t.color;this.$el.isShow()&&(this.setState({stroke:e},!1),this.children.$stroke.setValue(e),this.updateData({stroke:e}),this.command("setAttribute","change color assets",{stroke:e},null,!0))}},{key:Wo("changeValue"),value:function(t,e,n){this.command("setAttribute","change path",D6({},t,e),null,!0),this.updateData(D6({},t,e))}},{key:Hr("$mode"),value:function(){return{"data-selected-value":z6[this.state.mode]}}},{key:"refresh",value:function(){this.bindData("$mode")}},{key:er("$flip button"),value:function(t){var e=t.$dt.attr("data-value");this.emit("changePathTransform",e)}},{key:er("$mode button"),value:function(t){var e=t.$dt.attr("data-value");this.updateData({mode:e}),this.refresh()}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.emit(this.state.changeEvent,t)}},{key:Wo("changePathManager"),value:function(t){this.setState({mode:t})}},{key:Wo("showPathManager"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.changeEvent=t.changeEvent||"changePathManager",this.setState(t),this.$el.show(),this.emit("addStatusBarMessage",this.state.msg),this.emit("change.mode.view","PathEditorView")}},{key:Wo("hidePathManager"),value:function(){this.$el.hide()}}])&&A6(n.prototype,r),o&&A6(n,o),e}(Uo);function F6(t){return(F6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function H6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N6(t,e){return!e||"object"!==F6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function K6(t){return(K6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W6(t,e){return(W6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var U6=function(t){function e(){return X6(this,e),N6(this,K6(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W6(t,e)}(e,t),n=e,(r=[{key:"initState",value:function(){return{tolerance:1,stroke:"black","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",msg:this.$i18n("path.manager.msg")}}},{key:"components",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G6(Object(n),!0).forEach((function(e){H6(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G6(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},cz)}},{key:Wo("refreshSelection"),value:function(){var t=this.$selection.current;t&&(this.children.$stroke.setValue(t.stroke||"rgba(0, 0, 0, 1)"),this.children.$strokeWidth.setValue(t["stroke-width"]||$.number(1)))}},{key:Wo("setColorAsset"),value:function(t){var e=t.color;this.$el.isShow()&&(this.setState({stroke:e},!1),this.children.$stroke.setValue(e),this.updateData({stroke:e}))}},{key:"template",value:function(){return"\n      <div class='draw-manager'>\n        <div class='tools'>   \n          <div >        \n            <label>".concat(this.$i18n("draw.manager.tolerance"),'</label>            \n            <NumberInputEditor \n              ref=\'$tolerance\' \n              key=\'tolerance\' \n              value="1" \n              min="0"\n              max="100"\n              step="0.01"\n              unit="number" \n              onchange="changeValue" \n            />\n          </div>              \n          <div >\n            <label>').concat(this.$i18n("svg.item.property.stroke"),'</label>          \n            <FillSingleEditor ref=\'$stroke\' simple="true" value="').concat(this.state.stroke,'" key=\'stroke\' onchange="changeValue" />\n          </div>                \n\n          <div >\n            <label>').concat(this.$i18n("svg.item.property.strokeWidth"),'</label>          \n            <NumberInputEditor \n              ref=\'$strokeWidth\' \n              key="stroke-width" \n              value="').concat(this.state["stroke-width"],'"              \n              onchange="changeValue" />\n          </div>      \n          \n\n          <div>\n            <label>').concat(this.$i18n("svg.item.property.lineCap"),'</label>          \n            <SelectEditor\n              ref=\'$strokeLineCap\' \n              key="stroke-linecap" \n              value="').concat(this.state["stroke-linecap"],'"                   \n              options="butt,round,square" \n              onchange="changeValue" \n            />\n          </div> \n          <div>\n            <label>').concat(this.$i18n("svg.item.property.lineJoin"),'</label>          \n            <SelectEditor \n              ref=\'$strokeLineJoin\' \n              key="stroke-linejoin" \n              value="').concat(this.state["stroke-linejoin"],'"                                 \n              options="miter,bevel,round" \n              onchange="changeValue" \n            />\n          </div>\n        </div>\n      </div>    \n    ')}},{key:Wo("changeValue"),value:function(t,e,n){this.updateData(H6({},t,e))}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.state.instance.trigger(this.state.changeEvent,t)}},{key:Wo("changePathManager"),value:function(t){this.setState({mode:t})}},{key:Wo("showDrawManager"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.changeEvent=t.changeEvent||"changeDrawManager",this.setState(t),this.$el.show(),this.emit("addStatusBarMessage",this.state.msg),this.emit("hidePathManager")}},{key:Wo("hideDrawManager"),value:function(){this.$el.hide()}}])&&Y6(n.prototype,r),o&&Y6(n,o),e}(Uo);function Z6(t){return(Z6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q6(t,e){return!e||"object"!==Z6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function t9(t){return(t9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function e9(t,e){return(e9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var n9=function(t){function e(){return q6(this,e),Q6(this,t9(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&e9(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{PathManager:B6,DrawManager:U6}}},{key:"template",value:function(){return"\n      <div class='page-subeditor'>\n        <PathManager />\n        <DrawManager />\n        <SelectionManager />\n      </div>\n    "}}])&&J6(n.prototype,r),o&&J6(n,o),e}(Uo);function r9(t){return(r9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a9(t,e){return!e||"object"!==r9(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c9(t){return(c9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u9(t,e){return(u9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s9=function(t){function e(){return o9(this,e),a9(this,c9(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u9(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{PageTools:T6,ElementView:S6,PageSubEditor:n9}}},{key:"afterRender",value:function(){this.emit("load.json")}},{key:"template",value:function(){return"\n      <div class='page-container' tabIndex=\"-1\">\n        <div class='page-view'>\n          <div class='page-lock scrollbar' ref='$lock'>\n            <ElementView ref='$elementView' />\n          </div>\n        </div>\n        \x3c!--<PageSubEditor /> --\x3e\n        <PageTools />\n      </div>\n    "}}])&&i9(n.prototype,r),o&&i9(n,o),e}(Uo);function l9(t){return(l9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y9(t,e){return!e||"object"!==l9(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h9(t){return(h9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d9(t,e){return(d9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v9=function(t){function e(){return f9(this,e),y9(this,h9(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d9(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return oJ}},{key:"template",value:function(){return"\n      <div class='tool-menu center'>\n        <div class='items'>\n          <div class='draw-items' ref='$items' data-selected-value=\"".concat(this.$editor.layout,"\">\n\n            <SelectTool />\n            <span data-item='css'>\n              <AddRect />\n              <AddCircle />         \n              <AddText />\n              <AddImage />\n              <AddVideo />\n            </span>            \n            <span data-item='svg'>\n              <div class='divider'></div>\n              <AddDrawPath />\n              <AddPath />\n              <AddSVGRect />\n              <AddSVGCircle />            \n              \x3c!-- <AddSVGText /> --\x3e\n              <AddSVGTextPath />\n              <AddPolygon />\n            </span>\n          </div>\n        </div>\n\n      </div>\n    ")}},{key:Wo("changedEditorlayout"),value:function(){this.refs.$items.attr("data-selected-value",this.$editor.layout)}},{key:Wo("noneSelectMenu"),value:function(){var t=this.refs.$items.$(".selected");t&&t.removeClass("selected")}},{key:er("$items button"),value:function(t){t.$dt.onlyOneClass("selected")}}])&&p9(n.prototype,r),o&&p9(n,o),e}(Uo);function b9(t){return(b9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w9(t,e){return!e||"object"!==b9(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k9(t){return(k9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O9(t,e){return(O9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j9=function(t){function e(){return m9(this,e),w9(this,k9(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O9(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n      <div class='logo'>\n        <div class='text'>EASY</div>\n        <div class='extra-text'>LOGIC</div>\n        <div class='image'></div>\n      </div>    \n    "}}])&&g9(n.prototype,r),o&&g9(n,o),e}(Uo);function S9(t){return(S9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $9(t,e){return!e||"object"!==S9(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function E9(t){return(E9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _9(t,e){return(_9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var C9=function(t){function e(){return P9(this,e),$9(this,E9(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_9(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return oJ}},{key:"template",value:function(){return"\n      <div class='external-tool-menu  right'>\n        <div class='items'>\n          <Download />\n          <Save />\n          <Github />\n          <Manual />\n          \x3c!-- LoginButton /--\x3e\n          \x3c!-- SignButton /--\x3e\n        </div>                \n      </div>\n    "}}])&&x9(n.prototype,r),o&&x9(n,o),e}(Uo);function T9(t){return(T9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V9(t,e){return!e||"object"!==T9(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function A9(t){return(A9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I9(t,e){return(I9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var L9=function(t){function e(){return R9(this,e),V9(this,A9(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I9(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n        <div class='add-image-button'>\n            <input type='file' accept='image/*' multiple=\"true\" ref='$file' class='embed-file-input'/>\n            <input type='file' accept='video/*' multiple=\"true\" ref='$video' class='embed-video-input'/>\n        </div>\n        "}},{key:fr("$file"),value:function(t){var e=this;this.refs.$file.files.forEach((function(t){e.emit("updateImage",t,e.state.rect)}))}},{key:fr("$video"),value:function(t){var e=this;this.refs.$video.files.forEach((function(t){e.emit("updateVideo",t,e.state.rect)}))}},{key:Wo("openImage"),value:function(t){this.state.rect=t,this.refs.$file.click()}},{key:Wo("openVideo"),value:function(t){this.state.rect=t,this.refs.$video.click()}}])&&D9(n.prototype,r),o&&D9(n,o),e}(Uo);function M9(t){return(M9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F9(t,e){return!e||"object"!==M9(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function G9(t){return(G9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function H9(t,e){return(H9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var X9=Object.keys(qo),Y9=function(t){function e(){return z9(this,e),F9(this,G9(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H9(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectEditor:yC}}},{key:"template",value:function(){var t=this,e=X9.map((function(e){var n=t.$i18n("app.lang.".concat(e));return"".concat(e,":").concat(n)}));return"\n            <div class='status-selector'>\n                <label>".concat(this.$i18n("app.label.lang"),"</label>\n                <div class='item'>\n                    <SelectEditor \n                        ref='$locale' \n                        options=\"").concat(e.join(","),'" \n                        value="').concat(this.$editor.locale,'" \n                        onchange="changeLocale"\n                    /> \n                </div>\n            </div>\n        ')}},{key:Wo("changeLocale"),value:function(t,e){this.emit("setLocale",e)}}])&&B9(n.prototype,r),o&&B9(n,o),e}(Uo);function N9(t){return(N9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U9(t,e){return!e||"object"!==N9(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Z9(t){return(Z9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q9(t,e){return(q9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var J9=["dark","light","toon"],Q9=function(t){function e(){return K9(this,e),U9(this,Z9(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q9(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectEditor:yC}}},{key:"template",value:function(){var t=this,e=J9.map((function(e){var n=t.$i18n("app.theme.".concat(e));return"".concat(e,":").concat(n)}));return"\n            <div class='status-selector'>\n                <label>".concat(this.$i18n("app.label.theme"),"</label>\n                <div class='item'>\n                    <SelectEditor \n                        ref='$locale' \n                        options=\"").concat(e.join(","),'" \n                        value="').concat(this.$editor.theme,'" \n                        onchange="changeItem"\n                    /> \n                </div>\n            </div>\n        ')}},{key:Wo("changeItem"),value:function(t,e){this.emit("switchTheme",e)}}])&&W9(n.prototype,r),o&&W9(n,o),e}(Uo);function t7(t){return(t7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r7(t,e){return!e||"object"!==t7(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o7(t){return(o7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i7(t,e){return(i7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a7=function(t){function e(){return e7(this,e),r7(this,o7(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i7(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{SelectEditor:yC}}},{key:"template",value:function(){var t=this,e=["all","css","svg"].map((function(e){var n=t.$i18n("app.layout.".concat(e));return"".concat(e,":").concat(n)}));return"\n            <div class='status-selector'>\n                <label>".concat(this.$i18n("app.label.layout"),"</label>\n                <div class='item'>\n                    <SelectEditor \n                        ref='$locale' \n                        options=\"").concat(e,'" \n                        value="').concat(this.$editor.layout,'" \n                        onchange="changeEditorLayoutValue"\n                    /> \n                </div>\n            </div>\n        ')}},{key:Wo("changeEditorLayoutValue"),value:function(t,e){this.emit("setEditorLayout",e)}}])&&n7(n.prototype,r),o&&n7(n,o),e}(Uo);function c7(t){return(c7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l7(t,e){return!e||"object"!==c7(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f7(t){return(f7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p7(t,e){return(p7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y7=function(t){function e(){return u7(this,e),l7(this,f7(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p7(t,e)}(e,t),n=e,(r=[{key:"components",value:function(){return{LayoutSelector:a7,LanguageSelector:Y9,ThemeSwitcher:Q9}}},{key:"template",value:function(){return"\n            <div class='status-bar'>\n                <div class='message-view' ref='$msg'></div>\n                <div class='tool-view' ref='$tool'>\n                    <LayoutSelector />\n                    <ThemeSwitcher />\n                    <LanguageSelector />\n                </div>\n            </div>\n        "}},{key:"initState",value:function(){return{msg:""}}},{key:Hr("$msg"),value:function(){return{text:this.state.msg}}},{key:Wo("addStatusBarMessage"),value:function(t){this.setState({msg:t})}}])&&s7(n.prototype,r),o&&s7(n,o),e}(Uo);function h7(t){return(h7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b7(t,e){return!e||"object"!==h7(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m7(t){return(m7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g7(t,e){return(g7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w7=function(t){function e(){return d7(this,e),b7(this,m7(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g7(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n            <div class='notification-view'>\n            </div>\n        "}},{key:Sr("$el"),value:function(t){Nn.create(t.target).remove()}},{key:er("$el .item > .icon"),value:function(t){t.$dt.parent().remove()}},{key:"getMessageTemplate",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return("\n        <div class='item ".concat(t,"' style='transition-duration: ").concat(r,"ms;'>\n            <div class='title'>").concat(e,"</div> \n            <div class='description'>").concat(n,"</div>\n            <span class='icon'>").concat(jv.close,"</span>\n        </div>\n    "))}},{key:Wo("notify"),value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3,o=Nn.createByHTML(this.getMessageTemplate(t,e,n,r));this.$el.prepend(o),setTimeout((function(t){t.css("opacity",0)}),100,o)}}])&&v7(n.prototype,r),o&&v7(n,o),e}(Uo);function k7(t){return(k7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S7(t,e){return!e||"object"!==k7(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P7(t){return(P7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x7(t,e){return(x7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $7=function(t){function e(){return O7(this,e),S7(this,P7(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x7(t,e)}(e,t),n=e,(r=[{key:"template",value:function(){return"\n      <div class='window-background'>\n        <div class='window ".concat(this.getClassName(),"'>\n            <div class='window-title' ref=\"$title\">\n                <label>").concat(this.getTitle(),'</label>\n                <span class="tools">\n                  ').concat(this.getTools(),"\n                  <button type='button' class='close' ref='$close'>").concat(jv.close,"</button>\n                </span>\n            </div>\n            <div class='window-body'>").concat(this.getBody(),"</div>\n        </div>\n      </div>\n        ")}},{key:"getClassName",value:function(){return""}},{key:"getTitle",value:function(){return""}},{key:"getTools",value:function(){return""}},{key:"getBody",value:function(){return""}},{key:er("$close"),value:function(){this.$el.hide()}},{key:"show",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.$el.show("block")}},{key:"hide",value:function(){this.$el.hide()}}])&&j7(n.prototype,r),o&&j7(n,o),e}(Uo);function E7(t){return(E7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T7(t,e){return!e||"object"!==E7(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R7(t){return(R7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D7(t,e){return(D7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var V7=function(t){function e(){return _7(this,e),T7(this,R7(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D7(t,e)}(e,t),n=e,(r=[{key:"getClassName",value:function(){return"export-window"}},{key:"getTitle",value:function(){return"Export"}},{key:"initState",value:function(){return{selectedIndex:1}}},{key:"getBody",value:function(){return'\n        <div class="tab number-tab" ref="$tab">\n            <div class="tab-header full" ref="$header">\n                <div class="tab-item selected" data-value="1">\n                    <label>HTML</label>\n                </div>\n                <div class="tab-item" data-value="2">\n                    <label>CSS</label>\n                </div>   \n                <div class="tab-item" data-value="3">\n                    <label>SVG</label>\n                </div>                                     \n                <div class="tab-item" data-value="4">\n                    <label>Assets</label>\n                </div>\n                <div class="tab-item" data-value="5">\n                    <label>Animation Player</label>\n                </div>                                                                                  \n                <div class="tab-item" data-value="6">\n                    <label>SVG Image</label>\n                </div>     \n                <div class="tab-item" data-value="7">\n                    <label>SVG Image Preview</label>\n                </div>                        \n            </div>\n            <div class="tab-body" ref="$body">\n                <div class="tab-content selected" data-value="1">\n                    <pre ref=\'$html\'></pre>\n                </div>\n                <div class=\'tab-content\' data-value=\'2\'>\n                    <pre ref=\'$css\'></pre>\n                </div>                        \n                <div class=\'tab-content\' data-value=\'3\'>\n                    <pre ref=\'$svg\'></pre>\n                </div>\n                <div class="tab-content" data-value="4">\n                    <pre ref=\'$assets\'></pre>\n                </div>\n                <div class="tab-content" data-value="5">\n                    <pre ref=\'$js\'></pre>\n                </div>     \n                <div class="tab-content" data-value="6">\n                    <pre ref=\'$svgimage\'></pre>\n                </div>                                                                       \n                <div class="tab-content" data-value="7">\n                    <div ref=\'$svgimagePreview\'></div>\n                </div>                                                       \n            </div>\n      </div>\n        '}},{key:Wo("showExportWindow"),value:function(){this.show(),this.refresh()}},{key:"refresh",value:function(){var t=this,e=this.$selection.currentProject||{layers:[]},n="\n".concat(this.makeStyle(e),"\n").concat(e.artboards.map((function(e){return t.makeStyle(e).replace(/\n/g,"\n\t")})).join("\n"),"\n");this.refs.$css.text(n);var r="\n".concat(e.artboards.map((function(t){return t.html})).join("\n"),"\n        ");this.refs.$html.text(r);var o=Sa.generate(this.$editor);if(this.refs.$js.text(o.js),this.$selection.currentArtboard){var i=Sa.generateSVG(this.$editor,this.$selection.currentArtboard);this.refs.$svgimage.text(i),this.refs.$svgimagePreview.html(Nn.createByHTML(i))}else this.refs.$svgimage.empty(),this.refs.$svgimagePreview.empty()}},{key:"makeProjectStyle",value:function(t){var e=t.toKeyframeString(),n=t.toRootVariableCSS();return"\n        :root {\n            ".concat(de(n),"\n        }\n\n        /* keyframe */\n        ").concat(e,"\n        ")}},{key:"makeStyle",value:function(t){var e=this;if(t.is("project"))return this.makeProjectStyle(t);var n=t.generateView("[data-id='".concat(t.id,"']"));return"\n        ".concat(n,"\n        ")+t.layers.map((function(t){return e.makeStyle(t)})).join("")}},{key:er("$header .tab-item"),value:function(t){var e=+t.$dt.attr("data-value");this.state.selectedIndex!==e&&(this.$el.$$('[data-value="'.concat(this.state.selectedIndex,'"]')).forEach((function(t){return t.removeClass("selected")})),this.$el.$$('[data-value="'.concat(e,'"]')).forEach((function(t){return t.addClass("selected")})),this.setState({selectedIndex:e},!1))}},{key:Wo("showExportWindow"),value:function(){this.show(),this.refresh()}}])&&C7(n.prototype,r),o&&C7(n,o),e}($7);function A7(t){return(A7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M7(t,e){return!e||"object"!==A7(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function z7(t){return(z7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B7(t,e){return(B7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var F7=function(t){function e(){return I7(this,e),M7(this,z7(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B7(t,e)}(e,t),n=e,(r=[{key:"getClassName",value:function(){return"login-window"}},{key:"getTitle",value:function(){return"Login"}},{key:"getBody",value:function(){return'\n            <div >\n                <label>email <input type="text" ref="$email" /></label>\n                <label>password <input type="text" ref="$password" /></label>\n                <button type="button" ref=\'$login\'>Login</button>\n            </div>\n        '}},{key:er("$login"),value:function(t){var e=this,n=this.refs.$email.value,r=this.refs.$password.value;firebase.auth().signInWithEmailAndPassword(n,r).then((function(t){e.$editor.setUser(t),e.hide()})).catch((function(t){t.code,t.message,console.log(t)}))}},{key:Wo("showLoginWindow"),value:function(){this.show()}}])&&L7(n.prototype,r),o&&L7(n,o),e}($7);function G7(t){return(G7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y7(t,e){return!e||"object"!==G7(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N7(t){return(N7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function K7(t,e){return(K7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var W7=function(t){function e(){return H7(this,e),Y7(this,N7(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K7(t,e)}(e,t),n=e,(r=[{key:"getClassName",value:function(){return"sign-window"}},{key:"getTitle",value:function(){return"Sign"}},{key:"getBody",value:function(){return'\n            <div >\n                <label>fullname <input type="text" ref="$fullname" /></label>\n                <label>email <input type="text" ref="$email" /></label>\n                <label>password <input type="text" ref="$password" /></label>\n                <button type="button" ref=\'$register\'>Register</button>\n            </div>\n        '}},{key:er("$register"),value:function(){console.log(firebase);var t=this.refs.$email.value,e=this.refs.$password.value;firebase.auth().createUserWithEmailAndPassword(t,e).catch((function(t){t.code,t.message,console.log(t)}))}},{key:Wo("showSignWindow"),value:function(){this.show()}}])&&X7(n.prototype,r),o&&X7(n,o),e}($7);function U7(t){return(U7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J7(t,e){return!e||"object"!==U7(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Q7(t){return(Q7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ttt(t,e){return(ttt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ett=new Set;Wl.forEach((function(t){ett.add(t.category)}));var ntt={};ett.forEach((function(t){Wl.filter((function(e){return e.category===t})).forEach((function(t){ntt[t.category]||(ntt[t.category]=[]),ntt[t.category].push(t)}))}));var rtt={ARROWRIGHT:"→",ARROWLEFT:"←",ARROWUP:"↑",ARROWDOWN:"→",BACKSPACE:"⌫",CMD:"⌘"},ott=Kl(),itt={ShortcutWindow:function(t){function e(){return Z7(this,e),J7(this,Q7(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ttt(t,e)}(e,t),n=e,(r=[{key:"getClassName",value:function(){return"shortcut-window"}},{key:"getTitle",value:function(){return"ShortCuts"}},{key:"getKeyString",value:function(t,e){return(e[t]||e.key).split("+").map((function(t){return t.trim()})).map((function(t){var e=t.toUpperCase();return("<span>".concat(rtt[e]||e,"</span>"))})).join(" + ")}},{key:"getTemplateForShortcutItem",value:function(t){return"\n            <div class='shortcut-view-item'>\n                <div class='title'>".concat(t.description,"</div>\n                <div class='os-item'>").concat(this.getKeyString(ott,t),"</div>\n            </div>                        \n        ")}},{key:"getTemplateForCategory",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return"\n            <div class='item'>\n                <h2>".concat(t,"</h2>\n                <div>\n                    ").concat(n.map((function(t){return e.getTemplateForShortcutItem(t)})).join(""),"\n                </div>\n            </div>\n        ")}},{key:"getTemplateForLayer",value:function(){return"\n            <div class='item'>\n                <h2>Layer</h2>\n                <div>\n                    <div class='shortcut-view-item'>\n                        <div class='title'>\n                            Add Rect\n                            <span class='description'>fdsafdsfdf</span>\n                        </div>\n\n                        <div class='os-item mac'><span>CTRL</span>+<span>R</span></div>\n                        <div class='os-item win'>R</div>\n                        <div class='os-item linux'>R</div>\n                    </div>\n                </div>\n            </div>\n        "}},{key:"getBody",value:function(){var t=this;return('\n        <div class="list">\n            '.concat(Object.keys(ntt).map((function(e){return t.getTemplateForCategory(e,ntt[e])})).join(""),"\n        </div>\n        "))}},{key:Wo("showShortcutWindow"),value:function(){this.show()}}])&&q7(n.prototype,r),o&&q7(n,o),e}($7),SignWindow:W7,LoginWindow:F7,ExportWindow:V7};function att(t){return(att="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ctt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function utt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function stt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ltt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ftt(t,e){return!e||"object"!==att(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ptt(t,e,n){return(ptt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ytt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ytt(t){return(ytt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function htt(t,e){return(htt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var dtt=["TEXTAREA","INPUT","SELECT"],vtt=function(t){function e(){return stt(this,e),ftt(this,ytt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&htt(t,e)}(e,t),n=e,(r=[{key:"initialize",value:function(){ptt(ytt(e.prototype),"initialize",this).call(this);var t=Nn.body();t.attr("data-theme",this.$editor.theme),t.addClass(navigator.userAgent.includes("Windows")?"ua-window":"ua-default")}},{key:"initState",value:function(){return{hideLeftPanel:!1,hideRightPanel:!1,leftSize:340,rightSize:260}}},{key:Wo("changed.locale"),value:function(){this.rerender()}},{key:"template",value:function(){return"\n      <div class=\"layout-main\">\n        <div class='layout-top' ref='$top'>\n\n        </div>\n        <div class=\"layout-middle\" ref='$middle'>\n          <div class=\"layout-header\" ref='$headerPanel'>\n              <ToolMenu />    \n              <PageSubEditor />      \n          </div>        \n          <div class=\"layout-body\" ref='$bodyPanel'>\n            <CanvasView />        \n          </div>                           \n          <div class='layout-left' ref='$leftPanel'>\n            <ObjectList />\n          </div>\n          <div class=\"layout-right\" ref='$rightPanel'>\n            <Inspector />\n          </div>\n\n          <div class='layout-footer'>\n            <TimelineProperty />\n          </div>   \n          <div class='splitter' ref='$splitter'></div>\n          <button type=\"button\" class='toggleLeft' ref='$toggleLeftButton'></button>\n          <button type=\"button\" class='toggleRight' ref='$toggleRightButton'></button>\n        </div>\n        \n        <StatusBar />\n\n        <FillPopup />\n        <ColorPickerPopup  />\n        <BoxShadowPropertyPopup />\n        <BackgroundImagePositionPopup />\n        <TextShadowPropertyPopup />\n        <AnimationPropertyPopup />\n        <TransitionPropertyPopup />\n        <KeyframePopup />\n        <ClipPathPopup />\n        <SVGPropertyPopup />\n        <SelectorPopup />\n        <ImageSelectPopup />\n        <GradientPickerPopup />\n        <FillPickerPopup />\n        <PatternInfoPopup />\n        <SVGFilterPopup />\n        <ExportWindow />\n        <ShortcutWindow />\n        \x3c!-- LoginWindow / --\x3e\n        \x3c!-- SignWindow / --\x3e\n        <ImageFileView />\n        <NotificationView />\n      </div>\n    "}},{key:Hr("$headerPanel"),value:function(){var t="".concat(this.state.leftSize,"px"),e="".concat(this.state.rightSize,"px");return this.state.hideLeftPanel&&(t="0px"),this.state.hideRightPanel&&(e="0px"),{style:{left:t,right:e}}}},{key:Hr("$splitter"),value:function(){var t="".concat(this.state.leftSize,"px");return this.state.hideLeftPanel&&(t="0px"),{style:{left:t}}}},{key:Hr("$leftPanel"),value:function(){var t="0px",e=$.px(this.state.leftSize);return this.state.hideLeftPanel&&(t="-".concat(this.state.leftSize,"px")),{style:{left:t,width:e}}}},{key:Hr("$toggleLeftButton"),value:function(){var t="0px",e=jv.arrowRight;return!1===this.state.hideLeftPanel&&(t="".concat(this.state.leftSize,"px"),e=jv.arrowLeft),{style:{left:t},html:e}}},{key:Hr("$toggleRightButton"),value:function(){var t="0px",e=jv.arrowLeft;return!1===this.state.hideRightPanel&&(t="".concat(this.state.rightSize,"px"),e=jv.arrowRight),{style:{right:t},html:e}}},{key:Hr("$rightPanel"),value:function(){var t="0px";return this.state.hideRightPanel&&(t="-".concat(this.state.rightSize,"px")),{style:{right:t}}}},{key:Hr("$bodyPanel"),value:function(){var t="".concat(this.state.leftSize,"px"),e="".concat(this.state.rightSize,"px");return this.state.hideLeftPanel&&(t="0px"),this.state.hideRightPanel&&(e="0px"),{style:{left:t,right:e}}}},{key:"components",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ctt(Object(n),!0).forEach((function(e){utt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ctt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},itt,{},q5,{ObjectList:G1,Inspector:M0,ToolMenu:v9,PageSubEditor:n9,CanvasView:s9,LogoView:j9,ExternalToolMenu:C9,ImageFileView:L9,StatusBar:y7,TimelineProperty:zB,PreviewToolMenu:b1,NotificationView:w7})}},{key:wr("$splitter")+Ar("moveSplitter")+Ir("moveEndSplitter"),value:function(){this.minSize=this.$theme("left_size"),this.maxSize=this.$theme("left_max_size"),this.leftSize=$.parse(this.refs.$splitter.css("left")).value}},{key:"moveSplitter",value:function(t){this.setState({leftSize:Math.max(Math.min(this.leftSize+t,this.maxSize),this.minSize)})}},{key:"refresh",value:function(){this.bindData("$splitter"),this.bindData("$headerPanel"),this.bindData("$leftPanel"),this.bindData("$rightPanel"),this.bindData("$toggleRightButton"),this.bindData("$toggleLeftButton"),this.bindData("$bodyPanel"),this.emit("resizeEditor")}},{key:er("$toggleRightButton"),value:function(){this.toggleState("hideRightPanel")}},{key:er("$toggleLeftButton"),value:function(){this.toggleState("hideLeftPanel")}},{key:Wo("changeTheme"),value:function(){Nn.body().attr("data-theme",this.$editor.theme)}},{key:Wo("toggleFooter"),value:function(t){this.$el.toggleClass("show-footer",t)}},{key:Sr("$el .layout-footer"),value:function(t){this.emit("toggleFooterEnd")}},{key:Wo("refreshAll"),value:function(){this.emit("refreshProjectList"),this.trigger("refreshAllSelectProject")}},{key:Wo("refreshAllSelectProject"),value:function(){this.emit("refreshArtBoardList"),this.emit("refreshArtboard")}},{key:ur("$middle")+Lr,value:function(t){}},{key:cr("$middle")+Lr,value:function(t){this.emit("fileDropItems",Px.getAllDropItems(t))}},{key:"isNotFormElement",value:function(t){var e=t.target.tagName;return!dtt.includes(e)&&"true"!==Nn.create(t.target).attr("contenteditable")}},{key:or("document")+$r("isNotFormElement"),value:function(t){this.emit("keymap.keydown",t)}},{key:ir("document")+$r("isNotFormElement"),value:function(t){this.emit("keymap.keyup",t)}}])&&ltt(n.prototype,r),o&&ltt(n,o),e}(Uo);function btt(t){return(btt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mtt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gtt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mtt(Object(n),!0).forEach((function(e){wtt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mtt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wtt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ktt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ott(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jtt(t,e){return!e||"object"!==btt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Stt(t,e,n){return(Stt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ptt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ptt(t){return(Ptt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xtt(t,e){return(xtt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $tt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ett(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _tt=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$tt(Object(n),!0).forEach((function(e){Ett(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$tt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Pl,{},om,{BackgroundImage:Bs,BorderImage:function(t){function e(){return ktt(this,e),jtt(this,Ptt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xtt(t,e)}(e,t),n=e,o=[{key:"parse",value:function(t){return new e(t)}},{key:"parseStyle",value:function(t){var n=null;if(t["border-image"]){var r=fn(t["border-image"]);r.str.match(/((linear\-gradient|repeating\-linear\-gradient|radial\-gradient|repeating\-radial\-gradient|conic\-gradient|repeating\-conic\-gradient|url)\(([^\)]*)\))/gi).forEach((function(o,i){var a=null;o=yn(o,r.matches);var c=t["border-image"].replace(o,"").split(" ").map((function(t){return $.parse(t)}));o.includes("repeating-linear-gradient")?a=Vu.parse(o):o.includes("linear-gradient")?a=Pu.parse(o):o.includes("repeating-radial-gradient")?a=rs.parse(o):o.includes("radial")?a=Wu.parse(o):o.includes("repeating-conic-gradient")?a=xs.parse(o):o.includes("conic")?a=ms.parse(o):o.includes("url")&&(a=fu.parse(o)),n=new e({type:a.type,image:a});var u=c.filter((function(t){return ce(t.value)}));1===u.length?n.reset({slice:{top:u[0].clone(),bottom:u[0].clone(),left:u[0].clone(),right:u[0].clone()}}):2===u.length?n.reset({slice:{top:u[0].clone(),bottom:u[0].clone(),left:u[1].clone(),right:u[1].clone()}}):3===u.length?n.reset({slice:{top:u[0].clone(),bottom:u[2].clone(),left:u[1].clone(),right:u[1].clone()}}):4===u.length&&n.reset({slice:{top:u[0].clone(),bottom:u[2].clone(),left:u[3].clone(),right:u[1].clone()}})}))}return n}}],(r=[{key:"addImageResource",value:function(t){return this.clear("image-resource"),this.addItem("image-resource",t)}},{key:"addGradient",value:function(t){return this.addImageResource(t)}},{key:"setImageUrl",value:function(t){t.images&&t.images.length&&this.reset({type:"image",image:this.createImage(t.images[0])})}},{key:"createImage",value:function(t){return new fu({url:t})}},{key:"setGradient",value:function(t){this.reset({type:t.type,image:this.createGradient(t,this.json.image)})}},{key:"createGradient",value:function(t,e){var n=t.colorsteps,r=t.angle,o=t.radialType,i=t.radialPosition,a=e.toJSON();switch(delete a.itemType,delete a.type,t.type){case"static-gradient":return new qc(gtt({},a,{colorsteps:n}));case"linear-gradient":return new Pu(gtt({},a,{colorsteps:n,angle:r}));case"repeating-linear-gradient":return new Vu(gtt({},a,{colorsteps:n,angle:r}));case"radial-gradient":return new Wu(gtt({},a,{colorsteps:n,radialType:o,radialPosition:i}));case"repeating-radial-gradient":return new rs(gtt({},a,{colorsteps:n,radialType:o,radialPosition:i}));case"conic-gradient":return new ms(gtt({},a,{colorsteps:n,angle:r,radialPosition:i}));case"repeating-conic-gradient":return new xs(gtt({},a,{colorsteps:n,angle:r,radialPosition:i}))}return new Fc}},{key:"getDefaultObject",value:function(){return Stt(Ptt(e.prototype),"getDefaultObject",this).call(this,{itemType:"border-image",checked:!1,repeat:"stretch",slice:{},width:{},image:qc.create()})}},{key:"convert",value:function(t){return Object.keys(t.slice).forEach((function(e){t.slice[e]=$.parse(t.slice[e])})),t}},{key:"toBorderImageOffsetCSS",value:function(){var t=this;return Object.keys(this.json.offset).map((function(e){return t.json.offset[e].toString()})).join(" ")}},{key:"toBorderImageCSS",value:function(){if(!this.json.image)return{};var t=this.json.image.toString();return{"border-image-source":"".concat(t)}}},{key:"toBorderImageRepeatCSS",value:function(){return this.json.repeat?{"border-image-repeat":"".concat(this.json.repeat)}:{}}},{key:"toBorderImageWidthCSS",value:function(){var t=this;if(!this.json.width)return{};if(0===Object.keys(this.json.width).filter((function(e){return t.json.width[e].value>0})).length)return{};var e=Object.keys(this.json.width).map((function(e){return t.json.width[e].toString()})).join(" ");return{"border-image-width":"".concat(e)}}},{key:"toBorderImageSliceCSS",value:function(){var t=this;if(!this.json.slice)return{};var e=Object.keys(this.json.slice).map((function(e){var n=t.json.slice[e];return n.isPercent()?n.toString():n.value})).join(" ");return{"border-image-slice":"".concat(e)}}},{key:"toCSS",value:function(){return gtt({},this.toBorderImageCSS(),{},this.toBorderImageRepeatCSS(),{},this.toBorderImageSliceCSS(),{},this.toBorderImageWidthCSS())}},{key:"toString",value:function(){return Ut(this.toCSS(),(function(t,e){return"".concat(t,": ").concat(e)})).join(";")}},{key:"image",get:function(){return this.json.image},set:function(t){this.json.image=t}}])&&Ott(n.prototype,r),o&&Ott(n,o),e}(ac),BoxShadow:Qv});function Ctt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ttt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ctt(Object(n),!0).forEach((function(e){Rtt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ctt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rtt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dtt=Ttt({createCSSEditor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"white"};return Of(Ttt({components:{CSSEditor:vtt},template:"<div><CSSEditor /></div>"},t))},CSSEditor:vtt},_tt,{},{ColorStep:_c,ConicGradient:ms,LinearGradient:Pu,RadialGradient:Wu,RepeatingConicGradient:xs,RepeatingLinearGradient:Vu,RepeatingRadialGradient:rs,URLImageResource:fu},{},G_,{},{AssetParser:va,PathGenerator:s8,PathParser:Vi,PathStringManager:Gi,Point:xi,SegmentManager:Z3,PolygonParser:Pm},{Length:$});function Vtt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Att(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Itt(){return new Dtt.createCSSEditor}e.default=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vtt(Object(n),!0).forEach((function(e){Att(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vtt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({version:"0.10.0"},jf,{},Qh,{},Dtt,{startEditor:Itt});window.EasylogicEditor=Itt(),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/service-worker.js").then((function(t){console.log("SW registered: ",t)})).catch((function(t){console.log("SW registration failed: ",t)}))}))}])}));