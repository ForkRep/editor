{"version":3,"sources":["webpack://EasylogicStudio/webpack/universalModuleDefinition","webpack://EasylogicStudio/webpack/bootstrap","webpack://EasylogicStudio/./src/util/functions/func.js","webpack://EasylogicStudio/./src/util/functions/formatter.js","webpack://EasylogicStudio/./src/util/functions/create.js","webpack://EasylogicStudio/./src/util/functions/matrix.js","webpack://EasylogicStudio/./src/util/functions/math.js","webpack://EasylogicStudio/./src/util/functions/fromLAB.js","webpack://EasylogicStudio/./src/util/functions/fromRGB.js","webpack://EasylogicStudio/./src/util/functions/fromCMYK.js","webpack://EasylogicStudio/./src/util/functions/fromHSV.js","webpack://EasylogicStudio/./src/util/functions/fromHSL.js","webpack://EasylogicStudio/./src/util/functions/fromYCrCb.js","webpack://EasylogicStudio/./src/util/ColorNames.js","webpack://EasylogicStudio/./src/util/functions/parser.js","webpack://EasylogicStudio/./src/util/functions/mixin.js","webpack://EasylogicStudio/./src/util/Color.js","webpack://EasylogicStudio/./src/util/HueColor.js","webpack://EasylogicStudio/./src/util/DomDiff.js","webpack://EasylogicStudio/./src/editor/unit/Length.js","webpack://EasylogicStudio/./src/util/Dom.js","webpack://EasylogicStudio/./src/util/Event.js","webpack://EasylogicStudio/./src/util/BaseStore.js","webpack://EasylogicStudio/./src/util/EventMachine.js","webpack://EasylogicStudio/./src/util/UIElement.js","webpack://EasylogicStudio/./src/csseditor/types/event.js","webpack://EasylogicStudio/./src/editor/Config.js","webpack://EasylogicStudio/./src/editor/items/Item.js","webpack://EasylogicStudio/./src/editor/items/Property.js","webpack://EasylogicStudio/./src/editor/css-property/Transform.js","webpack://EasylogicStudio/./src/editor/items/MovableItem.js","webpack://EasylogicStudio/./src/editor/items/AreaItem.js","webpack://EasylogicStudio/./src/editor/Selection.js","webpack://EasylogicStudio/./src/editor/TimelineSelection.js","webpack://EasylogicStudio/./src/csseditor/i18n/locales/index.js","webpack://EasylogicStudio/./src/csseditor/i18n/locales/en_US.js","webpack://EasylogicStudio/./src/csseditor/i18n/locales/ko_KR.js","webpack://EasylogicStudio/./src/csseditor/i18n/index.js","webpack://EasylogicStudio/./src/editor/parse/AssetParser.js","webpack://EasylogicStudio/./src/editor/util/Resource.js","webpack://EasylogicStudio/./src/editor/editor.js","webpack://EasylogicStudio/./src/util/App.js","webpack://EasylogicStudio/./src/util/index.js","webpack://EasylogicStudio/./src/util/ColorManager.js","webpack://EasylogicStudio/./src/colorpicker/BaseColorPicker.js","webpack://EasylogicStudio/./src/colorpicker/BaseSlider.js","webpack://EasylogicStudio/./src/colorpicker/BaseBox.js","webpack://EasylogicStudio/./src/colorpicker/ui/control/Value.js","webpack://EasylogicStudio/./src/colorpicker/ui/control/Opacity.js","webpack://EasylogicStudio/./src/colorpicker/ui/control/ColorView.js","webpack://EasylogicStudio/./src/colorpicker/ui/ColorWheel.js","webpack://EasylogicStudio/./src/colorpicker/ui/ColorInformation.js","webpack://EasylogicStudio/./src/colorpicker/ui/ColorSetsChooser.js","webpack://EasylogicStudio/./src/colorpicker/ui/CurrentColorSets.js","webpack://EasylogicStudio/./src/colorpicker/ui/CurrentColorSetsContextMenu.js","webpack://EasylogicStudio/./src/colorpicker/macos/index.js","webpack://EasylogicStudio/./src/colorpicker/ui/control/Hue.js","webpack://EasylogicStudio/./src/colorpicker/ui/ColorPalette.js","webpack://EasylogicStudio/./src/colorpicker/chromedevtool/index.js","webpack://EasylogicStudio/./src/colorpicker/mini/index.js","webpack://EasylogicStudio/./src/colorpicker/VerticalSlider.js","webpack://EasylogicStudio/./src/colorpicker/ui/control/VerticalHue.js","webpack://EasylogicStudio/./src/colorpicker/ui/control/VerticalOpacity.js","webpack://EasylogicStudio/./src/colorpicker/mini-vertical/index.js","webpack://EasylogicStudio/./src/colorpicker/ui/ColorRing.js","webpack://EasylogicStudio/./src/colorpicker/ring/index.js","webpack://EasylogicStudio/./src/colorpicker/xd/index.js","webpack://EasylogicStudio/./src/colorpicker/ring-tab/index.js","webpack://EasylogicStudio/./src/colorpicker/xd-tab/index.js","webpack://EasylogicStudio/./src/colorpicker/index.js","webpack://EasylogicStudio/./src/editor/util/Segment.js","webpack://EasylogicStudio/./src/csseditor/ui/view/GuideView.js","webpack://EasylogicStudio/./src/csseditor/ui/view/SelectionToolView.js","webpack://EasylogicStudio/./src/editor/css-property/Display.js","webpack://EasylogicStudio/./src/editor/items/GroupItem.js","webpack://EasylogicStudio/./src/editor/css-property/Animation.js","webpack://EasylogicStudio/./src/editor/css-property/Transition.js","webpack://EasylogicStudio/./src/editor/css-property/Selector.js","webpack://EasylogicStudio/./src/editor/unit/DirectionLength.js","webpack://EasylogicStudio/./src/editor/css-property/ClipPath.js","webpack://EasylogicStudio/./src/editor/items/DomItem.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/border_inner.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/icon.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/cylinder.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/text_rotate.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/device_hub.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/control_point.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/flip_camera.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/flipY.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/flip.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/account_tree.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/format_shapes.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/merge.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/texture.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/settings_input_component.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/view_comfy.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/camera_roll.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/broken_image.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/shadow.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/opacity.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/looks.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/vintage.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/waves.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/blur_linear.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/blur.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/landscape.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/palette.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/diffuse.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/specular.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/photo.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/near_me.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/view_list.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/flash_on.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/doc.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/storage.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/archive.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/file_copy.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/gps_fixed.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/refresh.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/cat.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/shuffle.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/replay.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/speed.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/alternate_reverse.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/alternate.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/note.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/rect.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/circle.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/color_lens.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/cube.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/polygon.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/star.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/dahaze.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/brush.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/expand.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/list.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/grid.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/align_center.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/align_justify.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/align_left.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/align_right.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/color.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/size.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/edit.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/outline_image.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/ballot.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/shape.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/scatter.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/transform.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/gradient.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/close.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/build.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/code.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/autorenew.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/play.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/pause.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/skip_next.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/skip_prev.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/fast_forward.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/fast_rewind.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/filter.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/input.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/timer.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/title.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/paint.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/border_all.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/check.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/arrowRight.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/screen.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/repeat.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/remove2.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/setting.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/image.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/artboard.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/folder.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/publish.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/add_note.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/add.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/save.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/export.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/redo.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/undo.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/lock.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/lock_open.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/remove.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/copy.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/visible.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/add_box.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/add_circle.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/create_folder.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/chevron_right.js","webpack://EasylogicStudio/./src/csseditor/ui/icon/chevron_left.js","webpack://EasylogicStudio/./src/editor/items/Layer.js","webpack://EasylogicStudio/./src/csseditor/ui/view/GuideLineView.js","webpack://EasylogicStudio/./src/editor/parse/SegmentManager.js","webpack://EasylogicStudio/./src/editor/parse/Point.js","webpack://EasylogicStudio/./src/editor/parse/PathParser.js","webpack://EasylogicStudio/./src/editor/parse/PathStringManager.js","webpack://EasylogicStudio/./src/editor/parse/PathGenerator.js","webpack://EasylogicStudio/./src/editor/image-resource/ColorStep.js","webpack://EasylogicStudio/./src/editor/image-resource/ImageResource.js","webpack://EasylogicStudio/./src/editor/image-resource/Gradient.js","webpack://EasylogicStudio/./src/editor/image-resource/SVGGradient.js","webpack://EasylogicStudio/./src/editor/image-resource/SVGLinearGradient.js","webpack://EasylogicStudio/./src/editor/image-resource/SVGRadialGradient.js","webpack://EasylogicStudio/./src/editor/image-resource/SVGStaticGradient.js","webpack://EasylogicStudio/./src/editor/image-resource/SVGImageResource.js","webpack://EasylogicStudio/./src/editor/svg-property/SVGFill.js","webpack://EasylogicStudio/./src/editor/items/layers/SVGItem.js","webpack://EasylogicStudio/./src/editor/items/layers/SVGPathItem.js","webpack://EasylogicStudio/./src/util/functions/bezier.js","webpack://EasylogicStudio/./src/csseditor/ui/view/PathEditorView.js","webpack://EasylogicStudio/./src/editor/parse/PolygonParser.js","webpack://EasylogicStudio/./src/editor/parse/PolygonGenerator.js","webpack://EasylogicStudio/./src/editor/items/layers/SVGPolygonItem.js","webpack://EasylogicStudio/./src/csseditor/ui/view/PolygonEditorView.js","webpack://EasylogicStudio/./src/csseditor/ui/view/ElementView.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/NumberRangeEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/view-items/PageTools.js","webpack://EasylogicStudio/./src/csseditor/ui/view-items/StarManager.js","webpack://EasylogicStudio/./src/csseditor/ui/view-items/PathManager.js","webpack://EasylogicStudio/./src/csseditor/ui/view-items/PolygonManager.js","webpack://EasylogicStudio/./src/csseditor/ui/view-items/PageSubEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/view/CanvasView.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/MenuItem.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/Github.js","webpack://EasylogicStudio/./src/editor/export/animation-export/AnipaExport.js","webpack://EasylogicStudio/./src/editor/export/animation-export/AnimationExport.js","webpack://EasylogicStudio/./src/editor/ExportManager.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/ExportCodePen.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/ExportJSFiddle.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/AddRect.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/AddCircle.js","webpack://EasylogicStudio/./src/editor/Sort.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/LeftAlign.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/RightAlign.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/CenterAlign.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/TopAlign.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/BottomAlign.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/MiddleAlign.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/SameHeight.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/SameWidth.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/CopyItem.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/AddText.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/ToggleRightItem.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/AddPolygon.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/AddStar.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/ThemeSwitcher.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/ExportView.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/Manual.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/AddCube.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/AddImage.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/AddPath.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/Save.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/Download.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/SelectTool.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/AddSVGRect.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/AddSVGCircle.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/Fullscreen.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/AddSVGTextPath.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/AddCylinder.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/AddSVGText.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/LoginButton.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/index.js","webpack://EasylogicStudio/./src/csseditor/ui/menu-items/SignButton.js","webpack://EasylogicStudio/./src/csseditor/ui/view/ToolMenu.js","webpack://EasylogicStudio/./src/editor/image-resource/StaticGradient.js","webpack://EasylogicStudio/./src/editor/image-resource/URLImageResource.js","webpack://EasylogicStudio/./src/editor/image-resource/LinearGradient.js","webpack://EasylogicStudio/./src/editor/image-resource/RepeatingLinearGradient.js","webpack://EasylogicStudio/./src/editor/image-resource/RadialGradient.js","webpack://EasylogicStudio/./src/editor/image-resource/RepeatingRadialGradient.js","webpack://EasylogicStudio/./src/editor/image-resource/ConicGradient.js","webpack://EasylogicStudio/./src/editor/image-resource/RepeatingConicGradient.js","webpack://EasylogicStudio/./src/editor/css-property/BackgroundImage.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/BackgroundPositionEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/GradientSingleEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/BackgroundImageEditor.js","webpack://EasylogicStudio/./src/editor/css-property/BoxShadow.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/BoxShadowEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/SelectEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/RangeEditor.js","webpack://EasylogicStudio/./src/editor/css-property/BorderRadius.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/BorderRadiusEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/ColorSingleEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/ColorViewEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/CubicBezierEditor.js","webpack://EasylogicStudio/./src/editor/css-property/Filter.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/FilterEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/InputRangeEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/GradientEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/IterationCountEditor.js","webpack://EasylogicStudio/./src/editor/css-property/Offset.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/VarEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/NumberInputEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/TransformEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/TransformOriginEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/PerspectiveOriginEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/ClipPathEditor.js","webpack://EasylogicStudio/./src/editor/css-property/TextShadow.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/TextShadowEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/StrokeDashArrayEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/PathDataEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/PolygonDataEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/OffsetPathListEditor.js","webpack://EasylogicStudio/./src/editor/css-property/Border.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/BorderValueEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/BorderEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/CSSPropertyEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/OffsetEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/SingleRangeEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/clip-path/CircleEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/TextEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/InputArrayEditor.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/BaseSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/RotaMatrixSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/MergeSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/CompositeSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/MorphologySVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/TurbulenceSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/DisplacementMapSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/ColorMatrixSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/ConvolveMatrixSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/GaussianBlurSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/FloodSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/ComponentTransferSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/DistantLightSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/PointLightSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/SpotLightSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/DiffuseLightingSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/SpecularLightingSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/OffsetSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/BlendSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/SourceSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/SourceGraphicSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/SourceAlphaSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/BackgroundImageSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/BackgroundAlphaSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/FillPaintSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/StrokePaintSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/DropShadowSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/SaturateSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/HueRotateSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/LuminanceAlphaSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/TileSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/svg-filter/ImageSVGFilter.js","webpack://EasylogicStudio/./src/editor/svg-property/SVGFilter.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/FuncFilterEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/index.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/red.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/green.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/blue.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/yellow.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/magenta.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/cyan.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/alpha.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/BlueMagenta2.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/BlueShadowMagentHightlight.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/darken.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/ElimBlue.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/GrayOnDark.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/GrayOnLight.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/GrayOnMid.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/HardGreen.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/HardYellow.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/IdenticalRedOverlay.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/lighten.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/lime.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/NoGreenMagenta.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/NoGreenRed.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/peachy.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/RedOverlay.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/colormatrix/YesGreenColorizedMagenta.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/ColorMatrixEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/svg-filter-preset/index.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/svg-filter-preset/dancing-stroke.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/svg-filter-preset/stroke.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/svg-filter-preset/grayscale.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/svg-filter-preset/shadow.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/svg-filter-preset/inner-shadow.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/ImageSelectEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/SVGFilterEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/IconListViewEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/SVGClipPathEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/DirectionEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/EmbedColorPicker.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/SelectIconEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/FillSingleEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/FillEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/SVGFilterSelectEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/TextAreaEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/index.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/FlexLayoutEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property/BaseProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/BackgroundColorProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/BorderRadiusProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/SizeProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/BoxShadowProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/BoxModelProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/ContentProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/FontProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/TextShadowProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/TextProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/FontSpacingProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/BorderImageProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/OutlineProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/AnimationProperty.js","webpack://EasylogicStudio/./src/editor/css-property/Keyframe.js","webpack://EasylogicStudio/./src/csseditor/ui/property/KeyframeProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/BackgroundImageProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/FilterProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/CodeViewProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/BackdropFilterProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/VariableProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/RootVariableProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/TransformProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/ClipPathProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/TransitionProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/ComputedCodeViewProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/PerspectiveOriginProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/PerspectiveProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/TransformOriginProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/BackgroundClipProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/SelectorProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/PositionProperty.js","webpack://EasylogicStudio/./src/editor/items/Project.js","webpack://EasylogicStudio/./src/editor/items/AssetItem.js","webpack://EasylogicStudio/./src/csseditor/ui/property/ProjectProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/ArtBoardProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/LayerTreeProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/ArtBoardSizeProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/ImageProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/ColorAssetsProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/TextFilllProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/GradientAssetsProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/SVGItemProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/TextClipProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/SVGFilterAssetsProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/SVGPathAssetsProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/AlignmentProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/MotionProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/ImageAssetsProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/ComponentProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/TimelineAnimationProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/BorderNewProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/ProjectInformationProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/PathDataProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/PolygonDataProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/SVGTextProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/ExportProperty.js","webpack://EasylogicStudio/./src/editor/css-property/Shape.js","webpack://EasylogicStudio/./src/csseditor/ui/property/ShapeInsideProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/LayoutProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/property/index.js","webpack://EasylogicStudio/./src/csseditor/ui/control/Inspector.js","webpack://EasylogicStudio/./src/csseditor/ui/popup/BasePopup.js","webpack://EasylogicStudio/./src/csseditor/ui/popup/BoxShadowPropertyPopup.js","webpack://EasylogicStudio/./src/csseditor/ui/popup/TextShadowPropertyPopup.js","webpack://EasylogicStudio/./src/csseditor/ui/popup/AnimationPropertyPopup.js","webpack://EasylogicStudio/./src/csseditor/ui/popup/KeyframePopup.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/clip-path/InsetEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/clip-path/PolygonEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/property-editor/clip-path/EllipseEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/popup/ClipPathPopup.js","webpack://EasylogicStudio/./src/csseditor/ui/popup/TransitionPropertyPopup.js","webpack://EasylogicStudio/./src/csseditor/ui/popup/SVGPropertyPopup.js","webpack://EasylogicStudio/./src/csseditor/ui/popup/SelectorPopup.js","webpack://EasylogicStudio/./src/csseditor/ui/popup/ColoPickerPopup.js","webpack://EasylogicStudio/./src/csseditor/ui/popup/ImageSelectPopup.js","webpack://EasylogicStudio/./src/csseditor/ui/property/ImageAssetPicker.js","webpack://EasylogicStudio/./src/csseditor/ui/popup/GradientPickerPopup.js","webpack://EasylogicStudio/./src/csseditor/ui/popup/SVGFilterPopup.js","webpack://EasylogicStudio/./src/csseditor/ui/popup/SVGPathPopup.js","webpack://EasylogicStudio/./src/csseditor/ui/popup/BackgroundImagePositionPopup.js","webpack://EasylogicStudio/./src/csseditor/ui/popup/index.js","webpack://EasylogicStudio/./src/csseditor/ui/popup/FillPickerPopup.js","webpack://EasylogicStudio/./src/csseditor/ui/view/StyleView.js","webpack://EasylogicStudio/./src/csseditor/ui/control/ObjectItems.js","webpack://EasylogicStudio/./src/csseditor/ui/clip-art/index.js","webpack://EasylogicStudio/./src/csseditor/ui/clip-art/heart.js","webpack://EasylogicStudio/./src/csseditor/ui/control/Libraryitems.js","webpack://EasylogicStudio/./src/csseditor/ui/control/Componentitems.js","webpack://EasylogicStudio/./src/csseditor/ui/control/LayerTab.js","webpack://EasylogicStudio/./src/csseditor/ui/control/ObjectList.js","webpack://EasylogicStudio/./src/csseditor/ui/view/LogoView.js","webpack://EasylogicStudio/./src/csseditor/ui/view/ExternalToolMenu.js","webpack://EasylogicStudio/./src/util/functions/time.js","webpack://EasylogicStudio/./src/csseditor/ui/view/command/TimelineCommand.js","webpack://EasylogicStudio/./src/csseditor/ui/view/command/ObjectCommand.js","webpack://EasylogicStudio/./src/csseditor/ui/view/command/ToolCommand.js","webpack://EasylogicStudio/./src/csseditor/ui/view/CommandView.js","webpack://EasylogicStudio/./src/csseditor/ui/window-list/BaseWindow.js","webpack://EasylogicStudio/./src/csseditor/ui/window-list/ExportWindow.js","webpack://EasylogicStudio/./src/csseditor/ui/window-list/LoginWindow.js","webpack://EasylogicStudio/./src/csseditor/ui/window-list/index.js","webpack://EasylogicStudio/./src/csseditor/ui/window-list/SignWindow.js","webpack://EasylogicStudio/./src/csseditor/ui/view/ImageFileView.js","webpack://EasylogicStudio/./src/csseditor/ui/control/timeline/TimelineObjectList.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateNumber.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/offset-path/makeInterpolateLine.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/offset-path/makeInterpolateQuard.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/offset-path/makeInterpolateCubic.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/offset-path/makeInterpolateOffset.js","webpack://EasylogicStudio/./src/csseditor/ui/control/timeline/TimelineKeyframeList.js","webpack://EasylogicStudio/./src/csseditor/ui/control/timeline/KeyframeTimeControl.js","webpack://EasylogicStudio/./src/csseditor/ui/control/timeline/TimelineTopToolbar.js","webpack://EasylogicStudio/./src/csseditor/ui/control/timeline/KeyframeTimeView.js","webpack://EasylogicStudio/./src/csseditor/ui/control/timeline/KeyframeTimeGridView.js","webpack://EasylogicStudio/./src/csseditor/ui/control/timeline/TimelineValueEditor.js","webpack://EasylogicStudio/./src/csseditor/ui/control/timeline/TimelinePlayControl.js","webpack://EasylogicStudio/./src/csseditor/ui/control/TimelineProperty.js","webpack://EasylogicStudio/./src/csseditor/ui/view/StatusBar.js","webpack://EasylogicStudio/./src/editor/items/Component.js","webpack://EasylogicStudio/./src/editor/items/layers/CubeLayer.js","webpack://EasylogicStudio/./src/editor/items/layers/CylinderLayer.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateIdentity.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateLength.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateBorderRadius.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateBoolean.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateColor.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateBoxShadow.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateString.js","webpack://EasylogicStudio/./src/editor/util/timing-functions/steps.js","webpack://EasylogicStudio/./src/editor/util/timing-functions/ease-out-elastic.js","webpack://EasylogicStudio/./src/editor/util/timing-functions/index.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateRotate.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateTextShadow.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/gradient/makeInterpolateColorStep.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/gradient/makeInterpolateColorStepList.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/gradient/makeInterpolateLinearGradient.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/gradient/makeInterpolateRadialGradient.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/gradient/makeInterpolateConicGradient.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateImageResource.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/gradient/makeInterpolateRepeatingLinearGradient.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/gradient/makeInterpolateRepeatingRadialGradient.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/gradient/makeInterpolateRepeatingConicGradient.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateBackgroundImage.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateFilterItem.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateFilter.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateClipPath.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/clip-path/makeInterpolateClipPathCircle.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/clip-path/makeInterpolateClipPathEllipse.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/clip-path/makeInterpolateClipPathInset.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/clip-path/makeInterpolateClipPathPolygon.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/transform/makeInterpolateTransformLength.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/transform/makeInterpolateTransformNumber.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/transform/makeInterpolateTransformRotate.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateTransform.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateTransformOrigin.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolatePerspectiveOrigin.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateStrokeDashArray.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/svg/makeInterpolatePathValues.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/svg/makeInterpolatePath.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/svg/makeInterpolatePolygon.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateOffsetPath.js","webpack://EasylogicStudio/./src/editor/util/interpolate-functions/makeInterpolateText.js","webpack://EasylogicStudio/./src/editor/util/interpolate.js","webpack://EasylogicStudio/./src/editor/items/ArtBoard.js","webpack://EasylogicStudio/./src/editor/items/TimelineItem.js","webpack://EasylogicStudio/./src/editor/items/layers/ImageLayer.js","webpack://EasylogicStudio/./src/editor/items/layers/SVGTextItem.js","webpack://EasylogicStudio/./src/editor/items/layers/SVGTextPathItem.js","webpack://EasylogicStudio/./src/editor/items/layers/TextLayer.js","webpack://EasylogicStudio/./src/csseditor/editor/index.js","webpack://EasylogicStudio/./src/editor/css-property/index.js","webpack://EasylogicStudio/./src/editor/css-property/BorderImage.js","webpack://EasylogicStudio/./src/editor/image-resource/index.js","webpack://EasylogicStudio/./src/editor/parse/ParserGenerator.js","webpack://EasylogicStudio/./src/csseditor/index.js","webpack://EasylogicStudio/./src/editor/parse/index.js","webpack://EasylogicStudio/./src/editor/parse/DomParserGenerator.js","webpack://EasylogicStudio/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","debounce","callback","delay","undefined","$1","$2","$3","$4","$5","clearTimeout","setTimeout","throttle","keyEach","obj","keys","forEach","index","keyMap","map","keyMapJoin","joinString","join","returnValue","defaultValue","isFunction","isUndefined","isNotUndefined","isArray","Array","isBoolean","isString","isNotString","isObject","isNumber","clone","JSON","parse","stringify","cleanObject","realObject","filter","combineKeyArray","repeat","count","short_tag_regexp","HTML_TAG","html","strings","args","results","it","replace","match","p1","toLowerCase","CSS_TO_STRING","style","postfix","newStyle","STRING_TO_CSS","str","split","trim","OBJECT_TO_PROPERTY","OBJECT_TO_CLASS","k","TAG_TO_STRING","mapjoin","arr","format","type","defaultColor","g","b","a","hex","rgb","hsl","toString","isNaN","h","randomNumber","min","max","Math","floor","random","randomRGBA","Vect3","x","y","z","add","v1","v2","sub","mul","div","muls","v","divs","len","sqrt","dot","cross2d","cross","normalize","ang","acos","copy","equal","rotate","x1","y1","z1","angleX","angleY","angleZ","cr","cos","cp","cy","sr","sin","sp","sy","w","matrix2d","multiply","startIndex","translate","tx","ty","this","angle","scale","sx","skewX","tan","skewY","flip","flipX","flipY","addVector","rotateVector","round","degreeToRadian","degrees","PI","num","divNum","radianToDegree","radian","getXInCircle","radius","getYInCircle","getXYInCircle","centerX","centerY","getDist","pow","abs","calculateAngle","rx","ry","atan2","calculateAngle360","UUID_REG","uuid","dt","Date","getTime","uuidShort","bezierCalc","B1","B2","B3","B4","cubicBezier","x2","y2","C2","C3","progress","getGradientLine","box","length","width","height","center","yDiff","xDiff","start","end","CCW","A","B","C","incircle","ccw","adx","ady","bdx","bdy","cdx","cdy","det","initPolygon","polygon","selectedIndex","splice","push","swap","data","j","temp","Deluanay","points","triangle","complete","current","pop","generate_sample_points","xSize","ySize","boxSize","variance","func","maxX","minY","maxY","tempX","tempY","getCenterInTriangle","splitReg","ReverseXyz","ReverseRGB","XYZtoRGB","arguments","X","Y","Z","R","G","LABtoXYZ","PivotXyz","XYZtoLAB","LABtoRGB","RGBtoHSV","R1","G1","MaxC","DeltaC","H","RGBtoCMYK","K","RGBtoHSL","gray","RGBtoSimpleGray","ceil","RGBtoGray","RGBtoYCrCb","brightness","cb","PivotRGB","RGBtoXYZ","RGBtoLAB","CMYKtoRGB","HSVtoRGB","V","HSVtoHSL","HUEtoRGB","q","HSLtoHSV","HSLtoRGB","YCrCbtoRGB","bit","color_names","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgreen","lightgray","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","transparent","isColorName","getColorByName","color_regexp","isColor","matches","result","indexOf","color","nameColor","ColorNames","pos","next","item","endIndex","convertMatches","convertMatchesArray","splitStr","ret","reverseMatches","REG_TRIM","parseInt","parseFloat","char","substr","parseGradient","colors","dist","reduce","total","cur","interpolateRGB","startColor","endColor","exportFormat","interpolateRGBObject","blend","ratio","mix","startcolor","contrast","contrastColor","gradient","newColors","maxCount","allCount","rate","colorCount","concat","scaleHSV","target","hsv","unit","scaleH","scaleS","scaleV","parula","jet","hot","bone","copper","formatter","math","mixin","parser","fromYCrCb","fromRGB","fromCMYK","fromHSV","fromHSL","fromLAB","hue_color","hue","Color","initHueColors","checkHueColor","updateProp","node","newValue","oldValue","el","setAttribute","removeAttribute","setBooleanProp","setProp","removeBooleanProp","removeProp","updateProps","newProps","oldProps","props","getProps","attributes","updateElement","parentElement","oldEl","newEl","node2","node1","nodeType","Node","TEXT_NODE","nodeName","replaceChild","cloneNode","oldChildren","children","newChildren","removeChild","appendChild","element","firstElementChild","nextElementSibling","DomDiff","aC","bC","stringToPercent","top","left","right","bottom","Position","CENTER","TOP","RIGHT","LEFT","BOTTOM","REG_CSS_UNIT","Length","Error","toPrimitive","hint","isUnitType","percent","maxValue","toEm","toPx","fontSize","isPercent","isPx","isEm","isDeg","em","stringToEm","px","stringToPx","isTurn","deg","isRad","turn","isSecond","isMs","second","ms","toPercent","toDeg","toTurn","includes","is","shift","number","string","auto","Dom","tag","className","attr","document","createElement","newKey","toUpperCase","dataset","getAttribute","keyField","val","removeProperty","checkElement","tagName","cls","checkCls","hasClass","parentNode","classList","remove","contains","selected","parent","$","removeClass","addClass","isForce","toggle","innerHTML","empty","append","fragment","childFragment","createChildrenFragment","selector","querySelector","find","querySelectorAll","findAll","firstChild","createTextNode","prepend","$dom","list","createDocumentFragment","$el","textContent","tempText","text","assign","getComputedStyle","css","cssText","tempCssText","getBoundingClientRect","offsetTop","offsetLeft","offsetWidth","offsetHeight","rect","scrollTop","getScrollTop","scrollLeft","getScrollLeft","offset","cssFloat","tempValue","checked","displayType","currentHide","isHide","show","hide","scrollIntoView","body","scrollHeight","scrollWidth","eventName","opt1","opt2","addEventListener","removeEventListener","attrs","$element","newElement","oldElement","isChecked","click","focus","select","blur","contextType","_initContext","getContext","ctx","context","devicePixelRatio","quality","toDataURL","clearRect","clear","img","dx","dy","drawImage","option","beginPath","moveTo","lineTo","stroke","closePath","path","fill","cx","arc","fillText","requestFullscreen","wekitRequestFullscreen","naturalWidth","naturalHeight","files","getTotalLength","htmlString","pageYOffset","documentElement","pageXOffset","DOMParser","parseFromString","makeEventChecker","CHECK_SAPARATOR","CHECK_LOAD_PATTERN","CHECK_BIND_PATTERN","CHECK_PATTERN_LIST","CHECK_PATTERN","RegExp","refManager","DOM_EVENT_MAKE","CUSTOM","CLICK","DOUBLECLICK","MOUSEUP","KEYDOWN","KEYUP","DRAGSTART","DROP","DRAGOVER","DRAGEND","CONTEXTMENU","CHANGE","INPUT","FOCUS","FOCUSOUT","BLUR","RESIZE","SCROLL","SUBMIT","POINTERSTART","POINTERMOVE","POINTEREND","CHANGEINPUT","WHEEL","TRANSITIONEND","CHECKER","AFTER","IF","KEY","ALT","CONTROL","VDOM","DEBOUNCE","THROTTLE","MOVE","method","END","PREVENT","STOP","LOAD","createRef","id","BIND_CHECK_FUNCTION","field","prevState","state","BIND_CHECK_DEFAULT_FUNCTION","BIND","checkFieldOrCallback","addEvent","dom","useCapture","removeEvent","e","touches","posXY","pageX","pageY","BaseStore","cachedCallback","callbacks","commandes","event","originalCallback","getCallbacks","setCallbacks","f","source","getCachedCallbacks","console","warn","sendMessage","triggerMessage","runCommand","TEMP_DIV","QUERY_PROPERTY","makeDefaultCallback","eventObject","runEventCallback","makeDelegateCallback","delegateTarget","matchPath","srcElement","delegate","hasDelegate","$dt","xy","Event","beforeMethods","every","before","param","checkEventType","afterMethods","after","hasKeyCode","codes","code","isAllCheck","checkMethodList","fieldValue","splitMethodByKeyword","keyword","filterKeys","filterMaps","scrollBlockingEvents","makeCallback","addBinding","options","captures","passive","capture","bindingEvent","checkMethodFilters","afters","befores","debounces","debounceMethods","throttles","throttleMethods","filteredList","getDefaultEventObject","refs","$root","getElement","getDefaultDomElement","parseEvent","params","eventNames","getEventNames","applyElementAttribute","toggleClass","removeAttr","expectMethod","REG_STORE_MULTI_PATTERN","PIPE","EVENT","COMMAND","UIElement","opt","initializeProperty","created","initialize","initializeStoreEvent","sourceName","constructor","$store","storeEvents","filterProps","events","getRealEventName","methods","debounceSecond","displayName","on","offAll","destoryStoreEvent","sourceContext","emit","trigger","message","off","_bindings","initComponents","childComponents","components","childComponentKeys","childComponentSet","Map","set","childComponentKeysString","isLoad","load","setState","initState","refresh","$container","parseTemplate","template","afterRender","ref","$$","childrenIds","nodeValue","$p","realValue","parseSourceName","targets","ComponentName","Component","parseProperty","refName","instance","_reload","render","initializeEvent","clean","hasParent","child","destroy","_loadMethods","callbackName","elName","checker","isVdom","newTemplate","htmlDiff","initializeDomEvent","bindData","parseComponent","_bindMethods","originalCallbackName","$bind","bindMethod","refObject","getRef","refCallback","isBindCheck","templateClass","classString","_","$parent","eachChildren","childComponent","destroyDomEvent","removeEventAll","_domEvents","__proto__","names","getOwnPropertyNames","pattern","collectProps","altKey","ctrlKey","shiftKey","metaKey","preventDefault","stopPropagation","methodName","initBindings","getBindings","config","Config","editor","Item","json","Proxy","originMethod","apply","checkField","toJSON","convert","getDefaultObject","itemType","layers","layer","elementType","visible","lock","ItemClass","toCloneObject","direction","toggleValue","newJSON","expectJSON","copyItem","childItem","childIndex","removeItem","parentId","isParent","targetIndex","getIndex","setOrder","searchedItem","searchById","getDefaultTitle","_traverse","Property","toCSS","TRANSFORM_REG","Transform","last","arr2","transform","valueObject","parseStyle","tObject","oldTransform","newTransform","oldT","newT","newObject","oldObject","transforms","transformName","transformValue","from","to","x3","y3","u0","v0","u1","u2","u3","v3","x0","y0","originalPos","targetPos","getTransform","MovableItem","absoluteX","isChild","screenX","absoluteY","screenY","area","screenX2","screenY2","reset","rotateX","rotateZ","m11","m31","m12","m22","m13","m23","m33","m14","m24","m34","rotateY","asin","rootElement","offsetRect","matrix","items","checkInAreaForLayers","checkInArea","position","isAbsolute","screenWidth","screenHeight","half","addTransform","screenTransform","AreaItem","roundedLength","fixedRound","Selection","project","artboard","itemKeys","colorsteps","artboards","selectArtboard","setRectCache","isCache","cachedItems","setCache","setAllRectCache","minX","Number","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","allRect","each","resize","copyItems","cachedItem","move","resizeWidth","moveX","resizeHeight","moveY","TimelineSelection","selection","currentArtboard","layerId","currentArtBoard","getKeyframeListReturnArray","refreshCache","startTime","endTime","totalList","getTimelineProperty","keyframes","keyframe","time","getTimelineObject","properties","uniqueOffset","values","some","en_US","ko_KR","i18n","locales","lang","hasKey","AssetParser","datauri","enableParselocal","mediaType","content","mimeType","encoding","local","getLink","binary","atob","unit8Array","Uint8Array","charCodeAt","blob","Blob","URL","createObjectURL","Resource","dataTransfer","types","kind","getData","blend_list","SVG_PROPERTY_LIST","SVG_PATH_PROPERTY_LIST","CSS_PROPERTY_LIST","border","outline","borderRadius","animations","transitions","hasSVGProperty","hasSVGPathProperty","hasCSSProperty","replaceLocalUrltoRealUrl","currentProject","images","original","makeResource","projects","saveItem","localStorage","setItem","revokeResource","assets","idString","info","applyAsset","loadItem","getItem","EDIT_MODE_SELECTION","timeline","popupZIndex","symbols","openRightPanel","addComponentType","locale","initTheme","i18nKey","hasI18nkey","ComponentClass","getComponentClass","user","theme","isMode","isComponent","changeMode","url","EMPTY_POS","DEFAULT_POS","getModuleList","setStore","getContainer","getClassName","initBodyMoves","moves","Set","ends","modifyBodyMoveSecond","funcBodyMoves","loopBodyMoves","lastPos","size","requestAnimationFrame","container","newPos","requestId","removeBodyMoves","App","HueColor","ColorManager","alpha","colorSetsList","edit","userList","currentColorSets","colorObj","changeColor","resetUserPalette","setCurrentColorSets","_colors","nameOrIndex","_list","getUserList","MAX_VALUE","getColors","BaseColorPicker","manager","isColorPickerShow","isShortCut","hideDelay","hideDeplay","timerCloseColorPicker","autoHide","outputFormat","$checkColorPickerClass","checkColorPickerClass","$body","callbackChange","callbackChangeValue","colorpickerShowCallback","colorpickerHideCallback","hideInformation","hideColorsets","$arrow","setUserPalette","colorSets","initColorWithoutChangeEvent","initColor","showCallback","hideCallback","getInitalizePosition","definePosition","setHideDelay","appendTo","newColor","callbackHideValue","setCurrentColorAll","toColor","elementScreenLeft","elementScreenTop","innerWidth","innerHeight","display","delayTime","getCurrentColor","onChange","onHide","hasColorView","closest","hasColorPicker","hasCodeMirror","checkInHtml","BaseSlider","minValue","maxDist","minPosition","getMinPosition","getMaxDist","getMinMaxPosition","getMousePosition","getCurrent","getDefaultValue","$bar","setColorUI","setMousePosition","onDragEnd","onDragMove","isDown","onDragStart","refreshColorUI","Value","getCalculatedDist","Opacity","setOpacityColorBar","$colorbar","ColorView","ColorWheel","thinkness","half_thinkness","isEvent","renderCanvas","renderValue","setHueColor","$valuewheel","$canvas","getImageData","pixels","half_width","half_height","putImageData","globalCompositeOperation","fillStyle","createdWheelCanvas","$colorwheel","$wheelCanvas","renderWheel","getRectangle","getCurrentXY","getDefaultSaturation","saturation","$drag_pointer","ColorInformation","initFormat","current_format","formatString","next_format","changeFormat","to_format","$rgb_r","$rgb_g","$rgb_b","$rgb_a","$hsl_h","$hsl_s","$hsl_l","$hsl_a","changeRgbColor","changeHslColor","$hexCode","charAt","nextFormat","goToFormat","setCurrentFormat","setRGBInput","setHSLInput","setHexInput","ColorSetsChooser","getColorSetsList","$dt","CurrentColorSets","getCurrentColorSets","getCurrentColors","addCurrentColor","$item","addColor","getColor","CurrentColorSetsContextMenu","$event","clientY","clientX","selectedColorIndex","command","removeCurrentColor","removeCurrentColorToTheRight","clearPalette","MacOSColorPicker","Information","ContextMenu","Hue","ColorPalette","drag_pointer_pos","setBackgroundColor","getHueColor","contentWidth","contentHeight","calculateSV","setMainColor","ChromeDevToolColorPicker","Palette","MiniColorPicker","VerticalSlider","per","VerticalHue","VerticalOpacity","ColorRing","RingColorPicker","XDColorPicker","RingTabColorPicker","tabTitle","selectedItem","$tabHeader","$tabBody","activeItem","XDTabColorPicker","opts","MiniVerticalColorPicker","ColorPicker","X_DIRECTION_NUMBER","Y_DIRECTION_NUMBER","Segment","TOP_RIGHT","BOTTOM_RIGHT","TOP_LEFT","BOTTOM_LEFT","LIST","GuideView","cachedExtraItems","allLayers","check","cachedPosition","setupX","setupY","pointerType","isRight","isLeft","isBottom","isTop","xDistRate","x2DistRate","yDistRate","y2DistRate","totalWidth","xr","x2r","totalHeight","yr","y2r","setX","setY","yrate","y2rate","distY","setScreenY","xrate","x2rate","distX","setScreenX","cacheItem","AX","BX","ax","bx","getXDirection","newResults","AY","BY","ay","by","getYDirection","xCheckList","compareX","yCheckList","compareY","xpoints","ypoints","compare","getLayers","isMove","moveSnap","sizeSnap","recover","DEFINED_TRANFORM_ORIGIN","moveType","SelectionToolView","guideView","isEditingPath","$selectionTool","isEditingPolygon","transformObj","targetRect","$target","rotateZCenter","rotateZStart","setCacheBaseTrasnform","hasTransformOrigin","transformOrigin","transformOriginX","transformOriginXtoPx","transformOriginY","transformOriginYtoPx","hasTranslate","hasTranslateZ","isSelectionMode","selectCurrent","$point","transformOriginValue","hasRotateZ","hasPerspective","setCacheRotateZ","setCachePerspective","setCacheTransformOrigin","setCacheTranslate","setCacheTranslateZ","setCacheRotateXY","initSelectionTool","angle1","distAngle","tempRotateZ","setTransformValue","modifyCacheItem","tempOriginX","tempOriginY","modifyRotateZ","modifyPerspective","modifyTransformOrigin","modifyTranslate","modifyTranslateZ","modifyRotateXY","updateRealPosition","refreshSelectionToolView","drawList","calculate","makeSelectionTool","calculateWorldPositionForGuideLine","originalRect","originalArtboardRect","$view","removeOriginalRect","makeGuideCache","isPath","isPolygon","recoverAll","calculateWorldPosition","isNoMoveArea","refreshPositionText","newX","newY","newWidth","newHeight","setPositionText","verties","toggleEditingPath","toggleEditingPolygon","changeEvent","pathObject","updatePathItem","polygonObject","updatePolygonItem","isScale","Display","alignItems","alignCentent","flexWrap","justifyContent","gap","rowGap","columnGap","columns","fr","rows","areas","alignContent","isGrid","isFlex","sourceIndex","isLayout","GroupItem","newDisplayType","oldDisplayType","changeOffsetToPosition","refreshItem","Animation","duration","timingFunction","iterationCount","playState","fillMode","forcedValue","Transition","Selector","isMultiStyle","getMultiStyleString","prefix","toPropertyString","toCSSText","DirectionLength","CLIPPATH_REG","ClipPath","clippath","clipPathName","clipPathValue","radiusX","radiusY","inset","_count","_roundCount","topRadius","rightRadius","bottomRadius","leftRadius","isAll","isAllRadius","DomItem","selectors","svg","rootVariable","variable","perspective","opacity","animation","transition","addAnimation","addSelector","addTransition","removeIndex","removePropertyList","sortItem","all","hasLayoutItem","isAttribute","isLayoutItem","isRootItem","traverse","toStringPropertyCSS","layout","enableHasChildren","toFlexLayoutCSS","toGridLayoutCSS","parentLayout","toPropertyCSS","toKeyListCSS","visibility","overflow","toRootVariableCSS","clipPathId","toVariableCSS","toDefaultCSS","toClipPathCSS","toWebkitCSS","toTextClipCSS","toBoxModelCSS","toBorderCSS","toOutlineCSS","toBackgroundImageCSS","toLayoutCSS","toLayoutItemCSS","toAnimationCSS","toTransitionCSS","toDefaultSVGCSS","$prefix","appendCSS","cssString","toNestedCSS","toSelectorString","isRoot","rootSVG","toDefString","currentElement","isChangeFragment","$svg","innerSVGId","$defs","toDefInnerString","createByHTML","toSVG","toClipPath","fullscreen","border_inner","cylinder","text_rotate","device_hub","control_point","flip_camera","account_tree","format_shapes","merge","texture","settings_input_component","view_comfy","camera_roll","broken_image","shadow","looks","vintage","waves","blur_linear","landscape","palette","diffuse","specular","photo","near_me","view_list","flash_on","doc","storage","archive","file_copy","gps_fixed","cat","shuffle","replay","speed","alternate_reverse","alternate","note","circle","color_lens","cube","star","dahaze","brush","expand","grid","align_center","align_justify","align_left","align_right","outline_image","ballot","shape","scatter","close","build","autorenew","play","pause","skip_next","skip_prev","fast_forward","fast_rewind","input","timer","title","paint","border_all","arrowRight","screen","remove2","setting","image","folder","publish","add_note","save","export","redo","undo","lock_open","add_box","add_circle","create_folder","chevron_right","chevron_left","Layer","icon","zero","registerComponent","line","hLine","startX","centerHeight","vLine","startY","centerWidth","GuideLineView","createGuideLine","removeGuideLine","setGuideLine","SegmentManager","segmentList","guide","distance","degree","point","segment","isFirst","isLast","curve","sort","Point","isInLine","endPoint","startPoint","reversePoint","p0","isEqual","firstIndex","lastIndex","prevIndex","getLastPoint","currentPoint","nextPoint","connected","getFirstPoint","REG_PARSE_NUMBER_FOR_PATH","numberReg","rotateCenter","reflectionOrigin","PathParser","pathString","segments","joinPath","prev","nextSegment","originalCommand","prevPoint","getPrevPoint","cx1","cy1","prevSegment","getReversePoint","cx2","cy2","firstPoint","seg","isReturn","newSegments","_loop","PathStringManager","pathArray","M","L","getPointString","makeString","SEGMENT_DIRECTION","calculateSnapPoint","sourceKey","distanceValue","checkedPointList","calculatePointDist","tempDist","toPath","calculateRelativePosition","PathGenerator","pathEditor","pathStringManager","guideLineManager","segmentManager","initializeSelect","splitLines","selectedPointKeys","selectedPointList","isSelectedSegment","mat","first","transformRect","transformPoints","realPoint","applyMatrix","applyTransform","xAngle","hw","hh","yAngle","clonePoints","dragXY","dragPoints","segmentKey","snapPointList","connectedPoint","getIndexPoint","getNextPoint","lastPoint","isCurveSegment","originalSegment","originalConnectedPoint","cachedPoints","originPoint","targetPoint","calculateToCurve","reverse","moveSegment","targetSegmentKey","rotateSegmentTarget","realX","realY","snapPointX","snapPointY","snapEndPoint","calculateSnap","moveSelectedSegment","rotateSegment","copySegment","clickCount","moveXY","allPoints","firstItem","getPoint","secondItem","newPoints","makePointGuide","makeMovePositionGuide","toSVGString","addDistanceLine","addDistanceAngle","addText","makeTriangleDistancePointGuide","addPoint","addGuideLine","addCurvePoint","mng","Q","makeStartPointGuide","makeMiddlePointGuideRealPath","makeMiddlePointGuideSplitLine","makeMiddlePointGuideSegment","calculateMovePointSnap","movePointSnapPointList","newMoveXY","snapLines","snapPath","snapPoint","makeSelectedSVGZone","makeSnapLines","ColorStep","colorStepString","colorIndex","hasNotUnit","cut","prevColorStep","getUnit","toLength","getPrevLength","sortColorStep","ImageResource","DEFINED_ANGLES","Gradient","colorstep","isSort","addColorStep","step","nextStep","addColorStepList","colorstepList","toColorString","SVGGradient","SVGLinearGradient","LinearGradient","spreadMethod","colorString","getColorString","SVGRadialGradient","fx","fy","SVGStaticGradient","static","IMAGE_LIST","SVGImageResource","patternUnits","patternWidth","patternHeight","imageX","imageY","imageWidth","imageHeight","fileExt","preserveAspectRatio","reg","SVGFill","SVGLImageResource","matchResult","imageResource","addItem","addImageResource","createImage","createGradient","SVGItem","svgfilter","toFillSVG","toStrokeSVG","getInnerId","parseImage","fillId","strokeId","toFillValue","SVGPathItem","totalLength","resetSegment","cachePath","baseWidth","baseHeight","scaleTo","svgProperties","cssProperties","$path","setAttr","toFilterValue","toStrokeValue","updateDefString","toSVGAttribute","toSVGCSS","predefinedBezier","bezierObj","bezierList","getPredefinedCubicBezier","parseCubicBezier","formatCubicBezier","bezier","createBezier","C1","C4","getBezierPointOne","createBezierQuard","getBezierPointOneQuard","createBezierLine","getBezierPointOneLine","checkDist","minDist","minT","getCurveDist","ex","ey","getQuardDist","makeCurveFunction","Infinity","recoverBezier","recoverBezierQuard","recoverBezierLine","createBezierForPattern","interpolate","p2","p3","p4","getBezierPointsLine","PathEditorView","pathParser","pathGenerator","isShow","hasTransform","isSegment","isFirstSegment","resetTransformZone","transformZoneRect","refreshPathLayer","addPathLayer","pathRect","totalPathLength","getPathRect","isBoxMode","makePathLayer","renderPath","getCurrentObject","convertGenerator","class","makeSVGPath","updatePathLayer","splitXY","renderTransformTool","initRect","$obj","isDrawMode","isOnCanvas","reselect","renderSelectBox","setCachePoint","selectKeyIndex","$segmentBox","startXY","styles","selectInBox","getSelectBox","hideSelectBox","setConnectedPoint","moveEnd","transformMoveType","initTransform","clickPosition","slice","setPoint","p5","getBezierPoints","setPointQuard","getBezierPointsQuard","setPointLine","convertToCurve","PolygonParser","joinPoints","PolygonGenerator","polygonEditor","randomTable","starRadius","starAngle","refreshStar","starCount","innerRadius","starInnerRadiusRate","angleList","innerAngleList","angleUnit","anglePointList","innerAnglePointList","cloneSegments","getPointIndex","makeMoveGuide","addStartPoint","makeDeluanay","SVGPolygonItem","cachePolygon","$polygon","toPathString","PolygonEditorView","polygonParser","polygonGenerator","updatePolygonLayer","refreshPolygonLayer","addPolygonLayer","toPolygon","getViewRect","makePolygonLayer","newOptions","getXY","moveStart","moveStar","moveEndStar","ElementView","$pathEditorView","$polygonEditorView","isAddMode","isTag","canvasOffset","canvasPosition","$dragAreaRect","cachedCurrentElement","selectCurrentForBackgroundView","sendHelpMessage","selectById","isRelative","toBound","updateDiff","$selectedElement","modifyScale","updateFunction","getSelectedTimeline","NumberRangeEditor","toUnit","removable","label","hasLabel","isRemovable","layoutClass","$propertyNumber","updateData","onchange","PageTools","$scale","setValue","StarManager","$count","$radius","MODES","initI18n","PathManager","msg","transformType","PolygonManager","$mode","PageSubEditor","CanvasView","deltaY","$lock","setScrollTop","setScrollLeft","imageUrl","computedCSS","MenuItem","isHideTitle","getTitle","getChecked","getIcon","getIconString","clickButton","Github","open","AnipaExport","lastTime","getSelectedTimelineLastTime","timing","toAnimationKeyframes","fps","generateCode","makeProjectStyle","keyframeString","toKeyframeString","makeStyle","generateView","makeSvg","SVGString","generate","js","AnimationExport","generateSVG","rootItem","ExportCodePen","ExportManager","$codepen","description","js_external","ExportJSFiddle","$title","$description","$html","$css","$resources","AddRect","AddCircle","Sort","setScreenXCenter","setScreenYMiddle","setScreenX2","setScreenY2","LeftAlign","RightAlign","CenterAlign","TopAlign","BottomAlign","MiddleAlign","middle","SameHeight","sameHeight","SameWidth","sameWidth","CopyItem","AddText","ToggleRightItem","AddPolygon","AddStar","ThemeSwitcher","ExportView","Manual","AddCube","AddImage","AddPath","Save","Download","SelectTool","AddSVGRect","AddSVGCircle","Fullscreen","AddSVGTextPath","AddCylinder","AddSVGText","LoginButton","SignButton","ToolMenu","menuItems","$selected","$items","onlyOneClass","StaticGradient","URLImageResource","DEFINED_DIRECTIONS","RepeatingLinearGradient","linear","DEFINED_POSITIONS","RadialGradient","radialType","radialPosition","RepeatingRadialGradient","radial","ConicGradient","prevDeg","conicAngle","conicPosition","optString","RepeatingConicGradient","conic","RepeatList","BackgroundImage","backgroundImages","blendMode","backgroundSize","toBackgroundPositionCSS","toBackgroundSizeCSS","toBackgroundRepeatCSS","toBackgroundBlendCSS","BackgroundPositionEditor","modifyValue","viewBackgroundPositionPopup","GradientSingleEditor","viewGradientPopup","BackgroundImageEditor","hideLabel","parseBackgroundImage","labelClass","getColorStepString","backgroundType","backgroundTypeName","selectedClass","getColorStepList","modifyBackgroundImage","selectItem","sortBackgroundImage","isSelected","typeName","BoxShadow","boxShadows","insets","numbers","offsetX","offsetY","blurRadius","spreadRadius","BoxShadowEditor","modifyBoxShadow","viewShadowPopup","viewBoxShadowPropertyPopup","SelectEditor","keyValueChar","splitChar","$options","RangeEditor","units","calc","selectedUnit","$rangeArea","$calc","varType","$varType","$unit","getValue","$range","initValue","updateCalc","BorderRadius","typeList","keyList","BorderRadiusEditor","setBorderRadius","selectedValue","$selector","modifyBorderRadius","$partitialSetting","ColorSingleEditor","modifyColor","viewColorPicker","$miniView","ColorViewEditor","$colorCode","CubicBezierEditor","currentBezier","currentBezierIndex","selectedColor","animatedColor","curveColor","baseLineColor","modifyCubicBezier","bezierString","$itemList","refreshPointer","refreshEasingText","refreshBezierCanvas","drawBezierCanvas","isDrawPointer","update","lineWidth","strokeStyle","bezierCurveTo","drawPoint","$text","$control","$pointer1","$pointer2","animationTimer","animationPoint","animationCanvasData","$animationCanvas","$pointer","clientWidth","clientHeight","setPosition","$item1Canvas","$item2Canvas","$item3Canvas","FILTER_REG","Filter","FilterClass","FilterClassName","URLSvgFilter","filters","filterName","filterValue","BlurFilter","spec","inputType","GrayscaleFilter","HueRotateFilter","InvertFilter","BrightnessFilter","ContrastFilter","OpacityFilter","SaturateFilter","SepiaFilter","DropshadowFilter","multi","grayscale","invert","saturate","sepia","filterList","specList","FilterEditor","svgFilterList","getSVGFilterList","filterType","svgfilters","subtitle","makeOneFilterEditor","makeDropShadowFilterTemplate","getSpec","makeOneFilterTemplate","makeFilterTemplate","sortFilter","modifyFilter","svgfilterIndex","getSVGFilterIndex","preview","setSVGFilterValue","makeFilter","$filterSelect","InputRangeEditor","radialTypeList","imageTypeList","iconList","hasRadialPosition","presetPosition","GradientEditor","$dragPosition","containerRect","$radialPositionX","$radialPositionY","changeImageType","$angle","$radialType","radialPositionX","radialPositionY","currentStep","$stepList","insertColorStep","getLinearGradient","isSelectedColorStep","$cut","removeColorStep","selectColorStep","removeStep","selectStep","cachedStepListRect","getStepListRect","IterationCountEditor","Offset","addProperty","VarEditor","NumberInputEditor","transformList","labels","TransformEditor","tindex","getLabel","getRange","isMultiValue","makeMultiTransformTemplate","makeOneTransformTemplate","makeTransformTemplate","sortTransform","modifyTransform","makeTransform","$transformSelect","origin","TransformOriginEditor","direct","setTransformOrigin","PerspectiveOriginEditor","modifyPerspectiveOrigin","setPerspectiveOrigin","perspectiveOrigin","ClipPathEditor","modifyClipPath","viewClipPathPicker","TextShadow","TextShadowEditor","textShadows","modifyTextShadow","viewTextShadowPropertyPopup","log","StrokeDashArrayEditor","toStringValue","modifyStrokeDashArray","PathDataEditor","$data","$segment","$command","makeSegments","resetSegments","modifyPathData","unshift","PolygonDataEditor","modifyPolygonData","OffsetPathListEditor","rotateStatus","modifyOffsetPath","paths","getOptions","BorderStyles","Border","borderStyleList","BorderValueEditor","parseValue","joinValue","$width","$style","$color","borderTypeList","borderTypeTitle","BorderEditor","borders","CSSPropertyEditor","hideTitle","hideRefresh","modifyProperty","makePropertySelect","alert","getPropertyDefaultValue","modifyPropertyValue","backgroundImage","boxshadow","textShadow","makeCustomePropertyEditor","makeIndivisualPropertyEditor","makeIndivisualPropertyColorEditor","searchKey","makePropertyEditor","OffsetEditor","offsets","modifyOffset","templateForOffset","templateForOffsetInput","templateForProperty","selectedList","selectedOffsetItem","refreshOffsetInput","$offsetInput","makeOffset","currentOffset","baseOffsetWidth","$offset","baseOffsetArea","currentX","newOffset","currentOffsetleft","currentOffsetIndex","currentOffsetXY","baseOffsetMin","baseOffsetMax","isRemoveOffset","removeOffset","refreshOffsetProperty","SingleRangeEditor","hasCalc","CircleEditor","toClipPathValueString","areaRect","$area","radiusString","TextEditor","InputArrayEditor","column","Primitive","DEFAULT_ATTRIBUTES","xChannelSelector","yChannelSelector","BaseSVGFilter","SVGFilterClassName","in","bound","targetX","targetY","getSourceInAttribute","inList","indexString","hasInIndex","getDefaultAttribute","RotaMatrixSVGFilter","hueRotate","MergeSVGFilter","CompositeSVGFilter","operator","k1","k2","k3","k4","kNumbers","MorphologySVGFilter","TurbulenceSVGFilter","baseFrequency","numOctaves","seed","DisplacementMapSVGFilter","scaleOption","ColorMatrixSVGFilter","valueString","ConvolveMatrixSVGFilter","kernelMatrix","GaussianBlurSVGFilter","stdDeviationX","stdDeviationY","edgeMode","stdDeviation","FloodSVGFilter","ComponentTransferSVGFilter","tableValues","slop","intercept","amplitude","exponent","DistantLightSVGFilter","azimuth","elevation","PointLightSVGFilter","SpotLightSVGFilter","pointsAtX","pointsAtY","pointsAtZ","specularExponent","limitingConeAngle","DiffuseLightingSVGFilter","surfaceScale","lightingColor","diffuseConstant","lightInfo","SpecularLightingSVGFilter","specularConstant","OffsetSVGFilter","BlendSVGFilter","SourceSVGFilter","SourceGraphicSVGFilter","SourceAlphaSVGFilter","BackgroundImageSVGFilter","BackgroundAlphaSVGFilter","FillPaintSVGFilter","StrokePaintSVGFilter","DropShadowSVGFilter","SaturateSVGFilter","HueRotateSVGFilter","LuminanceAlphaSVGFilter","TileSVGFilter","ImageSVGFilter","src","alignment","scaleing","SVG_FILTER_COMMON_ATTRIBUTES","SVGFilter","Image","Tile","Saturate","HueRotate","LuminanceAlpha","DropShadow","SourceGraphic","SourceAlpha","BackgroundAlpha","FillPaint","StrokePaint","ComponentTransfer","DistantLight","PointLight","SpotLight","DiffuseLighting","SpecularLighting","Blend","RotaMatrix","GaussianBlur","Flood","Merge","Composite","Morphology","Turbulence","DisplacementMap","ColorMatrix","ConvolveMatrix","SVGFilterSpecList","FuncFilterEditor","BlueMagenta2","BlueShadowMagentHightlight","darken","ElimBlue","GrayOnDark","GrayOnLight","GrayOnMid","HardGreen","HardYellow","IdenticalRedOverlay","lighten","NoGreenMagenta","NoGreenRed","peachy","RedOverlay","YesGreenColorizedMagenta","sampleList","colormatrix","ColorMatrixEditor","sample","dancingStroke","stitchTiles","innerShadow","edge","ImageSelectEditor","filterTypes","SVGFilterTemplateList","getSourceTypeString","connectedXAxis","connectedYAxis","inXAxis","inYAxis","SVGFilterEditor","parseFilter","selectedFilter","$tab","setData","makeFilterNode","templateType","svgFilterPreset","objectId","now","makeFilterEditorTemplate","isSource","isLight","lightManager","toLightString","applyTemplate","removeFilter","makeGraphPanel","pointType","pointIndex","$graphPanel","selectFilter","pointer","inRect","sourceItem","connectedInfo","sourceX","sourceY","getInCount","connectedItem","createPath","sourceType","makeConnectedPath","tid","sid","inObject","$targetNode","targetFilter","hasLight","setIn","setConnected","itIn","inIndex","IconListViewEditor","SVGClipPathEditor","fit","$fit","DirectionEditor","EmbedColorPicker","colorPicker","ColorPickerUI","SelectIconEditor","icons","$selectedItem","reload","iconKey","FillSingleEditor","rangeEditorList","FillEditor","cachedRect","getImageFieldValue","refreshFieldValue","$x1","$y1","$x2","$y2","$cx","$cy","$r","$fx","$fy","$fr","$spreadMethod","$patternUnits","$patternWidth","$patternHeight","$imageX","$imageY","$imageWidth","$imagenHeight","getDrawAreaRect","getFieldValue","$pointerDrawArea","getRectRate","setColor","SVGFilterSelectEditor","TextAreaEditor","FlexLayoutEditor","modifyData","BaseProperty","propertyEditor","isFirstShow","isHideHeader","hasKeyframe","getKeyframeProperty","getTools","getBody","getFooter","$propertyTitle","isAddProperty","onToggleShow","isRefresh","blendI18n","BackgroundColorProperty","getBlendList","$zIndex","$opacity","$mixBlend","refreshShowIsNot","BorderRadiusProperty","SizeProperty","$height","BoxShadowProperty","$boxshadow","styleKeys","BoxModelProperty","refreshShow","templateInput","resetBoxModel","ContentProperty","setContent","$contentItem","FontProperty","$size","$stretch","$family","TextShadowProperty","$textshadow","textshadow","TextProperty","$align","$transform","$decoration","FontSpacingProperty","$lineHeight","$letter","$word","$indent","BorderImageProperty","appliedBorderImage","applyBorderImage","$apply","borderImage","imageCSS","setBorderImageProperty","viewFillPopup","$preview","$colorsteps","selectColorStepId","getFillData","setImageUrl","viewChangeImage","setGradient","viewChangeGradient","setImage","$allSlice","outlineStyleLit","OutlineProperty","refreshOutlineInfo","setOutline","AnimationProperty","refreshTimingFunctionCanvas","createAnimation","sortAnimation","viewAnimationPicker","removeAnimation","togglePlayState","currentAnimation","viewAnimationPropertyPopup","back","Keyframe","keyframeKeys","frameInfo","propertyValue","filteredOffset","equals","offsetObj","vars","varValue","selectedType","toOffsetString","toOffsetText","addOffset","KeyFrameProperty","makeProperty","$keyframeItem","currentKeyframe","viewKeyframePicker","removeKeyframe","makeKeyframeTemplate","createKeyframe","viewKeyframePropertyPopup","BackgroundImageProperty","$backgroundImageEditor","FilterProperty","$filterEditor","CodeViewProperty","keyframeCode","svgCode","filterKeyName","modifyNewLine","cssCode","toExport","nestedCssCode","svgPropertyCode","toExportSVGCode","selectorCode","BackdropFilterProperty","VariableProperty","$varEditor","RootVariableProperty","TransformProperty","$transformEditor","replaceAll","clipPathList","ClipPathProperty","makeClipPathTemplate","$clipPathSelect","TransitionProperty","createTransition","sortTransition","viewTransitionPicker","removeTransition","currentTransition","viewTransitionPropertyPopup","ComputedCodeViewProperty","currentExport","PerspectiveOriginProperty","PerspectiveProperty","TransformOriginProperty","BackgroundClipProperty","clip","selectorList","SelectorProperty","viewSelectorPicker","removeSelector","makeSelectorTemplate","sortSelector","createSelector","$select","currentSelector","viewSelectorPropertyPopup","currentselector","PositionProperty","Project","gradients","svgimages","addKeyframe","isAnimate","copyObject","copyPropertyList","addImage","addGradient","addSVGFilter","addSVGImage","ProjectProperty","startInputEditing","endInputEditing","modifyDoneInputEditing","selectProject","ArtBoardProperty","LayerTreeProperty","hideDragPointer","lastDragOverPosition","lastDragOverOffset","rootRect","itemRect","lastDragOverItemDirection","strokeWidth","parentObject","depth","makeLayerList","$layerList","targetLayerId","lastDragOverItemId","sourceLayerId","targetItem","addLayer","ArtBoardSizeProperty","sizeList","category","groups","group","devices","device","categories","makeDevice","makeGroup","image_size","ImageProperty","ColorAssetsProperty","isEmit","executeColor","createColor","removeColor","copyColor","attrKeyValue","setColorValue","hideColorAssets","TextFillProperty","$fillColor","$strokeColor","GradientAssetsProperty","executeGradient","removeGradient","copyGradient","setGradientValue","SVGItemProperty","isSVGItem","$length","$totalLength","$fill","$stroke","$fillOpacity","$strokeWidth","$fillRule","$strokeDashOffset","$strokeDashArray","$strokeLineCap","$strokeLineJoin","$motionBased","TextClipProperty","SVGFilterAssetsProperty","executeSVGFilter","createSVGFilter","removeSVGFilter","copySVGFilter","SVGPathAssetsProperty","svgpathsList","svgpath","objectInfo","executeSVGPath","createSVGPath","removeSVGPath","copySVGPath","setSVGPathValue","svgpathList","AlignmentProperty","MotionProperty","$offsetPathList","ImageAssetsProperty","imageInfo","executeImage","removeImage","copyImage","setImageValue","ComponentProperty","setTitle","selfEditor","selfEditorOptions","selfEditorKey","getPropertyEditor","defaultVallue","editorOptions","TimelineAnimationProperty","setTimelineTitle","selectTimeline","BorderNewProperty","ProjectInformationProperty","$name","PathDataProperty","$pathData","PolygonDataProperty","$polygonData","SVGTextProperty","setAllValue","ExportProperty","Shape","shapeInsideList","ShapeInsideProperty","shapeinside","viewShapeInsidePicker","makeShapeInsideTemplate","$shapeInsideSelect","LayoutProperty","flex","$layoutList","KeyframeProperty","Inspector","$extraTab","BasePopup","popupPadding","rightPosition","realTop","realLeft","zIndex","BoxShadowPropertyPopup","boardWidth","boardHeight","halfWidth","halfHeight","$offsetX","$offsetY","TextShadowPropertyPopup","AnimationPropertyPopup","templateForKeyframe","templateForTimingFunction","templateForIterationCount","templateForDelay","templateForDuration","templateForDirection","templateForFillMode","templateForPlayState","KeyframePopup","templateForName","getOffsetData","InsetEditor","topX","topY","bottomX","bottomY","rightX","rightY","leftX","leftY","roundCheckStatus","$hasRound","$top","$right","$bottom","$left","$clipArea","clipRect","clipWidth","clipHeight","PolygonEditor","maxWidth","maxHeight","appendValue","removeValue","copyValue","$value","$inputList","$x","$y","updateValue","EllipseEditor","ClipPathPopup","property_list","TransitionPropertyPopup","SVGPropertyPopup","SelectorPopup","templateForSelector","$propertyEditor","ColorPickerPopup","$assets","ImageSelectPopup","$img","ImageAssetPicker","localUrl","GradientPickerPopup","selectedTab","selectColorStepIndex","$g","SVGFilterPopup","SVGPathPopup","BackgroundImagePositionPopup","$t","$repeat","templateForSize","templateForX","templateForY","templateForWidth","templateForHeight","templateForRepeat","templateForBlendMode","FillPickerPopup","StyleView","$head","head","changeStyleHead","isOnlyOne","refreshStyleHeadOne","refreshStyleHead","ObjectItems","heart","LibraryItems","clipArt","omit","ComponentItems","LayerTab","ObjectList","LogoView","ExternalToolMenu","timecode","hour","minute","frame","seconds","padStart","framesToTimecode","frames","makeTimer","elapsed","iterationStartCount","logIndex","tick","startCallback","endCallback","firstCallback","lastCallback","calculateForDirection","isStart","frameStart","cancelAnimationFrame","seek","stop","TimelineCommand","addTimelineLayer","addTimeline","selectedId","setTimelineKeyframeOffsetValue","layerList","keyframeObj","addTimelineKeyframe","deleteTimelineKeyframe","removeTimelineProperty","removeTimeline","setTimelineKeyframeOffsetTime","newTime","copyTimelineKeyframe","setTimelineCurrentTime","nextTime","getSelectedTimelineNextTime","firstTime","getSelectedTimelineFirstTime","prevTime","getSelectedTimelinePrevTime","currentTime","ObjectCommand","changeAddType","createComponent","containerItem","refreshSelection","makeRect","textLength","makeLine","makeCircle","ToolCommand","setLocale","filename","href","download","btoa","svgString","imageType","canvas","pngDataUri","saveResource","createItem","paste","getAddCommand","changeTheme","onload","ext","reader","FileReader","readAsDataURL","revokeObjectURL","CommandView","BaseWindow","ExportWindow","$js","$svgimage","$svgimagePreview","LoginWindow","email","$email","password","$password","firebase","auth","signInWithEmailAndPassword","then","setUser","error","SignWindow","createUserWithEmailAndPassword","ImageFileView","$file","PROPERTY_TITLE","TimelineObjectList","checkLayer","checkProperty","defaultTitle","getPropertyTitle","selectedTimeline","makeTimelineObjectRow","selectLayer","selectProperty","makeInterpolateNumber","startNumber","endNumber","makeInterpolateLine","makeInterpolateQuard","makeInterpolateCubic","makeInterpolateOffset","interpolateList","preC1x","preC1y","preEx","preEy","getCubicDist","startT","endT","TimelineKeyframeList","offsetTime","PADDING","subOffset","prevLength","displayStartTime","displayEndTime","calculateTimeToPosition","makeSubOffset","subOffsetIndex","subOffsetLeft","times","rowIndex","makeKeyframe","getRealPosition","startRowIndex","getRowIndex","$dragArea","$keyframeList","getTimeRateByPosition","selectBySearch","getLayerList","doubleClicked","makeTimelineKeyframeRow","currentTimeline","$keyframeBack","getTimelineKeyframeById","cachedOffsetTime","cachedOffsetList","cachedList","sign","dxTime","newOffsetTime","isToggle","sortTimelineKeyframe","KeyframeTimeControl","refreshTimeInfo","$currentTime","currentTimecode","$duration","totalTimecode","$fps","refreshCurrentTime","setFps","checkKey","setTimelineTotalTime","TimelineTopToolbar","KeyframeTimeView","refreshTimeDisplay","refreshCanvas","totalTime","$start","$end","$gauge","sliderRect","$slider","endX","displayTimeRate","setDisplayStartTimeRate","setDisplayEndTimeRate","timelineStartTime","timelineEndTime","dxRate","setDisplayTimeDxRate","startFrame","endFrame","totalFrame","splitFrame","textOption","textAlign","textBaseline","font","realWidth","drawOption","drawText","drawLine","drawPath","selectedCanvasOffset","setTimelineCurrentTimeRate","KeyframeTimeGridView","TimelineValueEditor","$offsetTime","getProperties","$cubicBezierEditor","selectedLayer","TimelinePlayControl","status","setTimelineInfo","$iteration","$speed","TimelineProperty","$keyframeArea","$valueEditor","isPropertyShow","langs","StatusBar","languages","faceKeys","customSelectorName","cssKeyValue","nestedCssKeyValue","CubeLayer","customProperty","customProperties","nestedProperties","setCustomKeyframes","backfaceVisibility","nestedCSS","keyCSS","common","CylinderLayer","cylinderInfo","faceWidth","faceList","colorKey","backgroundKey","appendHTML","centerR","cssTextList","makeInterpolateIdentity","getRealAttributeValue","refType","refElement","makeInterpolateLength","realStartValue","realEndValue","rollbackRealAttributeValue","getBorderRadiusList","radiusValue","makeInterpolateBorderRadius","startValue","endValue","makeInterpolateBoolean","makeInterpolateColor","makeInterpolateBoxShadow","startObject","endObject","makeInterpolateString","startString","endString","stepTimingFunction","stepDist","stepStart","stepEnd","easeOutElastic","makeInterpolateRotate","makeInterpolateTextShadow","makeInterpolateColorStep","startColorStep","endColorStep","makeInterpolateColorStepList","startColorsteps","endColorsteps","makeInterpolateLinearGradient","convertPercent","makeInterpolateRadialGradient","makeInterpolateConicGradient","makeInterpolateImageResource","makeInterpolateRepeatingLinearGradient","makeInterpolateRepeatingRadialGradient","makeInterpolateRepeatingConicGradient","makeInterpolateBackgroundImage","makeInterpolateFilterItem","makeInterpolateFilter","makeInterpolateClipPath","parseStyleForCircle","makeInterpolateClipPathCircle","parseStyleForEllipse","makeInterpolateClipPathEllipse","parseStyleForInset","makeInterpolateClipPathInset","parseStyleForPolygon","startPos","endPos","makeInterpolateClipPathPolygon","parseStyleForPath","makeInterpolateClipPathPath","makeInterpolateTransformLength","makeInterpolateTransformNumber","ss","ee","makeInterpolateTransformRotate","makeInterpolateTransform","makeInterpolateTransformOrigin","makeInterpolatePerspectiveOrigin","makeInterpolateStrokeDashArrray","makeInterpolatePathValues","startLastPos","endLastPos","makeInterpolatePath","returnParser","sc","ec","makeInterpolatePolygon","startLastX","startLastY","endLastX","endLastY","makeInterpolateOffsetPath","innerInterpolate","pathLayer","newRate","newAngle","currentAngle","resultAngle","innerInterpolateAngle","makeInterpolateText","startText","endText","substring","DEFAULT_FUCTION","makeInterpolate","editorString","makeInterpolateBorder","makeInterpolateCustom","createInterpolateFunction","createTimingFunction","funcName","timingFunctions","createCurveFunction","ArtBoard","compiledTimeline","compiledTimingFunction","filteredTimeline","getCompiledTimingFunction","isOnlyTime","nextOffset","interpolateFunction","makeTimingFunction","totalT","frameOrCode","filterFunction","searchTimelineOffset","getKeyframeList","compileAll","endTimecode","getTimelineLayerInfo","initStartTime","initEndTime","selectedLayerId","selectedProperty","timelineObject","selectedOffsetTime","offsetId","ani","changedTime","addTimelineProperty","getDefaultPropertyValue","ImageLayer","SVGTextItem","lengthAdjust","shapeInsideId","toShapeInsideCSS","toShapeInside","SVGTextPathItem","startOffset","svgPathProperties","$textPath","toPathId","toPathSVG","TextLayer","margin","CSSEditor","rerender","templateForEditor","windowList","popup","getAllDropItems","BorderImage","toBorderImageCSS","toBorderImageRepeatCSS","toBorderImageSliceCSS","toBorderImageWidthCSS","ParserGenerator","createCSSEditor","embed","cssProperty","DomParserGenerator","setSource","parseText","getStyleList","parseEnd","cssObject","startEditor","Util"],"mappings":"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bC,WalIa,oRbmIbC,YcnIa,2TdoIbC,aepIa,mQfqIbC,OgBrIa,6RhBsIbzE,QiBtIa,qUjBuIb0E,MkBvIa,oQlBwIbC,QmBxIa,ssBnByIbC,MoBzIa,m9CpB0IbC,YqB1Ia,i1BrB2Ib/+B,KsB3Ia,y+CtB4Ibg/B,UuB5Ia,yKvB6IbC,QwB7Ia,4iBxB8IbC,QyB9Ia,kXzB+IbC,S0B/Ia,uW1BgJbC,M2BhJa,gO3BiJbC,Q4BjJa,sJ5BkJbC,U6BlJa,8L7BmJbC,S8BnJa,gI9BoJbC,I+BpJa,uM/BqJbC,QgCrJa,+LhCsJbC,QiCtJa,gVjCuJbC,UkCvJa,gPlCwJbC,UmCxJa,mYnCyJb9xB,QoCzJa,kTpC0Jb+xB,IqC1JF,81JrC2JEC,QsC3Ja,qRtC4JbC,OuC5Ja,guBvC6JbC,MwC7Ja,0UxC8JbC,kByC9Ja,wKzC+JbC,U0C/Ja,uK1CgKbC,K2ChKa,8P3CiKbliC,K4CjKa,kM5CkKbmiC,O6ClKa,oO7CmKbC,W8CnKa,4iB9CoKbC,K+CpKa,gc/CqKb59C,QgDrKa,+KhDsKb69C,KiDtKa,wSjDuKbC,OkDvKa,wJlDwKbC,MmDvKa,6SnDwKbC,OoDzKa,oJpD0KbzjC,KqD1Ka,8LrD2Kb0jC,KsD3Ka,+LtD4KbC,auD5Ka,mLvD6KbC,cwD7Ka,kLxD8KbC,WyD9Ka,oLzD+KbC,Y0D/Ka,mL1DgLbrwC,M2DhLa,4iB3DiLb2wB,K4DjLa,kX5DkLbW,K6DlLa,yT7DmLbgf,c8DnLa,0P9DoLbC,O+DpLa,+Z/DqLbC,MgErLa,qVhEsLbC,QiEtLa,iNjEuLbxsB,UkEvLa,mNlEwLb/hB,SmExLa,6VnEyLbwuC,MoEzLa,6MpE0LbC,MqE1La,gRrE2Lbr4B,KsE3La,kMtE4Lbs4B,UuE5La,8UvE6LbC,KwE7La,qHxE8LbC,MyE9La,uIzE+LbC,U0E/La,2I1EgMbC,U2EhMa,mI3EiMbC,a4EjMa,+I5EkMbC,Y6ElMa,mJ7EmMb1pD,O8EnMa,ssB9EoMb2pD,M+EpMa,yP/EqMbC,MgFrMa,sVhFsMbC,MiFtMa,+HjFuMbC,MkFvMa,6OlFwMbC,WmFxMa,qQnFyMbpE,gBACAzP,MoF1Ma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","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"EasylogicStudio\"] = factory();\n\telse\n\t\troot[\"EasylogicStudio\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","\nexport function debounce (callback, delay) {\n\n    var t = undefined;\n\n    return function ($1, $2, $3, $4, $5) {\n        if (t) {\n            clearTimeout(t);\n        }\n\n        t = setTimeout(function () {\n            callback($1, $2, $3, $4, $5);\n        }, delay || 300);\n    }\n}\n  \n\nexport function throttle (callback, delay) {\n\n    var t = undefined;\n\n    return function ($1, $2, $3, $4, $5) {\n        if (!t) {\n            t = setTimeout(function () {\n                callback($1, $2, $3, $4, $5);\n                t = null; \n            }, delay || 300);\n        }\n\n    }\n}\n\nexport function keyEach (obj, callback) {\n    Object.keys(obj).forEach( (key, index) => {\n        callback (key, obj[key], index);\n    })\n}\n\nexport function keyMap (obj, callback) {\n    return Object.keys(obj).map( (key, index) => {\n        return callback (key, obj[key], index);\n    })\n}\n\nexport function keyMapJoin (obj, callback, joinString = '') {\n    return keyMap(obj, callback).join(joinString);\n}\n\nexport function get(obj, key, callback) {\n    \n    var returnValue = defaultValue(obj[key], key);\n\n    if (isFunction( callback ) ) {\n        return callback(returnValue);\n    }\n\n    return returnValue; \n}\n\nexport function defaultValue (value, defaultValue) {\n    return typeof value == 'undefined' ? defaultValue : value;\n}\n\nexport function isUndefined (value) {\n    return typeof value == 'undefined' || value === null;\n}\n\nexport function isNotUndefined (value) {\n    return isUndefined(value) === false;\n}\n\nexport function isArray (value) {\n    return Array.isArray(value);\n}\n\nexport function isBoolean (value) {\n    return typeof value == 'boolean'\n}\n\nexport function isString (value) {\n    return typeof value == 'string'\n}\n\nexport function isNotString (value) {\n    return isString(value) === false;\n}\n\nexport function isObject (value) {\n    return typeof value == 'object' && !isArray(value) && !isNumber(value) && !isString(value)  && value !== null; \n}\n\nexport function isFunction (value) {\n    return typeof value == 'function'\n}\n\nexport function isNumber (value) {\n    return typeof value == 'number';\n}\n\nexport function clone (obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\n\nexport function cleanObject (obj) {\n    var realObject = {}\n    Object.keys(obj).filter(key => {\n        return !!obj[key]\n    }).forEach(key => {\n        realObject[key] = obj[key]\n    });\n\n    return realObject;\n}\n\nexport function combineKeyArray (obj) {\n    Object.keys(obj).forEach(key => {\n        if (Array.isArray(obj[key])) {\n            obj[key] = obj[key].join(', ')\n        }\n    })\n\n    return obj;\n}\n\nexport function repeat (count) {\n    return [...Array(count)];\n}\n\n\nconst short_tag_regexp = /\\<(\\w*)([^\\>]*)\\/\\>/gim;\n\nconst HTML_TAG = {\n    'image': true,\n    'input': true,\n    'br': true,\n    'path': true,\n    'line': true,\n    'circle': true,\n    'rect': true,\n    'polygon': true,\n    'polyline': true,\n    'use': true\n}\n\n\nexport const html = (strings, ...args) => {\n\n    var results =  strings.map((it, index) => {\n        \n        var results = args[index] || ''\n\n        if (isFunction(results)) {\n            results = results()\n        }\n\n        if (!isArray(results)) {\n            results = [results]\n        }\n\n        results = results.map(r => {\n            if (isObject(r) && !isArray(r)) {\n                return Object.keys(r).map(key => {\n                    return `${key}=\"${r[key]}\"`\n                }).join(' ')\n            }\n\n            return r\n        }).join('')\n\n        return it + results;\n    }).join('');\n\n    results = results.replace(short_tag_regexp, function (match, p1) {\n        if (HTML_TAG[p1.toLowerCase()]) {\n            return match;\n        } else {\n            return match.replace('/>', `></${p1}>`)\n        }\n    })\n\n    return results; \n}\n\nexport function CSS_TO_STRING(style, postfix = '') {\n    var newStyle = style;\n  \n    return Object.keys(newStyle)\n      .filter(key => newStyle[key])\n      .map(key => `${key}: ${newStyle[key]}`)\n      .join(\";\" + postfix);\n  }\n  \n\nexport function STRING_TO_CSS (str = '') {\n\n    str = str + \"\";\n\n    var style = {}\n\n    if (str === '') return style;\n\n    str.split(';').forEach(it => {\n       var [key, ...value] = it.split(':').map(it => it.trim())\n       if (key != '') {\n        style[key] = value.join(':'); \n       }\n    })\n\n    return style;\n}\n\nexport function OBJECT_TO_PROPERTY (obj) {\n    return Object.keys(obj).map(key => {\n\n        if (key === 'class') {\n            if (isObject(obj[key])) {\n                return `${key}=\"${OBJECT_TO_CLASS(obj[key])}\"`\n            }\n        }\n\n        if (isBoolean(obj[key])) {\n            if (obj[key]) {\n                return key;\n            } else {\n                return '';\n            }\n\n        } \n\n        return `${key}=\"${obj[key]}\"`\n    }).join(' ');\n}\n\nexport function OBJECT_TO_CLASS (obj) {\n    return Object.keys(obj).filter(k => obj[k]).map(key => {\n        return key\n    }).join(' ');\n}\n\nexport function TAG_TO_STRING (str) {\n    return str.replace(/\\</g, '&lt;').replace(/\\>/g, '&gt;') \n}\n\nexport function mapjoin(arr, callback, joinString = '') {\n    return arr.map(callback).join(joinString);\n}","import { isUndefined, isArray } from \"./func\";\n\n/**\n * @method format\n *\n * convert color to format string\n *\n *     // hex\n *     color.format({ r : 255, g : 255, b : 255 }, 'hex')  // #FFFFFF\n *\n *     // rgb\n *     color.format({ r : 255, g : 255, b : 255 }, 'rgb') // rgba(255, 255, 255, 0.5);\n *\n *     // rgba\n *     color.format({ r : 255, g : 255, b : 255, a : 0.5 }, 'rgb') // rgba(255, 255, 255, 0.5);\n *\n * @param {Object} obj  obj has r, g, b and a attributes\n * @param {\"hex\"/\"rgb\"} type  format string type\n * @returns {*}\n */\nexport function format(obj, type, defaultColor = 'rgba(0, 0, 0, 0)') {\n\n    if (Array.isArray(obj)) {\n        obj = { r: obj[0], g: obj[1], b: obj[2], a: obj[3] }\n    }\n\n    if (type == 'hex') {\n        return hex(obj);\n    } else if (type == 'rgb') {\n        return rgb(obj, defaultColor);\n    } else if (type == 'hsl') {\n        return hsl(obj);\n    }\n\n    return obj;\n}\n\nexport function hex(obj) {\n    if (Array.isArray(obj)) {\n        obj = { r: obj[0], g: obj[1], b: obj[2], a: obj[3] }\n    }\n\n    var r = obj.r.toString(16);\n    if (obj.r < 16) r = \"0\" + r;\n\n    var g = obj.g.toString(16);\n    if (obj.g < 16) g = \"0\" + g;\n\n    var b = obj.b.toString(16);\n    if (obj.b < 16) b = \"0\" + b;\n\n    return `#${r}${g}${b}`;\n}\n\nexport function rgb (obj, defaultColor = 'rgba(0, 0, 0, 0)') {\n    if (isArray(obj)) {\n        obj = { r: obj[0], g: obj[1], b: obj[2], a: obj[3] }\n    }\n\n    if (isUndefined( obj ) ) {\n        return undefined;\n    }\n\n    if (obj.a == 1 || isUndefined( obj.a ) ) {\n        if (isNaN(obj.r)) {\n            return defaultColor;\n        }\n        return `rgb(${obj.r},${obj.g},${obj.b})`;\n    } else {\n        return `rgba(${obj.r},${obj.g},${obj.b},${obj.a})`;\n    }\n}\n\nexport function hsl (obj) {\n    if (isArray(obj)) {\n        obj = { r: obj[0], g: obj[1], b: obj[2], a: obj[3] }\n    }\n\n    if (obj.a == 1 || isUndefined( obj.a )) {\n        return `hsl(${obj.h},${obj.s}%,${obj.l}%)`;\n    } else {\n        return `hsla(${obj.h},${obj.s}%,${obj.l}%,${obj.a})`;\n    }\n\n}","import { rgb } from \"./formatter\";\n\nexport function randomNumber(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport function random() {\n    return rgb({\n        r: randomNumber(0, 255),\n        g: randomNumber(0, 255),\n        b : randomNumber(0, 255),\n    })\n}\n\nexport function randomRGBA() {\n    return rgb({\n        r: randomNumber(0, 255),\n        g: randomNumber(0, 255),\n        b: randomNumber(0, 255),\n        a: randomNumber(0, 1000)/1000,\n    })\n}","\nconst matrix2d = {\n\n    multiply : function (a) {\n        return function (b, startIndex) {\n            var x = +b[startIndex];\n            var y = +b[startIndex+1];\n\n            return [\n                a[0][0] * x + a[0][1] * y +  a[0][2],\n                a[1][0] * x + a[1][1] * y +  a[1][2],\n                1\n            ];\n        };\n    },\n\n    translate : function (tx, ty) {\n        return this.multiply([\n            [1, 0, tx],\n            [0, 1, ty],\n            [0, 0, 1]\n        ]);\n    },\n\n    rotate : function (angle) {\n        return this.multiply([\n            [Math.cos(angle) , Math.sin(angle), 0]\n            [-Math.sin(angle),  Math.cos(angle), 0],\n            [0, 0, 1]\n        ]);\n    },\n\n    scale : function (sx, sy) {\n        return this.multiply([\n            [sx, 0, 0],\n            [0, sy, 0],\n            [0, 0, 1]\n        ]);\n    },\n\n    skewX : function (x) {\n        return this.multiply([\n            [1, Math.tan(x), 0],\n            [0, 1, 0],\n            [0, 0, 1]\n        ]);\n\n        // a + Math.tan(x) * (disty) \n    },\n\n    skewY : function (y) {\n        return this.multiply([\n            [1, 0, 0],\n            [Math.tan(y), 1, 0],\n            [0, 0, 1]\n        ]);\n    },\n\n    flip : function () {\n        return this.multiply([\n            [-1, 0, 0],\n            [0, -1, 0],\n            [0, 0, 1]\n        ]);\n    },\n\n    flipX : function () {\n        return this.multiply([\n            [-1, 0, 0],\n            [0, 1, 0],\n            [0, 0, 1]\n        ]);\n    },\n\n    flipY : function () {\n        return this.multiply([\n            [1, 0, 0],\n            [0, -1, 0],\n            [0, 0, 1]\n        ]);\n    }\n};\n\nexport const Vect3 = {\n    create: function(x, y, z) {\n        return {x: x || 0, y: y || 0, z: z || 0};\n    },\n    add: function(v1, v2) {\n        return {x: v1.x + v2.x, y: v1.y + v2.y, z: v1.z + v2.z};\n    },\n    sub: function(v1, v2) {\n        return {x: v1.x - v2.x, y: v1.y - v2.y, z: v1.z - v2.z};\n    },\n    mul: function(v1, v2) {\n        return {x: v1.x * v2.x, y: v1.y * v2.y, z: v1.z * v2.z};\n    },\n    div: function(v1, v2) {\n        return {x: v1.x / v2.x, y: v1.y / v2.y, z: v1.z / v2.z};\n    },\n    muls: function(v, s) {\n        return {x: v.x * s, y: v.y * s, z: v.z * s};\n    },\n    divs: function(v, s) {\n        return {x: v.x / s, y: v.y / s, z: v.z / s};\n    },\n    len: function(v) {\n        return Math.sqrt(v.x * v.x + v.y * v.y + v.z * v.z);\n    },\n    dot: function(v1, v2) {\n        return (v1.x * v2.x) + (v1.y * v2.y) + (v1.z * v2.z);\n    },\n    cross2d: function (v1, v2) {\n        return v1.x * v2.y - v1.y * v2.x; \n    },\n    cross: function(v1, v2) {\n        return {x: v1.y * v2.z - v1.z * v2.y, y: v1.z * v2.x - v1.x * v2.z, z: v1.x * v2.y - v1.y * v2.x};\n    },\n    normalize: function(v) {\n        return Vect3.divs(v, Vect3.len(v));\n    },\n    ang: function(v1, v2) {\n        return Math.acos(Vect3.dot(v1, v2) / (Vect3.len(v1) * Vect3.len(v2)));\n    },\n    copy: function(v) {\n        return {x: v.x, y: v.y, z: v.z};\n    },\n    equal: function(v1,v2) {\n        return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z;\n    },\n    rotate: function(v1, v2) {\n        var x1 = v1.x,\n            y1 = v1.y,\n            z1 = v1.z,\n            angleX = v2.x !== 0 ? v2.x / 2 : 0,\n            angleY = v2.y !== 0 ? v2.y / 2 : 0,\n            angleZ = v2.z !== 0 ? v2.z / 2 : 0,\n\n            cr = Math.cos(angleX),\n            cp = Math.cos(angleY),\n            cy = Math.cos(angleZ),\n            sr = Math.sin(angleX),\n            sp = Math.sin(angleY),\n            sy = Math.sin(angleZ),\n\n            w = cr * cp * cy + -sr * sp * sy,\n            x = sr * cp * cy - -cr * sp * sy,\n            y = cr * sp * cy + sr * cp * -sy,\n            z = cr * cp * sy - -sr * sp * cy,\n\n            m0 = 1 - 2 * ( y * y + z * z ),\n            m1 = 2 * (x * y + z * w),\n            m2 = 2 * (x * z - y * w),\n\n            m4 = 2 * ( x * y - z * w ),\n            m5 = 1 - 2 * ( x * x + z * z ),\n            m6 = 2 * (z * y + x * w ),\n\n            m8 = 2 * ( x * z + y * w ),\n            m9 = 2 * ( y * z - x * w ),\n            m10 = 1 - 2 * ( x * x + y * y );\n\n        return {\n            x: x1 * m0 + y1 * m4 + z1 * m8,\n            y: x1 * m1 + y1 * m5 + z1 * m9,\n            z: x1 * m2 + y1 * m6 + z1 * m10\n        };\n    }\n};\n\nconst addVector = (a, b) => {\n    return Vect3.add(a, b);\n}\n\nconst rotateVector = (a, b) => {\n    return Vect3.rotate(a, b);\n}\n\nexport default {\n    matrix2d,\n    Vect3,\n    addVector,\n    rotateVector\n}","import { isUndefined } from \"./func\";\nimport { Vect3 } from \"./matrix\";\n\nexport function round (n, k) {\n    k = isUndefined(k) ? 1 : k; \n    return Math.round(n * k) / k;\n}\n\n\nexport function degreeToRadian (degrees) {\n    return degrees * Math.PI / 180;\n}\n\nexport function div(num, divNum = 1) {\n    return (num === 0) ? 0 : num / divNum;\n}\n\n/**\n * \n * convert radian to degree \n * \n * @param {*} radian \n * @returns {Number} 0..360\n */\nexport function radianToDegree(radian) {\n    var angle =  radian * 180 / Math.PI;\n\n\n    if (angle < 0) {   \n        angle = 360 + angle\n    }\n\n    return angle; \n}\n\n\nexport function getXInCircle (angle, radius, centerX = 0) {\n    return centerX + radius * Math.cos(degreeToRadian (angle))\n}\n\nexport function getYInCircle (angle, radius, centerY = 0) {\n    return centerY + radius * Math.sin(degreeToRadian(angle))\n}    \n\nexport function getXYInCircle (angle, radius, centerX = 0, centerY = 0) {\n    return {\n        x : getXInCircle(angle, radius, centerX),\n        y : getYInCircle(angle, radius, centerY)\n    }\n}\n\nexport function getDist (x, y, centerX = 0, centerY = 0) {\n    return Math.sqrt( \n        Math.pow(Math.abs(centerX - x), 2) \n        + \n        Math.pow(Math.abs(centerY - y), 2) \n    )\n}\n\nexport function calculateAngle (rx, ry) {\n    return radianToDegree(Math.atan2(ry, rx))\n}\n\nexport function calculateAngle360 (rx, ry) {\n    return (radianToDegree(Math.atan2(ry, rx)) + 180) % 360\n}\n\nconst UUID_REG = /[xy]/g\n\nexport function uuid(){\n    var dt = new Date().getTime();\n    var uuid = 'xxx12-xx-34xx'.replace(UUID_REG, function(c) {\n        var r = (dt + Math.random()*16)%16 | 0;\n        dt = Math.floor(dt/16);\n        return (c=='x' ? r :(r&0x3|0x8)).toString(16);\n    });\n    return uuid;\n}\n\nexport function uuidShort(){\n    var dt = new Date().getTime();\n    var uuid = 'idxxxxxxx'.replace(UUID_REG, function(c) {\n        var r = (dt + Math.random()*16)%16 | 0;\n        dt = Math.floor(dt/16);\n        return (c=='x' ? r :(r&0x3|0x8)).toString(16);\n    });\n    return uuid;\n}\n\nconst bezierCalc = {\n    B1 : function (t) { return t*t*t },\n    B2 : function (t) { return 3*t*t*(1-t) },\n    B3 : function (t) { return 3*t*(1-t)*(1-t) },\n    B4 : function (t) { return (1-t)*(1-t)*(1-t) }\n}\n\nexport function cubicBezier (x1, y1, x2, y2) {\n    var C1 = { x : 0, y : 0 };\n    var C2 = { x : x1, y : y1 };\n    var C3 = { x : x2, y : y2 };\n    var C4 = { x : 1, y : 1 };\n\n    return function (progress) {\n        // var x = C1.x * bezierCalc.B1(p) + C2.x*bezierCalc.B2(p) + C3.x*bezierCalc.B3(p) + C4.x*bezierCalc.B4(p);\n        // var y = C1.y * bezierCalc.B1(progress) + C2.y*bezierCalc.B2(progress) + C3.y*bezierCalc.B3(progress) + C4.y*bezierCalc.B4(progress);\n\n        var y = C2.y*bezierCalc.B2(progress) + C3.y*bezierCalc.B3(progress) + bezierCalc.B4(progress);\n\n        return 1 - y;\n    }\n}\n\nexport function getGradientLine(angle, box) {\n    let length = Math.abs(box.width * Math.sin(angle)) + Math.abs(box.height * Math.cos(angle));\n    let center = {\n      x: box.x + box.width/2,\n      y: box.y + box.height/2\n    };\n  \n    let yDiff = Math.sin(angle-Math.PI/2) * length/2;\n    let xDiff = Math.cos(angle-Math.PI/2) * length/2;\n  \n    return {\n      length,\n      center,\n      start: {\n        x: center.x - xDiff,\n        y: center.y - yDiff\n      },\n      end: {\n        x: center.x + xDiff,\n        y: center.y + yDiff\n      }\n    };\n}\n\n// 외적 구하기 \nexport function CCW(A, B, C) {\n    // cross (B - A, C - A)\n\n    if (isUndefined(C)) {\n        return Vect3.cross2d(A, B);\n    }\n\n    return Vect3.cross2d(Vect3.sub(B, A), Vect3.sub(C, A))\n}\n\n// refer to http://www.secmem.org/blog/2019/01/11/Deluanay_Triangulation/\nexport function incircle (a, b, c, d) {\n    var ccw = CCW(a, b, c)\n\n    var adx = a.x - d.x;\n    var ady = a.y - d.y;\n    var bdx = b.x - d.x;\n    var bdy = b.y - d.y;\n    var cdx = c.x - d.x;\n    var cdy = c.y - d.y;\n\n    var bdxcdy = bdx * cdy, cdxbdy = cdx * bdy;\n    var cdxady = cdx * ady, adxcdy = adx * cdy;\n    var adxbdy = adx * bdy, bdxady = bdx * ady;\n\n    var alift = adx * adx + ady * ady;\n    var blift = bdx * bdx + bdy * bdy;\n    var clift = cdx * cdx + cdy * cdy;\n    \n    var det = alift * (bdxcdy - cdxbdy) + blift * (cdxady - adxcdy) + clift * (adxbdy - bdxady);\n    \n    if(ccw > 0) return det >= 0;\n    else return det <= 0;\n}\n\nexport function initPolygon (polygon, x, y) {\n\n    var A = Vect3.create(Math.min(x, y), Math.max(x, y))\n\n    var selectedIndex = -1; \n    for(var i = 0, len = polygon.length; i < len; i++ ) {\n        if (Vect3.equal(polygon[i], A)) {\n            selectedIndex = i;\n            break; \n        }\n    }\n\n    if (selectedIndex > -1) {\n        polygon.splice(selectedIndex, 1);\n    } else {\n        polygon.push(A)\n    }\n}\n\nfunction swap (data, i, j) {\n    var temp = data[i];\n    data[i] = data[j]\n    data[j] = temp \n}\n\nexport function Deluanay (points = []) {    \n\n    var n = points.length;\n\n    points[n] = Vect3.create(-2e9, -2e9)\n    points[n+1] = Vect3.create(2e9, -2e9)\n    points[n+2] = Vect3.create(0, 2e9)\n\n    var triangle = [Vect3.create(n, n+1, n+2)] \n\n    for(var i = 0; i < n; i++) {\n        let polygon = [];\n\n        var complete = new Array(triangle.length);\n\n        for(var j = 0; j < triangle.length; j++) {\n            if(complete[j]) continue;\n            var current = triangle[j];\n\n            if (!current) continue;\n\n            var a = points[current.x]\n            var b = points[current.y]\n            var c = points[current.z]\n            var d = points[i]\n\n            if(incircle(a, b, c, d)) {\n\n                initPolygon(polygon, current.x, current.y)\n                initPolygon(polygon, current.y, current.z)\n                initPolygon(polygon, current.z, current.x)\n\n\n                swap(complete, j, triangle.length - 1 ); \n                swap(triangle, j, triangle.length - 1);\n                triangle.pop();\n                j--;\n                continue;\n            }\n            complete[j] = true;\n        }\n\n        polygon.forEach(current => {\n\n            var a = points[current.x]\n            var b = points[current.y]\n            var d = points[i]\n\n            if (CCW(a, b, d) === 0) {  // 0 은 평면 \n\n            } else {\n                triangle.push(Vect3.create(current.x, current.y, i))\n            }\n        })\n    }\n\n    // SuperTriangle delete    \n    for(var i = 0; i < triangle.length; i++) {\n        var current = triangle[i]\n\n        if (current.x >= n || current.y >= n || current.z >= n) {\n            swap(triangle, i, triangle.length - 1);\n            triangle.pop();\n            i--;\n            continue; \n        }\n    }\n\n    return triangle.map(current => {\n        return {\n            a: points[current.x], \n            b: points[current.y], \n            c: points[current.z] \n        }\n    })\n}\n\nexport function generate_sample_points(width, height, xSize =  50, ySize = 50, boxSize = 100, variance = 1, func = () => Math.random()) {\n  var points = [];\n  var minX = -xSize; \n  var maxX = width + xSize;\n  var minY = -ySize; \n  var maxY = height + ySize; \n  for (var x = minX; x < maxX; x += boxSize) {\n    for (var y = minY; y < maxY; y += boxSize) {\n        var tempX = Math.floor(x + (boxSize / 2) * (func() * variance * 2  - variance));\n        var tempY = Math.floor(y + (boxSize / 2) * (func() * variance * 2  - variance));\n        points[points.length] = { x: tempX, y: tempY }\n    }\n  }\n\n  return points;\n}\n\nexport function getCenterInTriangle (a, b, c) {\n    return {\n        x: (a.x + b.x + c.x) / 3 ,\n        y: (a.y + b.y + c.y) / 3\n    }\n}\n\nconst splitReg = /[\\b\\t \\,\\n]/g;\nexport function normalize (str) {\n    return str.trim().split(splitReg).filter(it => it).map(it  => +it);\n}","import { round } from './math'\n\nexport function ReverseXyz(n) {\n    return (Math.pow(n, 3) > 0.008856) ? Math.pow(n, 3) : (n - 16 / 116) / 7.787;\n}\n\nexport function ReverseRGB(n) {\n    return (n > 0.0031308) ? 1.055 * (Math.pow(n, (1 / 2.4))) - 0.055 : 12.92 * n;\n}\n\nexport function XYZtoRGB(x, y, z) {\n    if (arguments.length == 1) {\n        var { x, y, z } = arguments[0];\n    }\n    //X, Y and Z input refer to a D65/2° standard illuminant.\n    //sR, sG and sB (standard RGB) output range = 0 ÷ 255\n\n    let X = x / 100.0\n    let Y = y / 100.0\n    let Z = z / 100.0\n\n    let R = X * 3.2406 + Y * -1.5372 + Z * -0.4986;\n    let G = X * -0.9689 + Y * 1.8758 + Z * 0.0415;\n    let B = X * 0.0557 + Y * -0.2040 + Z * 1.0570;\n\n    R = ReverseRGB(R);\n    G = ReverseRGB(G);\n    B = ReverseRGB(B);\n\n    const r = round(R * 255);\n    const g = round(G * 255);\n    const b = round(B * 255);\n\n    return { r, g, b };\n}\n\nexport function LABtoXYZ(l, a, b) {\n    if (arguments.length == 1) {\n        var { l, a, b } = arguments[0];\n    }\n    //Reference-X, Y and Z refer to specific illuminants and observers.\n    //Common reference values are available below in this same page.\n\n    let Y = (l + 16) / 116\n    let X = a / 500 + Y\n    let Z = Y - b / 200\n\n    Y = ReverseXyz(Y);\n    X = ReverseXyz(X);\n    Z = ReverseXyz(Z);\n\n    const x = X * 95.047\n    const y = Y * 100.000\n    const z = Z * 108.883\n\n    return { x, y, z };\n}\n\nexport function PivotXyz(n) {\n    return (n > 0.008856) ? Math.pow(n, (1 / 3)) : (7.787 * n + 16) / 116;\n}\n\n\nexport function XYZtoLAB(x, y, z) {\n    if (arguments.length == 1) {\n        var { x, y, z } = arguments[0];\n    }\n\n    //Reference-X, Y and Z refer to specific illuminants and observers.\n    //Common reference values are available below in this same page.\n    // Observer= 2°, Illuminant= D65\n\n    let X = x / 95.047;\n    let Y = y / 100.00;\n    let Z = z / 108.883;\n\n    X = PivotXyz(X);\n    Y = PivotXyz(Y);\n    Z = PivotXyz(Z);\n\n    const l = (116 * Y) - 16;\n    const a = 500 * (X - Y);\n    const b = 200 * (Y - Z);\n\n    return { l, a, b };\n}\n\nexport function LABtoRGB(l, a, b) {\n    if (arguments.length == 1) {\n        var { l, a, b } = arguments[0];\n    }\n    return XYZtoRGB(LABtoXYZ(l, a, b));\n}","import { round } from './math'\nimport { XYZtoLAB } from './fromLAB';\n\n/**\n * @method RGBtoHSV\n *\n * convert rgb to hsv\n *\n * \t\tcolor.RGBtoHSV(0, 0, 255) === { h : 240, s : 1, v : 1 } === '#FFFF00'\n *\n * @param {Number} R  red color value\n * @param {Number} G  green color value\n * @param {Number} B  blue color value\n * @return {Object}  hsv color code\n */\nexport function RGBtoHSV(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n\n    const R1 = r / 255;\n    const G1 = g / 255;\n    const B1 = b / 255;\n\n    const MaxC = Math.max(R1, G1, B1);\n    const MinC = Math.min(R1, G1, B1);\n\n    const DeltaC = MaxC - MinC;\n\n    var H = 0;\n\n    if (DeltaC == 0) { H = 0; }\n    else if (MaxC == R1) {\n        H = 60 * (((G1 - B1) / DeltaC) % 6);\n    } else if (MaxC == G1) {\n        H = 60 * (((B1 - R1) / DeltaC) + 2);\n    } else if (MaxC == B1) {\n        H = 60 * (((R1 - G1) / DeltaC) + 4);\n    }\n\n    if (H < 0) {\n        H = 360 + H;\n    }\n\n    var S = 0;\n\n    if (MaxC == 0) S = 0;\n    else S = DeltaC / MaxC;\n\n    var V = MaxC;\n\n    return { h: H, s: S, v: V };\n}\n\n\nexport function RGBtoCMYK(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n\n    const R1 = r / 255;\n    const G1 = g / 255;\n    const B1 = b / 255;\n\n    const K = 1 - Math.max(R1, G1, B1);\n    const C = (1 - R1 - K) / (1 - K);\n    const M = (1 - G1 - K) / (1 - K);\n    const Y = (1 - B1 - K) / (1 - K);\n\n    return { c: C, m: M, y: Y, k: K };\n}\n\n\nexport function RGBtoHSL(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n\n    r /= 255, g /= 255, b /= 255;\n    var max = Math.max(r, g, b), min = Math.min(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if (max == min) {\n        h = s = 0; // achromatic\n    } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n\n    return { h: round(h * 360), s: round(s * 100), l: round(l * 100) };\n}\n\nexport function c(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n    return gray((r + g + b) / 3 > 90 ? 0 : 255);\n}\n\nexport function gray(gray) {\n    return { r: gray, g: gray, b: gray };\n}\n\nexport function RGBtoSimpleGray(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n    return gray(Math.ceil((r + g + b) / 3));\n}\n\n\nexport function RGBtoGray(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n    return gray(RGBtoYCrCb(r, g, b).y);\n}\n\n\nexport function brightness(r, g, b) {\n        return Math.ceil(r * 0.2126 + g * 0.7152 + b * 0.0722);\n}\n\n\nexport function RGBtoYCrCb(r, g, b) {\n\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n    const Y = brightness(r, g, b);\n    const Cb = 0.564 * (b - Y)\n    const Cr = 0.713 * (r - Y)\n\n    return { y: Y, cr: Cr, cb: Cb };\n}\n\nexport function PivotRGB(n) {\n    return ((n > 0.04045) ? Math.pow((n + 0.055) / 1.055, 2.4) : n / 12.92) * 100;\n}\n\nexport function RGBtoXYZ(r, g, b) {\n    //sR, sG and sB (Standard RGB) input range = 0 ÷ 255\n    //X, Y and Z output refer to a D65/2° standard illuminant.\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n\n    let R = (r / 255)\n    let G = (g / 255)\n    let B = (b / 255)\n\n    R = PivotRGB(R);\n    G = PivotRGB(G);\n    B = PivotRGB(B);\n\n    const x = R * 0.4124 + G * 0.3576 + B * 0.1805;\n    const y = R * 0.2126 + G * 0.7152 + B * 0.0722;\n    const z = R * 0.0193 + G * 0.1192 + B * 0.9505;\n\n    return { x, y, z }\n}\n    \nexport function RGBtoLAB(r, g, b) {\n    if (arguments.length == 1) {\n        var { r, g, b } = arguments[0];\n    }\n    return XYZtoLAB(RGBtoXYZ(r, g, b));\n}","\nexport function CMYKtoRGB(c, m, y, k) {\n\n    if (arguments.length == 1) {\n        var { c, m, y, k } = arguments[0];\n    }\n\n    const R = 255 * (1 - c) * (1 - k);\n    const G = 255 * (1 - m) * (1 - k);\n    const B = 255 * (1 - y) * (1 - k);\n\n    return { r: R, g: G, b: B }\n}","import { round } from './math'\nimport { RGBtoHSL } from './fromRGB'\n\n/**\n * @method HSVtoRGB\n *\n * convert hsv to rgb\n *\n * \t\tcolor.HSVtoRGB(0,0,1) === #FFFFF === { r : 255, g : 0, b : 0 }\n *\n * @param {Number} H  hue color number  (min : 0, max : 360)\n * @param {Number} S  Saturation number  (min : 0, max : 1)\n * @param {Number} V  Value number \t\t(min : 0, max : 1 )\n * @returns {Object}\n */\nexport function HSVtoRGB(h, s, v) {\n\n    if (arguments.length == 1) {\n        var { h, s, v } = arguments[0];\n    }\n\n    var H = h;\n    var S = s;\n    var V = v;\n\n    if (H >= 360) {\n        H = 0;\n    }\n\n    const C = S * V;\n    const X = C * (1 - Math.abs((H / 60) % 2 - 1));\n    const m = V - C;\n\n    let temp = [];\n\n    if (0 <= H && H < 60) { temp = [C, X, 0]; }\n    else if (60 <= H && H < 120) { temp = [X, C, 0]; }\n    else if (120 <= H && H < 180) { temp = [0, C, X]; }\n    else if (180 <= H && H < 240) { temp = [0, X, C]; }\n    else if (240 <= H && H < 300) { temp = [X, 0, C]; }\n    else if (300 <= H && H < 360) { temp = [C, 0, X]; }\n\n    return {\n        r: round((temp[0] + m) * 255),\n        g: round((temp[1] + m) * 255),\n        b: round((temp[2] + m) * 255)\n    };\n}\n\nexport function HSVtoHSL(h, s, v) {\n\n    if (arguments.length == 1) {\n        var { h, s, v } = arguments[0];\n    }\n\n    const rgb = HSVtoRGB(h, s, v);\n\n    return RGBtoHSL(rgb.r, rgb.g, rgb.b);\n}","import { RGBtoHSV } from './fromRGB'\nimport { round } from './math'\n\nexport function HUEtoRGB(p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\n\nexport function HSLtoHSV(h, s, l) {\n\n    if (arguments.length == 1) {\n        var { h, s, l } = arguments[0];\n    }\n    const rgb = HSLtoRGB(h, s, l);\n\n    return RGBtoHSV(rgb.r, rgb.g, rgb.b);\n}\n\nexport function HSLtoRGB(h, s, l) {\n\n    if (arguments.length == 1) {\n        var { h, s, l } = arguments[0];\n    }\n\n    var r, g, b;\n\n    h /= 360;\n    s /= 100;\n    l /= 100;\n\n    if (s == 0) {\n        r = g = b = l; // achromatic\n    } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = HUEtoRGB(p, q, h + 1 / 3);\n        g = HUEtoRGB(p, q, h);\n        b = HUEtoRGB(p, q, h - 1 / 3);\n    }\n\n    return { r: round(r * 255), g: round(g * 255), b: round(b * 255) };\n}","export function YCrCbtoRGB(y, cr, cb, bit) {\n\n    if (arguments.length == 1) {\n        var { y, cr, cb, bit } = arguments[0];\n        bit = bit || 0;\n    }\n    const R = y + 1.402 * (cr - bit);\n    const G = y - 0.344 * (cb - bit) - 0.714 * (cr - bit);\n    const B = y + 1.772 * (cb - bit);\n\n    return { r: Math.ceil(R), g: Math.ceil(G), b: Math.ceil(B) }\n}","export const color_names = { aliceblue: \"rgb(240, 248, 255)\", antiquewhite: \"rgb(250, 235, 215)\", aqua: \"rgb(0, 255, 255)\", aquamarine: \"rgb(127, 255, 212)\", azure: \"rgb(240, 255, 255)\", beige: \"rgb(245, 245, 220)\", bisque: \"rgb(255, 228, 196)\", black: \"rgb(0, 0, 0)\", blanchedalmond: \"rgb(255, 235, 205)\", blue: \"rgb(0, 0, 255)\", blueviolet: \"rgb(138, 43, 226)\", brown: \"rgb(165, 42, 42)\", burlywood: \"rgb(222, 184, 135)\", cadetblue: \"rgb(95, 158, 160)\", chartreuse: \"rgb(127, 255, 0)\", chocolate: \"rgb(210, 105, 30)\", coral: \"rgb(255, 127, 80)\", cornflowerblue: \"rgb(100, 149, 237)\", cornsilk: \"rgb(255, 248, 220)\", crimson: \"rgb(237, 20, 61)\", cyan: \"rgb(0, 255, 255)\", darkblue: \"rgb(0, 0, 139)\", darkcyan: \"rgb(0, 139, 139)\", darkgoldenrod: \"rgb(184, 134, 11)\", darkgray: \"rgb(169, 169, 169)\", darkgrey: \"rgb(169, 169, 169)\", darkgreen: \"rgb(0, 100, 0)\", darkkhaki: \"rgb(189, 183, 107)\", darkmagenta: \"rgb(139, 0, 139)\", darkolivegreen: \"rgb(85, 107, 47)\", darkorange: \"rgb(255, 140, 0)\", darkorchid: \"rgb(153, 50, 204)\", darkred: \"rgb(139, 0, 0)\", darksalmon: \"rgb(233, 150, 122)\", darkseagreen: \"rgb(143, 188, 143)\", darkslateblue: \"rgb(72, 61, 139)\", darkslategray: \"rgb(47, 79, 79)\", darkslategrey: \"rgb(47, 79, 79)\", darkturquoise: \"rgb(0, 206, 209)\", darkviolet: \"rgb(148, 0, 211)\", deeppink: \"rgb(255, 20, 147)\", deepskyblue: \"rgb(0, 191, 255)\", dimgray: \"rgb(105, 105, 105)\", dimgrey: \"rgb(105, 105, 105)\", dodgerblue: \"rgb(30, 144, 255)\", firebrick: \"rgb(178, 34, 34)\", floralwhite: \"rgb(255, 250, 240)\", forestgreen: \"rgb(34, 139, 34)\", fuchsia: \"rgb(255, 0, 255)\", gainsboro: \"rgb(220, 220, 220)\", ghostwhite: \"rgb(248, 248, 255)\", gold: \"rgb(255, 215, 0)\", goldenrod: \"rgb(218, 165, 32)\", gray: \"rgb(128, 128, 128)\", grey: \"rgb(128, 128, 128)\", green: \"rgb(0, 128, 0)\", greenyellow: \"rgb(173, 255, 47)\", honeydew: \"rgb(240, 255, 240)\", hotpink: \"rgb(255, 105, 180)\", indianred: \"rgb(205, 92, 92)\", indigo: \"rgb(75, 0, 130)\", ivory: \"rgb(255, 255, 240)\", khaki: \"rgb(240, 230, 140)\", lavender: \"rgb(230, 230, 250)\", lavenderblush: \"rgb(255, 240, 245)\", lawngreen: \"rgb(124, 252, 0)\", lemonchiffon: \"rgb(255, 250, 205)\", lightblue: \"rgb(173, 216, 230)\", lightcoral: \"rgb(240, 128, 128)\", lightcyan: \"rgb(224, 255, 255)\", lightgoldenrodyellow: \"rgb(250, 250, 210)\", lightgreen: \"rgb(144, 238, 144)\", lightgray: \"rgb(211, 211, 211)\", lightgrey: \"rgb(211, 211, 211)\", lightpink: \"rgb(255, 182, 193)\", lightsalmon: \"rgb(255, 160, 122)\", lightseagreen: \"rgb(32, 178, 170)\", lightskyblue: \"rgb(135, 206, 250)\", lightslategray: \"rgb(119, 136, 153)\", lightslategrey: \"rgb(119, 136, 153)\", lightsteelblue: \"rgb(176, 196, 222)\", lightyellow: \"rgb(255, 255, 224)\", lime: \"rgb(0, 255, 0)\", limegreen: \"rgb(50, 205, 50)\", linen: \"rgb(250, 240, 230)\", magenta: \"rgb(255, 0, 255)\", maroon: \"rgb(128, 0, 0)\", mediumaquamarine: \"rgb(102, 205, 170)\", mediumblue: \"rgb(0, 0, 205)\", mediumorchid: \"rgb(186, 85, 211)\", mediumpurple: \"rgb(147, 112, 219)\", mediumseagreen: \"rgb(60, 179, 113)\", mediumslateblue: \"rgb(123, 104, 238)\", mediumspringgreen: \"rgb(0, 250, 154)\", mediumturquoise: \"rgb(72, 209, 204)\", mediumvioletred: \"rgb(199, 21, 133)\", midnightblue: \"rgb(25, 25, 112)\", mintcream: \"rgb(245, 255, 250)\", mistyrose: \"rgb(255, 228, 225)\", moccasin: \"rgb(255, 228, 181)\", navajowhite: \"rgb(255, 222, 173)\", navy: \"rgb(0, 0, 128)\", oldlace: \"rgb(253, 245, 230)\", olive: \"rgb(128, 128, 0)\", olivedrab: \"rgb(107, 142, 35)\", orange: \"rgb(255, 165, 0)\", orangered: \"rgb(255, 69, 0)\", orchid: \"rgb(218, 112, 214)\", palegoldenrod: \"rgb(238, 232, 170)\", palegreen: \"rgb(152, 251, 152)\", paleturquoise: \"rgb(175, 238, 238)\", palevioletred: \"rgb(219, 112, 147)\", papayawhip: \"rgb(255, 239, 213)\", peachpuff: \"rgb(255, 218, 185)\", peru: \"rgb(205, 133, 63)\", pink: \"rgb(255, 192, 203)\", plum: \"rgb(221, 160, 221)\", powderblue: \"rgb(176, 224, 230)\", purple: \"rgb(128, 0, 128)\", rebeccapurple: \"rgb(102, 51, 153)\", red: \"rgb(255, 0, 0)\", rosybrown: \"rgb(188, 143, 143)\", royalblue: \"rgb(65, 105, 225)\", saddlebrown: \"rgb(139, 69, 19)\", salmon: \"rgb(250, 128, 114)\", sandybrown: \"rgb(244, 164, 96)\", seagreen: \"rgb(46, 139, 87)\", seashell: \"rgb(255, 245, 238)\", sienna: \"rgb(160, 82, 45)\", silver: \"rgb(192, 192, 192)\", skyblue: \"rgb(135, 206, 235)\", slateblue: \"rgb(106, 90, 205)\", slategray: \"rgb(112, 128, 144)\", slategrey: \"rgb(112, 128, 144)\", snow: \"rgb(255, 250, 250)\", springgreen: \"rgb(0, 255, 127)\", steelblue: \"rgb(70, 130, 180)\", tan: \"rgb(210, 180, 140)\", teal: \"rgb(0, 128, 128)\", thistle: \"rgb(216, 191, 216)\", tomato: \"rgb(255, 99, 71)\", turquoise: \"rgb(64, 224, 208)\", violet: \"rgb(238, 130, 238)\", wheat: \"rgb(245, 222, 179)\", white: \"rgb(255, 255, 255)\", whitesmoke: \"rgb(245, 245, 245)\", yellow: \"rgb(255, 255, 0)\", yellowgreen: \"rgb(154, 205, 50)\", transparent: \"rgba(0, 0, 0, 0)\" };\n\nfunction isColorName (name) {\n    return !!color_names[name];\n}\n\nfunction getColorByName (name) {\n    return color_names[name];\n}\n\nexport default {\n    isColorName,\n    getColorByName \n}","import ColorNames from '../ColorNames'\n\nimport { RGBtoHSL } from './fromRGB'\nimport { HSLtoRGB } from './fromHSL'\nimport { isString, isNumber } from './func';\n\nconst color_regexp = /(#(?:[\\da-f]{3}){1,2}|rgb\\((?:\\s*\\d{1,3},\\s*){2}\\d{1,3}\\s*\\)|rgba\\((?:\\s*\\d{1,3},\\s*){3}\\d*\\.?\\d+\\s*\\)|hsl\\(\\s*\\d{1,3}(?:,\\s*\\d{1,3}%){2}\\s*\\)|hsla\\(\\s*\\d{1,3}(?:,\\s*\\d{1,3}%){2},\\s*\\d*\\.?\\d+\\s*\\)|([\\w_\\-]+))/gi;\n\nexport function isColor (str) {\n    const results = matches(str);\n\n    return !!results.length\n}\n\nexport function matches (str) {\n    const matches = str.match(color_regexp);\n    let result = [];\n\n    if (!matches) {\n        return result;\n    }\n\n    for (var i = 0, len = matches.length; i < len; i++) {\n\n        if (matches[i].indexOf('#') > -1 || matches[i].indexOf('rgb') > -1 || matches[i].indexOf('hsl') > -1) {\n            result.push({ color: matches[i] });\n        } else {\n            var nameColor = ColorNames.getColorByName(matches[i]);\n\n            if (nameColor) {\n                result.push({ color: matches[i], nameColor: nameColor });\n            }\n        }\n    }\n\n    var pos = { next: 0 }\n    result.forEach(item => {\n        const startIndex = str.indexOf(item.color, pos.next);\n\n        item.startIndex = startIndex;\n        item.endIndex = startIndex + item.color.length;\n\n        pos.next = item.endIndex;\n    });\n\n    return result;\n}\n\nexport function convertMatches (str) {\n    const m = matches(str); \n\n    m.forEach((it, index) => {\n        str = str.replace(it.color, '@' + index)\n    })\n\n    return { str, matches: m }\n}\n\n\nexport function convertMatchesArray (str, splitStr = ',') {\n    const ret = convertMatches(str);\n    return ret.str.split(splitStr).map((it, index) => {\n        it = trim(it);\n\n        if (ret.matches[index]) {\n            it = it.replace('@' + index, ret.matches[index].color)\n        }\n\n        return it \n    })\n}\n\nexport function reverseMatches (str, matches) {\n    matches.forEach((it, index) => {\n        str = str.replace('@' + index, it.color)\n    })\n\n    return str;\n}\n\nconst REG_TRIM = /^\\s+|\\s+$/g\nexport function trim (str) {\n    return str.replace(REG_TRIM, '');\n}\n\n/**\n * @method rgb\n *\n * parse string to rgb color\n *\n * \t\tcolor.parse(\"#FF0000\") === { r : 255, g : 0, b : 0 }\n *\n * \t\tcolor.parse(\"rgb(255, 0, 0)\") == { r : 255, g : 0, b :0 }\n * \t\tcolor.parse(0xff0000) == { r : 255, g : 0, b : 0 }\n * \t\tcolor.parse(0xff000000) == { r : 255, g : 0, b : 0, a: 0 }\n *\n * @param {String} str color string\n * @returns {Object}  rgb object\n */\nexport function parse(str) {\n    if (isString(str)) {\n\n        if (ColorNames.isColorName(str)) {\n            str = ColorNames.getColorByName(str);\n        }\n\n        if (str.indexOf(\"rgb(\") > -1) {\n            var arr = str.replace(\"rgb(\", \"\").replace(\")\", \"\").split(\",\");\n\n            for (var i = 0, len = arr.length; i < len; i++) {\n                arr[i] = parseInt(trim(arr[i]), 10);\n            }\n\n            var obj = { type: 'rgb', r: arr[0], g: arr[1], b: arr[2], a: 1 };\n\n            obj = {...obj, ...RGBtoHSL(obj)};\n\n            return obj;\n        } else if (str.indexOf(\"rgba(\") > -1) {\n            var arr = str.replace(\"rgba(\", \"\").replace(\")\", \"\").split(\",\");\n\n            for (var i = 0, len = arr.length; i < len; i++) {\n\n                if (len - 1 == i) {\n                    arr[i] = parseFloat(trim(arr[i]));\n                } else {\n                    arr[i] = parseInt(trim(arr[i]), 10);\n                }\n            }\n\n            var obj = { type: 'rgb', r: arr[0], g: arr[1], b: arr[2], a: arr[3] };\n\n            obj = {...obj, ...RGBtoHSL(obj)};\n\n            return obj;\n\n        } else if (str.indexOf(\"hsl(\") > -1) {\n            var arr = str.replace(\"hsl(\", \"\").replace(\")\", \"\").split(\",\");\n\n            for (var i = 0, len = arr.length; i < len; i++) {\n                arr[i] = parseFloat(trim(arr[i]));\n            }\n\n            var obj = { type: 'hsl', h: arr[0], s: arr[1], l: arr[2], a: 1 };\n\n            obj = {...obj, ...HSLtoRGB(obj)};\n\n            return obj;\n        } else if (str.indexOf(\"hsla(\") > -1) {\n            var arr = str.replace(\"hsla(\", \"\").replace(\")\", \"\").split(\",\");\n\n            for (var i = 0, len = arr.length; i < len; i++) {\n\n                if (len - 1 == i) {\n                    arr[i] = parseFloat(trim(arr[i]));\n                } else {\n                    arr[i] = parseInt(trim(arr[i]), 10);\n                }\n            }\n\n            var obj = { type: 'hsl', h: arr[0], s: arr[1], l: arr[2], a: arr[3] };\n\n            obj = {...obj, ...HSLtoRGB(obj)};\n\n            return obj;\n        } else if (str.indexOf(\"#\") == 0) {\n\n            str = str.replace(\"#\", \"\");\n\n            var arr = [];\n            if (str.length == 3) {\n                for (var i = 0, len = str.length; i < len; i++) {\n                    var char = str.substr(i, 1);\n                    arr.push(parseInt(char + char, 16));\n                }\n            } else {\n                for (var i = 0, len = str.length; i < len; i += 2) {\n                    arr.push(parseInt(str.substr(i, 2), 16));\n                }\n            }\n\n            var obj = { type: 'hex', r: arr[0], g: arr[1], b: arr[2], a: 1 };\n\n            obj = {...obj, ...RGBtoHSL(obj)};\n\n            return obj;\n        }\n    } else if (isNumber( str )) {\n        if (0x000000 <= str && str <= 0xffffff) {\n            const r = (str & 0xff0000) >> 16;\n            const g = (str & 0x00ff00) >> 8;\n            const b = (str & 0x0000ff) >> 0;\n\n            var obj = { type: 'hex', r, g, b, a: 1 };\n            obj = { ...obj, ...RGBtoHSL(obj)};\n            return obj;\n        } else if (0x00000000 <= str && str <= 0xffffffff) {\n            const r = (str & 0xff000000) >> 24;\n            const g = (str & 0x00ff0000) >> 16;\n            const b = (str & 0x0000ff00) >> 8;\n            const a = (str & 0x000000ff) / 255;\n\n            var obj = { type: 'hex', r, g, b, a };\n            obj = {...obj, ...RGBtoHSL(obj)};\n            \n            return obj;\n        }\n    }\n\n    return str;\n\n}\n\nexport function parseGradient (colors) {\n    if (isString( colors )) {\n        colors = convertMatchesArray(colors);\n    }\n\n    colors = colors.map(it => {\n        if (isString( it )) {\n            const ret = convertMatches(it)\n            let arr = trim(ret.str).split(' ');\n\n            if (arr[1]) {\n                if (arr[1].indexOf('%') > -1) {\n                    arr[1] = parseFloat(arr[1].replace(/%/, ''))/100\n                } else {\n                    arr[1] = parseFloat(arr[1])\n                }\n\n            } else {\n                arr[1] = '*'\n            }\n\n            arr[0] = reverseMatches(arr[0], ret.matches)\n\n            return arr;\n        } else if (Array.isArray(it)) {\n\n            if (!it[1]) {\n                it[1] = '*'\n            } else if (isString( it[1] ) ) {\n                if (it[1].indexOf('%') > -1) {\n                    it[1] = parseFloat(it[1].replace(/%/, ''))/100\n                } else {\n                    it[1] = +it[1]\n                }\n            }\n\n            return [...it]; \n        }\n    })\n\n    const count = colors.filter(it => {\n        return it[1] === '*'\n    }).length\n\n    if (count > 0) {\n        const sum = colors.filter(it => {\n            return it[1] != '*' && it[1] != 1\n        }).map(it => it[1]).reduce((total, cur) => {\n            return total + cur\n        } , 0)\n        \n        const dist = (1 - sum) / count  \n        colors.forEach((it, index) => {\n            if (it[1] == '*' && index > 0) {\n                if (colors.length - 1 == index) {\n                    // it[1] = 1 \n                } else {\n                    it[1] = dist \n                }\n            }\n        })\n\n    }\n\n    return colors; \n}","import { parse, convertMatchesArray, parseGradient } from './parser'\nimport { round } from './math' \nimport { format } from './formatter' \nimport { RGBtoHSV } from './fromRGB'\nimport { HSVtoRGB } from './fromHSV'\nimport { isString } from './func';\n\n/**\n * @deprecated \n * \n * instead of this,  use blend function \n *  \n * @param {*} startColor \n * @param {*} endColor \n * @param {*} t \n */\nexport function interpolateRGB(startColor, endColor, t = 0.5, exportFormat = 'hex') {\n    var obj = interpolateRGBObject(startColor, endColor, t);\n\n    return format(obj, obj.a < 1 ? 'rgb' : exportFormat);\n\n}\n\nexport function interpolateRGBObject(startColor, endColor, t = 0.5) {\n    return {\n        r: round(startColor.r + (endColor.r - startColor.r) * t),\n        g: round(startColor.g + (endColor.g - startColor.g) * t),\n        b: round(startColor.b + (endColor.b - startColor.b) * t),\n        a: round(startColor.a + (endColor.a - startColor.a) * t, 100 )\n    };  \n}\n\nexport function scale(scale, count = 5) {\n    if (!scale) return [];\n\n    if (isString(scale)) {\n        scale = convertMatchesArray(scale);\n    }\n\n    scale = scale || [];\n    var len = scale.length;\n\n    var colors = [];\n    for (var i = 0; i < len - 1; i++) {\n        for (var index = 0; index < count; index++) {\n            colors.push(blend(scale[i], scale[i + 1], (index / count)));\n        }\n\n    }\n    return colors;\n}\n\nexport function blend(startColor, endColor, ratio = 0.5, format = 'hex') {\n    var s = parse(startColor);\n    var e = parse(endColor);\n\n    return interpolateRGB(s, e, ratio, format);\n}\n\nexport function mix(startcolor, endColor, ratio = 0.5, format = 'hex') {\n    return blend(startcolor, endColor, ratio, format);\n}\n\n/**\n * \n * @param {Color|String} c \n */\nexport function contrast(c) {\n    c = parse(c);\n    return (Math.round(c.r * 299) + Math.round(c.g * 587) + Math.round(c.b * 114)) / 1000;\n}\n\nexport function contrastColor (c) {\n    return contrast(c) >= 128 ? 'black' : 'white'\n}\n\nexport function gradient(colors, count = 10) {\n    colors = parseGradient(colors);\n\n    let newColors = [] \n    let maxCount = count - (colors.length - 1)\n    let allCount = maxCount\n\n    for (var i = 1, len = colors.length; i < len; i++) {\n\n        var startColor = colors[i-1][0]\n        var endColor = colors[i][0]\n\n        var rate = i == 1 ? colors[i][1] : colors[i][1] - colors[i-1][1]\n\n        var colorCount = (i == colors.length - 1) ? allCount : Math.floor(rate * maxCount)\n\n        newColors = newColors.concat(scale([startColor, endColor], colorCount), [endColor])\n\n        allCount -= colorCount\n    }\n    return newColors;\n}\n\nexport function scaleHSV(color, target = 'h', count = 9, exportFormat = 'rgb', min = 0, max = 1, dist = 100) {\n    var colorObj = parse(color);\n    var hsv = RGBtoHSV(colorObj);\n    var unit = ((max - min) * dist / count);\n\n    var results = [];\n    for (var i = 1; i <= count; i++) {\n        hsv[target] = Math.abs((dist - unit * i) / dist);\n        results.push(format(HSVtoRGB(hsv), exportFormat));\n    }\n\n    return results;\n}\n\nexport function scaleH(color, count = 9, exportFormat = 'rgb', min = 0, max = 360) {\n    return scaleHSV(color, 'h', count, exportFormat, min, max, 1);\n}\n\nexport function scaleS(color, count = 9, exportFormat = 'rgb', min = 0, max = 1) {\n    return scaleHSV(color, 's', count, exportFormat, min, max, 100);\n}\n\nexport function scaleV(color, count = 9, exportFormat = 'rgb', min = 0, max = 1) {\n    return scaleHSV(color, 'v', count, exportFormat, min, max, 100);\n}\n\n\n/* predefined scale colors */\nscale.parula = function (count) {\n    return scale(['#352a87', '#0f5cdd', '#00b5a6', '#ffc337', '#fdff00'], count);\n};\n\nscale.jet = function (count) {\n    return scale(['#00008f', '#0020ff', '#00ffff', '#51ff77', '#fdff00', '#ff0000', '#800000'], count);\n}\n\nscale.hsv = function (count) {\n    return scale(['#ff0000', '#ffff00', '#00ff00', '#00ffff', '#0000ff', '#ff00ff', '#ff0000'], count);\n}\n\nscale.hot = function (count) {\n    return scale(['#0b0000', '#ff0000', '#ffff00', '#ffffff'], count);\n}\nscale.pink = function (count) {\n    return scale(['#1e0000', '#bd7b7b', '#e7e5b2', '#ffffff'], count);\n}\n\nscale.bone = function (count) {\n    return scale(['#000000', '#4a4a68', '#a6c6c6', '#ffffff'], count);\n}\n\nscale.copper = function (count) {\n    return scale(['#000000', '#3d2618', '#9d623e', '#ffa167', '#ffc77f'], count);\n}","import * as formatter from \"./functions/formatter\";\nimport * as create from \"./functions/create\";\nimport * as math from './functions/math'\nimport * as fromRGB from './functions/fromRGB'\nimport * as fromCMYK from './functions/fromCMYK'\nimport * as fromLAB from './functions/fromLAB'\nimport * as fromHSV from './functions/fromHSV'\nimport * as fromHSL from './functions/fromHSL'\nimport * as fromYCrCb from './functions/fromYCrCb'\nimport * as mixin from \"./functions/mixin\";\nimport * as parser from \"./functions/parser\";\nimport * as func from './functions/func';\n\nexport default {\n    ...create,\n    ...formatter, \n    ...math, \n    ...mixin,\n    ...parser,\n    ...fromYCrCb,\n    ...fromRGB,\n    ...fromCMYK,\n    ...fromHSV,\n    ...fromHSL,\n    ...fromLAB,\n    ...func\n}\n\n","import Color from './Color';\n\nconst hue_color = [\n    { rgb : '#ff0000', start : .0 },\n    { rgb : '#ffff00', start : .17 },\n    { rgb : '#00ff00', start : .33 },\n    { rgb : '#00ffff', start : .50 },\n    { rgb : '#0000ff', start : .67 },\n    { rgb : '#ff00ff', start : .83 },\n    { rgb : '#ff0000', start : 1 }\n];\n\nfunction checkHueColor(p) {\n    var startColor, endColor;\n\n    for(var i = 0; i < hue_color.length;i++) {\n        if (hue_color[i].start >= p) {\n            startColor = hue_color[i-1];\n            endColor = hue_color[i];\n            break;\n        }\n    }\n\n    if (startColor && endColor) {\n        return Color.interpolateRGB(startColor, endColor, (p - startColor.start)/(endColor.start - startColor.start));\n    }\n\n    return hue_color[0].rgb;\n}\n\n\nfunction initHueColors () {\n    for(var i = 0, len = hue_color.length; i < len; i++) {\n        var hue = hue_color[i];\n\n        var obj = Color.parse(hue.rgb);\n\n        hue.r = obj.r;\n        hue.g = obj.g;\n        hue.b = obj.b;\n    }\n}\n\ninitHueColors();\n\nexport default { \n    colors : hue_color,\n    checkHueColor\n};","const setBooleanProp = (el, name, value) => {\n    if (value) {\n        el.setAttribute(name, name);\n        el[name] = value;\n    } else {\n        el.removeAttribute(name);\n        el[name] = value;\n    }\n  };\n  \nconst setProp = (el, name, value) => {\n    if (typeof value === 'boolean') {\n        setBooleanProp(el, name, value);\n    } else {\n        el.setAttribute(name, value);\n    }\n};\n\n\nconst removeBooleanProp = (node, name) => {\n    node.removeAttribute(name);\n    node[name] = false;\n};\n  \nconst removeProp = (node, name, value) => {\n    if (typeof value === 'boolean') {\n        removeBooleanProp(node, name);\n    }\n};\n  \n\nconst updateProp = (node, name, newValue, oldValue) => {\n    if (!newValue) {\n      removeProp(node, name, oldValue);\n    } else if (!oldValue || newValue !== oldValue) {\n      setProp(node, name, newValue);\n    }\n  };\n\n\nconst updateProps = (node, newProps = {}, oldProps = {}) => {\n    const props = {...newProps,...oldProps};\n  \n    Object.keys(props).forEach((name) => {\n      updateProp(node, name, newProps[name], oldProps[name]);\n    });\n};\n\nfunction changed(node1, node2) {\n    return (\n        (node1.nodeType === Node.TEXT_NODE && node1 !== node2) \n        || node1.nodeName !== node2.nodeName\n    ) \n}\n\nfunction getProps (attributes) {\n    var results = {}\n    for(var t of attributes) {\n        results[t.name] = t.value;\n    }\n\n    return results;\n    \n}\n\nfunction updateElement (parentElement, oldEl, newEl, i) {\n    if (!oldEl) {\n        parentElement.appendChild(newEl.cloneNode(true));\n    } else if (!newEl) {\n        parentElement.removeChild(oldEl);\n    } else if (changed(newEl, oldEl)) {\n        parentElement.replaceChild(newEl.cloneNode(true), oldEl);\n    } else if (newEl.nodeType !== Node.TEXT_NODE) {\n        updateProps(oldEl, getProps(newEl.attributes), getProps(oldEl.attributes)); // added        \n        var oldChildren = children(oldEl);\n        var newChildren = children(newEl);\n        var max = Math.max(oldChildren.length, newChildren.length);\n\n        for (var i = 0; i < max; i++) {\n            updateElement(oldEl, oldChildren[i], newChildren[i], i);\n        }\n    }\n\n}\n\nconst children = (el) => {\n    var element = el.firstElementChild; \n\n    if (!element) {\n        return [] \n    }\n\n    var results = [] \n\n    do {\n        results.push(element);\n        element = element.nextElementSibling;\n    } while (element);\n\n    return results; \n}\n\n\nexport function DomDiff (A, B) {\n\n    A = A.el || A; \n    B = B.el || B; \n\n    var aC = children(A);\n    var bC = children(B); \n\n    var len = Math.max(aC.length, bC.length);\n    for (var i = 0; i < len; i++) {\n        updateElement(A, aC[i], bC[i], i);\n    }\n}\n","import { isNotUndefined, isString, isNumber } from \"../../util/functions/func\";\nimport { round } from \"../../util/functions/math\";\n\nconst stringToPercent = {\n  center: 50,\n  top: 0,\n  left: 0,\n  right: 100,\n  bottom: 100\n};\n\nexport class Position {}\n\nPosition.CENTER = \"center\";\nPosition.TOP = \"top\";\nPosition.RIGHT = \"right\";\nPosition.LEFT = \"left\";\nPosition.BOTTOM = \"bottom\";\n\nconst REG_CSS_UNIT = /([\\d.]+)(px|pt|fr|r?em|deg|vh|vw|m?s|%|g?rad|turn)/gi;\n\nexport class Length {\n  constructor(value = \"\", unit = \"\") {\n    this.value = value;\n\n    if (isNumber(this.value) && isNaN(this.value)) {\n      throw new Error('NaN is not able to set')\n    }\n\n    this.unit = unit;\n  }\n\n  [Symbol.toPrimitive](hint) {\n    if (hint == \"number\") {\n      return this.value;\n    }\n\n    return this.toString();\n  }\n\n  static min(...args) {\n    var min = args.shift();\n\n    for (var i = 0, len = args.length; i < len; i++) {\n      if (min.value > args[i].value) {\n        min = args[i];\n      }\n    }\n\n    return min;\n  }\n\n  static max(...args) {\n    var max = args.shift();\n\n    for (var i = 0, len = args.length; i < len; i++) {\n      if (max.value < args[i].value) {\n        max = args[i];\n      }\n    }\n\n    return max;\n  }\n\n  static string(value) {\n    return new Length(value + \"\", \"\");\n  }\n\n  static number (value) {\n    return new Length(+value, 'number')\n  }\n\n  static px(value) {\n    return new Length(+value, \"px\");\n  }\n  static em(value) {\n    return new Length(+value, \"em\");\n  }\n  static percent(value) {\n    return new Length(+value, \"%\");\n  }\n  static deg(value) {\n    return new Length(+value, \"deg\");\n  }\n  static rad(value) {\n    return new Length(+value, \"rad\");\n  }  \n  static turn(value) {\n    return new Length(+value, \"turn\");\n  }  \n  static fr(value) {\n    return new Length(+value, \"fr\");\n  }\n\n  static second (value) {\n    return new Length(+value, 's')\n  }\n\n  static ms (value) {\n    return new Length(+value, 'ms')\n  }  \n\n  static var (value) {\n    return new Length(value+'', '--')\n  }\n\n  /**\n   * return calc()  css fuction string\n   *\n   * Length.calc(`${Length.percent(100)} - ${Length.px(10)}`)\n   *\n   * @param {*} str\n   */\n  static calc(str) {\n    return new Length(str, \"calc\");\n  }\n\n  static parse(obj) {\n    obj = obj || Length.number(0)\n\n    if (isString(obj)) {\n      obj = obj.trim()\n      if (obj.indexOf(\"calc(\") > -1) {\n        return new Length(obj.split(\"calc(\")[1].split(\")\")[0], \"calc\");\n      } else {\n        var arr = obj.replace(REG_CSS_UNIT, \"$1 $2\").split(\" \").map(it => it.trim());\n        var isNumberString = +arr[0] == arr[0];\n        if (isNumberString) {\n          return new Length(+arr[0], arr[1]);\n        } else {\n          return new Length(arr[0]);\n        }\n      }\n    }\n\n    if (obj instanceof Length) {\n      return obj;\n    } else if (obj.unit) {\n      if (obj.unit == \"%\" || obj.unit == \"percent\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.percent)) {\n          value = obj.percent;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.percent(value);\n      } else if (obj.unit == \"px\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.px)) {\n          value = obj.px;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.px(value);\n      } else if (obj.unit == \"em\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.em)) {\n          value = obj.em;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.em(value);\n      } else if (obj.unit == \"deg\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.deg)) {\n          value = obj.deg;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.deg(value);\n      } else if (obj.unit == \"turn\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.deg)) {\n          value = obj.turn;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.turn(value);        \n      } else if (obj.unit == \"s\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.second)) {\n          value = obj.second;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.second(value);\n      } else if (obj.unit == \"ms\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.ms)) {\n          value = obj.ms;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.ms(value);       \n        \n      } else if (obj.unit == \"number\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.number(value);\n        \n      } else if (obj.unit == \"--\") {\n        var value = 0;\n\n        if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n        return Length.var(value);        \n      } else if (obj.unit === \"\" || obj.unit === \"string\") {\n        var value = \"\";\n\n        if (isNotUndefined(obj.str)) {\n          value = obj.str;\n        } else if (isNotUndefined(obj.value)) {\n          value = obj.value;\n        }\n\n\n\n        return Length.string(value);\n      }\n    }\n\n    return Length.string(obj);\n  }\n  toString() {\n\n    switch(this.unit) {\n    case 'string':\n    case 'number':\n      return this.value + '' \n    case 'var':\n        return `var(--${this.value})`\n    case 'calc':\n      return `calc(${this.value})`;\n    default:\n      return this.value + this.unit; \n    }\n  }\n\n  isUnitType(unit) {\n    return this.unit === unit; \n  }\n\n  isCalc()    { return this.isUnitType('calc'); }\n  isFr()      { return this.isUnitType('fr'); }\n  isPercent() { return this.isUnitType('%'); }\n  isPx()      { return this.isUnitType('px'); }\n  isEm()      { return this.isUnitType('em'); }\n  isDeg()     { return this.isUnitType('deg'); }\n  isRad()     { return this.isUnitType('rad'); }\n  isTurn()    { return this.isUnitType('turn'); }\n  isSecond()  { return this.isUnitType('s'); }\n  isMs ()     { return this.isUnitType('ms'); }\n  isNumber()  { return this.isUnitType('number'); }\n  isString()  { return this.isUnitType(''); }\n  isVar()     { return this.isUnitType('--'); }\n  isNaN()     { return isNumber(this.value) && isNaN(this.value) }\n\n  set(value) {\n    this.value = value;\n\n    return this;\n  }\n\n  add(obj) {\n    this.value += +obj;\n    return this;\n  }\n\n  sub(obj) {\n    return this.add(-1 * obj);\n  }\n\n  mul(obj) {\n    this.value *= +obj;\n    return this;\n  }\n\n  div(obj) {\n    this.value /= +obj;\n    return this;\n  }\n\n  mod(obj) {\n    this.value %= +obj;\n    return this;\n  }\n\n  clone() {\n    return new Length(this.value, this.unit);\n  }\n\n  getUnitName() {\n    return this.unit === \"%\" ? \"percent\" : this.unit;\n  }\n\n  toJSON() {\n    return this.toString(); // { value: this.value, unit: this.unit };\n  }\n\n  rate(value) {\n    return value / this.value;\n  }\n\n  stringToPercent() {\n    if (isNotUndefined(stringToPercent[this.value])) {\n      return Length.percent(stringToPercent[this.value]);\n    }\n\n    return Length.percent(0);\n  }\n\n  stringToEm(maxValue) {\n    return this.stringToPercent().toEm(maxValue);\n  }\n\n  stringToPx(maxValue) {\n    return this.stringToPercent().toPx(maxValue);\n  }\n\n  toPercent(maxValue, fontSize = 16) {\n    if (this.isPercent()) {\n      return this.clone();\n    } else if (this.isPx()) {\n      return Length.percent((this.value * 100) / maxValue);\n    } else if (this.isEm()) {\n      return Length.percent((this.value * fontSize * 100) / maxValue);\n    } else if (this.isString()) {\n      return this.stringToPercent(maxValue);\n    } else if (this.isDeg()) {\n      return Length.percent((this.value / 360) * 100);\n    }\n  }\n\n  toEm(maxValue, fontSize = 16) {\n    if (this.isPercent()) {\n      return Length.em(((this.value / 100) * maxValue) / fontSize);\n    } else if (this.isPx()) {\n      return Length.em(this.value / fontSize);\n    } else if (this.isEm()) {\n      return this.clone();\n    } else if (this.isString()) {\n      return this.stringToEm(maxValue);\n    }\n  }\n\n  toPx(maxValue, fontSize = 16) {\n    if (this.isPercent()) {\n      return Length.px((this.value / 100) * maxValue);\n    } else if (this.isPx()) {\n      return this.clone();\n    } else if (this.isEm()) {\n      return Length.px(((this.value / 100) * maxValue) / 16);\n    } else if (this.isString()) {\n      return this.stringToPx(maxValue);\n    }\n  }\n\n  toDeg() {\n    if (this.isDeg()) {\n      return this.clone()\n    } else if (this.isTurn()) {\n      return Length.deg(this.value * 360)\n    } else if (this.isRad()) {\n      return Length.deg(this.value * (180 / Math.PI))\n    }\n  }\n\n  toTurn() {\n    if (this.isTurn()) {\n      return this.clone()\n    } else if (this.isDeg()) {\n      return Length.turn(this.value / 360)\n    }\n  }\n\n\n  toSecond () {\n    if (this.isSecond()) {\n      return this; \n    } else if (this.isMs()) {\n      return Length.second(this.value/1000);\n    }\n  }\n\n  toMs () {\n    if (this.isSecond()) {\n      return Length.ms(this.value * 1000);\n    } else if (this.isMs()) {\n      return this; \n    }\n  }\n\n  to(unit, maxValue, fontSize = 16) {\n    if (unit === \"px\") {\n      return this.toPx(maxValue, fontSize);\n    } else if (unit === \"%\" || unit === \"percent\") {\n      return this.toPercent(maxValue, fontSize);\n    } else if (unit === \"em\") {\n      return this.toEm(maxValue, fontSize);\n    } else if (unit === \"deg\") {\n      return this.toDeg();      \n    } else if (unit === \"turn\") {\n      return this.toTurn();\n    }\n  }\n\n  toUnit (unit) {\n    return new Length(this.value, unit);\n  }\n\n  calculate(type, dist) {\n    var func = this[type];\n\n    if (func) {\n      return func.call(this, dist);\n    }\n\n    return this;\n  }\n\n  includes (...arr) {\n    return arr.includes(this.value);\n  }\n\n  round (k) {\n    return new Length(round(this.value, k), this.unit)\n  }\n\n  equals (t) {\n    return this.is(t.value) && this.isUnitType(t.unit); \n  }\n\n  is (value) {\n    return this.value === value \n  }\n}\n\nLength.auto = Length.string(\"auto\");\n","\nimport {\n  isString,\n  isUndefined,\n  isNotString,\n  isNotUndefined\n} from \"./functions/func\";\nimport { DomDiff } from \"./DomDiff\";\nimport { Length } from \"../editor/unit/Length\";\n\nlet cached = [];\n\nexport default class Dom {\n  constructor(tag, className, attr) {\n    if (isNotString(tag)) {\n      this.el = tag;\n    } else {\n      var el = document.createElement(tag);\n\n      if (className) {\n        el.className = className;\n      }\n\n      attr = attr || {};\n\n      for (var k in attr) {\n        el.setAttribute(k, attr[k]);\n      }\n\n      this.el = el;\n    }\n  }\n\n  static create (tag, className, attr) {\n    return new Dom(tag, className, attr);\n  }\n\n  static createByHTML (htmlString) {\n    var div = Dom.create('div')\n    var list = div.html(htmlString).children();\n\n    if (list.length) {\n      return Dom.create(list[0].el);\n    }\n\n    return null; \n  }\n\n  static getScrollTop() {\n    return Math.max(\n      window.pageYOffset,\n      document.documentElement.scrollTop,\n      document.body.scrollTop\n    );\n  }\n\n  static getScrollLeft() {\n    return Math.max(\n      window.pageXOffset,\n      document.documentElement.scrollLeft,\n      document.body.scrollLeft\n    );\n  }\n\n  static parse(html) {\n    var parser = DOMParser();\n    return parser.parseFromString(html, \"text/htmll\");\n  }\n\n  static body () {\n    return Dom.create(document.body)\n  }\n\n  data (key, value) {\n\n    var newKey = key.split('-').map( (it, index) => {\n      if (index === 0) { return it }\n\n      return it.substr(0, 1).toUpperCase() + it.substr(1);\n    }).join(''); \n\n    if (arguments.length === 1) {\n      return this.el.dataset(newKey);\n    } else {\n      this.el.dataset(newKey, value);\n    }\n    \n  }\n\n  setAttr (obj) {\n    Object.keys(obj).forEach(key => {\n      this.attr(key, obj[key])\n    })\n    return this;  \n  }\n\n  attr(key, value) {\n    if (arguments.length == 1) {\n      return this.el.getAttribute(key);\n    }\n\n    this.el.setAttribute(key, value);\n\n    return this;\n  }\n\n  attrKeyValue(keyField) {\n    return {\n      [this.el.getAttribute(keyField)]: this.val()\n    }\n  }\n\n  attrs(...args) {\n    return args.map(key => {\n      return this.el.getAttribute(key);\n    });\n  }\n\n  styles(...args) {\n    return args.map(key => {\n      return this.el.style[key];\n    });\n  }  \n\n  removeAttr(key) {\n    this.el.removeAttribute(key);\n\n    return this;\n  }\n\n  removeStyle(key) {\n    this.el.style.removeProperty(key);\n    return this;\n  }\n\n  is(checkElement) {\n    return this.el === (checkElement.el || checkElement);\n  }\n\n  isTag(tag) {\n    return this.el.tagName.toLowerCase() === tag.toLowerCase()\n  }\n\n  closest(cls) {\n    var temp = this;\n    var checkCls = false;\n\n    while (!(checkCls = temp.hasClass(cls))) {\n      if (temp.el.parentNode) {\n        temp = Dom.create(temp.el.parentNode);\n      } else {\n        return null;\n      }\n    }\n\n    if (checkCls) {\n      return temp;\n    }\n\n    return null;\n  }\n\n  parent() {\n    return Dom.create(this.el.parentNode);\n  }\n\n  hasParent () {\n    return !!this.el.parentNode\n  }\n\n  removeClass(...args) {\n    this.el.classList.remove(...args);\n    return this;\n  }\n\n  hasClass(cls) {\n    if (!this.el.classList) return false;\n    return this.el.classList.contains(cls);\n  }\n\n  addClass(...args) {\n    this.el.classList.add(...args);\n\n    return this;\n  }\n\n  onlyOneClass(cls) {\n    var parent = this.parent();\n    var selected = parent.$(`.${cls}`);\n    if (selected) selected.removeClass(cls);\n    this.addClass(cls);\n  }\n\n  toggleClass(cls, isForce) {\n    this.el.classList.toggle(cls, isForce);\n  }\n\n  html(html) {\n    if (isUndefined(html)) {\n      return this.el.innerHTML;\n    }\n\n    if (isString(html)) {\n      this.el.innerHTML = html;\n    } else {\n      this.empty().append(html);\n    }\n\n    return this;\n  }\n\n  htmlDiff(fragment) {\n    if (!this.fragment) {\n      this.empty().append(fragment);\n      this.fragment = true;\n    } else {\n      var childFragment = this.createChildrenFragment();\n\n      DomDiff(childFragment, fragment);\n\n      this.html(childFragment)\n    }\n  }\n  updateDiff (html) {\n    DomDiff(this, Dom.create('div').html(html))\n  }\n\n  find(selector) {\n    return this.el.querySelector(selector);\n  }\n\n  $(selector) {\n    var node = this.find(selector);\n    return node ? Dom.create(node) : null;\n  }\n\n  findAll(selector) {\n    return this.el.querySelectorAll(selector);\n  }\n\n  $$(selector) {\n    return [...this.findAll(selector)].map(node => {\n      return Dom.create(node);\n    });\n  }\n\n  empty() {\n    while (this.el.firstChild) this.el.removeChild(this.el.firstChild);\n    return this;\n  }\n\n  append(el) {\n    if (isString(el)) {\n      this.el.appendChild(document.createTextNode(el));\n    } else {\n      this.el.appendChild(el.el || el);\n    }\n\n    return this;\n  }\n\n  prepend(el) {\n    if (isString(el)) {\n      this.el.prepend(document.createTextNode(el));\n    } else {\n      this.el.prepend(el.el || el);\n    }\n\n    return this;    \n  }\n\n  appendHTML(html) {\n    var $dom = Dom.create(\"div\").html(html);\n\n    this.append($dom.createChildrenFragment());\n  }\n\n  /**\n   * create document fragment with children dom\n   */\n  createChildrenFragment() {\n    const list = this.children();\n\n    var fragment = document.createDocumentFragment();\n    list.forEach($el => fragment.appendChild($el.el));\n\n    return fragment;\n  }\n\n  appendTo(target) {\n    var t = target.el ? target.el : target;\n\n    t.appendChild(this.el);\n\n    return this;\n  }\n\n  remove() {\n    if (this.el.parentNode) {\n      this.el.parentNode.removeChild(this.el);\n    }\n\n    return this;\n  }\n\n  removeChild(el) {\n    this.el.removeChild(el.el || el);\n    return this; \n  }\n\n  text(value) {\n    if (isUndefined(value)) {\n      return this.el.textContent;\n    } else {\n      var tempText = value;\n\n      if (value instanceof Dom) {\n        tempText = value.text();\n      }\n\n      this.el.textContent = tempText;\n      return this;\n    }\n  }\n\n  /**\n   *\n   * $el.css`\n   *  border-color: yellow;\n   * `\n   *\n   * @param {*} key\n   * @param {*} value\n   */\n\n  css(key, value) {\n    if (isNotUndefined(key) && isNotUndefined(value)) {\n      Object.assign(this.el.style, {[key]: value});\n    } else if (isNotUndefined(key)) {\n      if (isString(key)) {\n        return getComputedStyle(this.el)[key];  \n      } else {\n        Object.assign(this.el.style, key);\n      }\n    }\n\n    return this;\n  }\n\n  getComputedStyle (...list) {\n    var css = getComputedStyle(this.el);\n\n    var obj = {}\n    list.forEach(it => {\n      obj[it] = css[it]\n    })\n\n    return obj; \n  }\n\n  getStyleList(...list) {\n    var style = {};\n\n    var len = this.el.style.length;\n    for (var i = 0; i < len; i++) {\n      var key = this.el.style[i];\n\n      style[key] = this.el.style[key];\n    }\n\n    list.forEach(key => {\n      style[key] = this.css(key);\n    });\n\n    return style;\n  }\n\n  cssText(value) {\n    if (isUndefined(value)) {\n      return this.el.style.cssText;\n    }\n\n    if (value != this.el.tempCssText) {\n      this.el.style.cssText = value;\n      this.el.tempCssText = value; \n    } \n\n    return this;\n  }\n\n  cssArray(arr) {\n    if (arr[0]) this.el.style[arr[0]] = arr[1];\n    if (arr[2]) this.el.style[arr[2]] = arr[3];\n    if (arr[4]) this.el.style[arr[4]] = arr[5];\n    if (arr[6]) this.el.style[arr[6]] = arr[7];\n    if (arr[8]) this.el.style[arr[8]] = arr[9];\n\n    return this;\n  }\n\n  cssFloat(key) {\n    return parseFloat(this.css(key));\n  }\n\n  cssInt(key) {\n    return parseInt(this.css(key));\n  }\n\n  px(key, value) {\n    return this.css(key, Length.px(value));\n  }\n\n  rect() {\n    return this.el.getBoundingClientRect();\n  }\n\n  offsetRect() {\n    return {\n      top: this.el.offsetTop,\n      left: this.el.offsetLeft,\n      width: this.el.offsetWidth,\n      height: this.el.offsetHeight\n    };\n  }\n\n  offset() {\n    var rect = this.rect();\n\n    var scrollTop = Dom.getScrollTop();\n    var scrollLeft = Dom.getScrollLeft();\n\n    return {\n      top: rect.top + scrollTop,\n      left: rect.left + scrollLeft\n    };\n  }\n\n  offsetLeft() {\n    return this.offset().left;\n  }\n\n  offsetTop() {\n    return this.offset().top;\n  }\n\n  position() {\n    if (this.el.style.top) {\n      return {\n        top: parseFloat(this.css(\"top\")),\n        left: parseFloat(this.css(\"left\"))\n      };\n    } else {\n      return this.rect();\n    }\n  }\n\n  size() {\n    return [this.width(), this.height()];\n  }\n\n  width() {\n    return this.el.offsetWidth || this.rect().width;\n  }\n\n  contentWidth() {\n    return (\n      this.width() -\n      this.cssFloat(\"padding-left\") -\n      this.cssFloat(\"padding-right\")\n    );\n  }\n\n  height() {\n    return this.el.offsetHeight || this.rect().height;\n  }\n\n  contentHeight() {\n    return (\n      this.height() -\n      this.cssFloat(\"padding-top\") -\n      this.cssFloat(\"padding-bottom\")\n    );\n  }\n\n  val(value) {\n    if (isUndefined(value)) {\n      return this.el.value;\n    } else if (isNotUndefined(value)) {\n      var tempValue = value;\n\n      if (value instanceof Dom) {\n        tempValue = value.val();\n      }\n\n      this.el.value = tempValue;\n    }\n\n    return this;\n  }\n\n\n  get value() {\n    return this.el.value;\n  }\n\n  get naturalWidth () {\n    return this.el.naturalWidth\n  }\n\n  get naturalHeight () {\n    return this.el.naturalHeight\n  }  \n\n  get files() {\n    return this.el.files ? [...this.el.files] : [];\n  }\n\n  realVal() {\n    switch (this.el.nodeType) {\n      case \"INPUT\":\n        var type = this.attr(\"type\");\n        if (type == \"checkbox\" || type == \"radio\") {\n          return this.checked();\n        }\n      case \"SELECT\":\n      case \"TEXTAREA\":\n        return this.el.value;\n    }\n\n    return \"\";\n  }\n\n  int() {\n    return parseInt(this.val(), 10);\n  }\n\n  float() {\n    return parseFloat(this.val());\n  }\n\n  show(displayType = \"block\") {\n    return this.css(\"display\", displayType != \"none\" ? displayType : \"block\");\n  }\n\n  hide() {\n    return this.css(\"display\", \"none\");\n  }\n\n  isHide () {\n    return this.css(\"display\") == \"none\"\n  }\n\n  toggle(isForce) {\n    var currentHide = this.isHide();\n\n    if (arguments.length == 1) {\n      if (currentHide && isForce) {\n        return this.show();\n      } else {\n        return this.hide();\n      }\n    } else {\n      if (currentHide) {\n        return this.show();\n      } else {\n        return this.hide();\n      }\n    }\n  }\n\n  get totalLength () {\n    return this.el.getTotalLength()\n  }\n\n  scrollIntoView () {\n    this.el.scrollIntoView()\n  }\n\n  addScrollLeft (dt) {\n    this.el.scrollLeft += dt; \n    return this; \n  }\n\n  addScrollTop (dt) {\n    this.el.scrollTop += dt; \n    return this; \n  }  \n\n  setScrollTop(scrollTop) {\n    this.el.scrollTop = scrollTop;\n    return this;\n  }\n\n  setScrollLeft(scrollLeft) {\n    this.el.scrollLeft = scrollLeft;\n    return this;\n  }\n\n  scrollTop() {\n    if (this.el === document.body) {\n      return Dom.getScrollTop();\n    }\n\n    return this.el.scrollTop;\n  }\n\n  scrollLeft() {\n    if (this.el === document.body) {\n      return Dom.getScrollLeft();\n    }\n\n    return this.el.scrollLeft;\n  }\n\n  scrollHeight() {\n    return this.el.scrollHeight;\n  }\n\n  scrollWidth() {\n    return this.el.scrollWidth;\n  }  \n\n  on(eventName, callback, opt1, opt2) {\n    this.el.addEventListener(eventName, callback, opt1, opt2);\n\n    return this;\n  }\n\n  off(eventName, callback) {\n    this.el.removeEventListener(eventName, callback);\n\n    return this;\n  }\n\n  getElement() {\n    return this.el;\n  }\n\n  createChild(tag, className = '', attrs = {}, css = {}) {\n    let $element = Dom.create(tag, className, attrs);\n    $element.css(css);\n\n    this.append($element);\n\n    return $element;\n  }\n\n  firstChild() {\n    return Dom.create(this.el.firstElementChild);\n  }\n\n  children() {\n    var element = this.el.firstElementChild;\n\n    if (!element) {\n      return [];\n    }\n\n    var results = [];\n\n    do {\n      results.push(Dom.create(element));\n      element = element.nextElementSibling;\n    } while (element);\n\n    return results;\n  }\n\n  childLength() {\n    return this.el.children.length;\n  }\n\n  replace(newElement) {\n\n    if (this.el.parentNode) {\n      this.el.parentNode.replaceChild(newElement.el || newElement, this.el);\n    }\n\n    return this;\n  }\n\n  replaceChild(oldElement, newElement) {\n    this.el.replaceChild(newElement.el || newElement, oldElement.el || oldElement);\n\n    return this;\n  }  \n\n  checked(isChecked = false) {\n    if (arguments.length == 0) {\n      return !!this.el.checked;\n    }\n\n    this.el.checked = !!isChecked;\n\n    return this;\n  }\n\n\n  click () {\n    this.el.click();\n\n    return this; \n  }  \n\n  focus() {\n    this.el.focus();\n\n    return this;\n  }\n\n  select() {\n    this.el.select();\n    return this;\n  }\n\n  blur() {\n    this.el.blur();\n\n    return this;\n  }\n\n  select() {\n    this.el.select();\n\n    return this;\n  }\n\n  // canvas functions\n\n  context(contextType = \"2d\") {\n    if (!this._initContext) {\n      this._initContext = this.el.getContext(contextType);\n    }\n\n    return this._initContext;\n  }\n\n  resize({ width, height }) {\n    // support hi-dpi for retina display\n    this._initContext = null;\n    var ctx = this.context();\n    var scale = window.devicePixelRatio || 1;\n\n    this.px(\"width\", +width);\n    this.px(\"height\", +height);\n\n    this.el.width = width * scale;\n    this.el.height = height * scale;\n\n    ctx.scale(scale, scale);\n  }\n\n  toDataURL (type = 'image/png', quality = 1) {\n    return this.el.toDataURL(type, quality)\n  }\n\n  clear() {\n    this.context().clearRect(0, 0, this.el.width, this.el.height);\n  }\n\n  update(callback) {\n    this.clear();\n    callback.call(this, this);\n  }\n\n  drawImage (img, dx = 0, dy = 0) {\n    var ctx = this.context()\n    var scale = window.devicePixelRatio || 1;    \n    ctx.drawImage(img, dx, dy, img.width, img.height, 0, 0, this.el.width / scale, this.el.height / scale);\n  }\n\n  drawOption(option = {}) {\n    var ctx = this.context();\n\n    Object.assign(ctx, option);\n  }\n\n  drawLine(x1, y1, x2, y2) {\n    var ctx = this.context();\n\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n    ctx.closePath();\n  }\n\n  drawPath(...path) {\n    var ctx = this.context();\n\n    ctx.beginPath();\n\n    path.forEach((p, index) => {\n      if (index == 0) {\n        ctx.moveTo(p[0], p[1]);\n      } else {\n        ctx.lineTo(p[0], p[1]);\n      }\n    });\n    ctx.stroke();\n    ctx.fill();\n    ctx.closePath();\n  }\n\n  drawCircle(cx, cy, r) {\n    var ctx = this.context();\n    ctx.beginPath();\n    ctx.arc(cx, cy, r, 0, 2 * Math.PI);\n    ctx.stroke();\n    ctx.fill();\n  }\n\n  drawText(x, y, text) {\n    this.context().fillText(text, x, y);\n  }\n\n  /* utility */ \n  fullscreen () {\n    var element = this.el; \n    \n    if (element.requestFullscreen) {\n      element.requestFullscreen();\n    } else if (element.wekitRequestFullscreen) {\n      element.wekitRequestFullscreen();\n    }\n  }\n}\n","\nimport { uuid } from \"./functions/math\";\n\nexport const makeEventChecker = (value, split = CHECK_SAPARATOR) => {\n  return ` ${split} ${value}`;\n}\n\n// event name regular expression\nexport const CHECK_LOAD_PATTERN = /^load (.*)/gi;\nexport const CHECK_BIND_PATTERN = /^bind (.*)/gi;\n\nconst CHECK_CLICK_PATTERN = \"click|dblclick\";\nconst CHECK_MOUSE_PATTERN = \"mouse(down|up|move|over|out|enter|leave)\";\nconst CHECK_POINTER_PATTERN = \"pointer(start|move|end)\";\nconst CHECK_TOUCH_PATTERN = \"touch(start|move|end)\";\nconst CHECK_KEY_PATTERN = \"key(down|up|press)\";\nconst CHECK_DRAGDROP_PATTERN = \"drag|drop|drag(start|over|enter|leave|exit|end)\";\nconst CHECK_CONTEXT_PATTERN = \"contextmenu\";\nconst CHECK_INPUT_PATTERN = \"change|input|focus|blur|focus(in|out)\";\nconst CHECK_CLIPBOARD_PATTERN = \"paste\";\nconst CHECK_BEHAVIOR_PATTERN = \"resize|scroll|wheel|mousewheel|DOMMouseScroll\";\nconst CHECK_FORM_PATTERN = \"submit\";\nconst CHECK_ANIMATION_PATTERN = 'animation(start|end|iteration)'\nconst CHECK_TRANSITION_PATTERN = 'transition(start|end|cancel|run)'\n\nconst CHECK_PATTERN_LIST = [\n  CHECK_CLICK_PATTERN,\n  CHECK_MOUSE_PATTERN,\n  CHECK_POINTER_PATTERN,\n  CHECK_TOUCH_PATTERN,\n  CHECK_KEY_PATTERN,\n  CHECK_DRAGDROP_PATTERN,\n  CHECK_CONTEXT_PATTERN,\n  CHECK_INPUT_PATTERN,\n  CHECK_CLIPBOARD_PATTERN,\n  CHECK_BEHAVIOR_PATTERN,\n  CHECK_FORM_PATTERN,\n  CHECK_ANIMATION_PATTERN,\n  CHECK_TRANSITION_PATTERN\n].join(\"|\");\n\nexport const CHECK_PATTERN = new RegExp(`^(${CHECK_PATTERN_LIST})`, \"ig\");\n\nexport const NAME_SAPARATOR = \":\";\nexport const CHECK_SAPARATOR = \"|\";\nexport const LOAD_SAPARATOR = \"load \";\nexport const BIND_SAPARATOR = \"bind \";\nexport const SAPARATOR = ' ';\n\nconst refManager = {};\n\nconst DOM_EVENT_MAKE = (...keys) => {\n  var key = keys.join(NAME_SAPARATOR);\n  return (...args) => {\n    return [key, ...args].join(SAPARATOR);\n  };\n};\n\nexport const CUSTOM = DOM_EVENT_MAKE;\nexport const CLICK = DOM_EVENT_MAKE(\"click\");\nexport const DOUBLECLICK = DOM_EVENT_MAKE(\"dblclick\");\nexport const MOUSEDOWN = DOM_EVENT_MAKE(\"mousedown\");\nexport const MOUSEUP = DOM_EVENT_MAKE(\"mouseup\");\nexport const MOUSEMOVE = DOM_EVENT_MAKE(\"mousemove\");\nexport const MOUSEOVER = DOM_EVENT_MAKE(\"mouseover\");\nexport const MOUSEOUT = DOM_EVENT_MAKE(\"mouseout\");\nexport const MOUSEENTER = DOM_EVENT_MAKE(\"mouseenter\");\nexport const MOUSELEAVE = DOM_EVENT_MAKE(\"mouseleave\");\nexport const TOUCHSTART = DOM_EVENT_MAKE(\"touchstart\");\nexport const TOUCHMOVE = DOM_EVENT_MAKE(\"touchmove\");\nexport const TOUCHEND = DOM_EVENT_MAKE(\"touchend\");\nexport const KEYDOWN = DOM_EVENT_MAKE(\"keydown\");\nexport const KEYUP = DOM_EVENT_MAKE(\"keyup\");\nexport const KEYPRESS = DOM_EVENT_MAKE(\"keypress\");\nexport const DRAG = DOM_EVENT_MAKE(\"drag\");\nexport const DRAGSTART = DOM_EVENT_MAKE(\"dragstart\");\nexport const DROP = DOM_EVENT_MAKE(\"drop\");\nexport const DRAGOVER = DOM_EVENT_MAKE(\"dragover\");\nexport const DRAGENTER = DOM_EVENT_MAKE(\"dragenter\");\nexport const DRAGLEAVE = DOM_EVENT_MAKE(\"dragleave\");\nexport const DRAGEXIT = DOM_EVENT_MAKE(\"dragexit\");\nexport const DRAGOUT = DOM_EVENT_MAKE(\"dragout\");\nexport const DRAGEND = DOM_EVENT_MAKE(\"dragend\");\nexport const CONTEXTMENU = DOM_EVENT_MAKE(\"contextmenu\");\nexport const CHANGE = DOM_EVENT_MAKE(\"change\");\nexport const INPUT = DOM_EVENT_MAKE(\"input\");\nexport const FOCUS = DOM_EVENT_MAKE(\"focus\");\nexport const FOCUSIN = DOM_EVENT_MAKE(\"focusin\");\nexport const FOCUSOUT = DOM_EVENT_MAKE(\"focusout\");\nexport const BLUR = DOM_EVENT_MAKE(\"blur\");\nexport const PASTE = DOM_EVENT_MAKE(\"paste\");\nexport const RESIZE = DOM_EVENT_MAKE(\"resize\");\nexport const SCROLL = DOM_EVENT_MAKE(\"scroll\");\nexport const SUBMIT = DOM_EVENT_MAKE(\"submit\");\nexport const POINTERSTART = CUSTOM(\"mousedown\", \"touchstart\");\nexport const POINTERMOVE = CUSTOM(\"mousemove\", \"touchmove\");\nexport const POINTEREND = CUSTOM(\"mouseup\", \"touchend\");\nexport const CHANGEINPUT = CUSTOM(\"change\", \"input\");\nexport const WHEEL = CUSTOM(\"wheel\", \"mousewheel\", \"DOMMouseScroll\");\nexport const ANIMATIONSTART = DOM_EVENT_MAKE('animationstart');\nexport const ANIMATIONEND = DOM_EVENT_MAKE('animationend');\nexport const ANIMATIONITERATION = DOM_EVENT_MAKE('animationiteration');\nexport const TRANSITIONSTART = DOM_EVENT_MAKE('transitionstart');\nexport const TRANSITIONEND = DOM_EVENT_MAKE('transitionend');\nexport const TRANSITIONRUN = DOM_EVENT_MAKE('transitionrun');\nexport const TRANSITIONCANCEL = DOM_EVENT_MAKE('transitioncancel');\n\n// Predefined CHECKER\nexport const CHECKER = (value, split = CHECK_SAPARATOR) => {\n  return makeEventChecker(value, split);\n};\n\nexport const AFTER = (value, split = CHECK_SAPARATOR) => {\n  return makeEventChecker(`after(${value})`, split);\n};\n\nexport const BEFORE = (value, split = CHECK_SAPARATOR) => {\n  return makeEventChecker(`before(${value})`, split);  \n};\n\nexport const IF = CHECKER;\nexport const KEY = CHECKER; \n\nexport const KEY_ALT = \"ALT\";\nexport const KEY_SHIFT = \"SHIFT\";\nexport const KEY_META = \"META\";\nexport const KEY_CONTROL = \"CONTROL\";\n\nexport const KEY_ARROW_UP = \"ArrowUp\";\nexport const KEY_ARROW_DOWN = \"ArrowDown\";\nexport const KEY_ARROW_LEFT = \"ArrowLeft\";\nexport const KEY_ARROW_RIGHT = \"ArrowRight\";\nexport const KEY_ENTER = \"Enter\";\nexport const KEY_SPACE = \"Space\";\n\nexport const ARROW_UP = CHECKER(KEY_ARROW_UP);\nexport const ARROW_DOWN = CHECKER(KEY_ARROW_DOWN);\nexport const ARROW_LEFT = CHECKER(KEY_ARROW_LEFT);\nexport const ARROW_RIGHT = CHECKER(KEY_ARROW_RIGHT);\nexport const ENTER = CHECKER(KEY_ENTER);\nexport const SPACE = CHECKER(KEY_SPACE);\n\nexport const ALT = CHECKER(\"isAltKey\");\nexport const SHIFT = CHECKER(\"isShiftKey\");\nexport const META = CHECKER(\"isMetaKey\");\nexport const CONTROL = CHECKER(\"isCtrlKey\");\nexport const SELF = CHECKER(\"self\");\n\nexport const FIT = CHECKER(\"fit\");\nexport const PASSIVE = CHECKER(\"passive\");\nexport const VDOM = CHECKER('vdom');\n\n// event config method\nexport const DEBOUNCE = (t = 100) => {\n  return CHECKER(`debounce(${t})`);\n};\n\nexport const D1000 = DEBOUNCE(1000)\n\nexport const THROTTLE = (t = 100) => {\n  return CHECKER(`throttle(${t})`);\n};\n\nexport const CAPTURE = CHECKER(\"capture()\");\n// event config method\n\n// before method\n\n// after method\nexport const MOVE = (method = \"move\") => {\n  return AFTER(`bodyMouseMove ${method}`);\n};\nexport const END = (method = \"end\") => {\n  return AFTER(`bodyMouseUp ${method}`);\n};\n\nexport const PREVENT = AFTER(`preventDefault`);\nexport const STOP = AFTER(`stopPropagation`);\n\n// Predefined LOADER\nexport const LOAD = (value = \"$el\") => {\n  return LOAD_SAPARATOR + value;\n};\n\nexport const createRef = value => {\n  if (value === '') return '';\n\n  var id = uuid();\n  refManager[id] = value;\n\n  return id;\n};\n\nexport const getRef = id => {\n  return refManager[id] || '';\n};\n\nexport const BIND_CHECK_FUNCTION = field => {\n  return function() {\n    return this.prevState[field] != this.state[field];\n  };\n};\n\nexport const BIND_CHECK_DEFAULT_FUNCTION = () => {\n  return true;\n};\n\nexport const BIND = (value = \"$el\", checkFieldOrCallback = '') => {\n  return (\n    BIND_SAPARATOR + value + ( \n      checkFieldOrCallback ?  CHECK_SAPARATOR + createRef(checkFieldOrCallback) : '' \n    ) \n  );\n};\n\nexport default {\n  addEvent(dom, eventName, callback, useCapture = false) {\n    if (dom) {\n      dom.addEventListener(eventName, callback, useCapture);\n    }\n  },\n\n  removeEvent(dom, eventName, callback) {\n    if (dom) {\n      dom.removeEventListener(eventName, callback);\n    }\n  },\n\n  pos(e) {\n    if (e.touches && e.touches[0]) {\n      return e.touches[0];\n    }\n\n    return e;\n  },\n\n  posXY(e) {\n    var pos = this.pos(e);\n    return {\n      x: pos.pageX,\n      y: pos.pageY\n    };\n  }\n};\n","import { debounce } from \"./functions/func\";\n\nexport default class BaseStore {\n  constructor(opt = {}) {\n    this.cachedCallback = {};\n    this.callbacks = {};\n    this.commandes = [];\n  }\n\n  getCallbacks(event) {\n    if (!this.callbacks[event]) {\n      this.callbacks[event] = []\n    }\n\n    return this.callbacks[event]\n  }\n\n  setCallbacks(event, list = []) {\n    this.callbacks[event] = list; \n  }\n\n  on(event, originalCallback, context, delay = 0) {\n    var callback = delay > 0 ? debounce(originalCallback, delay) : originalCallback;\n\n    this.getCallbacks(event).push({ event, callback, context, originalCallback });\n  }\n\n  off(event, originalCallback) {\n\n    if (arguments.length == 1) {\n      this.setCallbacks(event);\n    } else if (arguments.length == 2) {      \n      this.setCallbacks(event, this.getCallbacks(event).filter(f => {\n        return f.originalCallback !== originalCallback\n      }));\n    }\n  }\n\n  offAll (context) {\n\n    Object.keys(this.callbacks).forEach(event => {\n      this.setCallbacks(event, this.getCallbacks(event).filter(f => {\n        return f.context !== context;  \n      }))\n    })\n  }\n\n  getCachedCallbacks (event) {\n    return this.getCallbacks(event);\n  }\n\n  sendMessage(source, event, $2, $3, $4, $5) {\n    setTimeout(() => {\n      var list = this.getCachedCallbacks(event);\n      if (list) {\n        list\n        .filter(f => f.originalCallback.source !== source)\n        .forEach(f => {\n          f.callback($2, $3, $4, $5)\n        });\n      }\n\n    }, 0);\n  }\n\n  triggerMessage(source, event, $2, $3, $4, $5) {\n    setTimeout(() => {\n      var list = this.getCachedCallbacks(event);\n      if (list) {\n        list\n          .filter(f => f.originalCallback.source === source)\n          .forEach(f => {\n            f.callback($2, $3, $4, $5)\n          });\n      } else {\n        console.warn(event, ' is not valid event');\n      }\n\n\n    }, 0);\n  }\n\n\n\n\n  emit($1, $2, $3, $4, $5) {\n    this.sendMessage(this.source, $1, $2, $3, $4, $5);\n  }\n\n  trigger($1, $2, $3, $4, $5) {\n    this.triggerMessage(this.source, $1, $2, $3, $4, $5);\n  }\n\n  execute($1, $2, $3, $4, $5){\n    this.runCommand(this.source, $1, $2, $3, $4, $5);\n  }\n}\n","import Event, {\n  CHECK_PATTERN,\n  NAME_SAPARATOR,\n  CHECK_SAPARATOR,\n  SAPARATOR,\n  CHECK_LOAD_PATTERN,\n  LOAD_SAPARATOR,\n  BIND_SAPARATOR,\n  CHECK_BIND_PATTERN,\n  BIND_CHECK_DEFAULT_FUNCTION,\n  BIND_CHECK_FUNCTION,\n  LOAD,\n  VDOM\n} from \"./Event\";\nimport Dom from \"./Dom\";\nimport {\n  debounce,\n  isFunction,\n  isArray,\n  html,\n  keyEach,\n  isNotUndefined,\n  isUndefined,\n  isString,\n  isObject,\n  keyMap,\n  throttle,\n  isNotString\n} from \"./functions/func\";\nimport {\n  ADD_BODY_MOUSEMOVE,\n  ADD_BODY_MOUSEUP\n} from \"../csseditor/types/event\";\nimport { uuid } from \"./functions/math\";\n\n\nconst REFERENCE_PROPERTY = \"ref\";\nconst TEMP_DIV = Dom.create(\"div\");\nconst QUERY_PROPERTY = `[${REFERENCE_PROPERTY}]`;\nconst ATTR_lIST = [REFERENCE_PROPERTY]\n\nconst matchPath = (el, selector) => {\n  if (el) {\n    if (el.matches(selector)) {\n      return el;\n    }\n    return matchPath(el.parentElement, selector);\n  }\n  return null;\n};\n\nconst hasDelegate = (e, eventObject) => {\n  return matchPath(e.target || e.srcElement, eventObject.delegate);\n};\n\nconst makeCallback = (context, eventObject, callback) => {\n  if (eventObject.delegate) {\n    return makeDelegateCallback(context, eventObject, callback);\n  } else {\n    return makeDefaultCallback(context, eventObject, callback);\n  }\n};\n\nconst makeDefaultCallback = (context, eventObject, callback) => {\n  return e => {\n    var returnValue = runEventCallback(context, e, eventObject, callback);\n    if (isNotUndefined(returnValue)) {\n      return returnValue;\n    }\n  };\n};\n\nconst makeDelegateCallback = (context, eventObject, callback) => {\n  return e => {\n    const delegateTarget = hasDelegate(e, eventObject);\n\n    if (delegateTarget) {\n      // delegate target 이 있는 경우만 callback 실행\n      e.$dt = Dom.create(delegateTarget);      \n\n      var returnValue = runEventCallback(context, e, eventObject, callback);\n      if (isNotUndefined(returnValue)) {\n        return returnValue;\n      }\n    }\n  };\n};\n\nconst runEventCallback = (context, e, eventObject, callback) => {\n  e.xy = Event.posXY(e);\n\n  if (eventObject.beforeMethods.length) {\n    eventObject.beforeMethods.every(before => {\n      return context[before.target].call(context, e, before.param);\n    });\n  }\n\n  if (checkEventType(context, e, eventObject)) {\n    var returnValue = callback(e, e.$dt, e.xy);\n\n    if (returnValue !== false && eventObject.afterMethods.length) {\n      eventObject.afterMethods.forEach(after =>\n        context[after.target].call(context, e, after.param)\n      );\n    }\n\n    return returnValue;\n  }\n};\n\nconst checkEventType = (context, e, eventObject) => {\n  // 특정 keycode 를 가지고 있는지 체크\n  var hasKeyCode = true;\n  if (eventObject.codes.length) {\n    hasKeyCode =\n      (e.code ? eventObject.codes.indexOf(e.code.toLowerCase()) > -1 : false) ||\n      (e.key ? eventObject.codes.indexOf(e.key.toLowerCase()) > -1 : false);\n  }\n\n  // 체크 메소드들은 모든 메소드를 다 적용해야한다.\n  var isAllCheck = true;\n  if (eventObject.checkMethodList.length) {\n    isAllCheck = eventObject.checkMethodList.every(field => {\n      var fieldValue = context[field];    \n      if (isFunction(fieldValue) && fieldValue) {\n        // check method\n        return fieldValue.call(context, e);\n      } else if (isNotUndefined(fieldValue)) {\n\n        // check field value\n        return !!fieldValue;\n      }\n      return true;\n    });\n  }\n\n  return hasKeyCode && isAllCheck;\n};\n\nconst getDefaultDomElement = (context, dom) => {\n  let el;\n\n  if (dom) {\n    el = context.refs[dom] || context[dom] || window[dom];\n  } else {\n    el = context.el || context.$el || context.$root;\n  }\n\n  if (el instanceof Dom) {\n    return el.getElement();\n  }\n\n  return el;\n};\n\nexport const splitMethodByKeyword = (arr, keyword) => {\n  var filterKeys = arr.filter(code => code.indexOf(`${keyword}(`) > -1);\n  var filterMaps = filterKeys.map(code => {\n    var [target, param] = code\n      .split(`${keyword}(`)[1]\n      .split(\")\")[0]\n      .trim()\n      .split(\" \");\n\n    return { target, param };\n  });\n\n  return [filterKeys, filterMaps];\n};\n\nconst getDefaultEventObject = (context, eventName, checkMethodFilters) => {\n  let arr = checkMethodFilters;\n\n  // context 에 속한 변수나 메소드 리스트 체크\n  const checkMethodList = arr.filter(code => !!context[code]);\n\n  // 이벤트 정의 시점에 적용 되어야 하는 것들은 모두 method() 화 해서 정의한다.\n  const [afters, afterMethods] = splitMethodByKeyword(arr, \"after\");\n  const [befores, beforeMethods] = splitMethodByKeyword(arr, \"before\");\n  const [debounces, debounceMethods] = splitMethodByKeyword(arr, \"debounce\");\n  const [throttles, throttleMethods] = splitMethodByKeyword(arr, \"throttle\");\n  const [captures] = splitMethodByKeyword(arr, \"capture\");\n\n  // 위의 5개 필터 이외에 있는 코드들은 keycode 로 인식한다.\n  const filteredList = [\n    ...checkMethodList,\n    ...afters,\n    ...befores,\n    ...debounces,\n    ...throttles,\n    ...captures\n  ];\n\n  var codes = arr\n    .filter(code => filteredList.indexOf(code) === -1)\n    .map(code => code.toLowerCase());\n\n  return {\n    eventName,\n    codes,\n    captures,\n    afterMethods,\n    beforeMethods,\n    debounceMethods,\n    throttleMethods,\n    checkMethodList\n  };\n};\n\nconst scrollBlockingEvents = {\n  'touchstart': true,\n  'touchmove': true,\n  'mousedown': true,\n  'mouseup': true,\n  'mousemove': true, \n  'wheel': true,\n  'mousewheel': true\n}\n\nconst addEvent = (context, eventObject, callback) => {\n  eventObject.callback = makeCallback(context, eventObject, callback);\n  context.addBinding(eventObject);\n\n  var options = !!eventObject.captures.length\n\n  if (scrollBlockingEvents[eventObject.eventName]) {\n    options = {\n      passive: true,\n      capture: options  \n    }\n  }\n\n  Event.addEvent(\n    eventObject.dom,\n    eventObject.eventName,\n    eventObject.callback,\n    options\n  );\n};\n\nconst bindingEvent = ( context, [eventName, dom, ...delegate], checkMethodFilters, callback ) => {\n  let eventObject = getDefaultEventObject( context, eventName, checkMethodFilters);\n\n  eventObject.dom = getDefaultDomElement(context, dom);\n  eventObject.delegate = delegate.join(SAPARATOR);\n\n  if (eventObject.debounceMethods.length) {\n    var debounceTime = +eventObject.debounceMethods[0].target;\n    callback = debounce(callback, debounceTime);\n  } else if (eventObject.throttleMethods.length) {\n    var throttleTime = +eventObject.throttleMethods[0].target;\n    callback = throttle(callback, throttleTime);\n  }\n\n  addEvent(context, eventObject, callback);\n};\n\nconst getEventNames = eventName => {\n  let results = [];\n\n  eventName.split(NAME_SAPARATOR).forEach(e => {\n    var arr = e.split(NAME_SAPARATOR);\n\n    results.push(...arr);\n  });\n\n  return results;\n};\n\nconst parseEvent = (context, key) => {\n  let checkMethodFilters = key.split(CHECK_SAPARATOR).map(it => it.trim());\n  var eventSelectorAndBehave = checkMethodFilters.shift();\n\n  var [eventName, ...params] = eventSelectorAndBehave.split(SAPARATOR);\n  var eventNames = getEventNames(eventName);\n  var callback = context[key].bind(context);\n\n  eventNames.forEach(eventName => {\n    bindingEvent(context, [eventName, ...params], checkMethodFilters, callback);\n  });\n};\n\nconst applyElementAttribute = ($element, key, value) => {\n\n  if (key === 'cssText') {\n    /**\n     * cssText: 'position:absolute'\n     */\n    $element.cssText(value);\n  } else if (key === \"style\") {\n    /**\n     * style: { key: value }\n     */\n    if (isNotString(value)) {\n      $element.css(value);\n    }\n\n    return;\n  } else if (key === \"class\") {\n    //  \"class\" : [ 'className', 'className' ] \n    //  \"class\" : { key: true, key: false } \n    //  \"class\" : 'string-class' \n\n    if (isArray(value)) {\n      $element.addClass(...value);\n    } else if (isObject(value)) {\n      keyEach(value, (className, hasClass) => $element.toggleClass(className, hasClass));\n    } else {\n      $element.addClass(value);\n    }\n\n    return;\n  }\n\n  if (isUndefined(value)) {\n    $element.removeAttr(key);\n  } else {\n    if ($element.el.nodeName === \"TEXTAREA\" && key === \"value\") {\n      $element.text(value);\n    } else if (key === 'text' || key === 'textContent') {\n      $element.text(value);\n    } else if (key === 'innerHTML' || key === 'html') {\n      $element.html(value);\n    } else {\n      $element.attr(key, value);\n    }\n  }\n};\n\n// collectProps 에서 제외될 메소드 목록 \nconst expectMethod = {\n  \"constructor\": true,\n  \"initState\": true,\n  \"refresh\": true,\n  \"updateData\": true,\n  \"constructor\": true,\n  \"initializeProperty\": true,\n  \"created\": true,\n  \"getRealEventName\": true,\n  \"initializeStoreEvent\": true,\n  \"destoryStoreEvent\": true,\n  \"destroy\": true,\n  \"emit\": true,\n  \"trigger\": true,\n  \"on\": true,\n  \"off\": true,\n  \"setState\": true,\n  \"_reload\": true,\n  \"render\": true,\n  \"initialize\": true,\n  \"afterRender\": true,\n  \"components\": true,\n  \"getRef\": true,\n  \"parseTemplate\": true,\n  \"childrenIds\": true,\n  \"exists\": true,\n  \"parseProperty\": true,\n  \"parseSourceName\": true,\n  \"parseComponent\": true,\n  \"clean\": true,\n  \"refresh\": true,\n  \"loadTemplate\": true,\n  \"load\": true,\n  \"bindData\": true,\n  \"template\": true,\n  \"templateClass\": true,\n  \"eachChildren\": true,\n  \"initializeEvent\": true,\n  \"destroy\": true,\n  \"destroyDomEvent\": true,\n  \"initializeDomEvent\": true,\n  \"collectProps\": true,\n  \"filterProps\": true,\n  \"self\": true,\n  \"isAltKey\": true,\n  \"isCtrlKey\": true,\n  \"isShiftKey\": true,\n  \"isMetaKey\": true,\n  \"preventDefault\": true,\n  \"stopPropagation\": true,\n  \"bodyMouseMove\": true,\n  \"bodyMouseUp\": true,\n  \"getBindings\": true,\n  \"addBinding\": true,\n  \"initBindings\": true,\n  \"removeEventAll\": true,\n  \"removeEvent\": true\n}\n\nexport default class EventMachine {\n  constructor() {\n    this.state = {};\n    this.prevState = {};\n    this.refs = {};\n    this.children = {};\n    this._bindings = [];\n    this.id = uuid();    \n\n    this.initComponents();\n  }\n\n  initComponents() {\n    this.childComponents = this.components();\n    this.childComponentKeys = Object.keys(this.childComponents)\n    this.childComponentSet = new Map();\n    this.childComponentKeys.forEach(key => {\n      this.childComponentSet.set(key.toLowerCase(), key);\n    })\n    this.childComponentKeysString = [...this.childComponentSet.keys()].join(',');\n  }\n\n  initState() {\n    return {};\n  }\n\n  setState(state = {}, isLoad = true) {\n    this.prevState = this.state;\n    this.state = Object.assign({}, this.state, state );\n    if (isLoad) {\n      this.load();\n    }\n  }\n\n  _reload(props) {\n    // console.log(this, this.parent, this.parent.parent, props);\n    this.props = props;\n    this.setState(this.initState(), false);\n    this.refresh(true);\n  }\n\n  render($container) {\n    this.$el = this.parseTemplate(\n      html`\n        ${this.template()}\n      `\n    );\n    this.refs.$el = this.$el;\n\n    if ($container) {\n      $container.append(this.$el);\n    }\n\n    this.load();\n    // this.parseComponent(false);\n\n    this.afterRender();\n  }\n\n  initialize() {\n    this.state = this.initState();\n  }\n  afterRender() {}\n  components() {\n    return {};\n  }\n\n  // ref 에 있는 객체를 좀 더 편하게 가지고 오고자 만들었다.\n  // 예를 들어 ref='$xxxRadius' 라고 했을 때\n  // this.refs[`$${type}Radius`] 처럼 이름을 재 구성하는 방식을 써야 하는데\n  // this.getRef('$', type, 'Radius') 형태로 끝낼 수 있다.\n  // 변수적용하기 좀 더 편해진다.\n  // 사용은 각자가 알아서 ㅋ\n  getRef(...args) {\n    const key = args.join('')\n    return this.refs[key];\n  }\n\n  parseTemplate(html, isLoad) {\n\n    if (isArray(html)) {\n      html = html.join('');\n    }\n\n    html = html.trim();\n    const list = TEMP_DIV.html(html).children();\n\n    list.forEach($el => {\n      // ref element 정리\n      var ref = $el.attr(REFERENCE_PROPERTY)\n      if (ref) {\n        this.refs[ref] = $el;\n      }\n\n      var refs = $el.$$(QUERY_PROPERTY);\n      var temp = {} \n      refs.forEach($dom => {\n\n        const name = $dom.attr(REFERENCE_PROPERTY);\n        if (temp[name]) {\n          console.warn(`${ref} is duplicated. - ${this.sourceName}`, this)\n        } else {\n          temp[name] = true; \n        }\n\n        this.refs[name] = $dom;        \n      });\n\n\n    });\n\n    if (!isLoad) {\n      return list[0];\n    }\n\n    return TEMP_DIV.createChildrenFragment();\n  }\n\n  childrenIds() {\n    return  keyMap(this.children, (key, obj) => {\n      return obj.id;\n    })\n  }\n\n  exists () {\n\n    if (this.parent) {\n      if (this.parent.childrenIds) {\n        return this.parent.childrenIds().indexOf(this.id) > -1 \n      }\n    }\n\n    return true  \n  }\n\n  parseProperty ($dom) {\n    let props = {};\n\n    // parse properties \n    for(var t of $dom.el.attributes) {\n      props[t.nodeName] = t.nodeValue;\n    }\n\n    // property 태그는 속성으로 대체 \n    $dom.$$('property').forEach($p => {\n      const [name, value, type] = $p.attrs('name', 'value', 'type')\n\n      let realValue = value || $p.text();\n\n      // JSON 타입이면 JSON.parse 로 객체를 복원해서 넘겨준다. \n      if (type === 'json') {            \n        realValue = JSON.parse(realValue);\n      }\n    \n      props[name] = realValue; \n    })\n\n    return props;\n  }\n\n  parseSourceName(obj) {\n\n    if (obj.parent) {\n      return [obj.sourceName, ...this.parseSourceName(obj.parent)]\n    }\n\n    return [obj.sourceName]\n  }\n\n  parseComponent() {\n    const $el = this.$el;\n\n    let targets = [] \n    if (this.childComponentKeysString) {\n      targets = $el.$$(this.childComponentKeysString);\n    }\n\n    \n    targets.forEach($dom => {\n      var tagName = $dom.el.tagName.toLowerCase();\n      var ComponentName = this.childComponentSet.get(tagName);\n      var Component = this.childComponents[ComponentName];\n      let props = this.parseProperty($dom);\n\n      // create component \n      let refName = $dom.attr(REFERENCE_PROPERTY);\n      var instance = null; \n      if (this.children[refName]) {\n        instance = this.children[refName] \n        instance._reload(props);\n      } else {\n        instance = new Component(this, props);\n\n        this.children[refName || instance.id] = instance;\n\n        instance.render();\n        instance.initializeEvent();  \n      }\n      \n      $dom.replace(instance.$el);      \n  \n    })\n\n    keyEach(this.children, (key, obj) => {\n      if (obj && obj.clean()) {\n        delete this.children[key]\n      }\n    })\n  }\n\n  clean () {\n    if (this.$el && !this.$el.hasParent()) {\n\n      keyEach(this.children, (key, child) => {\n        child.clean();\n      })\n\n      this.destroy();  \n\n      this.$el = null;\n      return true; \n    }\n  }\n\n  /**\n   * refresh 는 load 함수들을 실행한다. \n   */\n  refresh() {\n    this.load()\n  }\n\n  /**\n   * 특정 load 함수를 실행한다.  문자열을 그대로 return 한다. \n   * @param  {...any} args \n   */\n  loadTemplate (...args) {\n    return this[LOAD(args.join(''))].call(this)\n  }\n\n  load(...args) {\n    if (!this._loadMethods) {\n      this._loadMethods = this.filterProps(CHECK_LOAD_PATTERN);\n    }\n\n    this._loadMethods\n    .filter(callbackName => {\n      const elName = callbackName.split(LOAD_SAPARATOR)[1].split(CHECK_SAPARATOR)[0];\n      if (!args.length) return true; \n      return args.indexOf(elName) > -1\n    })\n    .forEach(callbackName => {\n      let methodName = callbackName.split(LOAD_SAPARATOR)[1];\n      var [elName, ...checker] = methodName.split(CHECK_SAPARATOR).map(it => it.trim())\n\n      checker = checker.map(it => it.trim())\n\n      var isVdom = checker.indexOf(VDOM.value) > -1;\n\n      if (this.refs[elName]) {\n        \n        var newTemplate = this[callbackName].call(this, ...args);\n\n        if (isArray(newTemplate)) {\n          newTemplate = newTemplate.join('');\n        }\n\n\n        const fragment = this.parseTemplate(html`${newTemplate}`, true);\n\n        if (isVdom) {\n          this.refs[elName].htmlDiff(fragment);\n        } else {\n          this.refs[elName].html(fragment);\n        }\n\n        this.initializeDomEvent()\n      }\n    });\n\n    this.bindData();\n\n    this.parseComponent();\n    \n  }\n\n  bindData (...args) {\n    if (!this._bindMethods) {\n      this._bindMethods = this.filterProps(CHECK_BIND_PATTERN);\n    }\n    /**\n     * BIND 를 해보자.\n     * 이시점에 하는게 맞는지는 모르겠지만 일단은 해보자.\n     * BIND 는 특정 element 에 html 이 아닌 데이타를 업데이트하기 위한 간단한 로직이다.\n     */\n    this._bindMethods\n      .filter(originalCallbackName => {\n        if (!args.length) return true; \n        var [callbackName, id] = originalCallbackName.split(CHECK_SAPARATOR);        \n\n        var [_, $bind] = callbackName.split(' ')\n\n        return args.indexOf($bind) >  -1 \n      })\n      .forEach(callbackName => {\n        const bindMethod = this[callbackName];\n        var [callbackName, id] = callbackName.split(CHECK_SAPARATOR);\n\n        const refObject = this.getRef(id);\n        let refCallback = BIND_CHECK_DEFAULT_FUNCTION;\n\n        if (refObject != '' && isString(refObject)) {\n          refCallback = BIND_CHECK_FUNCTION(refObject);\n        } else if (isFunction(refObject)) {\n          refCallback = refObject;\n        }\n\n        const elName = callbackName.split(BIND_SAPARATOR)[1];\n        let $element = this.refs[elName];\n\n        // isBindCheck 는 binding 하기 전에 변화된 지점을 찾아서 업데이트를 제한한다.\n        const isBindCheck = isFunction(refCallback) && refCallback.call(this);\n        if ($element && isBindCheck) {\n          const results = bindMethod.call(this, ...args);\n\n          if (!results) return;\n\n          keyEach(results, (key, value) => {\n            applyElementAttribute($element, key, value);\n          });\n        }\n      });\n  }\n\n  // 기본 템플릿 지정\n  template() {\n    var className = this.templateClass();\n    var classString = className ? `class=\"${className}\"` : '';\n\n    return `<div ${classString}></div>`;\n  }\n\n  templateClass() {\n    return null;\n  }\n\n  eachChildren(callback) {\n    if (!isFunction(callback)) return;\n\n    keyEach(this.children, (_, Component) => {\n      callback(Component);\n    });\n  }\n\n  rerender () {\n    var $parent = this.$el.parent();\n    this.destroy();\n    this.render($parent);  \n  }\n\n  /**\n   * 이벤트를 초기화한다.\n   */\n  initializeEvent() {\n    this.initializeDomEvent();\n  }\n\n  /**\n   * 자원을 해제한다.\n   * 이것도 역시 자식 컴포넌트까지 제어하기 때문에 가장 최상위 부모에서 한번만 호출되도 된다.\n   */\n  destroy() {\n    this.eachChildren(childComponent => {\n      childComponent.destroy();\n    });\n\n    this.destroyDomEvent();\n    this.$el.remove();\n    this.$el = null; \n    this.refs = {} \n    this.children = {} \n  }\n\n  destroyDomEvent() {\n    this.removeEventAll();\n  }\n\n  initializeDomEvent() {\n    this.destroyDomEvent();\n\n    if (!this._domEvents) {\n      this._domEvents = this.filterProps(CHECK_PATTERN)\n    }\n    this._domEvents.forEach(key => parseEvent(this, key));\n  }\n\n  /**\n   * property 수집하기\n   * 상위 클래스의 모든 property 를 수집해서 리턴한다.\n   */\n  collectProps() {\n\n    var p = this.__proto__;\n    var results = [];\n    do {\n      var isObject = p instanceof Object;\n\n      if (isObject === false) {\n        break;\n      }\n      const names = Object.getOwnPropertyNames(p).filter(name => {\n        return isFunction(this[name]) && !expectMethod[name];\n      });\n\n      results.push(...names);\n      p = p.__proto__;\n    } while (p);\n\n    return results;\n  }\n\n  filterProps(pattern) {\n    return this.collectProps().filter(key => {\n      return key.match(pattern);\n    });\n  }\n\n  /* magic check method  */\n\n  self(e) {\n    return e && e.$dt && e.$dt.is(e.target);\n  }\n  isAltKey(e) {\n    return e.altKey;\n  }\n  isCtrlKey(e) {\n    return e.ctrlKey;\n  }\n  isShiftKey(e) {\n    return e.shiftKey;\n  }\n  isMetaKey(e) {\n    return e.metaKey || e.key == 'Meta' || e.code.indexOf('Meta') > -1 ;\n  }\n\n  /** before check method */\n\n  /* after check method */\n\n  preventDefault(e) {\n    e.preventDefault();\n    return true;\n  }\n\n  stopPropagation(e) {\n    e.stopPropagation();\n    return true;\n  }\n\n  bodyMouseMove(e, methodName) {\n    if (this[methodName]) {\n      this.emit(ADD_BODY_MOUSEMOVE, this[methodName], this, e.xy);\n    }\n  }\n\n  bodyMouseUp(e, methodName) {\n    if (this[methodName]) {\n      this.emit(ADD_BODY_MOUSEUP, this[methodName], this, e.xy);\n    }\n  }\n\n  getBindings() {\n    if (!this._bindings) {\n      this.initBindings();\n    }\n\n    return this._bindings;\n  }\n\n  addBinding(obj) {\n    this.getBindings().push(obj);\n  }\n\n  initBindings() {\n    this._bindings = [];\n  }\n\n  removeEventAll() {\n    this.getBindings().forEach(obj => {\n      this.removeEvent(obj);\n    });\n    this.initBindings();\n  }\n\n  removeEvent({ eventName, dom, callback }) {\n    Event.removeEvent(dom, eventName, callback);\n  }\n}\n","import { uuid } from \"./functions/math\";\nimport EventMachine, { splitMethodByKeyword } from \"./EventMachine\";\n\nconst REG_STORE_MULTI_PATTERN = /^ME@/;\n\nconst MULTI_PREFIX = \"ME@\";\nconst SPLITTER = \"|\";\n\nexport const PIPE = (...args) => {\n  return args.join(SPLITTER);\n};\n\nexport const EVENT = (...args) => {\n  return MULTI_PREFIX + PIPE(...args);\n};\n\nexport const COMMAND = EVENT\n\nclass UIElement extends EventMachine {\n  constructor(opt, props = {}) {\n    super(opt);\n\n    this.initializeProperty(opt, props)\n\n    this.created();\n\n    this.initialize();\n\n    this.initializeStoreEvent();\n\n  }\n\n  /**\n   * UIElement instance 에 필요한 기본 속성 설정 \n   */\n  initializeProperty (opt, props = {}) {\n\n    this.opt = opt || {};\n    this.parent = this.opt;\n    this.props = props;\n    this.source = uuid();\n    this.sourceName = this.constructor.name;\n\n    if (opt && opt.$store) {\n      this.$store = opt.$store;\n    }\n  }\n\n  created() {}\n\n  getRealEventName(e, s = MULTI_PREFIX) {\n    var startIndex = e.indexOf(s);\n    return e.substr(startIndex < 0 ? 0 : startIndex + s.length);\n  }\n\n  /**\n   * initialize store event\n   *\n   * you can define '@xxx' method(event) in UIElement\n   *\n   *\n   */\n  initializeStoreEvent() {\n    this.storeEvents = {};\n\n    this.filterProps(REG_STORE_MULTI_PATTERN).forEach(key => {\n      const events = this.getRealEventName(key, MULTI_PREFIX);\n\n      // support deboounce for store event \n      var [methods, params] = splitMethodByKeyword(events.split(SPLITTER), 'debounce');\n\n      var debounceSecond = 0 \n      if (methods.length) {\n        debounceSecond = +params[0].target || 0 \n      }\n\n      events\n        .split(SPLITTER)\n        .filter(it => {\n          return methods.indexOf(it) === -1\n        })\n        .map(it => it.trim())\n        .forEach(e => {\n          var callback = this[key].bind(this);\n          callback.displayName = e;\n          callback.source = this.source;\n          this.storeEvents[e] = callback;\n          this.$store.on(e, this.storeEvents[e], this, debounceSecond);\n      });\n    });\n  }\n\n  destoryStoreEvent() {\n    this.$store.offAll(this);\n    this.storeEvents = {} \n  }\n\n  destroy () {\n    super.destroy()\n\n    this.destoryStoreEvent();\n  }\n\n  rerender() {\n    super.rerender();\n\n    this.initialize();\n\n    this.initializeStoreEvent();\n  }\n\n\n  emit($1, $2, $3, $4, $5) {\n    this.$store.source = this.source;\n    this.$store.sourceContext = this; \n    this.$store.emit($1, $2, $3, $4, $5);\n  }\n\n  trigger($1, $2, $3, $4, $5) {\n    this.$store.source = this.source;\n    this.$store.trigger($1, $2, $3, $4, $5);\n  }\n\n  on (message, callback) {\n    this.$store.on(message, callback);\n  }\n\n  off (message, callback) {\n    this.$store.off(message, callback);\n  }\n}\n\nexport default UIElement;\n","/* event trigger */\nexport const RESIZE_WINDOW = 'resize/window'\n\nexport const ADD_BODY_MOUSEMOVE = 'add/body/mousemove'\nexport const ADD_BODY_MOUSEUP = 'add/body/mouseup'","const config = new Map()\n\nexport class Config {\n\n    constructor (editor) {\n        this.editor = editor;\n\n        this.initialize()\n    }\n\n    initialize() {\n        this.set('canvas.width', 10000)\n        this.set('canvas.height', 10000)\n        this.set('body.move.ms', 15);\n        this.set('grid.preview.position', []);\n    }\n\n    get (key) {\n        return config[key]\n    }\n\n    set (key, value) {\n        config[key] = value; \n    }\n\n    remove (key) {\n        delete config[key];\n    }\n\n}","import { uuidShort, uuid } from \"../../util/functions/math\";\nimport {\n  isFunction,\n  isUndefined\n} from \"../../util/functions/func\";\n\n\nfunction _traverse(obj) {\n  var results = [] \n\n  obj.layers.length && obj.layers.forEach(it => {\n    results.push(..._traverse(it));\n  })\n\n  results.push(obj);\n\n  return results; \n}\n\nexport class Item {\n  constructor(json = {}) {\n\n    this.ref = new Proxy(this, {\n      get: (target, key) => {\n        var originMethod = target[key];\n        if (isFunction(originMethod)) {\n          // method tracking\n          return (...args) => {\n            return originMethod.apply(target, args);\n          };\n        } else {\n          // getter or json property\n          return originMethod || target.json[key];\n        }\n      },\n      set: (target, key, value) => {\n        // Dom 객체가 오면 자동으로 입력 해줌\n        // if (value && value.realVal && isFunction(value.realVal)) {\n        //   value = value.realVal();\n        // }\n\n        if (this.checkField(key, value)) {\n          target.json[key] = value;\n        } else {\n          throw new Error(`${value} is invalid as ${key} property value.`);\n        }\n\n        return true;\n      }\n    });\n\n    if (json instanceof Item) {\n      json = json.toJSON();\n    }\n\n    this.json = this.convert({ ...this.getDefaultObject(), ...json });\n\n    return this.ref; \n  }\n\n  /***********************************\n   *\n   * override\n   *\n   **********************************/\n\n  getDefaultTitle() {\n    return \"Item\";\n  }\n\n  isLeaf() {\n    return true; \n  }\n\n  /**\n   * check attribute object\n   */\n  isAttribute() {\n    return false;\n  }\n\n  /***********************************\n   *\n   * getter\n   *\n   **********************************/\n\n  get title() {\n    return this.json.name || this.getDefaultTitle();\n  }\n\n  /**\n   * get id\n   */\n  get id() {\n    return this.json.id;\n  }\n\n  get layers () {\n    return this.json.layers; \n  }\n\n  get parent () {\n    return this.json.parent;\n  }\n\n  getInnerId(postfix = '') {\n    return this.json.id + postfix;\n  }\n\n  // selection 이후에 \n  // 위치나 , width, height 등의 geometry 가 변경되었을 때 호출 하는 함수 \n  recover () {  \n    // 내부에 자신의 객체에 필요한 것들을 복구한다. \n  }\n\n  setCache() {\n\n  }\n\n  is (...itemType) {\n    if (!this.json) return false;\n    return itemType.indexOf(this.json.itemType) > -1;\n  }\n\n  isNot (...itemType) {\n    return this.is(...itemType) === false;\n  }\n\n  /***********************************\n   *\n   * action\n   *\n   **********************************/\n\n  /**\n   * select item\n   */\n  // select() {\n  //   this.$selection.select(this.id);\n  // }\n\n  /**\n   * when json is loaded, json object is be a new instance\n   *\n   * @param {*} json\n   */\n  convert(json) {\n\n    json.layers.forEach(layer => {\n      layer.parent = this.ref; \n    })\n\n    return json;\n  }\n\n  /**\n   * defence to set invalid key-value\n   *\n   * @param {*} key\n   * @param {*} value\n   */\n  checkField(key, value) {\n    return true;\n  }\n\n  toCloneObject () {\n    var json = {\n      itemType: this.json.itemType,\n      elementType: this.json.elementType,\n      type: this.json.type,\n      visible: this.json.visible,  // 보이기 여부 설정 \n      lock: this.json.lock,    // 편집을 막고 \n      selected: this.json.selected,  // 선택 여부 체크 \n      layers: this.json.layers.map(layer => layer.clone())\n    }\n\n    return json; \n  }\n\n  /**\n   * clone Item\n   */\n  clone() {\n\n    var ItemClass = this.constructor;\n\n\n    // 클론을 할 때 꼭 부모 참조를 넘겨줘야 한다. \n    // 그렇지 않으면 screenX, Y 에 대한 값을 계산할 수가 없다. \n    var item =  new ItemClass(this.toCloneObject());\n    item.parent =   this.json.parent\n\n    return item; \n  }\n\n  /**\n   * set json content\n   *\n   * @param {object} obj\n   */\n  reset(obj) {\n    if (obj instanceof Item) {\n      obj = obj.toJSON();\n    }\n\n    this.json = this.convert({ ...this.json, ...obj });\n  }\n\n  /**\n   * define defaut object for item\n   *\n   * @param {object} obj\n   */\n  getDefaultObject(obj = {}) {\n    var id = uuidShort()\n    // console.log(id, this);\n    return {\n      id,\n      visible: true,  // 보이기 여부 설정 \n      lock: false,    // 편집을 막고 \n      selected: false,  // 선택 여부 체크 \n      layers: [],   // 하위 객체를 저장한다. \n      ...obj\n    };\n  }\n\n\n\n  add (layer, direction = 'self') {\n\n    if (layer.parent) {\n      layer.remove();\n    }\n\n    if (direction === 'self') {\n      this.json.layers.push(layer);\n      layer.parent = this.ref;   \n    } else if (direction === 'before') {\n      // 현재 객체 앞으로 넣기 \n      layer.parent = this.parent.ref; \n\n      var list  = []\n      \n      this.parent.layers.forEach(it => {\n        if (it === this.ref) {\n          list.push(layer);\n        }                \n        list.push(it);        \n      }) \n\n      this.parent.layers = list;       \n\n    } else if (direction === 'after') {\n      // 현재 객체 뒤로 넣기 \n      layer.parent = this.parent.ref;       \n      var list  = []\n      \n      this.parent.layers.forEach(it => {\n        list.push(it);        \n        if (it === this.ref) {\n          list.push(layer);\n        }        \n      }) \n\n      this.parent.layers = list; \n      \n    }\n\n\n    return layer;\n  }\n\n  /**\n   * toggle item's attribute\n   *\n   * @param {*} field\n   * @param {*} toggleValue\n   */\n  toggle(field, toggleValue) {\n    if (isUndefined(toggleValue)) {\n      this.json[field] = !this.json[field];\n    } else {\n      this.json[field] = !!toggleValue;\n    }\n  }\n\n  expectJSON (key) {\n    if (key === 'parent') return false; \n    if (this.json[key] === '') return false; \n\n    return true; \n  }\n\n  /**\n   * convert to json\n   * \n   */\n  toJSON() {\n    var a = this.json; \n\n    var newJSON = {}\n    Object.keys(a).filter(key => this.expectJSON(key)).forEach(key => {\n      newJSON[key] = a[key]; \n    })\n\n    return newJSON;\n  }\n\n  resize () {}\n\n  copy () {\n    return this.json.parent.copyItem(this.ref);\n  }\n\n  copyItem (childItem, dist = 10 ) {\n     // clone 을 어떻게 해야하나? \n\n    var child = childItem.clone()  \n\n    child.x.add(dist);\n    child.y.add(dist);\n\n    var layers = this.json.layers;\n\n    var childIndex = -1; \n    for(var i = 0, len = layers.length; i < len; i++) {\n      if (layers[i] === childItem) {\n        childIndex = i; \n        break;\n      }\n    }\n\n    if (childIndex > -1) {\n      this.json.layers.splice(childIndex+1, 0, child);\n    }\n    return child;\n  }\n\n  remove () {\n    this.json.parent.removeItem(this.ref);\n  }\n\n  removeItem (childItem) {\n    var layers = this.json.layers;\n\n    var childIndex = -1; \n    for(var i = 0, len = layers.length; i < len; i++) {\n      if (layers[i] === childItem) {\n        childIndex = i; \n        break;\n      }\n    }\n\n    if (childIndex > -1) {\n      this.json.layers.splice(childIndex, 1);\n    }\n  }\n\n  hasParent (parentId) {\n    var isParent = this.json.parent.id === parentId\n\n    if (!isParent && this.json.parent.is('project') === false) return this.json.parent.hasParent(parentId);\n\n    return isParent; \n  }\n\n  get allLayers () {\n    return [..._traverse(this.ref)]\n  }\n\n  getIndex () {\n    var parent = this.json.parent;    \n    var startIndex = -1; \n    for(var i = 0, len = parent.layers.length; i < len; i++) {\n      if (layers[i] === this.ref) {\n        startIndex = i; \n        break;\n      }\n    }\n\n    return startIndex;\n  }\n\n  setOrder (targetIndex) {\n    var parent = this.json.parent; \n\n    var startIndex = this.getIndex()\n\n    parent.layers.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    )\n  }\n\n  orderNext() {\n    var startIndex = this.getIndex();\n    if (startIndex > -1) {\n      this.setOrder(startIndex + 1);\n    }\n  }\n\n  orderPrev () {\n    var startIndex = this.getIndex();\n    if (startIndex > 0) {\n      this.setOrder(startIndex - 1);\n    }\n  }\n\n  orderFirst () {\n    this.setOrder(0)\n  }\n\n  orderLast () {\n    this.setOrder(this.json.parent.layers.length-1)\n  }\n\n  searchById (id) {\n\n    if (this.id === id) {\n      return this.ref; \n    }\n\n    for(var i = 0, len = this.layers.length; i < len; i++) {\n      const item = this.layers[i]\n\n      if (item.id === id) {\n        return item; \n      } else {\n        var searchedItem = item.searchById(id);\n\n        if (searchedItem) {\n          return searchedItem;\n        }\n      }\n    }\n\n    return null;\n  }\n\n\n  updateFunction (element) {}\n}\n","import { Item } from \"./Item\";\nimport { CSS_TO_STRING } from \"../../util/functions/func\";\n\n\nexport class Property extends Item {\n\n  getDefaultObject(obj = {}) {\n    return {\n      selected: false,  // 선택 여부 체크 \n      layers: [],   // 하위 객체를 저장한다. \n      ...obj\n    };\n  }\n\n  isAttribute() {\n    return true;\n  }\n\n  toCSS() { \n    return {};\n  }\n\n  toString() {\n    return CSS_TO_STRING(this.toCSS());\n  }\n}\n","import { Length } from \"../unit/Length\";\nimport { Property } from \"../items/Property\";\n\nconst TRANSFORM_REG = /((matrix|translate(X|Y|Z|3d)?|scale(X|Y|Z|3d)?|rotate(X|Y|Z|3d)?|skew(X|Y)|matrix(3d)?|perspective)\\(([^\\)]*)\\))/gi;\n\nexport class Transform extends Property {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({ \n      itemType: \"transform\", \n      type: '',\n      value: [],\n      ...obj \n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      value: JSON.parse( JSON.stringify(this.json.value) )\n    }\n  }\n\n  toString() {\n    return `${this.json.type}(${this.json.value.join(', ') || \"\"})`;\n  }\n\n\n\n  convert(json) {\n\n    json = super.convert(json);\n\n    if (json.type.includes('matrix') || json.type.includes('scale')) {\n      json.value = json.value.map(it => Length.number(it))\n    } else {\n      json.value = json.value.map(it => Length.parse(it))\n    }\n\n    return json \n  }\n\n\n  static join (list) {\n\n    var firstType = 'perspective'\n    var lastType = 'matrix3d'\n\n    var arr = list.filter(it => it.type === firstType)\n    var last = list.filter(it => it.type === lastType)\n    var arr2 = list.filter(it => it.type !== firstType && it.type !== lastType)\n\n    return [...arr, ...arr2, ...last].map(it => new Transform(it).toString()).join(' ')\n  }\n\n  hasNumberValue () {\n    var type = this.json.type; \n    return type.includes('matrix') || type.includes('scale')\n  }\n\n  static parse (transform) {\n    return new Transform(transform);\n  }\n\n  static replace (transform, valueObject) {\n\n    var obj = Transform.parseStyle(transform)\n\n    var tObject = obj.find(t => t.type === valueObject.type);\n\n    if (tObject) {\n      tObject.value = valueObject.value\n    } else {\n      obj.push(valueObject)\n    }\n\n    return Transform.join(obj);\n  }\n\n  static replaceAll (oldTransform, newTransform) {\n    var oldT = Transform.parseStyle(oldTransform)\n    var newT = Transform.parseStyle(newTransform)\n\n    for(var i = 0, len = newT.length; i < len ;i++) {\n      var newObject = newT[i];\n      var oldObject = oldT.find(t => t.type === newObject.type);\n\n      if (oldObject) {\n        oldObject.value = newObject.value\n      } else {\n        oldT.push(newObject)\n      }\n    }\n\n    return Transform.join(oldT);\n  }\n\n  static addTransform (oldTransform, newTransform) {\n    var oldT = Transform.parseStyle(oldTransform)\n    var newT = Transform.parseStyle(newTransform)\n\n    for(var i = 0, len = newT.length; i < len ;i++) {\n      var newObject = newT[i];\n      var oldObject = oldT.find(t => t.type === newObject.type);\n\n      if (oldObject) {\n        newObject.value.forEach((v, i) => {\n          oldObject.value[i].value += v.value;\n        })\n      } else {\n        oldT.push(newObject)\n      }\n    }\n\n    return Transform.join(oldT);\n  }\n\n  static get (transform, type) {\n    var arr = Transform.parseStyle(transform)\n\n    var arr = arr.find(it => it.type === type);\n\n    if (arr) {\n      return arr.value; \n    }\n\n    return [] \n  } \n\n  static rotate (transform, angle) {\n    return Transform.replace(transform, { type: 'rotate', value: [angle] })\n  }\n\n  static parseStyle (transform) {\n\n    var transforms = [];\n\n    if (!transform) return transforms;\n\n    var matches = (transform.match(TRANSFORM_REG) || []);\n    matches.forEach((value, index) => {\n      var [transformName, transformValue] = value.split(\"(\");\n      transformValue = transformValue.split(\")\")[0];\n\n      var arr = transformValue.split(',');\n\n      if (transformValue.includes('matrix') || transformValue.includes('scale')) {\n        arr = arr.map(it => Length.number(it.trim()))\n      } else {\n        arr = arr.map(it => Length.parse(it.trim()))\n      }\n\n      // drop shadow 제외한 나머지 값 지정\n      transforms[index] = Transform.parse({\n        type: transformName,\n        value: arr\n      });\n\n    });\n    return transforms;\n  }\n\n  static getTransform (from, to) {\n    [x0, y0]= from[0]\n    [x1, y1]= from[1]\n    [x2, y2]= from[2]\n    [x3, y3]= from[3]\n    [u0, v0]= to[0]\n    [u1, v1]= to[1]\n    [u2, v2]= to[2]\n    [u3, v3]= to[3]    \n\n    const A = [\n      [x0, y0, 1, 0, 0, 0, -u0 * x0, -u0 * y0],\n      [0, 0, 0, x0, y0, 1, -v0 * x0, -v0 * y0],\n      [x1, y1, 1, 0, 0, 0, -u1 * x1, -u1 * y1],\n      [0, 0, 0, x1, y1, 1, -v1 * x1, -v1 * y1],\n      [x2, y2, 1, 0, 0, 0, -u2 * x2, -u2 * y2],\n      [0, 0, 0, x2, y2, 1, -v2 * x2, -v2 * y2],\n      [x3, y3, 1, 0, 0, 0, -u3 * x3, -u3 * y3],\n      [0, 0, 0, x3, y3, 1, -v3 * x3, -v3 * y3]\n    ];\n\n    const B = [\n      u0, v0, \n      u1, v1, \n      u2, v2, \n      u3, v3\n    ]\n\n    var h = [] \n\n    for(var i = 0; i < 8; i++) {\n      var t = A[0]\n\n      h.push(\n        t[0]*B[0] + \n        t[1]*B[1] + \n        t[2]*B[2] + \n        t[3]*B[3] + \n        t[4]*B[4] + \n        t[5]*B[5] + \n        t[6]*B[6] + \n        t[7]*B[7]\n      )\n\n    }\n    \n    var H =[\n      [h[0], h[1], 0, h[2]],\n      [h[3], h[4], 0, h[5]],\n      [   0,    0, 1,    0],\n      [h[6], h[7], 0,    1]\n    ]\n\n    return H; \n\n  }\n\n  static makeTransform3d(originalPos, targetPos) {\n    var from = []\n    var to = [] \n\n    originalPos.forEach(([a, b]) => {\n      from.push(a - originalPos[0][0], b - originalPos[0][1])\n    })\n\n    targetPos.forEach(([a, b]) => {\n      to.push(a - originalPos[0][0], b - originalPos[0][1])\n    })    \n\n    var H = Transform.getTransform(from, to);\n\n    var results = [] \n    H.forEach(a => {\n      a.forEach(b => {\n        results.push(b);\n      })\n    })\n\n    var str = results.join(', ');\n\n    return `matrix3d(${str})`\n  }\n\n}","import { Item } from \"./Item\";\nimport { Length } from \"../unit/Length\";\nimport { round } from \"../../util/functions/math\";\nimport { Transform } from \"../css-property/Transform\";\nimport matrix from \"../../util/functions/matrix\";\nimport Dom from \"../../util/Dom\";\n\nexport class MovableItem extends Item {\n\n\n    get isAbsolute  (){\n        return this.json.position === 'absolute'; \n    }\n\n    get isRelative  (){\n        return this.json.position === 'relative'; \n    }\n\n    get isChild() {\n        if (this.json.parent) {\n            var isParentDrawItem = this.json.parent.is('project') === false; \n\n            if (isParentDrawItem && this.isAbsolute) {\n                return true; \n            }\n        }\n\n        return false; \n    }\n\n    toCloneObject() {\n        return {\n            ...super.toCloneObject(),\n            x: this.json.x + '',\n            y: this.json.y + '',\n            width: this.json.width + '',\n            height: this.json.height + ''\n        }\n    }\n\n    convert (json) {\n        json = super.convert(json);\n\n        json.x = Length.parse(json.x);\n        json.y = Length.parse(json.y);\n        json.width = Length.parse(json.width);\n        json.height = Length.parse(json.height);\n\n        return json; \n    }\n\n    //////////////////////\n    //\n    // getters \n    //\n    ///////////////////////\n\n    setScreenX(value) {\n        var absoluteX = 0;\n        if (this.isChild) {\n            absoluteX = this.json.parent.screenX.value; \n        }\n\n        this.json.x.set(value - absoluteX);\n    }\n\n    setScreenX2(value) {\n        var absoluteX = 0;\n        if (this.isChild) {\n            absoluteX = this.json.parent.screenX.value; \n        }\n\n        this.json.x.set(value - this.json.width.value - absoluteX + 1);\n    }    \n\n    setScreenY2(value) {\n        var absoluteY = 0;\n        if (this.isChild) {\n            absoluteY = this.json.parent.screenY.value; \n        }\n\n        this.json.y.set(value - this.json.height.value - absoluteY + 1);\n    }        \n\n\n    setScreenXCenter(value) {\n        var absoluteX = 0;\n        if (this.isChild) {\n            absoluteX = this.json.parent.screenX.value; \n        }\n\n        this.json.x.set(value - (this.json.width.value/2) - absoluteX + 1);\n    }        \n\n\n\n    setScreenYMiddle(value) {\n        var absoluteY = 0;\n        if (this.isChild) {\n            absoluteY = this.json.parent.screenY.value; \n        }\n\n        this.json.y.set(value - (this.json.height.value/2) - absoluteY + 1);\n    }            \n\n\n    setScreenY(value) {\n        var absoluteY = 0;\n        if (this.isChild) {\n            absoluteY = this.json.parent.screenY.value; \n        }\n        this.json.y.set(value - absoluteY);\n    }    \n\n    get screenX () { \n\n        if (this.isChild) {\n            return Length.px(this.json.parent.screenX.value + this.json.x.value); \n        }\n\n        return this.json.x || Length.px(0) \n    }\n    get screenY () { \n\n        if (this.isChild) {\n            return Length.px(this.json.parent.screenY.value + this.json.y.value); \n        }        \n        return this.json.y || Length.px(0) \n    }\n    get screenX2 () { \n        return Length.px(this.screenX.value + this.json.width.value) \n    }\n    get screenY2 () { \n        return Length.px(this.screenY.value + this.json.height.value) \n    }    \n\n\n    get screenWidth () { return this.json.width;  }\n\n    get screenHeight () { return this.json.height;  }    \n\n    /**\n     * 화면상의 순수 위치 (left, top, width, height)\n     * \n     * 상위 Layer 가 flex, grid 를 가지면 하위는 dom 기준으로 자동으로 연산 ..  \n     * \n     */\n    get screenRect () {\n        return {\n            left: this.screenX,\n            top: this.screenY,\n            width: this.screenWidth,\n            height: this.screenHeight\n        }\n    }\n\n    get centerX () { \n        var half = 0; \n        if (this.json.width.value != 0) {\n            half = Math.floor(this.json.width.value / 2)\n        }\n        return Length.px(this.screenX.value + half) \n    }\n    get centerY () { \n        var half = 0; \n        if (this.json.height.value != 0) {\n            half = Math.floor(this.json.height.value / 2)\n        }\n        \n        return Length.px(this.screenY.value + half) \n    }    \n\n\n    checkInArea (area) {\n        if (area.x2.value < this.screenX.value) { return false; }\n        if (area.y2.value < this.screenY.value) { return false; }\n        if (area.x.value > this.screenX2.value) { return false; }\n        if (area.y.value > this.screenY2.value) { return false; }\n\n        return true;\n    }\n\n    toBoundCSS() {\n        var {\n            x: left, \n            y: top, \n            width, \n            height, \n            transform,\n            'transform-origin': transformOrigin\n        } = this.json; \n        return {\n            top,left,width, height, transform, 'transform-origin': transformOrigin\n        }\n    }\n\n    get transformOrigin () {\n        var [left, top] = (this.json['transform-origin'] || '50% 50%').split(' ').map(it => {\n            return Length.parse(it || '50%');\n        })\n\n        left = left.toPx(this.screenWidth.value);\n        top = top.toPx(this.screenHeight.value);\n\n        return {left, top}\n    }\n\n    move (x, y) {\n        this.reset({ x, y })\n        return this;         \n    }\n\n    moveX (x) {\n        this.reset ( { x })\n        return this;         \n    }\n\n    moveY (y) {\n        this.reset ( { y })\n\n        return this; \n    }\n\n    resize (width, height) {\n        if (width.value >= 0 && height.value >= 0) {\n            this.reset ({ width, height })\n        }\n\n        return this; \n    }\n\n    resizeWidth (width) {\n        if (width.value >= 0) {\n            this.reset ({ width })\n        }\n\n        return this; \n    }\n\n    resizeHeight ( height ) {\n        if (height.value >= 0) {\n            this.reset ({ height })\n        }\n\n        return this;\n    }\n\n    get screenTransform () {\n        return Transform.addTransform(this.json.parent.screenTransform, this.json.transform);\n    }\n\n    getTransform (element) {\n        var list = Transform.parseStyle(Dom.create(element).css('transform'));\n\n        var m = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n        if (list.length) {\n            m = list[0].value.map(it => +it);\n\n        } else {\n            return {\n                rotate : {x: 0, y: 0, z: 0},\n                translate: {x: 0, y: 0, z: 0}\n            }\n        }\n\n        var m11 = m[0],  m21 = m[1],  m31 = m[2], m41 = m[3];\n        var m12 = m[4],  m22 = m[5],  m32 = m[6], m42 = m[7];\n        var m13 = m[8],  m23 = m[9],  m33 = m[10], m43 = m[11];\n        var m14 = m[12], m24 = m[13], m34 = m[14], m44 = m[15];\n        \n\n        var rotateY = Math.asin(-m13);\n        var rotateX;\n        var rotateZ;\n     \n        if (Math.cos(rotateY) !== 0) {\n            rotateX = Math.atan2(m23, m33);\n            rotateZ = Math.atan2(m12, m11);\n        } else {\n            rotateX = Math.atan2(m31, m22);\n            rotateZ = 0;\n        }\n\n        var translateX = m14;\n        var translateY = m24;\n        var translateZ = m34;\n\n\n        return {\n            rotate: { x: rotateX, y: rotateY, z: rotateZ },\n            translate: { x: translateX, y: translateY, z: translateZ }\n        };\n    }    \n\n    verties ($el, rootElement) {\n\n        var {height: offsetHeight, width: offsetWidth} = $el.offsetRect()\n\n        var w = offsetWidth / 2;\n        var h = offsetHeight / 2;\n\n        var v = {\n            a: {x: -w, y: -h, z: 0},\n            b: {x: w, y: -h, z: 0},\n            c: {x: w, y: h, z: 0},\n            d: {x: -w, y: h, z: 0}\n        };\n\n        var transform = this.getTransform($el.el);\n        while ($el.el) {\n            transform = this.getTransform($el.el);\n\n            v.a = matrix.addVector(matrix.rotateVector(v.a, transform.rotate), transform.translate);\n            v.b = matrix.addVector(matrix.rotateVector(v.b, transform.rotate), transform.translate);\n            v.c = matrix.addVector(matrix.rotateVector(v.c, transform.rotate), transform.translate);\n            v.d = matrix.addVector(matrix.rotateVector(v.d, transform.rotate), transform.translate);\n\n            $el = $el.parent();\n            if ($el.el === rootElement) {\n                break; \n            }\n        }        \n\n        return v; \n    }\n\n\n  checkInAreaForLayers(area) {\n    var items = [] \n    this.layers.forEach(layer => {\n\n      items.push(...layer.checkInAreaForLayers(area));\n\n      if (layer.checkInArea(area)) {\n        items.push(layer);\n      }\n    })\n\n    return items; \n  }\n}","import { MovableItem } from \"./MovableItem\";\n\nexport default class AreaItem extends MovableItem {\n    getDefaultObject(obj = {}) {\n        return {\n            selected: false,  // 선택 여부 체크 \n            layers: [],   // 하위 객체를 저장한다. \n            ...obj\n        };\n    }\n}","import { isFunction } from \"../util/functions/func\";\nimport { Length } from \"./unit/Length\";\nimport AreaItem from \"./items/AreaItem\";\n\n\n\nconst roundedLength = (px, fixedRound = 1) => {\n  return Length.px(px).round(fixedRound);\n}\n\nfunction _traverse(obj, id) {\n  var results = [] \n\n  obj.layers.length && obj.layers.forEach(it => {\n    results.push(..._traverse(it, id));\n  })\n\n  if (obj.id === id) {\n    results.push(obj);\n  }\n\n  return results; \n}\n\nexport class Selection {\n  constructor() {\n\n    this.project = null;\n    this.artboard = null;\n    this.items = [];\n    this.itemKeys = {} \n    this.colorsteps = []\n  }\n\n  initialize() {\n    this.colorsteps = []    \n    this.items = [];\n    this.itemKeys = {} \n  }\n\n  /**\n   * get first item instance\n   */\n  get current() {\n    return this.items[0]\n  }\n\n  get currentProject () {\n    return this.project;\n  }\n\n  get currentArtboard () {\n    return this.artboard;\n  }\n\n  get isEmpty () {\n    return !this.length \n  }\n\n  get length () {\n    return this.items.length;\n  }\n\n  selectColorStep (...args) {\n    this.colorsteps = args; \n  }\n\n  isSelectedColorStep (id) {\n    return this.colorsteps.includes(id);\n  }\n\n  selectProject (project) {\n    this.project = project;\n    this.artboard = null;\n    if (this.project.artboards.length) {\n      this.selectArtboard(this.project.artboards[0]);\n    }\n  }\n\n  selectArtboard (artboard) {\n    this.artboard = artboard;\n\n    this.items = [];\n    if (this.artboard.layers.length) {\n      this.select(this.artboard.layers[0]);\n    }\n\n  }\n\n  get isRelative () {\n    var item = this.items[0] || { }\n\n    return item.position === 'relative'\n  }\n\n  select(...args) {\n    this.items = (args || []).filter(it => !it.lock && it.isAbsolute); \n\n    this.itemKeys = {}\n    this.items.forEach(it => {\n      this.itemKeys[it.id] = it; \n    })\n\n    this.setRectCache();\n  }\n\n  reselect () {\n    this.setRectCache();\n  }\n\n  check (item) {\n    return this.itemKeys[item.id]\n  }\n\n  get (id) {\n    return this.itemKeys[id];\n  }\n\n  isArtBoard () {\n    return this.items.length ?  this.current.is('artboard') : false;\n  }\n\n  empty () {\n    this.select()\n  }\n\n  selectById(id) {\n    this.select(... _traverse(this.artboard, id))\n  }\n\n  setRectCache (isCache = true) {\n    \n    this.cachedItems = this.items.map(it => {\n      // Layer 마다 캐쉬 할게 있으면 캐쉬 하고 \n      if (isCache) it.setCache();\n      // 최종 결과물을 clone 한다. \n      // 이렇게 하는 이유는 복합 객체의 넓이 , 높이르 바꿀 때 실제 path 의 각각의 point 도 바뀌어야 하기 때문이다. \n      return it.clone()\n    })\n\n    this.setAllRectCache();\n  }\n\n  setAllRectCache () {\n\n    var minX = Number.MAX_SAFE_INTEGER;\n    var minY = Number.MAX_SAFE_INTEGER;\n\n    var maxX = Number.MIN_SAFE_INTEGER;    \n    var maxY = Number.MIN_SAFE_INTEGER;\n\n    this.cachedItems.forEach(it => {\n      minX = Math.min(it.screenX.value, minX);\n      minY = Math.min(it.screenY.value, minY);\n\n      maxX = Math.max(it.screenX2.value, maxX);\n      maxY = Math.max(it.screenY2.value, maxY);      \n    })\n\n    if (minX === Number.MAX_SAFE_INTEGER) minX = 0;\n    if (minY === Number.MAX_SAFE_INTEGER) minY = 0;\n    if (maxX === Number.MIN_SAFE_INTEGER) maxX = 0;\n    if (maxY === Number.MIN_SAFE_INTEGER) maxY = 0;\n\n    this.allRect = new AreaItem({\n      x: Length.px(minX),\n      y: Length.px(minY),\n      width: Length.px(maxX - minX),\n      height: Length.px(maxY - minY)\n    })\n\n  }\n\n  each (callback) {\n\n    if ( isFunction(callback)) {\n      this.items.forEach( (item, index) => {\n        callback (item, this.cachedItems[index]);\n      })\n    }\n\n  }\n\n  reset (obj) {\n    this.each(item => item.reset(obj))\n  }\n\n  resetCallback (callback) {\n    this.each(item => item.reset(callback(item)))\n  }\n\n  resize () {\n    this.each(item => item.resize());\n  }\n\n  remove () {\n    this.each(item => item.remove())\n    this.empty();\n  }\n\n  copy () {\n    this.copyItems = this.items.map(item => item)\n  }  \n\n  paste() {\n    this.select(...this.copyItems.map(item => item.copy()));\n    this.copy()\n  }\n  \n  move (dx, dy) {\n    this.each ((item, cachedItem, ) => {\n      item.move( \n        roundedLength(cachedItem.x.value + dx),\n        roundedLength(cachedItem.y.value + dy)\n      )\n    })\n  }\n\n  moveRight (dx) {\n    this.each ((item, cachedItem, ) => {\n      item.resizeWidth(roundedLength(cachedItem.width.value + dx))\n    })\n  }\n\n  moveLeft (dx) {\n    this.each ((item, cachedItem, ) => {\n      if (cachedItem.width.value - dx >= 0) {\n          item.moveX( roundedLength(cachedItem.x.value + dx) )\n          item.resizeWidth( roundedLength(cachedItem.width.value - dx) )\n      }\n    })    \n  }\n\n  moveBottom (dy) {\n    this.each ((item, cachedItem, ) => {\n      item.resizeHeight( roundedLength(cachedItem.height.value + dy) )\n    })    \n  }\n\n  moveTop (dy) {\n    this.each ((item, cachedItem, ) => {\n      if ( cachedItem.height.value - dy >= 0 ) {\n          item.moveY( roundedLength(cachedItem.y.value + dy) )                                \n          item.resizeHeight( roundedLength(cachedItem.height.value - dy) )    \n      }\n    })\n  }\n}\n","export class TimelineSelection {\n  constructor(editor) {\n    this.editor = editor;\n    this.items = [];\n    this.itemKeys = {} \n  }\n\n  initialize() {\n    this.items = [];\n    this.itemKeys = {} \n  }\n\n  currentArtBoard (callback) {\n    var artboard = this.this.$selection.currentArtboard;\n\n    if (artboard) {\n      callback && callback (artboard);\n    }\n  }\n\n  empty () {\n    this.select();\n  }\n\n  each (callback) {\n    this.items.forEach((item, index) => {\n      callback && callback(item, index)\n    })\n  }\n\n  refreshCache (list) {\n    this.items = list;\n    this.itemKeys = {} \n\n    this.items.forEach(it => {\n      this.itemKeys[it.id] = it; \n    })\n  }\n\n  cachedList () {\n    return this.items.map(it => {\n      return {...it}\n    })\n  }\n\n  checked (id) {\n    return !!this.itemKeys[id]\n  }\n\n  selectLayer (layerId) {\n\n    this.currentArtBoard(artboard => {\n      var list = artboard.getKeyframeListReturnArray().filter(it => {\n        return it.layerId === layerId\n      });\n      this.refreshCache(list);\n    })\n  }\n\n  selectProperty (layerId, property) {\n    this.currentArtBoard(artboard => {\n      var list = artboard.getKeyframeListReturnArray().filter(it => {\n        return it.layerId === layerId && it.property === property;\n      })\n\n      this.refreshCache(list);\n    })\n  }  \n\n  select (...args) {\n    this.refreshCache(args);\n  }\n\n  selectBySearch (list, startTime, endTime) {\n    this.currentArtBoard(artboard => {\n\n      var totalList = []\n\n      list.forEach(it => {\n        var results = []  \n        if (it.property) {\n\n          var p = artboard.getTimelineProperty(it.layerId, it.property)\n\n          results = p.keyframes.filter(keyframe => {\n            return startTime <= keyframe.time && keyframe.time <= endTime; \n          })\n        } else {\n\n          var p = artboard.getTimelineObject(it.layerId)\n\n          p.properties.filter(property => {\n            return property.property === it.property\n          }).forEach(property => {\n            results.push(...property.keyframes.filter(keyframe => {\n              return startTime <= keyframe.time && keyframe.time <= endTime; \n            }))\n          }) \n        }\n\n        totalList.push(...results);\n\n      })\n\n      var uniqueOffset = {}\n      totalList.forEach(it => {\n        uniqueOffset[it.id] = it; \n      })\n\n      this.select(...Object.values(uniqueOffset))\n    })\n  }\n\n\n  checkLayer (layerId) {\n    return Object.keys(this.itemKeys).some(key => {\n      return this.itemKeys[key].layerId === layerId\n    })\n  }\n\n  checkProperty (layerId, property) {\n    return Object.keys(this.itemKeys).some(key => {\n      return this.itemKeys[key].layerId === layerId && this.itemKeys[key].property === property\n    })\n  }  \n}\n","import en_US from \"./en_US\";\nimport ko_KR from \"./ko_KR\";\n\nexport default {\n    en_US,\n    ko_KR\n}","export default {\n\n    'app.title': 'EASYLOGIC',\n    'app.sample': (a, b, c) => {\n        return `${a}-${b}-${c}`\n    },\n    'app.lang.en_US': 'English',\n    'app.lang.ko_KR': 'Korean',\n    'app.label.lang': 'Language',\n\n\n    'app.tab.title.projects': 'Projects',\n    'app.tab.title.layers': 'Layers',\n    'app.tab.title.libraries': 'Library',\n    'app.tab.title.components': 'Components',\n\n\n\n\n\n    'menu.item.download.title': 'Download',\n    'menu.item.save.title': 'Save',\n    'menu.item.export.title': 'Export',\n    'menu.item.codepen.title': 'CodePen',\n    'menu.item.fullscreen.title': 'Screen',\n    'menu.item.github.title': 'Github',\n    'menu.item.learn.title': 'Learn',       \n\n\n    'project.property.title' : 'Project',\n    'project.information.property.title': 'Project information',   \n    'project.information.property.name': 'Name',    \n    'project.information.property.description': 'Description',    \n\n    'artboard.property.title': 'ArtBoards',   \n    'layer.tree.property.title': 'Layers',\n\n    'alignment.property.title': 'Alignment',\n    'position.property.title': 'Position',\n    'size.property.title': 'Size',\n    'size.property.width': 'Width',\n    'size.property.height': 'Height',\n\n    'background.color.property.title': 'Appearance',\n    'background.color.property.color': 'Color',\n    'background.color.property.zindex': 'z-index',\n    'background.color.property.opacity': 'Opacity',\n    'background.color.property.blend': 'Blend',\n\n    'blend.normal': 'normal',\n    'blend.multiply': 'multiply',\n    'blend.screen': 'screen',\n    'blend.overlay': 'overlay',\n    'blend.darken': 'darken',\n    'blend.lighten': 'lighten',\n    'blend.color-dodge': 'color-dodge',\n    'blend.color-burn': 'color-burn',\n    'blend.hard-light': 'hard-light',\n    'blend.soft-light': 'soft-light',\n    'blend.difference': 'difference',\n    'blend.exclusion': 'exclusion',\n    'blend.hue': 'hue',\n    'blend.saturation': 'saturation',\n    'blend.color': 'color',\n    'blend.luminosity': 'luminosity',\n\n    'background.image.property.title': 'Fill',\n\n    'border.property.title': 'Border',    \n    'border.radius.property.title': 'Border Radius',    \n    'boxshadow.property.title': 'Box Shadows',    \n    'filter.property.title': 'Filter',\n\n    'font.property.title': 'Font',\n    'font.property.color': 'Color',\n    'font.property.size': 'Size',\n    'font.property.stretch': 'Stretch',\n    'font.property.weight': 'Weight',\n    'font.property.style': 'Style',\n    'font.property.family': 'Family',\n\n    'font.spacing.property.title': 'Font spacing',\n    'font.spacing.property.lineHeight': 'Line height',\n    'font.spacing.property.letterSpacing': 'Letter spacing',\n    'font.spacing.property.wordSpacing': 'Word spacing',\n    'font.spacing.property.indent': 'Indent',\n\n    'backdrop.filter.property.title': 'Backdrop Filter',        \n    'clippath.property.title': 'Clip Path',\n\n    'export.property.title': 'Export',    \n    'export.property.download': 'Download',    \n\n    'image.property.title': 'Image',\n    'image.property.origin': 'Origin',    \n    'image.property.size': 'Size',    \n    'image.property.width': 'Width',    \n    'image.property.height': 'height',    \n\n    'motion.property.title': 'Motion',\n\n    'text.property.title': 'Text Style',\n    'text.property.align': 'Align',\n    'text.property.transform': 'Transform',\n    'text.property.decoration': 'Decoration',\n\n    'text.clip.property.title': 'Text Clip',    \n\n    'text.shadow.property.title': 'Text Shadows',\n    \n    'text.fill.property.title':  'Text Fill',\n    'text.fill.property.fill':  'Fill',\n    'text.fill.property.stroke':  'Stroke',\n    'text.fill.property.strokeWidth':  'Width',\n\n    \n\n    'transform.property.title': 'Transform',\n    'transform.origin.property.title': 'Transform Origin',    \n\n    'transition.property.title': 'CSS Transition',\n\n    'keyframe.property.title': 'CSS Keyframe',      \n    'selector.property.title': 'Selector',\n    'selector.property.none': 'None selector',    \n\n    'path.data.property.title': 'Path Information',\n    'polygon.data.property.title': 'Polygon Information',    \n\n    'perspective.property.title': 'Perspective',            \n    'perspective.origin.property.title': 'Perspective Origin',       \n\n\n    'svg.item.property.title': 'SVG Item',\n    'svg.item.property.isMotionPath': 'Is motion path?',    \n    'svg.item.property.fill': 'Fill',\n    'svg.item.property.fillOpacity': 'Opacity',\n    'svg.item.property.path': 'Path',\n    'svg.item.property.polygon': 'Polygon',\n    'svg.item.property.totalLength': 'Total Length',\n    'svg.item.property.fillRule': 'Fill Rule',\n    'svg.item.property.stroke': 'Stroke',\n    'svg.item.property.strokeWidth': 'Width',\n    'svg.item.property.dashArray': 'Dash Array',\n    'svg.item.property.dashOffset': 'Dash Offset',\n    'svg.item.property.lineCap': 'Line Cap',\n    'svg.item.property.lineJoin': 'Line Join',\n    'svg.item.property.filter': 'Filter',\n\n\n    'border.editor.all': 'All',     \n    'border.editor.width': 'Width',        \n    'border.editor.style': 'Style',        \n    'border.editor.color': 'C',                  \n    'border.editor.top': 'Top',        \n    'border.editor.left': 'Left',        \n    'border.editor.right': 'Right',        \n    'border.editor.bottom': 'Bottom',     \n\n    'border.radius.editor.topLeft': 'Top Left',\n    'border.radius.editor.topRight': 'Top Right',\n    'border.radius.editor.bottomLeft': 'Bottom Left',\n    'border.radius.editor.bottomRight': 'Bottom Right',\n\n    'boxshadow.editor.blur': 'Blur',\n    'boxshadow.editor.spread': 'Spread',\n\n    'css.property.editor.properties': 'Properties',\n\n    'offset.path.list.editor.path': 'Path',\n    'offset.path.list.editor.totalLength': 'Total Length',\n    'offset.path.list.editor.distance': 'Distance',\n    'offset.path.list.editor.direction': 'Direction',\n    'offset.path.list.editor.rotate': 'Rotate',\n    \n    'svgfilter.select.editor.message.create': 'Create new svg filter',\n    'svgfilter.select.editor.message.select': 'Select a filter',\n\n    'fill.editor.message.click.image': 'Click the preview area if you want to select a image',\n    'fill.editor.message.drag.position': 'Drag if you want to move center position',\n\n    'perspective.origin.editor.originX': 'Origin X',\n    'perspective.origin.editor.originY': 'Origin Y',\n\n    'path.manager.msg':  'Keydown ESC or Enter key to close editing',\n    'path.manager.mode.modify': 'Modify',\n    'path.manager.mode.draw': 'Draw',\n    'path.manager.mode.transform': 'Transform',    \n    'path.manager.mode.flipX': 'Flip X',    \n    'path.manager.mode.flipY': 'Flip Y',    \n    'path.manager.mode.flipOrigin': 'Flip Origin',    \n\n    'colorpicker.popup.title': 'ColorPicker',    \n\n    'selector.popup.title': 'Selector Property',\n    'selector.popup.selector': 'Selector',    \n\n    'background.image.position.popup.title': 'Background Pattern',\n    'background.image.position.popup.size': 'Size',\n    'background.image.position.popup.width': 'Width',\n    'background.image.position.popup.height': 'Height',\n    'background.image.position.popup.repeat': 'Repeat',\n    'background.image.position.popup.blend': 'Blend',    \n    'background.image.position.popup.type.repeat': 'repeat',\n    'background.image.position.popup.type.no-repeat': 'no repeat',\n    'background.image.position.popup.type.repeat-x': 'repeat-x', \n    'background.image.position.popup.type.repeat-y': 'repeat-y', \n    'background.image.position.popup.type.space': 'space', \n    'background.image.position.popup.type.round': 'round',     \n\n    'gradient.picker.popup.title': 'Gradient & Image Picker',    \n    'image.asset.property.title': 'Image',\n    'svgfilter.asset.property.title': 'SVG Filter',\n\n\n    'inspector.tab.title.style': 'Style',\n    'inspector.tab.title.component': 'Component',\n    'inspector.tab.title.transition': 'Transition & Animation',\n    'inspector.tab.title.asset': 'Assets',\n    'inspector.tab.title.code': 'Code',\n\n\n    'timeline.property.title': 'Timeline',\n    'timeline.animation.property.title': 'Animations',    \n\n    'timeline.play.control.play': 'Play',\n    'timeline.play.control.pause': 'Pause',\n    'timeline.play.control.first': 'First',\n    'timeline.play.control.prev': 'Previous',\n    'timeline.play.control.next': 'Next',\n    'timeline.play.control.last': 'Last',\n    'timeline.play.control.direction': 'Direction',\n    'timeline.play.control.speed': 'Speed',\n    'timeline.play.control.repeat': 'Repeat',\n    'timeline.play.control.infinite': 'Infinite',\n    'timeline.play.control.normal': 'normal',\n    'timeline.play.control.alternate': 'alternate',\n    'timeline.play.control.reverse': 'reverse',\n    'timeline.play.control.alternate.reverse': 'alternate reverse',\n\n    'timeline.value.editor.value': 'Value',\n    'timeline.value.editor.time': 'Time',    \n    'timeline.value.editor.timing': 'Timing',\n\n    'svgfilter.popup.title': 'SVG Filter',\n\n\n    'css.item.rotate': 'Rotate',\n    'css.item.rotateX': 'Rotate X',\n    'css.item.rotateY': 'Rotate Y',\n    'css.item.rotateZ': 'Rotate Z',\n    'css.item.rotate3d': '3D Rotate',    \n    'css.item.skewX': 'Skew X',    \n    'css.item.skewY': 'Skew Y',   \n    'css.item.translate': 'Translate',\n    'css.item.translateX': 'Translate X',  \n    'css.item.translateY': 'Translate Y',\n    'css.item.translateZ': 'Translate Z',\n    'css.item.translate3d': '3D Translate',\n    'css.item.perspective': 'Perspective',    \n    'css.item.scale': 'Scale',\n    'css.item.scaleX': 'Scale X',\n    'css.item.scaleY': 'Scale Y',\n    'css.item.scaleZ': 'Scale Z',\n    'css.item.scale3d': '3D Scale',\n    'css.item.matrix': 'Matrix',\n    'css.item.matrix3d': '3D Matrix',  \n\n    'animation.property.title': 'CSS Animation',  \n    'animation.property.direction': 'Direction',\n    'animation.property.play.state': 'Play State',\n    'animation.property.fill.mode': 'Fill Mode',\n    'animation.property.delay': 'Delay',\n    'animation.property.duration': 'Duration',\n    'animation.property.iteration.count': 'Iteration Count',\n    'animation.property.Select a keyframe' : 'Select a keyframe',        \n\n    'animation.property.popup.title': 'Animation',\n    'animation.property.popup.timing.function': 'Timing Function',\n    'animation.property.popup.keyframe': 'Keyframe',\n    'animation.property.popup.direction': 'Direction',\n    'animation.property.popup.play.state': 'Play State',\n    'animation.property.popup.fill.mode': 'Fill Mode',\n    'animation.property.popup.delay': 'Delay',\n    'animation.property.popup.duration': 'Duration',\n    'animation.property.popup.iteration': 'Iteration',\n    'animation.property.popup.normal': 'normal',\n    'animation.property.popup.reverse': 'reverse',\n    'animation.property.popup.alternate': 'alternate',\n    'animation.property.popup.alternate-reverse': 'alternate-reverse',\n    'animation.property.popup.none': 'none',\n    'animation.property.popup.forwards': 'forwards',\n    'animation.property.popup.backwards': 'backwards',\n    'animation.property.popup.both' : 'both',\n    'animation.property.popup.Select a keyframe' : 'Select a keyframe',        \n\n    'keyframe.popup.title': 'Keyframe',\n    \n    'code.view.property.title': 'CodeView',\n\n    'svg.filter.editor.tab.filter': 'Filter',\n    'svg.filter.editor.tab.preset': 'Preset',\n    'svg.filter.editor.tab.asset': 'Assets',\n    'svg.filter.editor.GRAPHIC REFERENCES': 'GRAPHIC REFERENCES',\n    'svg.filter.editor.SOURCES': 'SOURCES',\n    'svg.filter.editor.MODIFIER': 'MODIFIER',\n    'svg.filter.editor.LIGHTING': 'LIGHTING',\n    'svg.filter.editor.COMBINERS': 'COMBINERS',\n    'svg.filter.editor.Template': 'Template',\n\n    'layout.property.title': '레이아웃',\n}","export default {\n\n    'app.title': 'EASYLOGIC',\n    'app.sample': (a, b, c) => {\n        return `${a}-${b}-${c}`\n    },\n    'app.lang.en_US': '영문',\n    'app.lang.ko_KR': '한글',    \n    'app.label.lang': '언어',\n\n    'app.tab.title.projects': '프로젝트',\n    'app.tab.title.layers': '레이어',\n    'app.tab.title.libraries': '라이브러리',\n    'app.tab.title.components': '컴포넌트',    \n\n\n\n    'menu.item.download.title': '다운로드',\n    'menu.item.save.title': '저장',\n    'menu.item.export.title': '내보내기',\n    'menu.item.codepen.title': 'CodePen',\n    'menu.item.fullscreen.title': '전체화면',\n    'menu.item.github.title': 'Github',\n    'menu.item.learn.title': '배우기',     \n\n    'project.property.title' : '프로젝트',    \n    'project.information.property.title': '프로젝트 정보',\n    'project.information.property.name': '이름',    \n    'project.information.property.description': '설명',     \n    \n    'artboard.property.title': '아트보드',   \n    'layer.tree.property.title': '레이어',\n\n\n    'alignment.property.title': '정렬',\n    'position.property.title': '위치',\n    'size.property.title': '크기',\n    'size.property.width': '넓이',\n    'size.property.height': '높이',\n\n    'background.color.property.title': '표시',\n    'background.color.property.color': '배경색',\n    'background.color.property.zindex': 'z-index',\n    'background.color.property.opacity': '투명도',\n    'background.color.property.blend': '블렌드모드',    \n\n    'blend.normal': 'Normal(표준) 혼합모드',\n    'blend.multiply': 'Multiply(곱하기) 모드',\n    'blend.screen': 'Screen(스크린) 모드 ',\n    'blend.overlay': 'Overlay(오버레이) 모드',\n    'blend.darken': 'Darken(어둡기) 모드',\n    'blend.lighten': 'Lighten(밝기) 모드 ',\n    'blend.color-dodge': 'Color Dodge(컬러 닷지) 모드 ',\n    'blend.color-burn': 'Color Burn(컬러 번) 모드 ',\n    'blend.hard-light': 'Hard Light(하드 라이트) 모드 ',\n    'blend.soft-light': 'Soft Light(소프트 라이트) 모드 ',\n    'blend.difference': 'Difference(차이) 모드',\n    'blend.exclusion': 'Exclusion(제외) 모드',\n    'blend.hue': 'Hue(색조) 모드 ',\n    'blend.saturation': 'Saturation(채도) 모드',\n    'blend.color': 'Color(색상) 모드',\n    'blend.luminosity': 'Luminosity(광도) 모드 ',    \n\n    'background.image.property.title': '배경이미지',    \n\n    'border.property.title': '외곽선',    \n    'border.radius.property.title': '둥근 외곽선',    \n    'boxshadow.property.title': '그림자',\n    'filter.property.title': '필터',    \n\n    'font.property.title': '폰트',\n    'font.property.color': '색',\n    'font.property.size': '크기',\n    'font.property.stretch': '뻗기',\n    'font.property.weight': '굵기',\n    'font.property.style': '스타일',\n    'font.property.family': '글꼴',\n\n    'font.spacing.property.title': '폰트 공간',\n    'font.spacing.property.lineHeight': '줄 높이',\n    'font.spacing.property.letterSpacing': '글자 간격',\n    'font.spacing.property.wordSpacing': '단어 간격',\n    'font.spacing.property.indent': '들여쓰기',\n\n\n\n    'backdrop.filter.property.title': '후면 필터',    \n    'clippath.property.title': '클립패스',    \n\n    'export.property.title': '내보내기',\n    'export.property.download': '다운로드',\n\n    'image.property.title': '이미지',    \n    'image.property.origin': '원본',    \n    'image.property.size': '크기',    \n    'image.property.width': '넓이',    \n    'image.property.height': '높이',    \n\n    'motion.property.title': '모션',\n\n    'path.data.property.title': '패스 정보',\n    'polygon.data.property.title': '폴리곤 정보',\n\n    'text.property.title': '텍스트 스타일',\n    'text.property.align': '정렬',\n    'text.property.transform': '변형',\n    'text.property.decoration': '장식',\n\n    'text.clip.property.title': '텍스트 클립',\n\n   'text.shadow.property.title': '텍스트 그림자',\n\n    'text.fill.property.title':  '텍스트 채우기',\n    'text.fill.property.fill':  '채우기',\n    'text.fill.property.stroke':  '윤곽선',\n    'text.fill.property.strokeWidth':  '윤곽선 굵기',\n\n    'transform.property.title': '변형',\n    'transform.origin.property.title': '변형 중심점',    \n\n    'transition.property.title': 'CSS 트랜지션',\n\n    'keyframe.property.title': 'CSS 키프레임',\n    'selector.property.title': 'CSS 셀렉터', \n    'selector.property.none': '선택자 없음',\n\n    'perspective.property.title': '원근',        \n    'perspective.origin.property.title': '원근 중심점',                \n\n    'svg.item.property.title': 'SVG 아이템',    \n    'svg.item.property.isMotionPath': '모션 패스 체크',\n    'svg.item.property.fill': '채우기',\n    'svg.item.property.fillOpacity': '투명도',\n    'svg.item.property.path': '패스',\n    'svg.item.property.polygon': '폴리곤',\n    'svg.item.property.totalLength': '전체 길이',    \n    'svg.item.property.fillRule': '채우기 규칙',\n    'svg.item.property.stroke': '선',\n    'svg.item.property.strokeWidth': '선 굵기',\n    'svg.item.property.dashArray': '점선 길이',\n    'svg.item.property.dashOffset': '점선 위치',\n    'svg.item.property.lineCap': '선 모양',\n    'svg.item.property.lineJoin': '겹친 선',\n    'svg.item.property.filter': '필터',\n\n\n\n    'border.editor.all': '전체',      \n    'border.editor.width': '크기',        \n    'border.editor.style': '스타일',              \n    'border.editor.color': '색',              \n    'border.editor.top': '위',        \n    'border.editor.left': '왼쪽',        \n    'border.editor.right': '오른쪽',        \n    'border.editor.bottom': '아래',      \n\n\n    'border.radius.editor.topLeft': '왼쪽 위',\n    'border.radius.editor.topRight': '오른쪽 위',\n    'border.radius.editor.bottomLeft': '왼쪽 아래',\n    'border.radius.editor.bottomRight': '오른쪽 아래',    \n    \n    'boxshadow.editor.blur': '흐림',\n    'boxshadow.editor.spread': '길이',    \n\n    'css.property.editor.properties': '속성',    \n\n\n    'offset.path.list.editor.path': '패스',\n    'offset.path.list.editor.totalLength': '전체 길이',\n    'offset.path.list.editor.distance': '거리',\n    'offset.path.list.editor.direction': '방향',\n    'offset.path.list.editor.rotate': '회전',\n    \n\n\n    'svgfilter.select.editor.message.create': '새로운 SVG Filter 를 만드세요.',\n    'svgfilter.select.editor.message.select': '필터를 선택하세요.',\n\n    'fill.editor.message.click.image': '이미지를 선택하고 싶으면 프리뷰 영역을 클릭하세요.',\n    'fill.editor.message.drag.position': '가운데 위치를 드래그 해보세요.',\n\n    'perspective.origin.editor.originX': '중심점 X',\n    'perspective.origin.editor.originY': '중심점 Y',    \n\n    'path.manager.msg': '편집을 종료할 때는 ESC 키나 Enter 키를 누르세요. 또는 화면을 클릭하시면 됩니다.',    \n    'path.manager.mode.modify': '점 편집',\n    'path.manager.mode.draw': '점 추가',\n    'path.manager.mode.transform': '변형',\n    'path.manager.mode.flipX': 'X축 회전',    \n    'path.manager.mode.flipY': 'Y축 회전',    \n    'path.manager.mode.flipOrigin': '전체 회전',        \n\n    'colorpicker.popup.title': '색상 선택',\n\n    'selector.popup.title': '선택자 속성',\n    'selector.popup.selector': '선택자',\n\n    'background.image.position.popup.title': '배경 패턴',   \n    'background.image.position.popup.size': '크기',\n    'background.image.position.popup.width': '넓이',\n    'background.image.position.popup.height': '높이',\n    'background.image.position.popup.repeat': '반복',\n    'background.image.position.popup.blend': '블렌드',        \n    'background.image.position.popup.type.repeat': '반복',\n    'background.image.position.popup.type.no-repeat': '반복 안함',\n    'background.image.position.popup.type.repeat-x': 'x축 반복', \n    'background.image.position.popup.type.repeat-y': 'y축 반복', \n    'background.image.position.popup.type.space': '공백유지', \n    'background.image.position.popup.type.round': '반올림', \n\n    'gradient.picker.popup.title': '그라디언트와 이미지',\n\n    'image.asset.property.title': '이미지',\n    'svgfilter.asset.property.title': 'SVG 필터',     \n    \n    'inspector.tab.title.style': '스타일 속성',\n    'inspector.tab.title.component': '컴포넌트 속성',\n    'inspector.tab.title.transition': '트랜지션과 애니메이션 속성',\n    'inspector.tab.title.asset': '에셋 관리자',\n    'inspector.tab.title.code': '코드',    \n\n    'timeline.property.title': '타임라인',\n    'timeline.animation.property.title': '애니메이션',    \n\n\n    'timeline.play.control.play': '플레이',\n    'timeline.play.control.pause': '멈춤',\n    'timeline.play.control.first': '처음으로',\n    'timeline.play.control.prev': '이전으로',\n    'timeline.play.control.next': '다음으로',\n    'timeline.play.control.last': '마지막으로',\n    'timeline.play.control.direction': '방향',\n    'timeline.play.control.speed': '속력',\n    'timeline.play.control.repeat': '반복',\n    'timeline.play.control.infinite': '무한',\n    'timeline.play.control.normal': 'normal',\n    'timeline.play.control.alternate': 'alternate',\n    'timeline.play.control.reverse': 'reverse',\n    'timeline.play.control.alternate.reverse': 'alternate reverse',    \n\n    'timeline.value.editor.value': '값',\n    'timeline.value.editor.time': '시간',\n    'timeline.value.editor.timing': '시간곡선',    \n\n    'svgfilter.popup.title': 'SVG 필터',    \n\n\n    'css.item.rotate': '회전',\n    'css.item.rotateX': 'X축 회전',\n    'css.item.rotateY': 'Y축 회전',\n    'css.item.rotateZ': 'Z축 회전',\n    'css.item.rotate3d': '3D 회전',    \n    'css.item.skewX': 'X축 늘이기',    \n    'css.item.skewY': 'Y축 늘이기',   \n    'css.item.translate': '이동',\n    'css.item.translateX': 'X축 이동',  \n    'css.item.translateY': 'Y축 이동',\n    'css.item.translateZ': 'Z축 이동',\n    'css.item.translate3d': '3D 이동',\n    'css.item.perspective': '원근',    \n    'css.item.scale': '크기변경',\n    'css.item.scaleX': 'X축 크기변경',\n    'css.item.scaleY': 'Y축 크기변경',\n    'css.item.scaleZ': 'Z축 크기변경',\n    'css.item.scale3d': '3D 크기변경',\n    'css.item.matrix': '변환 행렬',\n    'css.item.matrix3d': '3D 변환 행렬',  \n    \n    'animation.property.title': 'CSS 애니메이션',    \n    'animation.property.direction': '방향',\n    'animation.property.play.state': '플레이 상태',\n    'animation.property.fill.mode': '채우기 모드',\n    'animation.property.delay': '대기시간',\n    'animation.property.duration': '시간',\n    'animation.property.iteration.count': '반복 횟수',\n    'animation.property.select a keyframe' : '키프레임을 선택해주세요',            \n\n    'animation.property.popup.title': 'CSS 애니메이션',\n    'animation.property.popup.timing.function': '타이밍 함수',\n    'animation.property.popup.keyframe': '키프레임',\n    'animation.property.popup.direction': '방향',\n    'animation.property.popup.play.state': '플레이 상태',\n    'animation.property.popup.fill.mode': '채우기 모드',\n    'animation.property.popup.delay': '대기시간',\n    'animation.property.popup.duration': '시간',\n    'animation.property.popup.iteration': '반복 횟수',\n    'animation.property.popup.normal': '시간순',\n    'animation.property.popup.reverse': '역시간순',\n    'animation.property.popup.alternate': '왕복 시간순',\n    'animation.property.popup.alternate-reverse': '왕복 역시간순',\n    'animation.property.popup.none': 'none',\n    'animation.property.popup.forwards': 'forwards',\n    'animation.property.popup.backwards': 'backwards',\n    'animation.property.popup.both' : 'both',  \n    'animation.property.popup.Select a keyframe' : '키프레임을 선택해주세요.',    \n\n    'keyframe.popup.title': '키프레임',\n    \n    'code.view.property.title': '코드뷰',    \n\n    'svg.filter.editor.tab.filter': '필터',\n    'svg.filter.editor.tab.preset': '프리셋',\n    'svg.filter.editor.tab.asset': '에셋',\n    'svg.filter.editor.GRAPHIC REFERENCES': '참조 그래픽',\n    'svg.filter.editor.SOURCES': '원본',\n    'svg.filter.editor.MODIFIER': '수정',\n    'svg.filter.editor.LIGHTING': '빛',\n    'svg.filter.editor.COMBINERS': '결합',\n    'svg.filter.editor.Template': '템플릿',     \n\n    'layout.property.title': '레이아웃'\n}","\n\n\nimport { isFunction, keyEach } from '../../util/functions/func';\nimport locales from './locales';\n\nexport const FALLBACK_LANG = 'en_US';\n\nconst i18n = {\n    locales,\n    get (key, params = {}, lang = FALLBACK_LANG) {\n        var str = locales[lang][key] || locales[FALLBACK_LANG][key] || key || undefined;\n\n        if(isFunction(str)) {\n            return str(params)\n        } else {\n            var newValue = str; \n            keyEach(params, (key, value) => {\n                newValue = newValue.replace(new RegExp(`\\{${key}\\}`, 'ig'), value);\n            })\n            return newValue; \n        }\n        \n    },\n\n    hasKey (key, lang = FALLBACK_LANG) {\n        return !!(locales[lang][key] || locales[FALLBACK_LANG][key]);\n    }\n}\n\nexport default i18n;","export default class AssetParser {\n    static parse(datauri, enableParselocal = false) {\n        var [_, data] = datauri.split('data:')\n        var [mediaType, ...content] = data.split(',')\n        var [mimeType, encoding] = mediaType.split(';')\n\n        content = content.join(',');\n\n        return { \n            mimeType, \n            local: enableParselocal && AssetParser.getLink(mimeType, encoding, content)\n        }\n    }\n\n    static getLink (mimeType, encoding, content) {\n        if (encoding === 'base64') {\n            var binary = atob(content);\n            var len = binary.length;\n            var unit8Array = new Uint8Array(len);\n    \n            for(var i = 0; i < len; i++) {\n                unit8Array[i] = binary.charCodeAt(i);\n            }\n    \n            var blob = new Blob([unit8Array], {type: mimeType})\n\n            return URL.createObjectURL(blob);\n        }\n\n        return '' \n    }\n}","import { editor } from \"../editor\"\nimport { isArray, isObject, isString } from \"../../util/functions/func\";\nimport AssetParser from \"../parse/AssetParser\";\n\nexport default class Resource {\n    static getAllDropItems (e) {\n        var items = []\n        \n        if (e.dataTransfer ) {\n            items = [...e.dataTransfer.types].map((type, index) => {\n\n                if (type.includes('text')) {\n                    return {\n                        kind: 'string', \n                        type,\n                        data: e.dataTransfer.getData(type)\n                    }\n                }\n            }).filter(it => it);\n        }\n    \n        var files = [] \n        \n        if (e.dataTransfer) {\n            files = [...e.dataTransfer.files]\n        }\n\n        return  [...items, ...files]\n    }\n}\n\n\nexport const blend_list = [\n  \"normal\",\n  \"multiply\",\n  \"screen\",\n  \"overlay\",\n  \"darken\",\n  \"lighten\",\n  \"color-dodge\",\n  \"color-burn\",\n  \"hard-light\",\n  \"soft-light\",\n  \"difference\",\n  \"exclusion\",\n  \"hue\",\n  \"saturation\",\n  \"color\",\n  \"luminosity\"\n].join(',');\n\nconst SVG_PROPERTY_LIST = {\n    'text': true, \n    'points': true,\n    'textLength': true, \n    'startOffset': true,\n    'lengthAdjust': true \n}\n\nconst SVG_PATH_PROPERTY_LIST = {\n    'd': true\n}\n\nconst CSS_PROPERTY_LIST = {\n    'position': true,\n    'x': true,\n    'y': true,\n    'right': true,\n    'bottom': true,\n    'width': true,\n    'height': true,\n    'rootVariable': true,\n    'variable': true,\n    'transform': true,\n    'filter': true,\n    'backdrop-filter': true,\n    'background-color': true,      \n    'background-clip': true,\n    'background-image': true,      \n    'border-radius': true,      \n    'box-shadow': true,\n    'text-shadow': true,\n    'text-clip': true,      \n    'clip-path': true,\n    'color': true,\n    'font-size': true,\n    'font-stretch': true,\n    'line-height': true,\n    'text-align': true,\n    'text-transform': true,\n    'text-decoration': true,\n    'letter-spacing': true, \n    'word-spacing': true, \n    'text-indent': true,      \n    'perspective-origin': true,\n    'transform-origin': true,\n    'transform-style': true,\n    'perspective': true,\n    'mix-blend-mode': true,\n    'opacity': true,\n    'rotate': true,    \n    'text-fill-color': true,\n    'text-stroke-color': true,\n    'text-stroke-width': true,  \n    'offset-path': true,\n    'offset-distance': true,\n    border: true,\n    outline: true,\n    borderRadius: true,\n    // borderImage: true,\n    animations: true,\n    transitions: true,\n    'fill': true,\n    'fill-opacity': true, \n    'stroke': true,\n    'stroke-width': true,\n    'stroke-dasharray': true,\n    'stroke-dashoffset': true,\n    'fill-rule': true,\n    'stroke-linecap': true,\n    'stroke-linejoin': true    \n}\n\nexport const hasSVGProperty = (property) => {\n    return SVG_PROPERTY_LIST[property] || false \n}\n\nexport const hasSVGPathProperty = (property) => {\n    return SVG_PATH_PROPERTY_LIST[property] || false \n}\n\nexport const hasCSSProperty = (property) => {\n    return CSS_PROPERTY_LIST[property] || false \n}\n\nexport const hasCustomProperty = (property) => {\n    return hasSVGProperty(property) === false && hasCSSProperty(property) === false\n}\n\n\nexport const replaceLocalUrltoRealUrl = (str) => {\n\n    var project = this.$selection.currentProject;\n    var images = {} \n\n    project.images.forEach(a => {\n      if (str.indexOf(a.local) > -1) { \n        images[a.local]  = a.original\n      }\n    })\n\n    Object.keys(images).forEach(local => {\n        if (str.indexOf(local) > -1) {\n            str = str.replace(new RegExp(local, 'g'), images[local])\n        }\n    })\n    \n    return str; \n  }\n\nexport const replaceLocalUrltoId = (str) => {\n\n    var projects = editor.projects;\n    var images = {} \n\n    projects.forEach(project => {\n\n        project.images.forEach(a => {\n            if (str.indexOf(a.local) > -1) { \n                images[a.local]  = '#' + a.id\n            }\n        })\n    })\n\n\n    Object.keys(images).forEach(local => {\n        if (str.indexOf(local) > -1) {\n            str = str.replace(new RegExp(local, 'g'), images[local])\n        }\n    })\n\n    return str; \n}\n\nexport const makeResource = (json) => {\n    var result = JSON.stringify(json)\n\n    // image check \n    result = replaceLocalUrltoId(result);\n\n    return result;\n}\n\n\n\nexport const saveResource = (key, value) => {\n    window.localStorage.setItem(`easylogic.studio.${key}`, makeResource(value));\n}\n\nexport const saveItem = (key, value) => {\n    window.localStorage.setItem(`easylogic.studio.${key}`, JSON.stringify(value));\n}\n\n\nexport const applyAsset = (json, assets) => {\n    if (isArray(json)) {\n        json = json.map(it => applyAsset(it, assets))\n    } else if (isObject(json)) {\n        Object.keys(json).forEach(key => {\n            json[key] = applyAsset(json[key], assets);\n        }) \n    } else if (isString(json)) {\n\n        Object.keys(assets).forEach(idString => {\n            var a = assets[idString]\n            if (json.indexOf(`#${a.id}`) > -1) {\n                json = json.replace(new RegExp(`#${a.id}`, 'g'), a.local);\n            }\n\n        })\n    }\n\n    return json; \n}\n\n/**\n * \n * recover origin to local blob url for Asset \n * \n * @param {string} value JSON String for project list \n */\nexport const revokeResource = (value) => {\n    var json = JSON.parse(value || '[]');\n    var assets = {} \n\n    json.forEach(project => {\n        project.images.forEach(it => {\n            assets[`#${it.id}`] = it; \n        })\n    })\n\n    Object.keys(assets).map(idString => {\n        var a = assets[idString];\n        var info = AssetParser.parse(a.original, true);\n        a.local = info.local;\n    })\n\n    json.forEach(project => {\n        project.layers = applyAsset(project.layers, assets);\n    })\n\n    return json; \n}\n\nexport const loadResource = (key) => {\n    return revokeResource(window.localStorage.getItem(`easylogic.studio.${key}`))\n}\n\nexport const loadItem = (key) => {\n    return JSON.parse(window.localStorage.getItem(`easylogic.studio.${key}`) || JSON.stringify(\"\"))\n}","import { Config } from \"./Config\";\nimport { Selection } from \"./Selection\";\nimport { TimelineSelection } from \"./TimelineSelection\";\nimport i18n from \"../csseditor/i18n\";\nimport { loadItem, saveItem } from \"./util/Resource\";\n \nfunction blobToDataURL(blob) {\n  return new Promise(function(resolve) {\n    var fileReader = new FileReader();\n    fileReader.onload = function(e) {\n      // ATTENTION: to have the same result than the Flash object we need to split\n      // our result to keep only the Base64 part\n      resolve(e.target.result);\n    };\n    fileReader.readAsDataURL(blob);\n  });\n}\n\nexport const EDITOR_ID = \"\";\n\nexport const EDIT_MODE_SELECTION = 'SELECTION';\nexport const EDIT_MODE_ADD = 'ADD';\n\nconst DEFAULT_THEME = 'dark' \n\nexport const editor = new class {\n  constructor() {\n    this.config = new Config(this);\n    this.selection = new Selection();\n    this.timeline = new TimelineSelection(this);\n    this.projects = []     \n    this.popupZIndex = 10000;\n    this.scale = 1\n    this.symbols = {}\n    this.images = {}\n    this.openRightPanel = true; \n    this.mode = EDIT_MODE_SELECTION\n    this.addComponentType = '' \n    this.locale = loadItem('locale') || 'en_US'\n\n    this.components = {} \n\n    this.initTheme();\n  }\n\n  i18n (key, params = {}, locale) {\n    return i18n.get(key, params, locale || this.locale)\n  }\n\n  hasI18nkey (key, locale) {\n    return i18n.hasKey(key, locale || this.locale)\n  }\n\n  initI18n (root = '') {\n    return (key, params = {}, locale) => {\n\n      const i18nKey  = `${root}.${key}`;\n      if (this.hasI18nkey(i18nKey, locale)) {\n        return this.$i18n(`${root}.${key}`, params, locale)\n      } else {\n        return this.$i18n(`${key}`, params, locale)\n      }\n\n    }\n  }\n\n  setLocale (locale = 'en_US') {\n    this.locale = locale; \n    saveItem('locale', this.locale);    \n  }\n\n  registerComponent (name, Component) {\n    this.components[name] = Component;\n  }\n\n  getComponentClass(name) {\n    return this.components[name]\n  }\n\n  createComponent (name, obj = {}) {\n    var ComponentClass = this.getComponentClass(name);\n    return new ComponentClass(obj);\n  }\n\n  setUser (user) {\n    this.user = user; \n  }\n\n  initTheme () {\n    var theme = DEFAULT_THEME\n\n    if (window.localStorage) {\n      theme = window.localStorage.getItem('easylogic.studio.theme')\n\n      theme = theme === 'light' ? 'light' : DEFAULT_THEME;\n    }\n\n    this.theme =  theme || DEFAULT_THEME\n    window.localStorage.setItem('easylogic.studio.theme', this.theme);\n  }\n\n  changeMode (mode = EDIT_MODE_SELECTION) {\n    this.mode = mode;   // add or selection  \n  }\n\n  isMode (mode) {\n    return this.mode === mode; \n  }\n\n  isAddMode () {\n    return this.isMode(EDIT_MODE_ADD)\n  }\n\n  isSelectionMode () {\n    return this.isMode(EDIT_MODE_SELECTION);\n  }\n\n  changeAddType (type = '', isComponent = false) {\n    this.changeMode(EDIT_MODE_ADD);\n    this.addComponentType = type;\n    this.isComponent = isComponent\n  }\n\n  changeTheme (theme) {\n    theme = theme === 'light' ? 'light': 'dark';\n\n    this.theme = theme; \n    window.localStorage.setItem('easylogic.studio.theme', theme);\n  }\n\n  // 팝업의 zindex 를 계속 높여 주어 \n  // 최근에 열린 팝업이 밑으로 가지 않게 한다. \n  get zIndex () {\n    return this.popupZIndex++\n  }\n\n  getFile (url) {\n    return this.images[url] || url;\n  }\n\n  setStore($store) {\n    this.$store = $store;\n  }\n\n  send(...args) {\n    this.emit(...args);\n  }\n\n  emit(...args) {\n    if (this.$store) {\n      this.$store.source = \"EDITOR_ID\";\n      this.$store.emit(...args);\n    }\n  }\n\n  load (projects = []) {\n    this.projects = projects\n  }\n\n  /**\n   * add item\n   *\n   * @param {string} parentId\n   * @param {Item} item\n   * @return {Item}\n   */\n  add(item) {\n    this.projects.push(item);\n    return item;\n  }\n\n  /**\n   * remove Item  with all children\n   *\n   * @param {string} id\n   */\n  remove(index) {\n    this.projects.splice(index, 1);\n  }\n\n  clear() {\n    this.projects = [];\n  }\n\n  /**\n   * get item\n   *\n   * @param {String} key\n   */\n  get(index) {\n    return this.projects[index];\n  }\n\n}();\n","import Dom from \"./Dom\";\nimport { POINTERMOVE, POINTEREND, DEBOUNCE } from \"./Event\";\nimport {\n  ADD_BODY_MOUSEMOVE,\n  ADD_BODY_MOUSEUP\n} from \"../csseditor/types/event\";\nimport BaseStore from \"./BaseStore\";\nimport UIElement, { EVENT } from \"./UIElement\";\n\nimport { editor } from \"../editor/editor\";\nimport { debounce } from \"./functions/func\";\n\nconst EMPTY_POS = { x: 0, y: 0 };\nconst DEFAULT_POS = { x: Number.MAX_SAFE_INTEGER, y: Number.MAX_SAFE_INTEGER };\nconst MOVE_CHECK_MS = 10;\n\nexport const start = opt => {\n  class App extends UIElement {\n\n    initialize(modules = []) {\n\n      this.$store = new BaseStore({\n        modules: [...this.getModuleList(), ...modules]\n      });\n\n      editor.setStore(this.$store);\n\n      this.$container = Dom.create(this.getContainer());\n      this.$container.addClass(this.getClassName());\n\n      this.render(this.$container);\n\n      this.initializeEvent();\n\n      this.initBodyMoves();\n    }\n    \n    initBodyMoves() {\n      this.moves = new Set();\n      this.ends = new Set();\n\n      this.modifyBodyMoveSecond(MOVE_CHECK_MS);\n    }\n\n    modifyBodyMoveSecond(ms = MOVE_CHECK_MS) {\n      this.$config.set(\"body.move.ms\", ms);\n      this.funcBodyMoves = debounce(this.loopBodyMoves.bind(this), this.$config.get(\"body.move.ms\"));\n    }\n\n    loopBodyMoves() {\n      var pos = this.$config.get(\"pos\");\n      var lastPos = this.$config.get(\"lastPos\") || DEFAULT_POS;\n      var isNotEqualLastPos = !(lastPos.x === pos.x && lastPos.y === pos.y);\n\n      if (isNotEqualLastPos && this.moves.size) {      \n        this.moves.forEach(v => {\n          var dx = pos.x - v.xy.x;\n          var dy = pos.y - v.xy.y;\n          if (dx != 0 || dy != 0) {\n            v.func.call(v.context, dx, dy, 'move');\n          }\n        });\n\n        this.$config.set('lastPos', pos);\n      }\n      requestAnimationFrame(this.funcBodyMoves);\n    }\n\n    removeBodyMoves() {\n      var pos = this.$config.get(\"pos\");\n      this.ends.forEach(v => {\n        v.func.call(v.context, pos.x - v.xy.x, pos.y - v.xy.y, 'end');\n      });\n\n      this.moves.clear();\n      this.ends.clear();\n    }\n\n    [EVENT(ADD_BODY_MOUSEMOVE)](func, context, xy) {\n      this.moves.add({ func, context, xy });\n    }\n\n    [EVENT(ADD_BODY_MOUSEUP)](func, context, xy) {\n      this.ends.add({ func, context, xy });\n    }\n\n    getModuleList() {\n      return opt.modules || [];\n    }\n\n    getClassName() {\n      return opt.className || \"csseditor\";\n    }\n\n    getContainer() {\n      return opt.container || document.body;\n    }\n\n    template() {\n      return `<div>${opt.template}</div>`;\n    }\n\n    components() {\n      return opt.components || {};\n    }\n\n    [POINTERMOVE(\"document\")](e) {\n      var newPos = e.xy || EMPTY_POS;\n\n      this.$config.set(\"bodyEvent\", e);\n      this.$config.set(\"pos\", newPos);\n\n      if (!this.requestId) {\n        this.requestId = requestAnimationFrame(this.funcBodyMoves);\n      }\n    }\n\n    [POINTEREND(\"document\") + DEBOUNCE(30)](e) {\n      // var newPos = e.xy || EMPTY_POS;\n      this.$config.set(\"bodyEvent\", e);\n      this.removeBodyMoves();\n      this.requestId = null;\n    }\n  }\n\n  return new App(opt);\n};\n","import Color from \"./Color\";\nimport HueColor from \"./HueColor\";\nimport ColorNames from \"./ColorNames\";\nimport * as App from \"./App\";\n\nexport default {\n  App,\n  Color,\n  HueColor,\n  ColorNames\n};\n","import { isString, isUndefined, isFunction, isNumber } from \"./functions/func\";\nimport Color from \"./Color\";\nimport HueColor from \"./HueColor\";\n\nexport default class ColorManager {\n\n\n    constructor ($store) {\n\n        this.$store = $store;\n        this.initialize();\n\n    }\n\n    initialize () {\n\n        this.state = {\n            rgb: {},\n            hsl: {},\n            hsv: {},\n            alpha: 1, \n            format: 'hex',\n            colorSetsList: [\n                {   name : \"Material\", \n                    edit: true,\n                    colors: [ \n                        '#F44336', '#E91E63', '#9C27B0', '#673AB7', '#3F51B5', \n                        '#2196F3', '#03A9F4', '#00BCD4',  '#009688', '#4CAF50', \n                        '#8BC34A', '#CDDC39', '#FFEB3B', '#FFC107', '#FF9800', \n                        '#FF5722',  '#795548', '#9E9E9E', '#607D8B' \n                    ]\n                },\n                { name : \"Custom\", \"edit\" : true, \"colors\" : [ ] },\n                { name: \"Color Scale\", \"scale\" : ['red', 'yellow', 'black' ], count : 5 }\n            ],\n            userList: [],\n            currentColorSets: {}    \n        }\n\n    }\n\n    get hsv () {return this.state.hsv; }\n\n    get rgb () {return this.state.rgb; }\n    \n    get hsl () {return this.state.hsl; }\n    \n    get hex () {return this.state.hex; }    \n\n    get alpha () { return this.state.alpha; }        \n\n    get format () { return this.state.format; }        \n\n    changeFormat (format) {\n        this.state.format = format\n\n        this.$store.emit('changeFormat');\n    }\n\n    initColor (colorObj) {\n        this.changeColor(colorObj)\n    }\n\n    changeColor(colorObj) {\n        colorObj = colorObj || '#FF0000'\n\n        if (isString(colorObj)) {\n            colorObj = Color.parse(colorObj);\n        }\n\n        this.state.alpha = isUndefined(colorObj.a) ? this.state.alpha : colorObj.a; \n        this.state.format = colorObj.type != 'hsv' ? (colorObj.type || this.state.format) : this.state.format;\n\n        if (this.state.format == 'hex' && this.state.alpha < 1) {\n            this.state.format = 'rgb';\n        }\n\n        if (colorObj.type == 'hsl') {\n            this.state.hsl = {...this.state.hsl, ...colorObj}; \n            this.state.rgb = Color.HSLtoRGB(this.state.hsl);\n            this.state.hsv = Color.HSLtoHSV(colorObj);            \n        } else if (colorObj.type == 'hex') {\n            this.state.rgb = {...this.state.rgb, ...colorObj};\n            this.state.hsl = Color.RGBtoHSL(this.state.rgb);\n            this.state.hsv = Color.RGBtoHSV(colorObj);            \n        } else if (colorObj.type == 'rgb') {\n            this.state.rgb = {...this.state.rgb, ...colorObj};\n            this.state.hsl = Color.RGBtoHSL(this.state.rgb);            \n            this.state.hsv = Color.RGBtoHSV(colorObj);            \n        } else if (colorObj.type == 'hsv') {\n            this.state.hsv = {...this.state.hsv, ...colorObj};\n            this.state.rgb = Color.HSVtoRGB(this.state.hsv);\n            this.state.hsl = Color.HSVtoHSL(this.state.hsv);\n        }\n    }\n\n    getHueColor () {\n        return HueColor.checkHueColor(this.state.hsv.h/360);\n    }\n\n    toString(type) {\n        type = type || this.state.format\n        var colorObj = this.state[type] || this.state.rgb\n        return Color.format({...colorObj, a: this.state.alpha}, type);\n    }\n\n    toColor (type) {\n        type = (type || this.state.format).toLowerCase(); \n        return this.toString(type)\n    }\n\n\n    /** manager for colorsets */\n\n\n    setUserPalette(list) {\n        this.state.userList = list || []; \n\n        this.resetUserPalette();\n        this.setCurrentColorSets();\n    }\n\n    resetUserPalette () {\n\n        this.state.userList = this.state.userList.map( (element, index) => {\n\n            if (isFunction( element.colors )) {\n                const makeCallback = element.colors; \n\n                element.colors = makeCallback(this.state);\n                element._colors = makeCallback;\n            }\n\n            return { \n                name: `color-${index}`,\n                colors : [],\n                ...element\n            }\n        })\n\n    }\n\n    setCurrentColorSets(nameOrIndex) {\n\n        const _list = this.getUserList();\n\n        if (isUndefined(nameOrIndex)) {\n            this.state.currentColorSets = _list[0];\n        } else if (isNumber(nameOrIndex)) {\n            this.state.currentColorSets = _list[nameOrIndex];\n        } else {\n            this.state.currentColorSets = _list.filter(function (obj) {\n                return obj.name == nameOrIndex;\n            })[0];\n        }\n    \n        this.$store.emit('changeCurrentColorSets');\n    }\n\n    getCurrentColorSets () {\n        return this.state.currentColorSets;\n    }\n\n    addCurrentColor (color) {\n        if (Array.isArray(this.state.currentColorSets.colors)) {\n            this.state.currentColorSets.colors.push(color);\n            this.$store.emit('changeCurrentColorSets');\n        } \n    }\n\n    setCurrentColorAll (colors = []) {\n        this.state.currentColorSets.colors = colors;\n        this.$store.emit('changeCurrentColorSets');\n    }\n\n    removeCurrentColor (index) {\n        if (this.state.currentColorSets.colors[index]) {\n            this.state.currentColorSets.colors.splice(index, 1);\n            this.$store.emit('changeCurrentColorSets');\n        }\n    }\n\n    removeCurrentColorToTheRight (index) {\n        if (this.state.currentColorSets.colors[index]) {\n            this.state.currentColorSets.colors.splice(index, Number.MAX_VALUE);\n            this.$store.emit('changeCurrentColorSets');\n        }\n    }    \n\n    clearPalette () {\n        if (this.state.currentColorSets.colors) {\n            this.state.currentColorSets.colors = [];\n            this.$store.emit('changeCurrentColorSets');\n        }\n    }\n\n    getUserList() {\n        return Array.isArray(this.state.userList) && this.state.userList.length ? this.state.userList : this.state.colorSetsList;\n    }    \n\n    getCurrentColors () {\n        return this.getColors(this.state.currentColorSets)\n    }\n\n    getColors (element) {\n        if (element.scale) {\n            return Color.scale(element.scale, element.count);\n        }\n        \n        return element.colors || []; \n    }\n\n    getColorSetsList () {\n        return this.getUserList().map(element => {\n           return {\n               name : element.name,\n               edit : element.edit,\n               colors : this.getColors(element)\n           } \n        });\n    }\n\n}","import Dom from '../util/Dom'\nimport { MOUSEUP } from '../util/Event';\nimport { defaultValue, isFunction } from '../util/functions/func';\nimport UIElement from '../util/UIElement';\nimport BaseStore from '../util/BaseStore';\nimport { Length } from '../editor/unit/Length';\nimport ColorManager from '../util/ColorManager';\n\nexport default class BaseColorPicker extends UIElement {\n\n    created () {\n        this.manager = new ColorManager(this);\n        this.isColorPickerShow = false;\n        this.isShortCut = false;\n        this.hideDelay = +defaultValue(this.opt.hideDeplay, 2000);\n        this.timerCloseColorPicker;\n        this.autoHide = this.opt.autoHide || true;\n        this.outputFormat = this.opt.outputFormat\n        this.$checkColorPickerClass = this.checkColorPickerClass.bind(this);\n    }\n\n    get hsv () {return this.manager.hsv; }\n\n    get rgb () {return this.manager.rgb; }\n    \n    get hsl () {return this.manager.hsl; }\n    \n    get hex () {return this.manager.hex; }    \n\n    get alpha () { return this.manager.alpha; }   \n    \n    get format () { return this.manager.format; }\n\n    initialize (modules = []) {\n        this.$body = null;\n        this.$root = null; \n        \n        this.$store = new BaseStore();\n\n        this.callbackChange = () => {\n            this.callbackChangeValue()\n        }\n\n        this.colorpickerShowCallback = function () { };\n        this.colorpickerHideCallback = function () { };           \n\n\n        this.$body = Dom.create(this.getContainer());\n        this.$root = Dom.create('div', 'codemirror-colorpicker');\n\n        //  append colorpicker to container (ex : body)\n        if (this.opt.position == 'inline') {\n            this.$body.append(this.$root);\n        }\n\n        if (this.opt.type) {    // to change css style\n            this.$root.addClass(this.opt.type);\n        }\n\n        if (this.opt.hideInformation) {\n            this.$root.addClass('hide-information')\n        }\n\n        if (this.opt.hideColorsets) {\n            this.$root.addClass('hide-colorsets')\n        }        \n\n        if (this.opt.width) {\n            this.$root.css('width', this.opt.width)\n        }\n\n        this.$arrow = Dom.create('div', 'arrow');\n        \n        this.$root.append(this.$arrow);\n\n        this.manager.setUserPalette(this.opt.colorSets);\n\n        this.render(this.$root)\n\n        this.initColorWithoutChangeEvent(this.opt.color);\n\n        // 이벤트 연결 \n        this.initializeEvent();           \n\n    }\n\n    initColorWithoutChangeEvent (color) {\n        this.manager.initColor(color);\n        this.emit('initColor');\n    }\n\n    /** \n     * public method \n     * \n     */\n\n    /**\n     * \n     * show colorpicker with position  \n     * \n     * @param {{left, top, hideDelay, isShortCut}} opt \n     * @param {String|Object} color  \n     * @param {Function} showCallback  it is called when colorpicker is shown\n     * @param {Function} hideCallback  it is called once when colorpicker is hidden\n     */\n    show(opt, color, showCallback, hideCallback) {\n\n        // 매번 이벤트를 지우고 다시 생성할 필요가 없어서 초기화 코드는 지움. \n        // this.destroy();\n        // this.initializeEvent();\n        // define colorpicker callback\n        this.colorpickerShowCallback = showCallback;\n        this.colorpickerHideCallback = hideCallback;        \n        this.$root.css(this.getInitalizePosition()).show();\n\n        this.definePosition(opt);\n\n        this.isColorPickerShow = true;\n        this.isShortCut = opt.isShortCut || false;\n        this.outputFormat = opt.outputFormat  \n\n        // define hide delay\n        this.hideDelay = +defaultValue (opt.hideDelay, 2000);\n        if (this.hideDelay > 0) {\n            this.setHideDelay(this.hideDelay);\n        }        \n        \n        this.$root.appendTo(this.$body);\n\n        this.initColorWithoutChangeEvent(color);\n    }     \n\n    /**\n     * \n     * initialize color for colorpicker\n     * \n     * @param {String|Object} newColor \n     * @param {String} format  hex, rgb, hsl\n     */\n    initColor(newColor, format) {\n        this.manager.changeColor(newColor, format);\n        this.emit('changeColor');\n    }\n\n    changeColor(newColor, format) {\n        this.manager.changeColor(newColor, format);\n    }\n\n    /**\n     * hide colorpicker \n     * \n     */\n    hide() {\n        if (this.isColorPickerShow) {\n            // this.destroy();\n            this.$root.hide();\n            this.$root.remove();  // not empty \n            this.isColorPickerShow = false;\n\n            this.callbackHideValue()\n        }\n    }\n\n    /**\n     * set to colors in current sets that you see \n     * @param {Array} colors \n     */\n    setColorsInPalette (colors = []) {\n        this.manager.setCurrentColorAll(colors);\n    }    \n\n    /**\n     * refresh all color palette \n     * \n     * @param {*} list \n     */\n    setUserPalette (list = []) {\n        this.manager.setUserPalette(list);\n    }\n\n\n    /**\n     * private method \n     */\n\n    getOption(key) {\n        return this.opt[key];\n    }\n\n    setOption (key, value) {\n        this.opt[key] = value; \n    }\n\n    getContainer () {\n        return this.opt.container || document.body;\n    }\n\n    getColor(type) {\n        return this.manager.toColor(type);\n    }\n\n    definePositionForArrow(opt, elementScreenLeft, elementScreenTop) {\n        // console.log(arguments)\n    }\n\n    definePosition(opt) {\n\n        var width = this.$root.width();\n        var height = this.$root.height();\n\n        // set left position for color picker\n        var elementScreenLeft = opt.left - this.$body.scrollLeft();\n        if (width + elementScreenLeft > window.innerWidth) {\n            elementScreenLeft -= (width + elementScreenLeft) - window.innerWidth;\n        }\n        if (elementScreenLeft < 0) { elementScreenLeft = 0; }\n\n        // set top position for color picker\n        var elementScreenTop = opt.top - this.$body.scrollTop();\n        if (height + elementScreenTop > window.innerHeight) {\n            elementScreenTop -= (height + elementScreenTop) - window.innerHeight;\n        }\n        if (elementScreenTop < 0) { elementScreenTop = 0; }\n\n        // set position\n        this.$root.css({\n            left: Length.px(elementScreenLeft),\n            top: Length.px(elementScreenTop)\n        });\n\n        // this.definePositionForArrow(opt, elementScreenLeft, elementScreenTop);\n    }\n\n    getInitalizePosition() {\n        if (this.opt.position == 'inline') {\n            return {\n                position: 'relative',\n                left: 'auto',\n                top: 'auto',\n                display: 'inline-block'\n            }\n        } else {\n            var position = this.opt.position == 'absolute' ? 'absolute' : 'fixed'\n            return {\n                position,  // color picker has fixed position\n                left: Length.px(-10000),\n                top: Length.px(-10000)\n            }\n        }\n    }\n\n    \n\n    setHideDelay(delayTime) {\n        delayTime = delayTime || 0;\n\n        const hideCallback = this.hide.bind(this);\n\n        this.$root.off('mouseenter');\n        this.$root.off('mouseleave');\n\n        this.$root.on('mouseenter', () => {\n            clearTimeout(this.timerCloseColorPicker);\n        });\n\n        this.$root.on('mouseleave', () => {\n            clearTimeout(this.timerCloseColorPicker);\n            this.timerCloseColorPicker = setTimeout(hideCallback, delayTime);\n        });\n\n        clearTimeout(this.timerCloseColorPicker);\n        // this.timerCloseColorPicker = setTimeout(hideCallback, delayTime);\n    }\n\n    callbackChangeValue(color) {\n        color = color || this.getCurrentColor();\n\n        if (isFunction(this.opt.onChange)) {\n            this.opt.onChange.call(this, color);\n        }\n\n        if (isFunction(this.colorpickerShowCallback)) {\n            this.colorpickerShowCallback(color);\n        }        \n    }\n\n    callbackHideValue(color) {\n        color = color || this.getCurrentColor();\n        if (isFunction(this.opt.onHide)) {\n            this.opt.onHide.call(this, color);\n        }\n\n        if (isFunction(this.colorpickerHideCallback)) {\n            this.colorpickerHideCallback(color);\n        }        \n    }    \n\n    getCurrentColor() {\n        return this.manager.toColor(this.outputFormat);\n    }\n\n\n    checkColorPickerClass(el) {\n        var $el = Dom.create(el);\n        var hasColorView = $el.closest('codemirror-colorview');\n        var hasColorPicker = $el.closest('codemirror-colorpicker');\n        var hasCodeMirror = $el.closest('CodeMirror');\n        var IsInHtml = el.nodeName == 'HTML';\n\n        return !!(hasColorPicker || hasColorView || hasCodeMirror);\n    }\n\n    checkInHtml(el) {\n        var IsInHtml = el.nodeName == 'HTML';\n\n        return IsInHtml;\n    }\n\n    initializeStoreEvent () {\n        super.initializeStoreEvent()\n\n        this.$store.on('changeColor', this.callbackChange, this)\n        this.$store.on('changeFormat', this.callbackChange, this)        \n    }\n \n    destroy() {\n        super.destroy();\n\n        this.$store.off('changeColor', this.callbackChange);\n        this.$store.off('changeFormat', this.callbackChange);\n\n        this.callbackChange = undefined; \n\n        // remove color picker callback\n        this.colorpickerShowCallback = undefined;\n        this.colorpickerHideCallback = undefined;   \n    }\n\n\n     // Event Bindings \n     [MOUSEUP('document')] (e) {\n\n        // when color picker clicked in outside\n        if (this.checkInHtml(e.target)) {\n            //this.setHideDelay(hideDelay);\n        } else if (this.checkColorPickerClass(e.target) == false) {\n            this.hide();\n        }\n    }\n    \n}","\nimport Event from '../util/Event'\nimport BaseBox from './BaseBox';\nimport { Length } from '../editor/unit/Length';\n\nexport default class BaseSlider extends BaseBox {\n\n    initState() {\n        return {\n            minValue: 0,\n            maxValue: 1,\n            maxDist: null,\n            minPosition: null\n        }\n    }\n\n    /* slider container's min and max position */\n    getMinMaxPosition () {\n        var min = this.getMinPosition();\n        var width = this.getMaxDist()\n        var max = min + width;\n\n        return { min, max, width }\n    }\n\n    /** get current position on page  */\n    getCurrent (value) {\n        return min + this.getMaxDist() * value; \n    }\n\n    /** get min position on slider container  */\n    getMinPosition () {\n        if (!this.state.minPosition) {\n            this.state.minPosition = this.refs.$container.offset().left\n        }\n        return this.state.minPosition;        \n    }    \n\n    getMaxDist () {\n        if (!this.state.maxDist) {\n            this.state.maxDist = this.refs.$container.width()\n        }\n        return this.state.maxDist;\n    }\n\n    /** get dist for position value */\n    getDist (current) {\n        var {min, max} = this.getMinMaxPosition()\n\n        var dist; \n        if (current < min) {\n            dist = 0;\n        } else if (current > max) {\n            dist = 100;\n        } else {\n            dist = (current - min) / (max - min) * 100;\n        }\n\n        return dist; \n    }\n\n    /** get calculated dist for domain value   */\n    getCalculatedDist (e) {\n        var current = e ? this.getMousePosition(e) : this.getCurrent(this.getDefaultValue() / this.state.maxValue);\n        var dist = this.getDist(current);\n        \n        return dist; \n    }\n\n    /** get default value used in slider container */\n    getDefaultValue () {\n        return 0\n    }\n\n    /** set mosue position */\n    setMousePosition (x) {\n        this.refs.$bar.css({ left : Length.px(x) });\n    }\n\n    /** set mouse position in page */\n    getMousePosition (e) {\n        return Event.pos(e).pageX;\n    }    \n \n    refresh () {\n        this.setColorUI()\n    }\n\n    /** set drag bar position  */\n    setColorUI(v) {\n    \n        v = v || this.getDefaultValue(); \n\n        if (v <= this.state.minValue) {\n            this.refs.$bar.addClass('first').removeClass('last')\n        } else if (v >= this.maxValue) {\n            this.refs.$bar.addClass('last').removeClass('first')\n        } else {\n            this.refs.$bar.removeClass('last').removeClass('first')\n        }\n\n        this.setMousePosition(this.getMaxDist() * ( (v || 0) / this.state.maxValue));\n    }    \n    \n}\n","import UIElement, { EVENT } from \"../util/UIElement\";\nimport { POINTERSTART, POINTERMOVE, POINTEREND } from \"../util/Event\";\n\nexport default class BaseBox extends UIElement {\n  refresh() {}\n\n  refreshColorUI(e) {}\n\n  /** push change event  */\n  changeColor(opt) {\n    this.parent.changeColor(opt || {})\n    this.emit('changeColor');\n  }\n\n  // Event Bindings\n  [POINTEREND(\"document\")](e) {\n    this.onDragEnd(e);\n  }\n\n  [POINTERMOVE(\"document\")](e) {\n    this.onDragMove(e);\n  }\n\n  [POINTERSTART(\"$bar\")](e) {\n    // e.preventDefault();\n    this.isDown = true;\n  }\n\n  [POINTERSTART(\"$container\")](e) {\n    this.isDown = true;\n    this.onDragStart(e);\n  }\n\n  onDragStart(e) {\n    this.isDown = true;\n    this.refreshColorUI(e);\n  }\n\n  onDragMove(e) {\n    if (this.isDown) {\n      this.refreshColorUI(e);\n    }\n  }\n\n  /* called when mouse is ended move  */\n  onDragEnd(e) {\n    this.isDown = false;\n  }\n\n  [EVENT(\"changeColor\", 'initColor')]() {\n    this.refresh();\n  }\n\n}\n","import BaseSlider from '../../BaseSlider';\nimport { BIND } from '../../../util/Event';\n\nexport default class Value extends BaseSlider {\n\n    template () {\n        return `\n            <div class=\"value\">\n                <div ref=\"$container\" class=\"value-container\">\n                    <div ref=\"$bar\" class=\"drag-bar\"></div>\n                </div>\n            </div>\n        `\n    }\n\n    [BIND('$container')] () {\n        return {\n            style : {\n                'background-color': this.parent.manager.toString('rgb')\n            }\n        }\n    }\n\n    getDefaultValue () {\n        return this.parent.hsv.v \n    }\n         \n    refreshColorUI(e) {\n        var dist = this.getCalculatedDist(e);\n\n        this.setColorUI(dist/100 * this.state.maxValue)\n\n        this.changeColor({\n            type: 'hsv',\n            v: dist/100 * this.state.maxValue\n        })\n    }    \n    \n}\n","\nimport Color from '../../../util/Color'\nimport BaseSlider from '../../BaseSlider';\n\nexport default class Opacity extends BaseSlider {\n\n    template () {\n        return `\n        <div class=\"opacity\">\n            <div ref=\"$container\" class=\"opacity-container\">\n                <div ref=\"$colorbar\" class=\"color-bar\"></div>\n                <div ref=\"$bar\" class=\"drag-bar2\"></div>\n            </div>\n        </div>\n        `\n    }\n\n    refresh () {\n        super.refresh()\n        this.setOpacityColorBar()\n    }\n\n    setOpacityColorBar() {\n        var rgb = {...this.parent.rgb};\n    \n        rgb.a = 0;\n        var start = Color.format(rgb, 'rgb');\n    \n        rgb.a = 1;\n        var end = Color.format(rgb, 'rgb');\n    \n        this.refs.$colorbar.css('background',  'linear-gradient(to right, ' + start + ', ' + end + ')');\n    }\n\n    getDefaultValue () {\n        return this.parent.alpha\n    }\n    \n    refreshColorUI(e) {\n        var dist = this.getCalculatedDist(e);\n\n        this.setColorUI( (dist/100) * this.state.maxValue);\n\n        this.changeColor({\n            a: (Math.floor(dist) / 100) * this.state.maxValue\n        })\n\n    }\n\n}\n","import UIElement, { EVENT } from '../../../util/UIElement';\nimport { BIND } from '../../../util/Event';\n\nexport default class ColorView extends UIElement {\n\n    templateClass() {\n        return 'color'\n    }\n\n    [BIND('$el')] () {\n        return {\n            style: {\n                'background-color': this.parent.manager.toString('rgb')\n            }\n        }\n    } \n\n    [EVENT('changeColor', 'initColor')] () { \n        this.refresh()\n    } \n}\n ","import Color from \"../../util/Color\";\nimport Dom from \"../../util/Dom\";\nimport Event, { POINTERSTART, POINTERMOVE, POINTEREND } from \"../../util/Event\";\nimport UIElement, { EVENT } from \"../../util/UIElement\";\nimport { getXYInCircle, calculateAngle } from \"../../util/functions/math\";\n\nexport default class ColorWheel extends UIElement {\n  initialize() {\n    super.initialize();\n    this.width = 214;\n    this.height = 214;\n    this.thinkness = 0;\n    this.half_thinkness = 0;\n  }\n\n  template() {\n    return `\n        <div class=\"wheel\">\n            <canvas class=\"wheel-canvas\" ref=\"$colorwheel\" ></canvas>\n            <div class=\"wheel-canvas\" ref=\"$valuewheel\" ></div>\n            <div class=\"drag-pointer\" ref=\"$drag_pointer\"></div>\n        </div>\n        `;\n  }\n\n  refresh(isEvent) {\n    this.setColorUI(isEvent);\n  }\n\n  setColorUI(isEvent) {\n    this.renderCanvas();\n    this.renderValue();\n    this.setHueColor(null, isEvent);\n  }\n\n  renderValue() {\n    var value = 1 - this.parent.hsv.v;\n    this.refs.$valuewheel.css(\"background-color\", `rgba(0, 0, 0, ${value})`);\n  }\n\n  renderWheel(width, height) {\n    if (this.width && !width) width = this.width;\n    if (this.height && !height) height = this.height;\n\n    const $canvas = Dom.create(\"canvas\");\n    const context = $canvas.el.getContext(\"2d\");\n    $canvas.el.width = width;\n    $canvas.el.height = height;\n    $canvas.px(\"width\", width);\n    $canvas.px(\"height\", height);\n\n    var img = context.getImageData(0, 0, width, height);\n    var pixels = img.data;\n    var half_width = Math.floor(width / 2);\n    var half_height = Math.floor(height / 2);\n\n    var radius = width > height ? half_height : half_width;\n    var cx = half_width;\n    var cy = half_height;\n\n    for (var y = 0; y < height; y++) {\n      for (var x = 0; x < width; x++) {\n        var rx = x - cx + 1,\n          ry = y - cy + 1,\n          d = rx * rx + ry * ry,\n          hue = calculateAngle(rx, ry);\n\n        var rgb = Color.HSVtoRGB(\n          hue, // 0~360 hue\n          Math.min(Math.sqrt(d) / radius, 1), // 0..1 Saturation\n          1 //  0..1 Value\n        );\n\n        var index = (y * width + x) * 4;\n        pixels[index] = rgb.r;\n        pixels[index + 1] = rgb.g;\n        pixels[index + 2] = rgb.b;\n        pixels[index + 3] = 255;\n      }\n    }\n\n    context.putImageData(img, 0, 0);\n\n    if (this.thinkness > 0) {\n      context.globalCompositeOperation = \"destination-out\"; // destination-out 은 그리는 영역이 지워진다.\n      context.fillStyle = \"black\";\n      context.beginPath();\n      context.arc(cx, cy, radius - this.thinkness, 0, Math.PI * 2);\n      context.closePath();\n      context.fill();\n    }\n\n    return $canvas;\n  }\n\n  renderCanvas() {\n    // only once rendering\n    if (this.parent.createdWheelCanvas) return;\n\n    const $canvas = this.refs.$colorwheel;\n    const context = $canvas.el.getContext(\"2d\");\n\n    let [width, height] = $canvas.size();\n\n    if (this.width && !width) width = this.width;\n    if (this.height && !height) height = this.height;\n\n    $canvas.el.width = width;\n    $canvas.el.height = height;\n    $canvas.px(\"width\", width);\n    $canvas.px(\"height\", height);\n\n    var $wheelCanvas = this.renderWheel(width, height);\n\n    context.drawImage($wheelCanvas.el, 0, 0);\n\n    this.parent.createdWheelCanvas = true;\n  }\n\n  getDefaultValue() {\n    return this.parent.hsv.h;\n  }\n\n  getDefaultSaturation() {\n    return this.parent.hsv.s;\n  }\n\n  getCurrentXY(e, angle, radius, centerX, centerY) {\n    return e ? e.xy : getXYInCircle(angle, radius, centerX, centerY);\n  }\n\n  getRectangle() {\n    var width = this.$el.width();\n    var height = this.$el.height();\n    var radius = this.refs.$colorwheel.width() / 2;\n\n    var minX = this.$el.offsetLeft();\n    var centerX = minX + width / 2;\n\n    var minY = this.$el.offsetTop();\n    var centerY = minY + height / 2;\n\n    return { minX, minY, width, height, radius, centerX, centerY };\n  }\n\n  setHueColor(e, isEvent) {\n    var { minX, minY, radius, centerX, centerY } = this.getRectangle();\n\n    var { x, y } = this.getCurrentXY(\n      e,\n      this.getDefaultValue(),\n      this.getDefaultSaturation() * radius,\n      centerX,\n      centerY\n    );\n\n    var rx = x - centerX,\n      ry = y - centerY,\n      d = rx * rx + ry * ry,\n      hue = calculateAngle(rx, ry);\n\n    if (d > radius * radius) {\n      var { x, y } = this.getCurrentXY(null, hue, radius, centerX, centerY);\n    }\n\n    // saturation 을\n    var saturation = Math.min(Math.sqrt(d) / radius, 1);\n\n    // set drag pointer position\n    this.refs.$drag_pointer.px(\"left\", x - minX);\n    this.refs.$drag_pointer.px(\"top\", y - minY);\n\n    if (!isEvent) {\n      this.changeColor({\n        type: \"hsv\",\n        h: hue,\n        s: saturation\n      });\n    }\n  }\n\n  changeColor(opt) {\n    this.parent.manager.changeColor(opt || {});\n  }\n\n  [EVENT(\"changeColor\")]() {\n    this.refresh(true);\n  }\n\n  [EVENT(\"initColor\")]() {\n    this.refresh(true);\n  }\n\n  // Event Bindings\n  [POINTEREND(\"document\")](e) {\n    this.isDown = false;\n  }\n\n  [POINTERMOVE(\"document\")](e) {\n    if (this.isDown) {\n      this.setHueColor(e);\n    }\n  }\n\n  [POINTERSTART(\"$drag_pointer\")](e) {\n    // e.preventDefault();\n    this.isDown = true;\n  }\n\n  [POINTERSTART()](e) {\n    this.isDown = true;\n    this.setHueColor(e);\n  }\n}\n","import Event, { CLICK, KEYUP, INPUT, KEYDOWN } from '../../util/Event'\nimport UIElement, { EVENT } from '../../util/UIElement';\n\nexport default class ColorInformation extends UIElement {\n\n    template () {\n        return /*html*/`\n        <div class=\"information hex\">\n            <div ref=\"$informationChange\" class=\"information-change\">\n                <button ref=\"$formatChangeButton\" type=\"button\" class=\"format-change-button arrow-button\"></button>\n            </div>\n            <div class=\"information-item hex\">\n                <div class=\"input-field hex\">\n                    <input ref=\"$hexCode\" class=\"input\" type=\"text\" />\n                    <div class=\"title\">HEX</div>\n                </div>\n            </div>\n            <div class=\"information-item rgb\">\n                <div class=\"input-field rgb-r\">\n                    <input ref=\"$rgb_r\" class=\"input\" type=\"number\" step=\"1\" min=\"0\" max=\"255\" />\n                    <div class=\"title\">R</div>\n                </div>\n                <div class=\"input-field rgb-g\">\n                    <input ref=\"$rgb_g\" class=\"input\" type=\"number\" step=\"1\" min=\"0\" max=\"255\" />\n                    <div class=\"title\">G</div>\n                </div>\n                <div class=\"input-field rgb-b\">\n                    <input ref=\"$rgb_b\" class=\"input\" type=\"number\" step=\"1\" min=\"0\" max=\"255\" />\n                    <div class=\"title\">B</div>\n                </div>          \n                <div class=\"input-field rgb-a\">\n                    <input ref=\"$rgb_a\" class=\"input\" type=\"number\" step=\"0.01\" min=\"0\" max=\"1\" />\n                    <div class=\"title\">A</div>\n                </div>                                                            \n            </div>\n            <div class=\"information-item hsl\">\n                <div class=\"input-field hsl-h\">\n                    <input ref=\"$hsl_h\" class=\"input\" type=\"number\" step=\"1\" min=\"0\" max=\"360\" />\n                    <div class=\"title\">H</div>\n                </div>\n                <div class=\"input-field hsl-s\">\n                    <input ref=\"$hsl_s\" class=\"input\" type=\"number\" step=\"1\" min=\"0\" max=\"100\" />\n                    <div class=\"postfix\">%</div>\n                    <div class=\"title\">S</div>\n                </div>\n                <div class=\"input-field hsl-l\">\n                    <input ref=\"$hsl_l\" class=\"input\" type=\"number\" step=\"1\" min=\"0\" max=\"100\" />\n                    <div class=\"postfix\">%</div>                        \n                    <div class=\"title\">L</div>\n                </div>\n                <div class=\"input-field hsl-a\">\n                    <input ref=\"$hsl_a\" class=\"input\" type=\"number\" step=\"0.01\" min=\"0\" max=\"1\" />\n                    <div class=\"title\">A</div>\n                </div>\n            </div>\n        </div>\n        `\n    }\n    \n    setCurrentFormat (format) {\n        this.format = format\n\n        this.initFormat();\n    }\n    \n    initFormat () {\n        var current_format = this.format || 'hex';\n    \n        ['hex', 'rgb', 'hsl'].filter(it => it !== current_format).forEach(formatString => {\n            this.$el.removeClass(formatString);\n        })\n\n        this.$el.addClass(current_format);\n    }\n    \n    nextFormat() {\n        var current_format = this.format || 'hex';\n\n        var next_format = 'hex';\n        if (current_format == 'hex') {\n            next_format = 'rgb';\n        } else if (current_format == 'rgb') {\n            next_format = 'hsl';\n        } else if (current_format == 'hsl') {\n            if (this.parent.alpha == 1) {\n                next_format = 'hex';\n            } else {\n                next_format = 'rgb';\n            }\n        }\n\n        this.format = next_format;\n\n        this.initFormat();\n\n        this.parent.manager.changeFormat(this.format)\n    }\n\n    goToFormat(to_format) {\n        this.format = to_format;\n        if (to_format === 'rgb' || to_format === 'hsl') {\n            this.initFormat();\n        }\n\n        this.parent.manager.changeFormat(this.format)\n    }    \n    \n    getFormat () {\n        return this.format || 'hex';   \n    }\n\n    changeRgbColor () {\n        this.parent.changeColor({\n            type: 'rgb',\n            r : this.refs.$rgb_r.int(),\n            g : this.refs.$rgb_g.int(),\n            b : this.refs.$rgb_b.int(),\n            a : this.refs.$rgb_a.float()\n        })\n    }\n\n    changeHslColor () {\n        this.parent.changeColor({\n            type: 'hsl',\n            h : this.refs.$hsl_h.int(),\n            s : this.refs.$hsl_s.int(),\n            l : this.refs.$hsl_l.int(),\n            a : this.refs.$hsl_a.float()\n        })        \n    }    \n\n    [EVENT('changeColor', 'initColor')] () {\n        this.refresh()\n    }\n\n    [INPUT('$rgb_r')] (e) {  this.changeRgbColor(); }\n    [INPUT('$rgb_g')] (e) {  this.changeRgbColor(); }\n    [INPUT('$rgb_b')] (e) {  this.changeRgbColor(); }\n    [INPUT('$rgb_a')] (e) {  this.changeRgbColor(); }  \n    \n    [INPUT('$hsl_h')] (e) {  this.changeHslColor(); }\n    [INPUT('$hsl_s')] (e) {  this.changeHslColor(); }\n    [INPUT('$hsl_l')] (e) {  this.changeHslColor(); }\n    [INPUT('$hsl_a')] (e) {  this.changeHslColor(); }      \n\n    [KEYUP('$hexCode')] (e) {\n        var code = this.refs.$hexCode.val();\n    \n        if(code.charAt(0) == '#' && (code.length == 7 || code.length === 9)) {\n            this.parent.initColor(code)\n        }\n    }\n    \n    [CLICK('$formatChangeButton')] (e) {\n        this.nextFormat();\n    }\n\n    [CLICK('$el .information-item.hex .input-field .title')] (e) {\n        this.goToFormat('hex');\n    }    \n\n    [CLICK('$el .information-item.rgb .input-field .title')] (e) {\n        this.goToFormat('hsl');\n    }    \n\n    [CLICK('$el .information-item.hsl .input-field .title')] (e) {\n        this.goToFormat('rgb');\n    }        \n\n    setRGBInput() {\n        this.refs.$rgb_r.val(this.parent.rgb.r);\n        this.refs.$rgb_g.val(this.parent.rgb.g);\n        this.refs.$rgb_b.val(this.parent.rgb.b);\n        this.refs.$rgb_a.val(this.parent.alpha);\n    }\n    \n    setHSLInput() {\n        this.refs.$hsl_h.val(this.parent.hsl.h);\n        this.refs.$hsl_s.val(this.parent.hsl.s);\n        this.refs.$hsl_l.val(this.parent.hsl.l);\n        this.refs.$hsl_a.val(this.parent.alpha);\n    }    \n\n    setHexInput () {\n        this.refs.$hexCode.val(this.parent.manager.toString('hex'));\n    }\n\n    refresh () {\n        this.setCurrentFormat(this.parent.format);\n        this.setRGBInput();\n        this.setHSLInput();\n        this.setHexInput();\n    }\n}\n","import UIElement, { EVENT } from '../../util/UIElement';\nimport { CLICK, LOAD } from '../../util/Event';\nimport { html } from '../../util/functions/func';\n\nconst DATA_COLORSETS_INDEX = 'data-colorsets-index';\n\nexport default class ColorSetsChooser extends UIElement {\n\n    template () {\n        return `<div class=\"color-chooser\">\n            <div class=\"color-chooser-container\">\n                <div class=\"colorsets-item colorsets-item-header\">\n                    <h1 class=\"title\">Color Palettes</h1>\n                    <span ref=\"$toggleButton\" class=\"items\">&times;</span>\n                </div>\n                <div ref=\"$colorsetsList\" class=\"colorsets-list\"></div>\n            </div>\n        </div>`\n    }\n\n    [EVENT('changeCurrentColorSets')] () {\n        this.refresh()\n    }\n\n    [EVENT('toggleColorChooser')] () {\n        this.toggle()\n    }\n\n    [LOAD('$colorsetsList')] () {\n\n        const colorSets = this.parent.manager.getColorSetsList();\n\n        return `\n            <div>\n                ${colorSets.map( (element, index) => {\n                    return `\n                        <div class=\"colorsets-item\" data-colorsets-index=\"${index}\" >\n                            <h1 class=\"title\">${element.name}</h1>\n                            <div class=\"items\">\n                                <div>\n                                    ${element.colors.filter((color, i) => i < 5).map(color => {\n                                        color = color || 'rgba(255, 255, 255, 1)';\n                                        return  `<div class=\"color-item\" title=\"${color}\">\n                                                <div class=\"color-view\" style=\"background-color: ${color}\"></div>\n                                            </div>`\n                                    }).join('')}\n                                </div>\n                            </div>\n                        </div>`\n                }).join('')}\n            </div>\n        `\n    }\n\n    show () {\n        this.$el.addClass('open');\n    }\n\n    hide () {\n        this.$el.removeClass('open');\n    }\n\n    toggle () {\n        this.$el.toggleClass('open');\n    }\n\n\n    [CLICK('$toggleButton')] (e) {\n        this.toggle();\n    }\n\n    [CLICK('$colorsetsList .colorsets-item')] (e, $dt) {\n        if ($dt) {\n\n            const index = parseInt($dt.attr(DATA_COLORSETS_INDEX));\n\n            this.parent.manager.setCurrentColorSets(index);\n\n            this.hide();\n        }\n    }\n\n    destroy () {\n        super.destroy();\n\n        this.hide();\n    }\n\n}\n","import Dom from '../../util/Dom'\nimport UIElement, { EVENT } from '../../util/UIElement';\nimport { CLICK, CONTEXTMENU, LOAD } from '../../util/Event';\nimport { html } from '../../util/functions/func';\n\nexport default class CurrentColorSets extends UIElement {\n\n    template() {\n        return `\n            <div class=\"colorsets\">\n                <div class=\"menu\" title=\"Open Color Palettes\">\n                    <button ref=\"$colorSetsChooseButton\" type=\"button\" class=\"color-sets-choose-btn arrow-button\"></button>\n                </div>\n                <div ref=\"$colorSetsColorList\" class=\"color-list\"></div>\n            </div>\n        `\n    }    \n    \n    [LOAD('$colorSetsColorList')] () {\n        const currentColorSets  = this.parent.manager.getCurrentColorSets()\n        const colors  = this.parent.manager.getCurrentColors()\n\n        return `<div class=\"current-color-sets\">\n            ${colors.map( (color, i) => {\n                return `<div class=\"color-item\" title=\"${color}\" data-index=\"${i}\" data-color=\"${color}\">\n                    <div class=\"empty\"></div>\n                    <div class=\"color-view\" style=\"background-color: ${color}\"></div>\n                </div>`\n            }).join('')}   \n            ${currentColorSets.edit ? `<div class=\"add-color-item\">+</div>` : ''}         \n            </div>`\n    }    \n\n    addColor (color) {\n        this.parent.manager.addCurrentColor(color);\n        this.refresh();\n    }\n\n    [EVENT('changeCurrentColorSets')] () {\n        this.refresh()\n    }\n\n    [EVENT('initColor')] () {\n        this.refresh();\n    }\n\n    [CLICK('$colorSetsChooseButton')] (e) {\n        this.emit('toggleColorChooser');\n    }\n\n    [CONTEXTMENU('$colorSetsColorList')] (e) {\n        e.preventDefault();\n        const currentColorSets  = this.parent.manager.getCurrentColorSets()\n\n        if (!currentColorSets.edit) {\n            return; \n        }\n\n        const $target = Dom.create(e.target);\n        \n        const $item = $target.closest('color-item');\n\n        if ($item) {\n            const index = parseInt($item.attr('data-index'));\n\n            this.emit('showContextMenu', e, index);\n        } else {\n            this.emit('showContextMenu', e);            \n        }\n    }\n\n    [CLICK('$colorSetsColorList .add-color-item')] (e) {\n        this.addColor(this.parent.getColor());\n    }\n\n    [CLICK('$colorSetsColorList .color-item')] (e, $dt) {\n        this.parent.initColor($dt.attr('data-color'));\n    }\n\n}\n","import Event, { CLICK } from '../../util/Event'\nimport UIElement, { EVENT } from '../../util/UIElement';\nimport { isUndefined } from '../../util/functions/func';\n\nexport default class CurrentColorSetsContextMenu extends UIElement {\n\n    template () {\n        return `\n            <ul class=\"colorsets-contextmenu\">\n                <li class=\"menu-item small-hide\" data-type=\"remove-color\">Remove color</li>\n                <li class=\"menu-item small-hide\" data-type=\"remove-all-to-the-right\">Remove all to the right</li>\n                <li class=\"menu-item\" data-type=\"clear-palette\">Clear palette</li>\n            </ul>\n        `\n    }\n\n    show (e, index) {\n        const $event = Event.pos(e);\n\n        this.$el.px('top', $event.clientY - 10)\n        this.$el.px('left', $event.clientX)\n        this.$el.addClass('show');\n        this.selectedColorIndex = index; \n\n        if (isUndefined(this.selectedColorIndex)) {\n            this.$el.addClass('small')\n        } else {\n            this.$el.removeClass('small')\n        }\n\n    }\n\n    hide () {\n        this.$el.removeClass('show');\n    }\n\n    runCommand (command) {\n        switch(command) {\n        case 'remove-color': \n            this.parent.manager.removeCurrentColor(this.selectedColorIndex);        \n            break;\n        case 'remove-all-to-the-right': \n            this.parent.manager.removeCurrentColorToTheRight(this.selectedColorIndex);        \n            break;\n        case 'clear-palette': \n            this.parent.manager.clearPalette();\n            break;\n        }\n    }\n\n    [EVENT('showContextMenu')] (e, index) {\n        this.show(e, index)\n    }\n\n    [CLICK('$el .menu-item')] (e, $dt) {\n        e.preventDefault();\n\n        this.runCommand($dt.attr('data-type'));\n        this.hide();        \n    }\n\n}\n","import BaseColorPicker from '../BaseColorPicker'\n\nimport Value from '../ui/control/Value';\nimport Opacity from '../ui/control/Opacity'\nimport ColorView from '../ui/control/ColorView'\nimport ColorWheel from '../ui/ColorWheel'\nimport Information from '../ui/ColorInformation'\nimport ColorSetsChooser from '../ui/ColorSetsChooser'\nimport CurrentColorSets from '../ui/CurrentColorSets'\nimport ContextMenu from '../ui/CurrentColorSetsContextMenu'\n\nexport default class MacOSColorPicker extends BaseColorPicker {\n  \n    template () {\n        return `\n            <div class='colorpicker-body'>\n                <ColorWheel />\n                <div class=\"control\">\n                    <Value />\n                    <Opacity />\n                    <div class=\"empty\"></div>\n                    <ColorView />\n                </div>\n                <Information />\n                <CurrentColorSets />\n                <ColorSetsChooser >\n                <ContextMenu />\n            </div> \n        `\n    }\n\n    components() {\n        return { \n            Value, Opacity, ColorView,\n            ColorWheel,  \n            Information,\n            CurrentColorSets,\n            ColorSetsChooser,\n            ContextMenu\n        }\n    }\n\n\n}","import BaseSlider from '../../BaseSlider';\n\nexport default class Hue extends BaseSlider {\n\n    initState() {\n        return {\n            minValue: 0,\n            maxValue: 360\n        }\n    }\n\n    template () {\n        return `\n            <div class=\"hue\">\n                <div ref=\"$container\" class=\"hue-container\">\n                    <div ref=\"$bar\" class=\"drag-bar\"></div>\n                </div>\n            </div>\n        `\n    }\n\n    getDefaultValue () {\n        return this.parent.hsv.h\n    }\n\n    refreshColorUI(e) {\n\n        var dist = this.getCalculatedDist(e);\n     \n        this.setColorUI(dist/100 * this.state.maxValue);\n\n        this.changeColor({\n            h: (dist/100) * this.state.maxValue,\n            type: 'hsv'\n        })\n    }     \n\n\n}\n","import UIElement, { EVENT } from \"../../util/UIElement\";\nimport Event, { POINTERSTART, POINTEREND, POINTERMOVE } from \"../../util/Event\";\n\nexport default class ColorPalette extends UIElement {\n  template() {\n    return /*html*/`\n        <div class=\"color-panel\">\n            <div ref=\"$saturation\" class=\"saturation\">\n                <div ref=\"$value\" class=\"value\">\n                    <div ref=\"$drag_pointer\" class=\"drag-pointer\"></div>\n                </div>\n            </div>        \n        </div>        \n        `;\n  }\n\n  setBackgroundColor(color) {\n    this.$el.css(\"background-color\", color);\n  }\n\n  refresh() {\n    this.setColorUI();\n  }\n\n  calculateSV() {\n    var pos = this.drag_pointer_pos || { x: 0, y: 0 };\n\n    var width = this.$el.width();\n    var height = this.$el.height();\n\n    var s = pos.x / width;\n    var v = (height - pos.y) / height;\n\n    this.parent.initColor({\n      type: \"hsv\",\n      s,\n      v\n    });\n  }\n\n  setColorUI() {\n    var x = this.$el.width() * this.parent.hsv.s,\n      y = this.$el.height() * (1 - this.parent.hsv.v);\n\n    this.refs.$drag_pointer.px(\"left\", x);\n    this.refs.$drag_pointer.px(\"top\", y);\n\n    this.drag_pointer_pos = { x, y };\n\n    this.setBackgroundColor(this.parent.manager.getHueColor());\n  }\n\n  setMainColor(e) {\n    // e.preventDefault();\n    var pos = this.$el.offset();\n    var w = this.$el.contentWidth();\n    var h = this.$el.contentHeight();\n\n    var x = Event.pos(e).pageX - pos.left;\n    var y = Event.pos(e).pageY - pos.top;\n\n    if (x < 0) x = 0;\n    else if (x > w) x = w;\n\n    if (y < 0) y = 0;\n    else if (y > h) y = h;\n\n    this.refs.$drag_pointer.px(\"left\", x);\n    this.refs.$drag_pointer.px(\"top\", y);\n\n    this.drag_pointer_pos = { x, y };\n\n    this.calculateSV();\n  }\n\n  [EVENT(\"changeColor\", 'initColor')]() {\n    this.refresh();\n  }\n\n  [POINTEREND(\"document\")](e) {\n    this.isDown = false;\n  }\n\n  [POINTERMOVE(\"document\")](e) {\n    if (this.isDown) {\n      this.setMainColor(e);\n    }\n  }\n\n  [POINTERSTART()](e) {\n    this.isDown = true;\n    this.setMainColor(e);\n  }\n\n  [POINTEREND()](e) {\n    this.isDown = false;\n  }\n}\n","import BaseColorPicker from \"../BaseColorPicker\";\n\nimport Hue from \"../ui/control/Hue\";\nimport Opacity from \"../ui/control/Opacity\";\nimport ColorView from \"../ui/control/ColorView\";\nimport Information from \"../ui/ColorInformation\";\nimport Palette from \"../ui/ColorPalette\";\nimport ColorSetsChooser from \"../ui/ColorSetsChooser\";\nimport CurrentColorSets from \"../ui/CurrentColorSets\";\nimport ContextMenu from \"../ui/CurrentColorSetsContextMenu\";\n\nexport default class ChromeDevToolColorPicker extends BaseColorPicker {\n  template() {\n    return /*html*/`\n      <div class='colorpicker-body'>\n        <Palette />\n        <div class=\"control\">\n            <Hue />\n            <Opacity />\n            <div class=\"empty\"></div>\n            <ColorView />\n        </div>\n        <Information />\n        <CurrentColorSets />\n        <ColorSetsChooser />\n        <ContextMenu />\n      </div>\n    `;\n  }\n\n  components() {\n    return {\n      Hue,\n      Opacity,\n      ColorView,\n      Palette,\n      Information,\n      CurrentColorSets,\n      ColorSetsChooser,\n      ContextMenu\n    };\n  }\n}\n","import BaseColorPicker from '../BaseColorPicker'\n\nimport Hue from '../ui/control/Hue';\nimport Opacity from '../ui/control/Opacity'\nimport Palette from '../ui/ColorPalette'\n\nexport default class MiniColorPicker extends BaseColorPicker {\n\n    template () {\n        return `\n            <div class='colorpicker-body'>\n                <Palette />\n                <div class=\"control\">\n                    <Hue />\n                    <Opacity />\n                </div>\n            </div>\n        `\n    } \n\n    components() {\n        return { \n            Hue, Opacity, Palette\n        }\n    }\n\n}","import Event from '../util/Event'\nimport BaseSlider from \"./BaseSlider\";\n\nexport default class VerticalSlider extends BaseSlider {\n\n    /** get max height for vertical slider */\n    getMaxDist () {\n        return this.refs.$container.height();\n    }\n\n    /** set mouse pointer for vertical slider */\n    setMousePosition (y) {\n        this.refs.$bar.px('top', y);\n    }\n\n    /** get mouse position by pageY for vertical slider */    \n    getMousePosition (e) {\n        return Event.pos(e).pageY;\n    }       \n\n    /** get min position for vertial slider */\n    getMinPosition () {\n        return this.refs.$container.offset().top;\n    }\n\n    /** get calculated dist for domain value   */\n    getCalculatedDist (e) {\n        var current = e ? this.getMousePosition(e) : this.getCurrent(this.getDefaultValue() / this.state.maxValue);\n        var dist =  100 - this.getDist(current);\n        \n        return dist; \n    }\n\n    /** set drag bar position  */\n    setColorUI(v) {\n        \n        v = v || this.getDefaultValue(); \n\n        if (v <= this.minValue) {\n            this.refs.$bar.addClass('first').removeClass('last')\n        } else if (v >= this.maxValue) {\n            this.refs.$bar.addClass('last').removeClass('first')\n        } else {\n            this.refs.$bar.removeClass('last').removeClass('first')\n        }\n\n        var per = 1 - ( (v || 0) / this.state.maxValue);\n\n        this.setMousePosition(this.getMaxDist() * per );\n    }        \n}\n","import VerticalSlider from '../../VerticalSlider';\n\nexport default class VerticalHue extends VerticalSlider {\n\n    initialize () {\n        super.initialize()\n        this.minValue = 0\n        this.maxValue = 360 \n    }\n\n    template () {\n        return `\n            <div class=\"hue\">\n                <div ref=\"$container\" class=\"hue-container\">\n                    <div ref=\"$bar\" class=\"drag-bar\"></div>\n                </div>\n            </div>\n        `\n    }\n\n    getDefaultValue () {\n        return this.parent.hsv.h \n    }\n\n    refreshColorUI(e) {\n\n        var dist = this.getCalculatedDist(e)\n    \n        this.setColorUI( dist/100 * this.maxValue);\n\n        this.changeColor({\n            h: (dist/100) * this.maxValue,\n            type: 'hsv'\n        })\n    }     \n\n}\n","\nimport Color from '../../../util/Color'\nimport VerticalSlider from '../../VerticalSlider';\n\nexport default class VerticalOpacity extends VerticalSlider {\n\n    template () {\n        return `\n        <div class=\"opacity\">\n            <div ref=\"$container\" class=\"opacity-container\">\n                <div ref=\"$colorbar\" class=\"color-bar\"></div>\n                <div ref=\"$bar\" class=\"drag-bar2\"></div>\n            </div>\n        </div>\n        `\n    }\n\n    refresh () {\n        super.refresh() \n        this.setOpacityColorBar()\n    }\n\n    setOpacityColorBar() {\n        var rgb = {...this.parent.rgb};\n    \n        rgb.a = 0;\n        var start = Color.format(rgb, 'rgb');\n    \n        rgb.a = 1;\n        var end = Color.format(rgb, 'rgb');\n    \n        this.refs.$colorbar.css('background',  'linear-gradient(to top, ' + start + ', ' + end + ')');\n    }\n\n    getDefaultValue () {\n        return this.parent.alpha\n    }\n\n    refreshColorUI(e) {\n        var dist = this.getCalculatedDist(e)\n\n        this.setColorUI(  ( dist/100 * this.maxValue) );\n\n        this.changeColor({\n            a: Math.floor(dist) / 100 * this.maxValue\n        })\n    }\n}\n","import BaseColorPicker from '../BaseColorPicker'\n\nimport Hue from '../ui/control/VerticalHue';\nimport Opacity from '../ui/control/VerticalOpacity'\nimport Palette from '../ui/ColorPalette'\n\nexport default class MiniColorPicker extends BaseColorPicker {\n\n    template () {\n        return `\n            <div class='colorpicker-body'>\n                <Palette /><div class=\"control\"><Hue /><Opacity /></div>\n            </div>\n        `\n    } \n\n    components() {\n        return { \n            Hue,\n            Opacity,\n            Palette\n        }\n    }\n\n}","import ColorWheel from \"./ColorWheel\";\nimport { calculateAngle } from \"../../util/functions/math\";\n\nexport default class ColorRing extends ColorWheel {\n  initialize() {\n    super.initialize();\n\n    this.width = 214;\n    this.height = 214;\n    this.thinkness = 16;\n    this.half_thinkness = this.thinkness / 2;\n  }\n\n  template() {\n    return `<div class=\"wheel\" data-type=\"ring\">\n            <canvas class=\"wheel-canvas\" ref=\"$colorwheel\" ></canvas>\n            <div class=\"drag-pointer\" ref=\"$drag_pointer\"></div>\n        </div>`;\n  }\n\n  setColorUI(isEvent) {\n    this.renderCanvas();\n    this.setHueColor(null, isEvent);\n  }\n\n  getDefaultValue() {\n    return this.parent.hsv.h;\n  }\n\n  setHueColor(e, isEvent) {\n    var { minX, minY, radius, centerX, centerY } = this.getRectangle();\n    var { x, y } = this.getCurrentXY(\n      e,\n      this.getDefaultValue(),\n      radius,\n      centerX,\n      centerY\n    );\n\n    var rx = x - centerX,\n      ry = y - centerY,\n      hue = calculateAngle(rx, ry);\n\n    {\n      var { x, y } = this.getCurrentXY(\n        null,\n        hue,\n        radius - this.half_thinkness,\n        centerX,\n        centerY\n      );\n    }\n\n    // set drag pointer position\n    this.refs.$drag_pointer.px(\"left\", x - minX);\n    this.refs.$drag_pointer.px(\"top\", y - minY);\n\n    if (!isEvent) {\n      this.changeColor({\n        type: \"hsv\",\n        h: hue\n      });\n    }\n  }\n}\n","import BaseColorPicker from '../BaseColorPicker'\n\nimport Value from '../ui/control/Value'\nimport Opacity from '../ui/control/Opacity'\nimport ColorView from '../ui/control/ColorView'\nimport Information from '../ui/ColorInformation'\nimport ColorSetsChooser from '../ui/ColorSetsChooser'\nimport CurrentColorSets from '../ui/CurrentColorSets'\nimport ContextMenu from '../ui/CurrentColorSetsContextMenu'\nimport ColorRing from '../ui/ColorRing';\nimport Palette from '../ui/ColorPalette';\n\nexport default class RingColorPicker extends BaseColorPicker {\n \n    template () {\n        return `\n            <div class='colorpicker-body'>\n                <ColorRing />\n                <Palette />\n                <div class=\"control\">\n                    <Value />\n                    <Opacity />\n                    <div class=\"empty\"></div>\n                    <ColorView />\n                </div>\n                <Information />\n                <CurrentColorSets />\n                <ColorSetsChooser />\n                <ContextMenu />\n            </div>\n        `\n    }\n\n    components() {\n        return { \n            Value,\n            Opacity, \n            ColorView,\n            ColorRing, \n            Palette, \n            Information,\n            CurrentColorSets,\n            ColorSetsChooser,\n            ContextMenu\n        }\n    }\n}","import BaseColorPicker from '../BaseColorPicker'\n\nimport Information from '../ui/ColorInformation'\nimport Palette from '../ui/ColorPalette'\nimport ColorSetsChooser from '../ui/ColorSetsChooser'\nimport CurrentColorSets from '../ui/CurrentColorSets'\nimport ContextMenu from '../ui/CurrentColorSetsContextMenu'\nimport Hue from '../ui/control/VerticalHue'\nimport Opacity from '../ui/control/VerticalOpacity'\n\nexport default class XDColorPicker extends BaseColorPicker {\n\n    template () { \n        return `\n            <div class='colorpicker-body'>\n                <palette />\n                <div class=\"control\">\n                    <Hue />\n                    <Opacity />\n                </div>\n                <information />\n                <currentColorSets />\n                <colorSetsChooser />\n                <contextMenu />\n            </div>\n        `\n    }\n\n    components() {\n        return { \n            Hue,\n            Opacity,\n            Palette,  \n            Information,\n            CurrentColorSets,\n            ColorSetsChooser,\n            ContextMenu\n        }\n    }\n\n}","import BaseColorPicker from '../BaseColorPicker'\n\nimport Value from '../ui/control/Value'\nimport Opacity from '../ui/control/Opacity'\nimport ColorView from '../ui/control/ColorView'\nimport Information from '../ui/ColorInformation'\nimport ColorSetsChooser from '../ui/ColorSetsChooser'\nimport CurrentColorSets from '../ui/CurrentColorSets'\nimport ContextMenu from '../ui/CurrentColorSetsContextMenu'\nimport ColorRing from '../ui/ColorRing';\nimport Palette from '../ui/ColorPalette';\nimport { CLICK } from '../../util/Event';\n\nexport default class RingTabColorPicker extends BaseColorPicker {\n    template () {\n        return `\n            <div class='colorpicker-body'>\n                <div class='color-tab' ref=\"$tab\">\n                    <div class='color-tab-header' ref=\"$tabHeader\">\n                        <div class='color-tab-item active' item-id=\"color\"><span >${this.opt.tabTitle}</span> Color</div>\n                        <div class='color-tab-item' item-id=\"swatch\">Swatch</div>\n                        <div class='color-tab-item' item-id=\"colorset\">Color Set</div>\n                    </div>\n                    <div class='color-tab-body' ref=\"$tabBody\">\n                        <div class='color-tab-content active'  item-id=\"color\">\n                            <ColorRing />\n                            <Palette />\n                            <div class=\"control\">\n                                <Value />\n                                <Opacity />\n                                <div class=\"empty\"></div>\n                                <ColorView />\n                            </div>\n                            <Information />\n                        </div>\n                        <div class='color-tab-content' item-id=\"swatch\">\n                            <CurrentColorSets />\n                            <ContextMenu />\n                        </div>\n                        <div class='color-tab-content' item-id=\"colorset\">\n                            <ColorSetsChooser />\n                        </div>                        \n                    </div>\n            </div>\n        `\n    }\n\n    [CLICK('$tabHeader .color-tab-item')] (e, $dt) {\n        if (!$dt.hasClass('active')) {\n            var selectedItem = this.refs.$tabHeader.$('.active');\n            if (selectedItem) selectedItem.removeClass('active');\n            $dt.addClass('active')\n\n            var selectedItem = this.refs.$tabBody.$('.active');\n            if (selectedItem) selectedItem.removeClass('active');\n            var activeItem = this.refs.$tabBody.$(`[item-id='${$dt.attr('item-id')}']`);\n            if (activeItem) activeItem.addClass('active');\n        }\n\n    }\n\n    components() {\n        return { \n            Value,\n            Opacity, \n            ColorView,\n            ColorRing, \n            Palette, \n            Information,\n            CurrentColorSets,\n            ColorSetsChooser,\n            ContextMenu\n        }\n    }\n}","import BaseColorPicker from '../BaseColorPicker'\n\nimport Information from '../ui/ColorInformation'\nimport Palette from '../ui/ColorPalette'\nimport ColorSetsChooser from '../ui/ColorSetsChooser'\nimport CurrentColorSets from '../ui/CurrentColorSets'\nimport ContextMenu from '../ui/CurrentColorSetsContextMenu'\nimport Hue from '../ui/control/VerticalHue'\nimport Opacity from '../ui/control/VerticalOpacity'\nimport { CLICK } from '../../util/Event';\n\nexport default class XDTabColorPicker extends BaseColorPicker {\n\n    template () { \n        return `\n            <div class='colorpicker-body'>\n                <div class='color-tab xd' ref=\"$tab\">\n                    <div class='color-tab-header' ref=\"$tabHeader\">\n                        <div class='color-tab-item active' item-id=\"color\"><span >${this.opt.tabTitle}</span> Color</div>\n                        <div class='color-tab-item' item-id=\"swatch\">Swatch</div>\n                        <div class='color-tab-item' item-id=\"colorset\">Color Set</div>\n                    </div>\n                    <div class='color-tab-body' ref=\"$tabBody\">\n                        <div class='color-tab-content active'  item-id=\"color\">\n                            <palette />\n                            <div class=\"control\">\n                                <Hue />\n                                <Opacity />\n                            </div>\n                            <information />\n                        </div>\n                        <div class='color-tab-content' item-id=\"swatch\">\n                            <CurrentColorSets />\n                            <ContextMenu />\n                        </div>\n                        <div class='color-tab-content' item-id=\"colorset\">\n                            <ColorSetsChooser />\n                        </div>                        \n                    </div>\n\n            </div>\n        `\n    }\n\n\n    [CLICK('$tabHeader .color-tab-item')] (e, $dt) {\n        if (!$dt.hasClass('active')) {\n            var selectedItem = this.refs.$tabHeader.$('.active');\n            if (selectedItem) selectedItem.removeClass('active');\n            $dt.addClass('active')\n\n            var selectedItem = this.refs.$tabBody.$('.active');\n            if (selectedItem) selectedItem.removeClass('active');\n            var activeItem = this.refs.$tabBody.$(`[item-id='${$dt.attr('item-id')}']`);\n            if (activeItem) activeItem.addClass('active');\n        }\n\n    }    \n\n    components() {\n        return { \n            Hue,\n            Opacity,\n            Palette,  \n            Information,\n            CurrentColorSets,\n            ColorSetsChooser,\n            ContextMenu\n        }\n    }\n\n}","import MacOSColorPicker from \"./macos/index\";\nimport ChromeDevToolColorPicker from \"./chromedevtool/index\";\nimport MiniColorPicker from \"./mini/index\";\nimport MiniVerticalColorPicker from \"./mini-vertical/index\";\nimport RingColorPicker from \"./ring/index\";\nimport XDColorPicker from \"./xd/index\";\nimport RingTabColorPicker from \"./ring-tab/index\";\nimport XDTabColorPicker from \"./xd-tab/index\";\n\nexport default {\n  create(opts) {\n    switch (opts.type) {\n      case \"macos\":\n        return new MacOSColorPicker(opts);\n      case \"xd\":\n        return new XDColorPicker(opts);\n      case \"xd-tab\":\n        return new XDTabColorPicker(opts);\n      case \"ring\":\n        return new RingColorPicker(opts);\n      case \"ring-tab\":\n        return new RingTabColorPicker(opts);\n      case \"mini\":\n        return new MiniColorPicker(opts);\n      case \"mini-vertical\":\n        return new MiniVerticalColorPicker(opts);\n      case \"sketch\":\n      case \"palette\":\n      default:\n        return new ChromeDevToolColorPicker(opts);\n    }\n  },\n  ColorPicker: ChromeDevToolColorPicker,\n  ChromeDevToolColorPicker,\n  MacOSColorPicker,\n  RingColorPicker,\n  MiniColorPicker,\n  MiniVerticalColorPicker,\n  XDColorPicker\n};\n","\nexport const SEGMENT_TYPE_ROTATE = 'rotate';\nexport const SEGMENT_TYPE_MOVE = 'move';\nexport const SEGMENT_TYPE_TOP = 'to top';\nexport const SEGMENT_TYPE_LEFT = 'to left';\nexport const SEGMENT_TYPE_RIGHT = 'to right';\nexport const SEGMENT_TYPE_BOTTOM = 'to bottom';\nexport const SEGMENT_TYPE_TOP_RIGHT = 'to top right';\nexport const SEGMENT_TYPE_TOP_LEFT = 'to top left';\nexport const SEGMENT_TYPE_BOTTOM_RIGHT = 'to bottom right';\nexport const SEGMENT_TYPE_BOTTOM_LEFT = 'to bottom left';\n\nconst move = {\n    [SEGMENT_TYPE_MOVE] : true \n}\n\nconst right = {\n    [SEGMENT_TYPE_RIGHT]: true, \n    [SEGMENT_TYPE_TOP_RIGHT]: true, \n    [SEGMENT_TYPE_BOTTOM_RIGHT]: true\n}\nconst left = {\n    [SEGMENT_TYPE_LEFT]: true, \n    [SEGMENT_TYPE_TOP_LEFT]: true, \n    [SEGMENT_TYPE_BOTTOM_LEFT]: true\n}\nconst top = {\n    [SEGMENT_TYPE_TOP]: true, \n    [SEGMENT_TYPE_TOP_RIGHT]: true, \n    [SEGMENT_TYPE_TOP_LEFT]: true\n}\n\nconst bottom = {\n    [SEGMENT_TYPE_BOTTOM]: true, \n    [SEGMENT_TYPE_BOTTOM_LEFT]: true, \n    [SEGMENT_TYPE_BOTTOM_RIGHT]: true\n}\n\nconst X_DIRECTION_NUMBER = {\n    [SEGMENT_TYPE_RIGHT] : 2,\n    [SEGMENT_TYPE_TOP_RIGHT] : 2,\n    [SEGMENT_TYPE_BOTTOM_RIGHT] : 2,\n    [SEGMENT_TYPE_LEFT] : 0,\n    [SEGMENT_TYPE_TOP_LEFT] : 0,\n    [SEGMENT_TYPE_BOTTOM_LEFT] : 0\n}\n\nconst Y_DIRECTION_NUMBER = {\n    [SEGMENT_TYPE_BOTTOM] : 2,\n    [SEGMENT_TYPE_BOTTOM_LEFT] : 2,\n    [SEGMENT_TYPE_BOTTOM_RIGHT] : 2,\n    [SEGMENT_TYPE_TOP] : 0,\n    [SEGMENT_TYPE_TOP_LEFT] : 0,\n    [SEGMENT_TYPE_TOP_RIGHT] : 0\n}\n\n\nexport class Segment {\n    static isMove (direction) { return move[direction]; }\n    static isTop (direction) { return top[direction]; }\n    static isRight (direction) { return right[direction]; }\n    static isBottom (direction) { return bottom[direction]; }\n    static isLeft (direction) { return left[direction]; }\n    static getXDirection (direction) { return X_DIRECTION_NUMBER[direction] }\n    static getYDirection (direction) { return Y_DIRECTION_NUMBER[direction] }\n\n}\n\n\n\nSegment.MOVE = SEGMENT_TYPE_MOVE \nSegment.RIGHT = SEGMENT_TYPE_RIGHT \nSegment.TOP_RIGHT = SEGMENT_TYPE_TOP_RIGHT \nSegment.BOTTOM_RIGHT = SEGMENT_TYPE_BOTTOM_RIGHT\nSegment.LEFT = SEGMENT_TYPE_LEFT\nSegment.TOP_LEFT = SEGMENT_TYPE_TOP_LEFT\nSegment.BOTTOM_LEFT = SEGMENT_TYPE_BOTTOM_LEFT\nSegment.TOP = SEGMENT_TYPE_TOP\nSegment.BOTTOM = SEGMENT_TYPE_BOTTOM\n\nSegment.LIST = [\n    Segment.MOVE,\n    Segment.RIGHT,\n    Segment.TOP_RIGHT,\n    Segment.BOTTOM_RIGHT,\n    Segment.LEFT,\n    Segment.TOP_LEFT,\n    Segment.BOTTOM_LEFT,\n    Segment.TOP,\n    Segment.BOTTOM\n]","import { editor } from \"../../../editor/editor\";\nimport { isNotUndefined } from \"../../../util/functions/func\";\nimport { Segment } from \"../../../editor/util/Segment\";\nimport { Length } from \"../../../editor/unit/Length\";\n\nconst roundedLength = (px, fixedRound = 1) => {\n    return Length.px(px).round(fixedRound);\n}\n\nconst MAX_DIST = 5;\n\n/**\n * 원보 아이템의 크기를 가지고 scale 이랑 조합해서 world 의 크기를 구하는게 기본 컨셉 \n */\nexport default class GuideView {\n \n\n\n    makeGuideCache () {\n        var artboard = this.$selection.currentArtboard;\n        this.cachedExtraItems = [] \n        if (artboard) {\n            this.cachedExtraItems = artboard.allLayers.filter(it => {\n                return !this.$selection.check(it)\n            });\n            this.rect = this.$selection.allRect ? this.$selection.allRect.clone() : null;\n        }\n        \n        // Rect 안의 position 의  좌표 비율 미리 캐슁 \n        this.cachedPosition = {}\n        this.$selection.items.map(item => {\n            this.cachedPosition[item.id] = {\n                x : this.setupX(item),\n                y : this.setupY(item)\n            }\n        })   \n\n        return this.rect; \n    }\n\n\n    move (type, dx, dy) {\n        /*  최초 캐쉬된 객체  */\n        var allRect = this.$selection.allRect;\n\n        /* this.rect 는 실제 변화가 적용된 객체 */\n        this.pointerType = type; \n\n        if (type === 'move') {\n            this.rect.move( \n                roundedLength(allRect.x.value + dx),\n                roundedLength(allRect.y.value + dy)\n            )\n\n        } else {\n\n            if (Segment.isRight(type)) {\n                this.rect.resizeWidth(roundedLength(allRect.width.value + dx))\n\n            } else if (Segment.isLeft(type)) {\n                if (allRect.width.value - dx >= 0) {\n                    this.rect.moveX( roundedLength(allRect.x.value + dx) )\n                    this.rect.resizeWidth( roundedLength(allRect.width.value - dx) )\n                }                \n            } \n    \n            if (Segment.isBottom(type)) {      // 밑으로 향하는 애들 \n                this.rect.resizeHeight( roundedLength(allRect.height.value + dy) )                \n            } else if (Segment.isTop(type)) {\n                if ( allRect.height.value - dy >= 0 ) {\n                    this.rect.moveY( roundedLength(allRect.y.value + dy) )                                \n                    this.rect.resizeHeight( roundedLength(allRect.height.value - dy) )    \n                }\n            }                      \n        }\n    }\n\n\n    recover (item) {\n\n        if (!this.rect) return; \n\n        const {xDistRate, x2DistRate} = this.cachedPosition[item.id].x\n        const {yDistRate, y2DistRate} = this.cachedPosition[item.id].y\n\n        const minX = this.rect.screenX.value; \n        const maxX = this.rect.screenX2.value; \n        const minY = this.rect.screenY.value; \n        const maxY = this.rect.screenY2.value; \n\n        const totalWidth = maxX - minX; \n        const xr = totalWidth * xDistRate;\n        const x2r = totalWidth * x2DistRate; \n\n        const totalHeight = maxY - minY; \n        const yr = totalHeight * yDistRate;\n        const y2r = totalHeight * y2DistRate;\n\n        this.setX(item, minX, maxX, xr, x2r);\n        this.setY(item, minY, maxY, yr, y2r);\n    }\n\n\n    setY (item, minY, maxY, yrate, y2rate) {\n        var distY = Math.round(yrate);\n        var distY2 = Math.round(y2rate);\n        var height = distY2 - distY;\n\n        item.setScreenY(distY + minY)\n        item.height.set(height )\n    }\n\n\n    setX (item, minX, maxX, xrate, x2rate) {\n        var distX = Math.round(xrate);\n        var distX2 = Math.round(x2rate);\n        var width = distX2 - distX;\n        \n        item.setScreenX(distX + minX) \n        item.width.set(width )\n    }    \n\n    setupX (cacheItem) {\n        var allRect = this.$selection.allRect;\n        var minX = allRect.screenX.value; \n        var maxX = allRect.screenX2.value; \n        var width = maxX - minX; \n\n        if (width === 0) {\n            return {xDistRate: 0, x2DistRate: 1}\n        } else {\n            var xDistRate = (cacheItem.screenX.value - minX) / width;\n            var x2DistRate = (cacheItem.screenX2.value - minX) / width;\n    \n            return {xDistRate, x2DistRate}\n        }\n    }    \n\n    setupY (cacheItem) {\n        var allRect = this.$selection.allRect;        \n        var minY = allRect.screenY.value; \n        var maxY = allRect.screenY2.value; \n        var height = maxY - minY; \n\n        if (height === 0) {\n            return {yDistRate: 0, y2DistRate: 1}\n        } else {\n            var yDistRate = (cacheItem.screenY.value - minY) / height;\n            var y2DistRate = (cacheItem.screenY2.value - minY) / height;\n    \n            return {yDistRate, y2DistRate}\n        }\n\n    }\n\n    compareX (A, B, dist = MAX_DIST) {\n\n        var AX = [A.screenX.value, A.centerX.value, A.screenX2.value]\n        var BX = [B.screenX.value, B.centerX.value, B.screenX2.value]\n\n        var results = []\n        AX.forEach( (ax, source) => {\n            BX.forEach( (bx, target) => {\n                var isSnap = Math.abs(ax - bx) <= dist;\n\n                if (isSnap) {\n                    // ax -> bx <= dist \n                    results.push({ A, B, source, target, ax, bx})\n                }\n            })\n        })\n\n        if (results.length) {\n\n            var x = Segment.getXDirection(this.pointerType);\n\n            var newResults = results.filter(it => it.source == x);\n            if (newResults.length) {\n                return newResults;\n            }\n\n            return [results[0]]\n        }\n\n        return results;\n    }\n\n    compareY (A, B, dist = MAX_DIST) {\n        var AY = [A.screenY.value, A.centerY.value, A.screenY2.value]\n        var BY = [B.screenY.value, B.centerY.value, B.screenY2.value]\n\n        var results = []\n\n        AY.forEach( (ay, source) => {\n            BY.forEach( (by, target) => {\n                var isSnap = Math.abs(ay - by) <= dist;\n\n                if (isSnap) {\n                    // aY -> bY <= dist \n                    results.push({ A, B, source, target, ay, by})\n                }\n            })\n        })\n\n        if (results.length) {       // 중첩된 것중에 하나만 표시 한다. \n            var y = Segment.getYDirection(this.pointerType);\n\n            var newResults = results.filter(it => it.source == y);\n            if (newResults.length) {\n                return newResults;\n            }\n\n            return [results[0]]\n        }        \n\n        return results;\n    }    \n\n    compare (A, B, dist = MAX_DIST) {\n        //체크 항목중 하나만 , 결국 x,y 축 하나씩만 \n        var xCheckList = this.compareX(A, B, dist);    \n        var yCheckList = this.compareY(A, B, dist);\n\n        return {\n            x: xCheckList,\n            y: yCheckList\n        };\n    }\n\n    getLayers (dist = MAX_DIST) {\n\n        var layers = this.cachedExtraItems;\n        var xpoints = []\n        var ypoints = []\n\n        layers.forEach(B => {\n            const obj = this.compare(this.rect, B, dist);\n            xpoints.push(...obj.x);\n            ypoints.push(...obj.y);\n        })\n\n        return [xpoints[0], ypoints[0]].filter(it => isNotUndefined(it))\n\n    } \n\n    calculate (dist = MAX_DIST) {\n\n        var list = this.getLayers(dist);\n        \n        if (Segment.isMove(this.pointerType)) {\n            list.forEach(it => this.moveSnap(it))\n        } else {\n            list.forEach(it => this.sizeSnap(it));\n        }\n\n        return list; \n    }\n\n     sizeSnap(it) {\n\n        // selection area 에 대한 정확한 정의가 필요하다. \n        // 클릭한 걸 기준으로 할지 \n        // 아니면 전체 멀티 선택한 영역 자체를 기준으로 하고  그 영역 안에서 사이즈를 조절할지 \n        // 고민을 다시 해봐야할 듯 하다. \n\n        if (isNotUndefined(it.ax)) {\n            var minX, maxX, width; \n            switch(it.source) {\n            case 2: \n                minX = this.rect.screenX.value; \n                maxX = it.bx;\n                width = maxX - minX;   \n                this.rect.width.set(width);                            \n                break;\n            // case 1: \n            //     minX = this.rect.screenX.value; \n            //     width = Math.round(it.bx - minX) * 2;   \n            //     this.rect.width.set(width);                            \n            //     break;                \n            case 0: \n                minX = it.bx; \n                maxX = this.rect.screenX2.value;\n                width = maxX - minX;   \n                this.rect.x.set(minX);\n                this.rect.width.set(width);                            \n                break; \n            }\n\n\n        } else {\n            var minY, maxY, height; \n\n            switch(it.source) {\n            case 2: \n                minY = this.rect.screenY.value; \n                maxY = it.by;\n                height = maxY - minY;   \n                this.rect.y.set(minY);\n                this.rect.height.set(height);                \n                break;\n\n            // case 1: \n            //     minY = this.rect.screenY.value; \n            //     height = Math.round(it.by - minY) * 2;   \n            //     this.rect.height.set(height);\n            //     break;       \n            case 0: \n                minY = it.by; \n                maxY = this.rect.screenY2.value;\n                height = maxY - minY;   \n                this.rect.y.set(minY);\n                this.rect.height.set(height);                \n                break; \n            }\n\n        }\n    }\n\n    moveSnap(it) {\n        if (isNotUndefined(it.ax)) {\n            var distX = Math.round(this.rect.width.value / 2 * it.source);\n            var minX = it.bx - distX;             \n            this.rect.x.set(minX);       \n        } else if (isNotUndefined(it.ay)) {\n            var distY = Math.round(this.rect.height.value / 2 * it.source);\n            var minY = it.by - distY;             \n            this.rect.y.set(minY);              \n        }\n\n    }\n\n\n    recoverAll() {\n        this.$selection.items.forEach(item => {\n            // selection 기준으로 item 을 먼저 복구 하고 \n            this.recover(item)\n\n            // 개별 item 의 캐쉬를 기준으로 다시 복구한다. \n            item.recover();\n        });\n    }\n    \n} ","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { POINTERSTART, MOVE, END, DOUBLECLICK, BIND, IF, CLICK } from \"../../../util/Event\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { editor } from \"../../../editor/editor\";\nimport { isNotUndefined } from \"../../../util/functions/func\";\nimport GuideView from \"./GuideView\";\nimport { Transform } from \"../../../editor/css-property/Transform\";\nimport Dom from \"../../../util/Dom\";\nimport { calculateAngle } from \"../../../util/functions/math\";\nimport AreaItem from \"../../../editor/items/AreaItem\";\n\nvar DEFINED_TRANFORM_ORIGIN = {\n    'top': '50% 0%',\n    'right': '100% 50%',\n    'left': '0% 50%',\n    'bottom': '50% 100%',\n    'top-left': '0% 0%',\n    'top-right': '100% 0%',\n    'bottom-left': '0% 100%',\n    'bottom-right': '100% 100%',    \n}\n\nvar moveType = {\n    'move': 'move',\n    'to top': 'move',    \n    'to top right': 'move',\n    'to top left': 'move',\n    'to bottom': 'move',    \n    'to bottom right': 'move',\n    'to bottom left': 'move',\n    'to left': 'move',    \n    'to right': 'move',\n    'translate': 'transform',\n    'transform-origin': 'transform',\n    'rotate3d': 'transform'\n}\n\nconst SelectionToolEvent = class  extends UIElement {\n\n    [EVENT('hideSelectionToolView')] () {\n        this.refs.$selectionTool.css({\n            left: '-10000px',\n            top: '-10000px'\n        })\n    }\n\n    [EVENT('hideSubEditor')] (e) {\n        this.toggleEditingPath(false);\n        this.toggleEditingPolygon(false);\n    }\n\n    [EVENT('openPathEditor')] () {\n        var current = this.$selection.current;\n        if (current && current.is('svg-path', 'svg-textpath')) {\n            this.toggleEditingPolygon(false);\n            this.toggleEditingPath(true);\n\n            this.emit('showPathEditor', 'modify', {\n                changeEvent: 'updatePathItem',\n                current,\n                d: current.d,\n                box: current.is('svg-textpath') ? 'box': 'canvas', \n                screenX: current.screenX,\n                screenY: current.screenY,\n                screenWidth: current.screenWidth,\n                screenHeight: current.screenHeight,\n            }) \n        } else if (current.is('svg-polygon')) {\n            this.trigger('openPolygonEditor');\n        }\n    }\n\n\n    [EVENT('openPolygonEditor')] () {\n        var current = this.$selection.current;\n        if (current && current.is('svg-polygon')) {\n            this.toggleEditingPath(false);            \n            this.toggleEditingPolygon(true);\n            this.emit('showPolygonEditor', 'modify', {\n                changeEvent: 'updatePolygonItem',\n                current,\n                points: current.points,\n                screenX: current.screenX,\n                screenY: current.screenY,\n                screenWidth: current.screenWidth,\n                screenHeight: current.screenHeight,\n            }) \n        }\n    }    \n\n    [EVENT('finishPathEdit')] () {\n        this.toggleEditingPath(false);\n    }\n\n    [EVENT('finishPolygonEdit')] () {\n        this.toggleEditingPolygon(false);\n    }    \n\n    [EVENT('updatePathItem')] (pathObject) {\n\n        var current = this.$selection.current;\n        if (current) {\n            if (current.updatePathItem) {\n                current.updatePathItem(pathObject);\n\n                this.parent.selectCurrent(...this.$selection.items)\n\n                this.$selection.setRectCache();        \n                    \n                this.emit('refreshSelectionStyleView')\n\n            }\n        }\n\n    }\n\n\n    [EVENT('updatePolygonItem')] (polygonObject) {\n\n        var current = this.$selection.current;\n        if (current) {\n            if (current.is('svg-polygon')) {\n                current.updatePolygonItem(polygonObject);\n\n                this.parent.selectCurrent(...this.$selection.items)\n\n                this.$selection.setRectCache();        \n    \n                this.emit('refreshSelectionStyleView')\n                this.emit('refreshCanvasForPartial', current);\n\n            }\n        }\n\n    }    \n\n\n    [EVENT('refreshSelectionTool', 'initSelectionTool')] () { \n        this.initSelectionTool();\n    }\n\n    [EVENT('makeSelectionTool')] (isScale) {\n        if (isScale) {\n            this.removeOriginalRect()   \n        }\n        var drawList = this.guideView.calculate();\n\n        this.makeSelectionTool();\n        this.emit('refreshGuideLine', this.calculateWorldPositionForGuideLine(drawList));                \n    }\n\n\n    [EVENT('refreshCanvas')] (obj = {}) {\n        this.$selection.setRectCache();\n\n        this.initSelectionTool();\n    }\n\n    [EVENT('refreshSelectionStyleView')] () {\n        this.bindData('$rotate3d');\n        this.bindData('$rotateArea');\n        this.bindData('$transformOrigin');        \n        this.bindData('$rotateZ');\n        this.bindData('$pathMaker');            \n    }\n\n}\n\nconst SelectionToolBind = class extends SelectionToolEvent {\n\n\n    [BIND('$pathMaker')] () {\n        var current = this.$selection.current \n\n        if (current && current.is && current.is('artboard')) {\n            return {\n                style: {\n                    display: 'none'\n                }\n            }\n        } else if (this.$selection.length !== 1) {\n            return {\n                style: {\n                    display: 'none'\n                }\n            }\n        }\n\n        var obj = {\n            translate: { x: 0, y: 0, z: 0 }\n        }\n        var x = 0, y = 0;\n        if (current) {\n\n\n            var [left, top] = (current['transform-origin'] || '50% 50%').split(' ').map(it => {\n                return Length.parse(it || '50%');\n            })\n    \n            left = left.toPx(current.screenWidth.value);\n            top = top.toPx(current.screenHeight.value);\n\n            var x = (current.screenX.value + left.value ) * editor.scale;\n            var y = (current.screenY.value + top.value ) * editor.scale;\n\n            var [tx, ty] = Transform.get(current['transform'], 'translate');\n            if (!tx) {\n                var [tx] = Transform.get(current['transform'], 'translateX');\n            }\n            if (!ty) {\n                var [ty] = Transform.get(current['transform'], 'translateY');\n            }            \n            tx = tx || Length.px(0)\n            ty = ty || Length.px(0)\n\n\n\n            obj.translate.x = x + tx.value * editor.scale ; \n            obj.translate.y = y + ty.value * editor.scale; \n\n        }\n\n        return {\n            style: {\n                display: 'block'\n            },\n            innerHTML: `\n                <path d=\"M${x}, ${y}L${obj.translate.x},${obj.translate.y}Z\" fill=\"transparent\" />\n            `\n        }\n    }    \n\n\n    [BIND('$rotate3d')] () {\n        var current = this.$selection.current || { 'transform-origin'  : '50% 50%' }\n\n        if (current && current.is && current.is('artboard')) {\n            return {\n                style: {\n                    display: 'none'\n                }\n            }\n        }\n\n        var [left, top] = current['transform-origin'].split(' ').map(it => {\n            return Length.parse(it || '50%');\n        })\n\n        left = left || Length.percent(50)\n        top = top || Length.percent(50)\n        \n        return {\n            style: {\n                display: 'block',\n                left, top \n            }\n        }\n    }\n\n\n    [BIND('$transformOrigin')] () {\n        var current = this.$selection.current || { 'transform-origin'  : '50% 50%' }\n\n        if (current && current.is && current.is('artboard')) {\n            return {\n                style: {\n                    display: 'none'\n                }\n            }\n        }\n\n        var [left, top] = current['transform-origin'].split(' ').map(it => {\n            return Length.parse(it || '50%');\n        })\n\n        left = left || Length.percent(50)\n        top = top || Length.percent(50)\n        \n        return {\n            style: {\n                display: 'block',\n                left, top \n            }\n        }\n    }\n\n\n    [BIND('$rotateArea')] () {\n        var current = this.$selection.current || { transform : '' }  \n\n\n        if (current && current.is && current.is('artboard')) {\n            return {\n                style: {\n                    display: 'none'\n                }\n            }\n        }\n\n\n        var transform = Transform.join(Transform.parseStyle(current.transform).filter(it => {\n            switch(it.type) {\n            case 'rotateX':\n            case 'rotateY':\n                return true; \n            }\n\n            return false; \n        }))\n        return {\n            style: {\n                display: 'block',\n                transform: `${transform}`\n            }\n        }\n    }\n\n    [BIND('$rotateZ')] () {\n        var current = this.$selection.current || { transform: '' }  \n\n        if (current && current.is && current.is('artboard')) {\n            return {\n                style: {\n                    display: 'none'\n                }\n            }\n        }\n\n        var transform = Transform.join(Transform.parseStyle(current.transform).filter(it => {\n            switch(it.type) {\n            case 'rotate':\n            case 'rotateZ':\n                return true; \n            }\n\n            return false; \n        }))\n        return {\n            style: {\n                display: 'block',\n                transform\n            }\n        }\n    }\n\n\n\n    [BIND('$selectionPointer')] () {\n\n        var html = '<div></div>'\n\n        var current = this.$selection.current || { id: ''}\n        var element = this.parent.getElement(current.id);\n\n        if (element) {\n            var v = current.verties(element, this.parent.refs.$view.el);\n            // var offset = element.rect();\n            var screenX = current.screenX.value + current.width.value/ 2;\n            var screenY = current.screenY.value + current.height.value/2;\n            var str = ['a', 'b', 'c', 'd'].map((it, index) => {\n                var x = Length.px(v[it].x + screenX); \n                var y = Length.px(v[it].y + screenY); \n                var z = Length.px(v[it].z);\n                return `<div class='marker' data-index='${index+1}' style='transform:translate3d(${x},${y},${z})'></div>`    \n            }).join('')\n            \n            html = `<div >${str}</div>`\n\n            // element.append(this.refs.$selectionPointer)\n        }\n\n        return {\n            innerHTML: html \n        }\n    }\n\n    [BIND('$selectionTool')] () {\n        return {\n            // 1개의 객체를 선택 했을 때 move 판은 이벤트를 걸지 않기 \n            'data-selection-length': this.$selection.length\n        }\n    }\n}\n\n/**\n * 원보 아이템의 크기를 가지고 scale 이랑 조합해서 world 의 크기를 구하는게 기본 컨셉 \n */\nexport default class SelectionToolView extends SelectionToolBind {\n\n    initialize() {\n        super.initialize();\n\n        this.guideView = new GuideView();\n    }\n\n    template() {\n        return /*html*/`\n    <div class='selection-view' ref='$selectionView' >\n        <div class='selection-tool' ref='$selectionTool' style='left:-100px;top:-100px;'>\n            <div class='selection-tool-item' data-position='move'></div>       \n            \n            <div class='selection-tool-item' data-position='transform-origin' ref='$transformOrigin'>\n                <div class='transform-origin' >\n                    <div class='handle handle-top' data-value='top'></div>\n                    <div class='handle handle-right' data-value='right'></div>\n                    <div class='handle handle-left' data-value='left'></div>\n                    <div class='handle handle-bottom' data-value='bottom'></div>\n                    <div class='handle handle-top-left' data-value='top-left'></div>\n                    <div class='handle handle-top-right' data-value='top-right'></div>\n                    <div class='handle handle-bottom-left' data-value='bottom-left'></div>\n                    <div class='handle handle-bottom-right' data-value='bottom-right'></div>\n                </div>                \n            </div>\n            <div class='selection-tool-item' data-position='rotate3d' ref='$rotate3d'>\n                <div class='rotate-area' ref='$rotateArea'>\n                    <div class='y'></div>                \n                    <div class='x'></div>\n                </div>            \n                <div class='z' ref='$rotateZ'>\n                    <div class='point'></div>                    \n                    <div class='handle-top'></div>                    \n                </div>\n                <div class='translate' ref='$translateZ'>\n                    <div class='perspective-handle'></div>\n                </div>\n\n            </div>                      \n\n            <div class='selection-tool-item' data-position='to top'></div>\n            <div class='selection-tool-item' data-position='to right'></div>\n            <div class='selection-tool-item' data-position='to bottom'></div>\n            <div class='selection-tool-item' data-position='to left'></div>\n            <div class='selection-tool-item' data-position='to top right'></div>\n            <div class='selection-tool-item' data-position='to bottom right'></div>\n            <div class='selection-tool-item' data-position='to top left'></div>\n            <div class='selection-tool-item' data-position='to bottom left'></div>\n        </div>\n        <div class='selection-pointer' ref='$selectionPointer'></div>\n        <svg class='transform-translate' ref='$pathMaker'></svg>\n    </div>`\n    }\n\n\n    [DOUBLECLICK('$rotate3d')] (e) {\n\n        if (e.altKey) {\n            this.$selection.each(item => {\n                item.reset({ 'transform-origin': '' })\n            })\n            this.bindData('$rotate3d')\n            this.bindData('$pathMaker');            \n        } else if (e.shiftKey) {\n            this.$selection.each(item => {\n                var transform = Transform.join(Transform.parseStyle(item.transform).filter(it => {\n                    switch(it.type) {\n                    case 'translate':\n                    case 'translateX':\n                    case 'translateY':\n                    case 'translateZ':\n                        return false; \n                    }\n                    return true; \n                }))\n    \n                item.reset({ transform })\n            })\n            this.bindData('$rotateZ')\n            this.bindData('$rotateArea')  \n            this.bindData('$transformOrigin');       \n            this.bindData('$pathMaker');                                       \n        } else {\n            this.$selection.each(item => {\n                var transform = Transform.join(Transform.parseStyle(item.transform).filter(it => {\n                    switch(it.type) {\n                    case 'rotate':\n                    case 'rotate3d':\n                    case 'rotateX':\n                    case 'rotateY':                    \n                    case 'rotateZ':\n                        return false; \n                    }\n                    return true; \n                }))\n    \n                item.reset({ transform })\n            })\n            this.bindData('$rotateZ')\n            this.bindData('$rotateArea')    \n            this.bindData('$transformOrigin');     \n            this.bindData('$pathMaker');                               \n        }\n\n        this.emit('refreshSelectionStyleView');\n\n    }\n\n\n    [CLICK('$selectionTool .selection-tool-item[data-position=\"path\"]')] (e) {\n        this.trigger('openPathEditor');\n    }        \n\n    toggleEditingPath (isEditingPath) {\n        this.refs.$selectionTool.toggleClass('editing-path', isEditingPath);\n    }\n\n    toggleEditingPolygon (isEditingPolygon) {\n        this.refs.$selectionTool.toggleClass('editing-polygon', isEditingPolygon);\n    }   \n    \n\n    setCacheBaseTrasnform (...args) {\n        this.$selection.each((item, cachedItem) => {\n            item.transformObj = Transform.parseStyle(item.transform);\n            cachedItem.transformObj = Transform.parseStyle(cachedItem.transform);\n\n            args.forEach(key => {\n                cachedItem[key] = cachedItem.transformObj.filter(it => it.type === key)[0];    \n            })\n\n        })\n    }\n\n    setCacheRotateZ (rect) {\n        var targetRect = this.$target.rect();\n        this.rotateZCenter = {\n            x: targetRect.x + targetRect.width/2, \n            y: targetRect.y + targetRect.height/2\n        }\n        this.rotateZStart = {\n            x: rect.x + rect.width/2, \n            y: rect.y + rect.height/2 \n        }\n\n        this.setCacheBaseTrasnform('rotateZ', 'rotate');\n    }\n\n    setCachePerspective () {\n        this.setCacheBaseTrasnform('perspective');\n    }\n\n    setCacheTransformOrigin () {\n\n        this.hasTransformOrigin = true; \n        this.$selection.each((item, cachedItem) => {\n            item.transformOrigin = item['transform-origin'].split(' ').map(it => {\n                return it ? Length.parse(it) : Length.percent(50)\n            });\n            cachedItem.transformOrigin = item['transform-origin'].split(' ').map(it => {\n                return it ? Length.parse(it) : Length.percent(50)\n            });\n\n            cachedItem.transformOriginX = cachedItem.transformOrigin[0] || Length.percent(50)\n            cachedItem.transformOriginXtoPx = cachedItem.transformOriginX.toPx(cachedItem.screenWidth);\n            cachedItem.transformOriginY = cachedItem.transformOrigin[1] || Length.percent(50)\n            cachedItem.transformOriginYtoPx = cachedItem.transformOriginY.toPx(cachedItem.screenHeight);\n        })\n\n    }\n\n    setCacheTranslate () {\n        this.hasTranslate = true; \n        this.setCacheBaseTrasnform('translateX', 'translateY');        \n    }\n\n    setCacheTranslateZ () {\n\n        this.hasTranslateZ = true; \n        this.setCacheBaseTrasnform('translateZ');        \n\n    }\n\n    setCacheRotateXY () {\n        this.setCacheBaseTrasnform('rotateX', 'rotateY');        \n    }\n\n    checkEditMode () {\n        return editor.isSelectionMode(); \n    }\n\n    [POINTERSTART('$selectionView .selection-tool-item') + IF('checkEditMode') + MOVE() + END()] (e) {\n        this.$target = e.$dt;\n        this.pointerType = e.$dt.attr('data-position')\n\n        this.refs.$selectionTool.attr('data-selected-position', this.pointerType);\n        this.refs.$selectionTool.attr('data-selected-movetype', moveType[this.pointerType]);        \n        this.parent.selectCurrent(...this.$selection.items)\n\n        this.$selection.setRectCache(this.pointerType === 'move' ? false: true);\n\n        if (this.pointerType === 'transform-origin') {\n            var $point = Dom.create(e.target);\n\n            this.transformOriginValue = $point.attr('data-value')\n\n        } else if (this.pointerType === 'rotate3d') {\n            var $point = Dom.create(e.target);\n\n            var rect = $point.rect()\n            this.hasRotateZ = $point.hasClass('point') \n            this.hasPerspective = $point.hasClass('perspective-handle') \n            this.hasTransformOrigin = false; \n            this.hasTranslate = false; \n            this.hasTranslateZ = false; \n            \n\n            if (this.hasRotateZ) {\n                this.setCacheRotateZ(rect)\n            } else if (this.hasPerspective) {\n                this.setCachePerspective();\n            } else {\n\n                if (e.altKey) {\n                    this.setCacheTransformOrigin()\n                } else if (e.shiftKey) {\n                    this.setCacheTranslate();\n                } else if (e.metaKey) {\n                    this.setCacheTranslateZ();\n                } else {\n                    this.setCacheRotateXY () \n                }\n\n            }\n\n            // this.parent.updateRealTransformWillChange();\n\n        } else {\n            this.initSelectionTool();\n        }\n\n    }\n\n    setTransformValue (item, type, value) {\n\n        var obj = item.transformObj.filter(it => it.type === type)[0]\n        if (obj) {\n            obj.value[0] = value.clone();\n        } else {\n            item.transformObj.push({ type: type, value: [value.clone()] })\n        }    \n    }\n\n    modifyRotateZ(dx, dy) {\n        var e = this.$config.get('bodyEvent');\n        var x = this.rotateZStart.x - this.rotateZCenter.x\n        var y = this.rotateZStart.y - this.rotateZCenter.y\n\n        var angle1 = calculateAngle(x, y); \n\n        var x = this.rotateZStart.x + dx - this.rotateZCenter.x\n        var y = this.rotateZStart.y + dy - this.rotateZCenter.y\n\n        var angle = calculateAngle(x, y);\n\n        var distAngle = Length.deg(angle - angle1);\n\n       \n        this.$selection.each((item, cachedItem) => {\n            var tempRotateZ = Length.deg(0)\n\n            if (cachedItem.rotateZ) { \n                tempRotateZ.set(cachedItem.rotateZ.value[0].value);\n            } else if (cachedItem.rotate) {\n                tempRotateZ.set(cachedItem.rotate.value[0].value);\n            }\n\n            tempRotateZ.add(distAngle.value);\n\n            if (e.altKey) {\n                tempRotateZ.add(- (tempRotateZ.value % 10)) \n            }\n\n\n            this.setTransformValue(item, 'rotateZ', tempRotateZ);\n\n            item.transform = Transform.join(item.transformObj);\n        })\n    }\n\n    modifyPerspective(dx, dy) {\n        var ry = Length.px(-dy / editor.scale)\n\n        this.$selection.each((item, cachedItem) => {\n            this.modifyCacheItem(item, cachedItem, Length.px(0), 'perspective', ry)\n\n            item.transform = Transform.join(item.transformObj);\n        })\n    }\n\n    modifyTransformOrigin (dx, dy) {\n        this.$selection.each((item, cachedItem) => {\n            var tempOriginX = Length.px(0)\n            var tempOriginY = Length.px(0)\n\n            if (cachedItem.transformOriginXtoPx) { \n                tempOriginX.set(cachedItem.transformOriginXtoPx.value);\n            } \n            if (cachedItem.transformOriginYtoPx) { \n                tempOriginY.set(cachedItem.transformOriginYtoPx.value);\n            }                         \n\n            tempOriginX.add(dx / editor.scale);\n            tempOriginY.add(dy / editor.scale);\n\n            var x = tempOriginX.to(cachedItem.transformOriginX.unit, cachedItem.screenWidth);\n            var y = tempOriginY.to(cachedItem.transformOriginY.unit, cachedItem.screenHeight);\n\n            item['transform-origin'] = `${x} ${y}`\n        })\n    }\n\n    modifyTranslate (dx, dy) {\n        var rx = Length.px(dx / editor.scale)\n        var ry = Length.px(dy / editor.scale)\n\n        this.$selection.each((item, cachedItem) => {\n\n            this.modifyCacheItem(item, cachedItem, Length.px(0), 'translateX', rx)\n            this.modifyCacheItem(item, cachedItem, Length.px(0), 'translateY', ry)\n\n            item.transform = Transform.join(item.transformObj);\n        })\n    }\n\n    modifyTranslateZ (dx, dy) {\n        var ry = Length.px(dy / editor.scale)\n        \n        this.$selection.each((item, cachedItem) => {\n\n            this.modifyCacheItem(item, cachedItem, Length.px(0), 'translateZ', ry)\n\n            item.transform = Transform.join(item.transformObj);\n        })\n    }\n\n    modifyCacheItem (item, cachedItem, tempValue, key, dt) {\n        \n        if (cachedItem[key]) { \n            tempValue.set(cachedItem[key].value[0].value);\n        } \n\n        tempValue.add(dt);\n\n        this.setTransformValue(item, key, tempValue);\n    }\n\n    modifyRotateXY (dx, dy) {\n        var rx = Length.deg(-dy / editor.scale)\n        var ry = Length.deg(dx / editor.scale)\n\n        this.$selection.each((item, cachedItem) => {\n\n            this.modifyCacheItem(item, cachedItem, Length.deg(0), 'rotateX', rx)\n            this.modifyCacheItem(item, cachedItem, Length.deg(0), 'rotateY', ry)\n\n            item.transform = Transform.join(item.transformObj);\n        })\n    }\n\n    move (dx, dy) {\n\n        var e = this.$config.get('bodyEvent');\n\n        if (this.pointerType === 'transform-origin') {\n\n\n        } else if (this.pointerType === 'rotate3d') {\n\n            if (this.hasRotateZ) {\n\n                this.modifyRotateZ(dx, dy);\n                this.bindData('$rotateZ')             \n                this.bindData('$pathMaker');            \n            } else if (this.hasPerspective) {\n                this.modifyPerspective(dx, dy);\n                \n                this.bindData('$rotate3d')\n                this.bindData('$rotateArea')   \n                this.bindData('$transformOrigin');    \n                this.bindData('$pathMaker');                                        \n            } else {\n\n                if (this.hasTransformOrigin) {\n                    this.modifyTransformOrigin(dx, dy);\n                } else if (this.hasTranslate) {\n                    this.modifyTranslate(dx, dy); \n                } else if (this.hasTranslateZ) {\n                    this.modifyTranslateZ(dx, dy);\n                } else {\n                    this.modifyRotateXY (dx, dy);\n                }\n                this.bindData('$rotate3d')\n                this.bindData('$rotateArea')       \n                this.bindData('$transformOrigin'); \n                this.bindData('$pathMaker');                                                                        \n            }\n\n            this.parent.updateRealPosition();                \n\n        } else {\n\n            if (e.altKey) {\n                dy = dx; \n            }\n    \n            this.refreshSelectionToolView(dx, dy);\n            this.parent.updateRealPosition();    \n            this.emit('refreshCanvasForPartial', null, false)     \n            \n\n            if (this.pointerType === 'move') {\n\n            } else {\n                this.$selection.each(item => {\n                    if (item.is('component')) {\n                        this.emit('refreshStyleView', item);  \n                    }\n                });\n            }\n\n\n                \n        }\n    }\n\n\n    end (dx, dy) {\n\n        if (this.pointerType === 'move') {\n            if (dx === 0 && dy === 0) {\n                this.trigger('openPathEditor');\n                return; \n            }\n        }\n\n        if (this.pointerType === 'transform-origin') {\n           this.$selection.reset({\n               'transform-origin': DEFINED_TRANFORM_ORIGIN[this.transformOriginValue] || '50% 50%'\n           }) \n\n           this.bindData('$rotate3d');\n           this.bindData('$rotateArea');\n           this.bindData('$transformOrigin');  \n           this.bindData('$pathMaker');                                \n        } else {\n\n            var e = this.$config.get('bodyEvent');\n\n            if (e.altKey) {\n                dy = dx; \n            }\n    \n            this.refs.$selectionTool.attr('data-selected-position', '');\n            this.refs.$selectionTool.attr('data-selected-movetype', '');\n    \n            this.emit('refreshCanvasForPartial', null, false)\n            this.emit('removeGuideLine')\n            this.refreshSelectionToolView(dx, dy);   \n        }\n     \n    }   \n\n    refreshSelectionToolView (dx, dy, type) {\n        if (dx === 0 && dy === 0) {\n\n        } else {\n            this.guideView.move(type || this.pointerType, dx / editor.scale,  dy / editor.scale )\n        }\n\n\n        var drawList = this.guideView.calculate();\n\n        this.makeSelectionTool();\n        this.emit('refreshGuideLine', this.calculateWorldPositionForGuideLine(drawList));        \n    }\n\n    getOriginalRect () {\n        if (!this.originalRect) {\n            this.originalRect = this.parent.$el.rect();\n        }\n\n        return this.originalRect;\n    }\n\n    getOriginalArtboardRect () {\n        if (!this.originalArtboardRect) {\n            this.originalArtboardRect = this.parent.refs.$view.rect();\n        }\n\n        return this.originalArtboardRect;\n    }    \n\n\n    removeOriginalRect () {\n        this.originalArtboardRect = null\n        this.originalRect = null\n    }\n\n    initSelectionTool() {\n\n        this.removeOriginalRect();\n\n        this.guideView.makeGuideCache();        \n\n        var current = this.$selection.current;\n        if (current) {\n            var isPath = current.is('svg-path', 'svg-textpath');\n            this.refs.$selectionTool.toggleClass('path', isPath);            \n\n            var isPolygon = current.is('svg-polygon');\n            this.refs.$selectionTool.toggleClass('polygon', isPolygon);\n        }\n\n        if (editor.isSelectionMode() && this.$el.isHide()) {\n            this.$el.show();\n        }\n\n        this.bindData('$rotateZ')\n        this.bindData('$rotateArea')\n        this.bindData('$transformOrigin');       \n        this.bindData('$pathMaker'); \n        this.bindData('$selectionTool')\n\n        this.makeSelectionTool();\n\n    }    \n\n    isNoMoveArea () {\n        return this.$selection.items.length === 1 && this.$selection.current.is('text')\n    }\n\n    makeSelectionTool() {\n\n        // selection 객체는 하나만 만든다. \n        this.guideView.recoverAll();\n\n        var x = Length.px(0), y = Length.px(0), width = Length.px(0), height = Length.px(0);\n\n        if (this.guideView.rect) {\n            var {x, y, width, height} = this.calculateWorldPosition(this.guideView.rect) ;\n        }\n\n        if (this.isNoMoveArea()) {\n            this.refs.$selectionTool.addClass('remove-move-area')\n        } else {\n            this.refs.$selectionTool.removeClass('remove-move-area')\n        }\n\n        if(x.is(0) && y.is(0) && width.is(0) && height.is(0)) {\n            x.add(-10000);\n            y.add(-10000);       \n        } else if (!this.$selection.currentArtboard) {\n            x.add(-10000);\n            y.add(-10000);            \n        }\n\n        var left = x, top = y;\n\n        this.refs.$selectionTool.css({ left, top, width, height })\n        \n        this.bindData('$rotate3d');\n        this.bindData('$rotateArea');  \n        this.bindData('$transformOrigin');           \n        this.bindData('$pathMaker');            \n        // this.bindData('$selectionPointer')\n        \n        this.refreshPositionText(x, y, width, height)\n\n    }\n\n\n    refreshPositionText (x, y, width, height) {\n\n        if (this.$selection.currentArtboard) {\n            var newX = Length.px(x.value - this.$selection.currentArtboard.x.value / editor.scale).round(1);\n            var newY = Length.px(y.value - this.$selection.currentArtboard.y.value / editor.scale).round(1);\n            var newWidth = Length.px(width.value / editor.scale).round(1);\n            var newHeight = Length.px(height.value / editor.scale).round(1);\n\n            var text = ''\n            switch(this.pointerType) {\n            case 'move': text =  `X: ${newX}, Y: ${newY}`; break;\n            case 'to right': text =  `W: ${newWidth}`; break;\n            case 'to left': text =  `X: ${newX}, W: ${newWidth}`; break;\n            case 'to top': text =  `Y: ${newY}, H: ${newHeight}`; break;\n            case 'to bottom': text =  `H: ${newHeight}`; break;\n            case 'to top right': text =  `X: ${newX}, Y: ${newY}, W: ${newWidth}, H: ${newHeight}`; break;\n            case 'to top left': text =  `X: ${newX}, Y: ${newY}, W: ${newWidth}, H: ${newHeight}`; break;\n            case 'to bottom right': text =  `W: ${newWidth}, H: ${newHeight}`; break;\n            case 'to bottom left': text =  `X: ${newX}, Y: ${newY}, W: ${newWidth}, H: ${newHeight}`; break;\n            }\n            \n            this.setPositionText(text);\n        }\n    }\n\n    setPositionText (text) {\n        if (this.$target) {\n\n            if (this.$selection.current && this.$selection.current.is('artboard')) {\n                text = text.split(',').filter(it => {\n                    return !it.includes('X:') && !it.includes('Y:');\n                }).join(',');\n            }\n\n            this.$target.attr('data-position-text', text);\n        }\n\n    }\n    \n\n    calculateWorldPositionForGuideLine (list = []) {\n        return list.map(it => {\n\n            var A = new AreaItem(this.calculateWorldPosition(it.A))\n            var B = new AreaItem(this.calculateWorldPosition(it.B))\n\n            var ax, bx, ay, by; \n\n            if (isNotUndefined(it.ax)) { ax = it.ax * editor.scale }\n            if (isNotUndefined(it.bx)) { bx = it.bx * editor.scale }\n            if (isNotUndefined(it.ay)) { ay = it.ay * editor.scale }\n            if (isNotUndefined(it.by)) { by = it.by * editor.scale }\n\n            return { A,  B, ax,  bx, ay, by}\n        })\n    }\n\n    calculateWorldPosition (item) {\n        return {\n            x: Length.px(item.screenX.value * editor.scale),\n            y: Length.px(item.screenY.value * editor.scale),\n            width: Length.px(item.width.value  *  editor.scale),\n            height: Length.px(item.height.value  * editor.scale),\n            transform: item.transform\n        }\n    }\n\n    \n} ","import { Property } from \"../items/Property\";\nimport { Length } from \"../unit/Length\";\n\n\nexport class Display extends Property {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: \"display\",\n\n      type: \"block\",\n\n      // refer to https://developer.mozilla.org/docs/Web/CSS/flex-direction\n      direction: \"row\",\n\n      // refer to https://developer.mozilla.org/docs/Web/CSS/align-items\n      alignItems: \"normal\",\n\n      // refer to https://developer.mozilla.org/docs/Web/CSS/align-content\n      alignCentent: \"normal\",\n\n      // refer to https://developer.mozilla.org/docs/Web/CSS/flex-wrap\n      flexWrap: \"nowrap\",\n\n      justifyContent: \"flex-start\",\n\n      gap: Length.px(0),\n\n      rowGap: Length.percent(1),\n\n      columnGap: Length.percent(1),\n\n      columns: [Length.fr(1)],\n\n      rows: [Length.fr(1)],\n\n      areas: []\n    });\n  }\n\n  toCSS() {\n    var json = this.json;\n    var css = {\n      display: json.type\n    };\n\n    if (css.display == \"flex\") {\n      if (json.direction != \"row\") {\n        css[\"flex-direction\"] = json.direction;\n      }\n\n      if (json.alignItems != \"normal\") {\n        css[\"align-items\"] = json.alignItems;\n      }\n\n      if (json.alignContent != \"normal\") {\n        css[\"align-content\"] = json.alignContent;\n      }\n\n      if (json.flexWrap != \"nowrap\") {\n        css[\"flex-wrap\"] = json.flexWrap;\n      }\n\n      if (json.justifyContent != \"flex-start\") {\n        css[\"justify-content\"] = json.justifyContent;\n      }\n    } else if (css.display == \"grid\") {\n      if (json.gap.value > 0) {\n        css[\"grid-gap\"] = json.gap;\n      }\n\n      if (json.rowGap.value > 0) {\n        css[\"grid-row-gap\"] = json.rowGap;\n      }\n\n      if (json.columnGap.value > 0) {\n        css[\"grid-column-gap\"] = json.columnGap;\n      }\n\n      if (json.columns.length) {\n        css[\"grid-template-columns\"] = json.columns.join(' ');\n      }\n\n      if (json.rows.length) {\n        css[\"grid-template-rows\"] = json.rows.join(' ');\n      }\n\n      if (json.areas.length) {\n        css[\"grid-template-areas\"] = json.areas\n          .map(it => `\"${it.join(' ')}\"`)\n          .join(' ');\n      }\n      if (json.alignItems != \"normal\") {\n        css[\"align-items\"] = json.alignItems;\n      }\n\n      if (json.alignContent != \"normal\") {\n        css[\"align-content\"] = json.alignContent;\n      }\n      if (json.justifyContent != \"flex-start\") {\n        css[\"justify-content\"] = json.justifyContent;\n      }\n    }\n\n    return css;\n  }\n\n  isLayout() {\n    return this.isGrid() || this.isFlex();\n  }\n\n  isFlex() {\n    return this.json.type == \"flex\";\n  }\n\n  isGrid() {\n    return this.json.type == \"grid\";\n  }\n\n  isInline() {\n    return this.json.type == \"inline\";\n  }\n\n  isInlineBlock() {\n    return this.json.type == \"inline-block\";\n  }\n\n  isBlock() {\n    return this.json.type == \"block\";\n  }\n\n  changeColumn(sourceIndex, targetIndex) {\n    var source = this.json.columns[sourceIndex];\n    var target = this.json.columns[targetIndex];\n\n    this.json.columns[targetIndex] = source;\n    this.json.columns[sourceIndex] = target;\n  }\n\n  removeColumn(index) {\n    this.json.columns.splice(index, 1);\n  }\n\n  updateColumn(index, len) {\n    this.json.columns[index] = len;\n  }\n\n  changeRow(sourceIndex, targetIndex) {\n    var source = this.json.rows[sourceIndex];\n    var target = this.json.rows[targetIndex];\n\n    this.json.rows[targetIndex] = source;\n    this.json.rows[sourceIndex] = target;\n  }\n\n  removeRow(index) {\n    this.json.rows.splice(index, 1);\n  }\n\n  updateRow(index, len) {\n    this.json.rows[index] = len;\n  }\n}\n\nDisplay.parse = obj => {\n  return new Display(obj);\n};\n\nDisplay.isLayout = type => {\n  return type == \"flex\" || type == \"grid\";\n};\n","import { MovableItem } from \"./MovableItem\";\n\nconst isLayout = (type) => {\n    return type == 'flex' || type == 'grid'\n}\n\nexport class GroupItem extends MovableItem {   \n\n    isLayoutItem () {\n        return false;\n    }\n    \n    changeDisplay (newDisplayType) {\n        var oldDisplayType = this.json.display.type;\n\n        if (isLayout(oldDisplayType) && !isLayout(newDisplayType)){\n            // flex, grid => inline, inline-block. block 으로 변화 \n            // 실제 offset 데이타를 x,y,width, height 로 변환해서 등록 \n            this.layers.forEach(layer => layer.changeOffsetToPosition())\n        } \n\n        this.json.display.type = newDisplayType\n    }\n\n    hasLayout () {\n        return this.json.display.isLayout()\n    }\n\n    refreshItem (callback) {\n\n        callback && callback(this);\n\n        this.children.forEach(child => {\n            child.refreshItem(callback);\n        })        \n    }\n\n}","import { Length } from \"../unit/Length\";\nimport { Property } from \"../items/Property\";\n\n\nexport class Animation extends Property {\n  static parse(obj) {\n    return new Animation(obj);\n  }\n\n  getDefaultObject() {\n    return super.getDefaultObject({\n      itemType: \"animation\",\n      checked: true, \n      name: 'none',\n      direction: 'normal',\n      duration: Length.second(0),\n      timingFunction: 'ease',\n      delay: Length.second(0),\n      iterationCount: Length.string('infinite'),\n      playState: 'running',\n      fillMode: 'none'\n    });\n  }\n\n  convert(json) {\n    json = super.convert(json)\n\n    json.duration = Length.parse(json.duration);\n    json.iterationCount = Length.parse(json.iterationCount);\n    return json \n  }\n\n  toCloneObject() {\n    var json = this.json; \n    return {\n      ...super.toCloneObject(),\n      checked: json.checked, \n      name: json.name,\n      direction: json.direction,\n      duration: json.duration+'',\n      timingFunction: json.timingFunction,\n      delay: json.delay,\n      iterationCount: json.iterationCount + \"\",\n      playState: json.playState,\n      fillMode: json.fillMode\n    }\n  }\n\n  togglePlayState (forcedValue) {\n\n    if (forcedValue) {\n      this.reset({ playState: forcedValue === 'running' ? 'running' : 'paused' })\n    } else {\n      if (this.json.playState === 'paused') {\n        this.reset({ playState: 'running' })\n      } else {\n        this.reset({ playState: 'paused' })\n      }\n    }\n\n  }\n\n  toCSS() {\n    if (!this.json.name) return {}\n    return {\n      \"animation\": this.toString()\n    };\n  }\n\n  toString() {\n    var json = this.json;\n\n    return [\n      json.name,\n      json.duration,\n      json.timingFunction,\n      json.delay,\n      json.iterationCount,\n      json.direction,\n      json.fillMode,\n      json.playState\n    ].join(' ')\n  }\n}\n","import { Length } from \"../unit/Length\";\nimport { Property } from \"../items/Property\";\n\n\nexport class Transition extends Property {\n  static parse(obj) {\n    return new Transition(obj);\n  }\n\n  getDefaultObject() {\n    return super.getDefaultObject({\n      itemType: \"transition\",\n      checked: true, \n      property: 'all',\n      duration: Length.second(0),\n      timingFunction: 'ease',\n      delay: Length.second(0)\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      checked: this.json.checked,\n      property: this.json.property,\n      duration: this.json.duration + \"\",\n      timingFunction: this.json.timingFunction,\n      delay: this.json.delay + ''\n    }\n  }\n\n  toCSS() {\n    return {\n      \"transition\": this.toString()\n    };\n  }\n\n  toString() {\n    var json = this.json;\n\n    return [\n      json.property,\n      json.duration,\n      json.timingFunction,\n      json.delay\n    ].join(' ')\n  }\n}\n","import { Property } from \"../items/Property\";\nimport { clone } from \"../../util/functions/func\";\n\nexport class Selector extends Property {\n  static parse(obj) {\n    return new Selector(obj);\n  }\n\n\n  getDefaultObject(obj) {\n    return super.getDefaultObject({\n      itemType: \"selector\",\n      selector: '',\n      properties: [],\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      selector: this.json.selector,\n      properties: this.json.properties.map(p => {\n        return clone(p)\n      })\n    }\n  }\n\n  isMultiStyle (key) {\n    switch (key) {\n    case 'background-image': \n    case 'var':\n      return true;\n    }\n\n    return false;\n  }\n\n  getMultiStyleString (p) {\n    switch(p.key) {\n      case 'background-image': \n        return p.value.toString() + ';';\n    }\n\n    return p.value.toString() + ';'; \n  }\n\n  toPropertyString () {\n    return this.json.properties.map(p => {\n      if (this.isMultiStyle(p.key)) {\n        return this.getMultiStyleString(p)\n      } else {\n        var value = p.value.toString();\n\n        if (value) {\n\n          var key = p.key \n\n          if (key === 'x') key = 'left';\n          else if (key === 'y') key = 'top';\n\n          return `${key}: ${value};`\n        } else {\n          return '';\n        }\n      }\n    }).join('\\n')\n  }\n\n  toCSSText (prefix = '') {\n  \n    return `${prefix}${this.json.selector} {\n    ${this.toPropertyString()}\n}`\n  }\n\n  toCSS() {\n    return {};\n  }\n\n  toString(prefix = '') {\n    return this.toCSSText(prefix)\n  }\n}\n","import { Length } from \"./Length\";\n\nexport class DirectionLength {\n    static parse (str) {\n        var temp = str.split(' ').filter(it => it.trim()).map(it => Length.parse(it))\n\n        var top = Length.percent(0), right = Length.percent(0), bottom = Length.percent(0), left = Length.percent(0);\n\n        if (temp.length === 1) {\n            top = temp[0].clone()\n            right = temp[0].clone()\n            bottom = temp[0].clone()\n            left = temp[0].clone()\n        } else if (temp.length === 2) {\n            top = temp[0].clone()\n            right = temp[1].clone()\n            bottom = temp[0].clone()\n            left = temp[1].clone()            \n        } else if (temp.length === 3) {\n            top = temp[0].clone()\n            right = temp[1].clone()\n            bottom = temp[2].clone()\n            left = temp[1].clone()  \n        } else if (temp.length === 4) {\n            top = temp[0].clone()\n            right = temp[1].clone()\n            bottom = temp[2].clone()\n            left = temp[3].clone()\n        }\n\n        return [temp.length, top, right, bottom, left]\n    }\n}","\nimport { Length } from \"../unit/Length\";\nimport { isUndefined } from \"../../util/functions/func\";\nimport { DirectionLength } from \"../unit/DirectionLength\";\nimport { Property } from \"../items/Property\";\nconst CLIPPATH_REG = /(content\\-box|padding\\-box|border\\-box|margin\\-box|view\\-box|stroke\\-box|fill\\-box|none|(inset|circle|ellipse|polygon|path|svg|url)(\\(([^\\)]*)\\))?)/gi;\nexport class ClipPath extends Property {\n\n    getDefaultObject(obj = {}) {\n        return super.getDefaultObject( { \n            itemType: 'clip-path', \n            type: 'none',\n            value: '',\n            ...obj \n        })\n    }\n\n    toCloneObject() {\n        return {\n            ...super.toCloneObject(),\n            value: this.json.value\n        }\n    }\n\n    toString() {\n        var type = this.json.type; \n        var value = this.json.value;\n        var box = this.json.box; \n\n        var results = '';\n\n        switch(type) {\n            case 'circle':\n            case 'inset':\n            case 'ellipse':\n            case 'polygon':\n            case 'path':\n                results = `${type}(${value})`;\n                break;                \n            case 'svg':\n                results = `url(#${value})`;\n                break;\n            default: \n                results = 'none';\n                break;\n        }\n\n        return box ? `${box} ${results}` : results;\n    }    \n\n    toCSS () {\n        return {\n            'clip-path': this.toString()\n        }\n    }\n\n\n    static toCSS (obj) {\n        return new ClipPath(obj).toCSS()\n    }\n\n    static toString (obj) {\n        return ClipPath.toCSS(obj)['clip-path']\n    }\n\n    static parse (obj) {\n        return new ClipPath(obj);\n    }\n\n    static parseStyle (str) { \n\n        var clippath = {};\n\n        if (!str) return {};\n    \n        var matches = (str.match(CLIPPATH_REG) || []);\n\n        matches.forEach((value, index) => {\n\n            if (value.includes('-box')) {\n                clippath.box = value; \n            } else {\n                var [clipPathName, clipPathValue] = value.split(\"(\");\n\n                clipPathValue = clipPathValue || ''; \n\n                if (clipPathName === 'none') {\n                    clipPathValue = ''\n                } else {\n                    clipPathValue = clipPathValue.split(\")\")[0];\n                }\n    \n                clippath.type = clipPathName;\n                clippath.value = clipPathValue;\n            }\n        });\n\n        return clippath;\n    }\n\n    static parseStyleForCircle (str) {\n        var radius = new Length('', 'closest-side'), position = ''; \n        str = str || '50%'\n        if (str.includes('at')) {\n            [ radius, position ] = str.split('at').map(it => it.trim());\n        }  else {\n            position = str.trim(); \n        }\n\n        var [x, y] = position.split(' ')\n\n        if (isUndefined(y)) {\n            y = x; \n        }\n\n        x = Length.parse(x)\n        y = Length.parse(y)\n\n        return {\n            radius, x, y\n        }\n    }\n\n    static parseStyleForEllipse (str = '50% 50%') {\n        var radius = `50% 50%`, position = ''; \n        str = str || '50%'\n        if (str.includes('at')) {\n            [ radius, position ] = str.split('at').map(it => it.trim());\n        }  else {\n            position = str.trim(); \n        }\n\n        var [x, y] = position.split(' ')\n\n        if (isUndefined(y)) {\n            y = x; \n        }\n\n        x = Length.parse(x)\n        y = Length.parse(y)\n\n        var [radiusX, radiusY] = radius.split(' ');\n\n        if (isUndefined(radiusY)) {\n            radiusY = radiusX;\n        }\n\n        radiusX = Length.parse(radiusX)\n        radiusY = Length.parse(radiusY)\n\n        return {\n            radiusX,\n            radiusY, \n            x, \n            y\n        }\n    }\n\n    static parseStyleForInset (str = '') {\n        var [inset, round] = str.split('round')\n\n        var [_count, top, right, bottom, left] = DirectionLength.parse(inset);\n\n        if (round) {\n\n            var [_roundCount, topRadius, rightRadius, bottomRadius, leftRadius] = DirectionLength.parse(round);\n\n        }\n\n        return {\n            isAll: _count === 1,\n            top, \n            right, \n            bottom, \n            left ,\n            round,\n            isAllRadius: _roundCount === 1,\n            topRadius,\n            rightRadius,\n            bottomRadius,\n            leftRadius\n        }\n    }\n\n    \n    static parseStyleForPolygon (str = '') {\n\n        return str.split(',').filter(it => it.trim()).map(it => {\n           var [x, y] = it.trim().split(' ')\n\n           return { \n               x: Length.parse(x), \n               y: Length.parse(y)\n            }\n        })\n    }\n}\n","\nimport { Length } from \"../unit/Length\";\nimport { Display } from \"../css-property/Display\";\nimport { GroupItem } from \"./GroupItem\";\nimport {\n  keyEach,\n  combineKeyArray,\n  isUndefined,\n  isNotUndefined,\n  CSS_TO_STRING,\n  STRING_TO_CSS,\n  clone,\n  OBJECT_TO_PROPERTY,\n  OBJECT_TO_CLASS\n} from \"../../util/functions/func\";\nimport { Animation } from \"../css-property/Animation\";\nimport { Transition } from \"../css-property/Transition\";\nimport { Selector } from \"../css-property/Selector\";\n\nimport { ClipPath } from \"../css-property/ClipPath\";\nimport Dom from \"../../util/Dom\";\n\nexport class DomItem extends GroupItem {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      'position': 'absolute',\n      'x': Length.px(0),\n      'y': Length.px(0),\n      'right': '',\n      'bottom': '',\n      'width': Length.px(300),\n      'height': Length.px(300),\n      'rootVariable': '',\n      'variable': '',\n      'transform': '',\n      'filter': '',\n      'backdrop-filter': '',\n      'background-color': '',      \n      'background-clip': '',\n      'background-image': '',      \n      'border': '',\n      'border-radius': '',      \n      'box-shadow': '',\n      'text-shadow': '',\n      'text-clip': '',      \n      'clip-path': '',\n      'color': \"black\",\n      'font-size': Length.px(13),\n      'font-stretch': '',\n      'line-height': '',\n      'text-align': '',\n      'text-transform': '',\n      'text-decoration': '',\n      'letter-spacing': '', \n      'word-spacing': '', \n      'text-indent': '',      \n      'perspective-origin': '',\n      'transform-origin': '',\n      'transform-style': '',\n      'perspective': '',\n      'mix-blend-mode': '',\n      'opacity': '',\n      'rotate': '',    \n      'text-fill-color': '',\n      'text-stroke-color': '',\n      'text-stroke-width': '',  \n      'offset-path': '',\n      'offset-distance': '',\n      'z-index': Length.auto,\n      'layout': 'default',\n      'flex-layout': 'display:flex;',\n      'grid-layout': 'display:grid;',\n      outline: {},\n      animations: [],\n      transitions: [],\n      // 'keyframe': 'sample 0% --aaa 100px | sample 100% width 200px | sample2 0.5% background-image background-image:linear-gradient(to right, black, yellow 100%)',\n      // keyframes: [],\n      selectors: [],\n      svg: [],\n      // display: Display.parse({ display: \"block\" }),      \n      ...obj\n    });\n  }\n\n  toCloneObject() {\n\n    var json = this.json; \n\n    return {\n      ...super.toCloneObject(),\n      'position': json.position,\n      'right': json.right + '',\n      'bottom': json.bottom + '',\n      'rootVariable': json.rootVariable,\n      'variable': json.variable,\n      'transform': json.transform,\n      'filter': json.filter,\n      'backdrop-filter': json['backdrop-filter'],\n      'background-color': json['background-color'],      \n      'background-image': json['background-image'],      \n      'text-clip': json['text-clip'],\n      'border-radius': json['border-radius'],      \n      'border': json['border'],\n      'box-shadow': json['box-shadow'],\n      'text-shadow': json['text-shadow'],\n      'clip-path': json['clip-path'],\n      'color': json.color,\n      'font-size': json['font-size'] + \"\",\n      'font-stretch': json['font-stretch'] + \"\",\n      'line-height': json['line-height'] + \"\",\n      'text-align': json['text-align'] + \"\",\n      'text-transform': json['text-transform'] + \"\",\n      'text-decoration': json['text-decoration'] + \"\",\n      'letter-spacing': json['letter-spacing'] + \"\",\n      'word-spacing': json['word-spacing'] + \"\",\n      'text-indent': json['text-indent'] + \"\",      \n      'perspective-origin': json['perspective-origin'],\n      'transform-origin': json['transform-origin'],\n      'transform-style': json['transform-style'],      \n      'perspective': json.perspective + \"\",\n      'mix-blend-mode': json['mix-blend-mode'],\n      'opacity': json.opacity + \"\",\n      'rotate': json.rotate + \"\",\n      'flex-layout': json['flex-layout'],      \n      'grid-layout': json['grid-layout'],                  \n      outline: clone(json.outline),\n\n      animations: json.animations.map(animation => animation.clone()),\n      transitions: json.transitions.map(transition => transition.clone()),\n      // 'keyframe': 'sample 0% --aaa 100px | sample 100% width 200px | sample2 0.5% background-image background-image:linear-gradient(to right, black, yellow 100%)',\n      // keyframes: json.keyframes.map(keyframe => keyframe.clone()),\n      selectors: json.selectors.map(selector => selector.clone()),\n      svg: json.svg.map(svg => svg.clone())\n    }\n  }\n\n  convert(json) {\n    json = super.convert(json);\n\n    return json;\n  }\n\n  addAnimation(animation) {\n    this.json.animations.push(animation);\n    return animation;\n  }  \n\n  addTransition(transition) {\n    this.json.transitions.push(transition);\n    return transition;\n  }    \n\n  addSelector(selector) {\n    this.json.selectors.push(selector);\n    return selector;\n  }      \n\n  createAnimation(data = {}) {\n    return this.addAnimation(\n      new Animation({\n        checked: true,\n        ...data\n      })\n    );\n  }  \n  \n\n  createSelector(data = {}) {\n    return this.addSelector(\n      new Selector({\n        checked: true,\n        ...data\n      })\n    );\n  }    \n\n  createTransition(data = {}) {\n    return this.addTransition(\n      new Transition({\n        checked: true,\n        ...data\n      })\n    );\n  }  \n\n  removePropertyList(arr, removeIndex) {\n    arr.splice(removeIndex, 1);\n  }\n\n  removeAnimation(removeIndex) {\n    this.removePropertyList(this.json.animations, removeIndex);\n  }  \n\n  \n  removeSelector(removeIndex) {\n    this.removePropertyList(this.json.selectors, removeIndex);\n  }    \n\n  removeTransition(removeIndex) {\n    this.removePropertyList(this.json.transitions, removeIndex);\n  }  \n\n  enableHasChildren() {\n    return true; \n  }\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n\n  \n  sortAnimation(startIndex, targetIndex) {\n    this.sortItem(this.json.animations, startIndex, targetIndex);\n  }  \n\n  sortTransition(startIndex, targetIndex) {\n    this.sortItem(this.json.transitions, startIndex, targetIndex);\n  }  \n\n  \n  updateAnimation(index, data = {}) {\n    this.json.animations[+index].reset(data);\n  }  \n\n  updateTransition(index, data = {}) {\n    this.json.transitions[+index].reset(data);\n  }    \n\n\n  updateSelector(index, data = {}) {\n    this.json.selectors[+index].reset(data);\n  }        \n\n  setSize(data) {\n    this.reset(data);\n  }\n\n  // 현재 선택된 border 의 속성을 지정한다.\n  // type 에 따라 다른데\n  // type is all 일 때, 나머지 속성 필드 값은 모두 지운다.\n  // type is not all 일 때는 해당 속성만 설정하고 all 값이 존재하면 지운다.\n  setBorder(type, data = undefined) {\n    var border = this.json.border;\n    if (type === \"all\") {\n      if (data) {\n        this.json.border = { all: data };\n      } else {\n        [\"top\", \"right\", \"bottom\", \"left\"].forEach(type => {\n          delete this.json.border[type];\n        });\n      }\n    } else {\n      if (border.all && isUndefined(data)) {\n        var newObject = { ...border.all };\n        border.top = { ...newObject };\n        border.bottom = { ...newObject };\n        border.left = { ...newObject };\n        border.right = { ...newObject };\n      }\n\n      if (border.all) {\n        delete border.all;\n      }\n\n      if (data) {\n        this.json.border[type] = data;\n      }\n    }\n  }\n\n  getBorder (type) {\n    return this.json.border[type] || {}\n  }\n\n  setOutline (obj) {\n    this.json.outline = { \n      ...this.json.outline, \n      ...obj \n    }\n  }\n\n  setBorderRadius(type, data) {\n    this.json.borderRadius = data;\n  }\n\n  traverse(item, results, hasLayoutItem) {\n    // var parentItemType = item.parent().itemType;\n    if (item.isAttribute()) return;\n    // if (parentItemType == 'layer') return;\n    if (!hasLayoutItem && item.isLayoutItem() && !item.isRootItem()) return;\n\n    results.push(item);\n\n    item.children.forEach(child => {\n      this.traverse(child, results);\n    });\n  }\n\n  tree(hasLayoutItem) {\n    var results = [];\n\n    this.children.forEach(item => {\n      this.traverse(item, results, hasLayoutItem);\n    });\n\n    return results;\n  }\n\n  toPropertyCSS(list) {\n    var results = {};\n    list.forEach(item => {\n      keyEach(item.toCSS(), (key, value) => {\n        if (!results[key]) results[key] = [];\n        results[key].push(value);\n      });\n    });\n\n    return combineKeyArray(results);\n  }\n\n  toStringPropertyCSS (field) {\n    return STRING_TO_CSS(this.json[field]);\n  }\n\n  toBackgroundImageCSS() {\n    return this.toStringPropertyCSS('background-image')\n  }\n\n  toLayoutCSS () {\n\n    var layout = this.json.layout ;\n\n    if (this.enableHasChildren()) {\n      if (layout === 'flex') {\n        return this.toFlexLayoutCSS()\n      } else if  (layout === 'grid') {\n        return this.toGridLayoutCSS()\n      }\n    }\n\n\n    return {}\n  }\n\n  toLayoutItemCSS() {\n    var parentLayout =  this.json.parent['layout'];\n    var obj = {}\n    if (parentLayout === 'flex' || parentLayout === 'grid') {\n      // 부모가  layout 이  지정 됐을 때 자식item 들은 position: relative 기준으로 동작한다. , left, top 은  속성에서 삭제 \n      obj = {\n        position: 'relative',\n        left: '',\n        top: '',\n      }\n    }\n\n    return obj;\n  }\n\n  toFlexLayoutCSS() {\n    return {\n      display: 'flex',\n      ...this.toStringPropertyCSS('flex-layout')\n    }\n  }  \n\n  toGridLayoutCSS() {\n    return {\n      display: 'grid',\n      ...this.toStringPropertyCSS('grid-layout')\n    }\n  }  \n\n  toBorderCSS() {\n    return this.toStringPropertyCSS('border')\n  }\n\n  toOutlineCSS () {\n    var outline = this.json.outline;\n\n    if (!outline) return {} ;\n\n    if (Object.keys(outline).length === 0) {\n      return {}\n    }\n\n    return {\n      outline: `${outline.color} ${outline.style} ${outline.width}`\n    }\n  }\n\n  toKeyCSS (key) {\n    if (!this.json[key]) return {} \n    return {\n      [key] : this.json[key]\n    };\n  }\n  \n  // export animation keyframe\n  toAnimationKeyframes (properties) {\n    return [\n      { selector: `[data-id=\"${this.json.id}\"]`, properties }\n    ] \n  }\n\n  toAnimationCSS() {\n    return this.toPropertyCSS(this.json.animations);\n  }\n\n  toTransitionCSS() {\n    return this.toPropertyCSS(this.json.transitions);\n  }  \n\n  toString() {\n    return CSS_TO_STRING(this.toCSS());\n  }\n\n  toExport() {\n    return CSS_TO_STRING(this.toCSS(true));\n  }\n\n  toExportSVGCode () {\n    return ''; \n  }\n\n  toBoxModelCSS() {\n    var json = this.json;\n    var obj = {};\n\n    if (json['margin-top']) obj[\"margin-top\"] = json['margin-top'];\n    if (json['margin-bottom']) obj[\"margin-bottom\"] = json['margin-bottom'];\n    if (json['margin-left']) obj[\"margin-left\"] = json['margin-left'];\n    if (json['margin-right']) obj[\"margin-right\"] = json['margin-right'];\n\n\n    if (json['padding-top']) obj[\"padding-top\"] = json['padding-top'];\n    if (json['padding-bottom']) obj[\"padding-bottom\"] = json['padding-bottom'];\n    if (json['padding-left']) obj[\"padding-left\"] = json['padding-left'];\n    if (json['padding-right']) obj[\"padding-right\"] = json['padding-right'];\n\n\n    return obj;\n  }\n\n  toKeyListCSS (...args) {\n    var json = this.json;\n    var obj = {};\n\n    args.forEach( it => {\n      if (isNotUndefined(json[it]) && json[it] !== '') {\n        obj[it] = json[it] + ''\n      }\n    })\n\n    return obj;\n  }\n\n  toFontCSS() {\n    return this.toKeyListCSS(\n    \n    )\n  }\n\n  toDefaultCSS() {\n\n    var obj = {}\n\n    if (this.isAbsolute) {\n      if (this.json.x)  obj.left = this.json.x ;\n      if (this.json.y)  obj.top = this.json.y ;\n    }\n\n    obj.visibility = (this.json.visible) ? 'visible' : 'hidden';\n\n    return {\n      ...obj,\n      ...this.toKeyListCSS(\n        \n        'position', 'right','bottom', 'width','height', 'overflow', 'z-index',\n\n        'background-color', 'color',  'opacity', 'mix-blend-mode',\n\n        'transform-origin', 'transform', 'transform-style', 'perspective', 'perspective-origin',\n\n        'font-size', 'font-stretch', 'line-height', 'font-weight', 'font-family', 'font-style',\n        'text-align', 'text-transform', 'text-decoration',\n        'letter-spacing', 'word-spacing', 'text-indent',\n\n        'border-radius',\n\n        'filter', 'backdrop-filter', 'box-shadow', 'text-shadow',\n\n        'offset-path'\n      )\n    }\n\n  }\n\n  toDefaultSVGCSS() {\n\n    var obj = {\n      overflow: 'visible',\n    }\n\n    return {\n      ...obj,\n      ...this.toKeyListCSS(\n\n        'transform', \n\n        'font-size', 'font-stretch', 'line-height', 'font-weight', 'font-family', 'font-style',\n        'text-align', 'text-transform', 'text-decoration',\n        'letter-spacing', 'word-spacing', 'text-indent'\n      )\n    }\n\n  }\n\n  // toTransformCSS() {\n  //   return this.toKeyListCSS('transform')\n  // }\n\n  toVariableCSS () {\n    var obj = {}\n    this.json.variable.split(';').filter(it => it.trim()).forEach(it => {\n      var [key, value] = it.split(':')\n\n      obj[`--${key}`] = value; \n    })\n    return obj;\n  }\n\n  toRootVariableCSS () {\n    var obj = {}\n    this.json.rootVariable.split(';').filter(it => it.trim()).forEach(it => {\n      var [key, value] = it.split(':')\n\n      obj[`--${key}`] = value; \n    })\n\n    return obj;\n  }\n\n  toRootVariableString () {\n    return CSS_TO_STRING(this.toRootVariableCSS())\n  }\n\n  // convert to only webket css property \n  toWebkitCSS() {\n    var obj = this.toKeyListCSS(\n      'text-fill-color', \n      'text-stroke-color', \n      'text-stroke-width', \n      'background-clip'\n    )\n\n    var results = {}\n    keyEach(obj, (key, value) => {\n      results[`-webkit-${key}`] = value; \n    })\n\n    return results;\n  }\n\n\n  // convert to only webket css property \n  toTextClipCSS() {\n\n    var results = {} \n\n    if (this.json['text-clip'] === 'text') {\n      results['-webkit-background-clip'] = 'text'\n      results['-webkit-text-fill-color'] = 'transparent';   \n      results['color'] = 'transparent';\n    }\n\n    return results;\n  }  \n\n  toClipPathCSS () {\n    var str = this.json['clip-path']\n    var obj = ClipPath.parseStyle(str)\n\n    switch (obj.type) {\n    case 'path': \n    case 'svg': \n      str = `url(#${this.clipPathId})`\n      break; \n    }\n\n    return {\n      'clip-path': str\n    }\n  }\n\n  toCSS() {\n\n    return {\n      ...this.toVariableCSS(),\n      ...this.toDefaultCSS(),\n      ...this.toClipPathCSS(),\n      ...this.toWebkitCSS(), \n      ...this.toTextClipCSS(),      \n      ...this.toBoxModelCSS(),\n      ...this.toBorderCSS(),\n      ...this.toOutlineCSS(),      \n      // ...this.toTransformCSS(),      \n      // ...this.toBorderImageCSS(),\n      ...this.toBackgroundImageCSS(),\n      ...this.toLayoutCSS(),\n      ...this.toLayoutItemCSS(),                  \n      ...this.toAnimationCSS(),\n      ...this.toTransitionCSS()\n    };\n  }\n\n  toSVGCSS() {\n\n    return {\n      ...this.toVariableCSS(),\n      ...this.toDefaultSVGCSS(),\n      ...this.toClipPathCSS(),\n      ...this.toWebkitCSS(), \n      ...this.toTextClipCSS(),      \n      ...this.toBoxModelCSS(),\n      ...this.toBorderCSS(),\n      ...this.toOutlineCSS(),      \n      // ...this.toTransformCSS(),      \n      // ...this.toBorderImageCSS(),\n      ...this.toBackgroundImageCSS(),\n      ...this.toLayoutCSS(),      \n      ...this.toLayoutItemCSS(),            \n      ...this.toAnimationCSS(),\n      ...this.toTransitionCSS()\n    };\n  }\n  \n \n  toSelectorString (prefix = '') {\n    return this.json.selectors\n              .map(selector => selector.toString(prefix))\n              .join('\\n\\n')\n  }\n\n\n  toNestedCSS($prefix) {\n    return []\n  }\n\n  toNestedBoundCSS($prefix) {\n    return []\n  }  \n\n  generateView (prefix = '', appendCSS = '') {\n\n    //1. 원본 객체의 css 를 생성 \n    //2. 원본이 하나의 객체가 아니라 복합 객체일때 중첩 CSS 를 자체 정의해서 생성 \n    //3. 이외에 selector 로 생성할 수 있는 css 를 생성 (:hover, :active 등등 )\n    var cssString = `\n${prefix} {  /* ${this.json.itemType} */\n    ${CSS_TO_STRING(this.toCSS(), '\\n    ')}; \n    ${appendCSS}\n}\n${this.toNestedCSS().map(it => {\n  return `${prefix} ${it.selector} { \n      ${it.cssText ? it.cssText : CSS_TO_STRING(it.css || {}, '\\n\\t\\t')}; \n  }`\n}).join('\\n')}\n${this.toSelectorString(prefix)}\n`  \n    return cssString;\n  }\n\n  get html () {\n    var {elementType, id, name, layers, itemType} = this.json;\n\n    const tagName = elementType || 'div'\n\n    return /*html*/`<${tagName} class=\"${OBJECT_TO_CLASS({\n      'element-item': true,\n      [itemType]: true \n    })}\" ${OBJECT_TO_PROPERTY({\n      'data-id': id,\n      'data-title': name \n    })}>\n    ${this.toDefString}\n  ${layers.map(it => it.html).join('\\n\\t')}\n</${tagName}>`\n  }\n\n  generateSVG (isRoot = false) {\n    if (isRoot) {\n      var width = this.json.width.value;\n      var height = this.json.height.value; \n      return /*html*/`\n<svg width=\"${width}\" height=\"${height}\" viewBox=\"0 0 ${width} ${height}\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink= \"http://www.w3.org/1999/xlink\">\n  ${this.rootSVG}\n</svg>`\n    }\n\n    return this.svg; \n  }\n\n  get svg () {\n    var {x, y} = this.json;    \n    x = x.value;\n    y = y.value;    \n    return this.toSVG(x, y)\n  }  \n\n  toSVG (x = 0, y = 0) {\n    var {layers, width, height, elementType} = this.json;\n    var tagName = elementType || 'div'\n    var css = this.toCSS();\n\n    delete css.left;\n    delete css.top;\n    if (css.position === 'absolute') {\n      delete css.position; \n    }\n\n    return /*html*/`\n    <g transform=\"translate(${x}, ${y})\">\n      ${this.toDefString}\n      <foreignObject ${OBJECT_TO_PROPERTY({ \n        width: width.value,\n        height: height.value\n      })}>\n        <div xmlns=\"http://www.w3.org/1999/xhtml\">\n          <${tagName} style=\"${CSS_TO_STRING(css)}\" ></${tagName}>\n        </div>\n      </foreignObject>    \n      ${layers.map(it => it.svg).join('\\n\\t')}      \n    </g>\n    `\n  }\n\n  get rootSVG () {\n    return this.toSVG()\n  }  \n\n\n  toBound () {\n    var obj = {\n      x: this.json.x ? this.json.x.clone() : Length.px(0),\n      y: this.json.y ? this.json.y.clone() : Length.px(0),\n      width: this.json.width.clone(),\n      height: this.json.height.clone(),\n    }\n\n    obj.x2 = Length.px(obj.x.value + obj.width.value);\n    obj.y2 = Length.px(obj.y.value + obj.height.value);\n\n    return obj\n  }\n\n\n\n\n  updateFunction (currentElement, isChangeFragment = true) {\n\n    if (isChangeFragment) {\n      var $svg = currentElement.$(`[data-id=\"${this.innerSVGId}\"]`);  \n\n      if ($svg) {\n        var $defs = $svg.$('defs');\n        $defs.html(this.toDefInnerString)          \n      } else {\n        var a = Dom.createByHTML(this.toDefString);\n        if (a) {\n          currentElement.prepend(a);\n        }\n\n      }\n\n    }\n\n  }    \n\n  get toDefInnerString () {\n    return /*html*/`${this.toClipPath}`\n  }\n\n  get toClipPath() {\n\n    var obj = ClipPath.parseStyle(this.json['clip-path']);\n    var value = obj.value; \n    switch (obj.type) {\n    case 'path':\n      return /*html*/`<clipPath id=\"${this.clipPathId}\"><path d=\"${value}\" /></clipPath>`\n    case 'svg': \n      return /*html*/`<clipPath id=\"${this.clipPathId}\">${value}</clipPath>`\n    }\n\n    return ``\n  }\n\n  get innerSVGId() {\n    return this.json.id + 'inner-svg'\n  }\n\n  get toDefString () {\n    var str = this.toDefInnerString.trim()\n\n    return str && /*html*/`\n    <svg class='inner-svg-element' data-id=\"${this.innerSVGId}\" width=\"0\" height=\"0\">\n      <defs>\n        ${str}\n      </defs>\n    </svg>\n    `\n  }\n\n  get clipPathId () {\n    return this.json.id + 'clip-path'\n  }  \n}\n","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M3 5v3c0 .55.45 1 1 1s1-.45 1-1V6c0-.55.45-1 1-1h2c.55 0 1-.45 1-1s-.45-1-1-1H5c-1.1 0-2 .9-2 2zm1 10c-.55 0-1 .45-1 1v3c0 1.1.9 2 2 2h3c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1-.45-1-1v-2c0-.55-.45-1-1-1zm15 3c0 .55-.45 1-1 1h-2c-.55 0-1 .45-1 1s.45 1 1 1h3c1.1 0 2-.9 2-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v2zm0-15h-3c-.55 0-1 .45-1 1s.45 1 1 1h2c.55 0 1 .45 1 1v2c0 .55.45 1 1 1s1-.45 1-1V5c0-1.1-.9-2-2-2z\"/></svg>`;\n","import chevron_right from \"./chevron_right\";\nimport create_folder from \"./create_folder\";\nimport add_box from \"./add_box\";\nimport visible from \"./visible\";\nimport remove from \"./remove\";\nimport copy from \"./copy\";\nimport lock from \"./lock\";\nimport undo from \"./undo\";\nimport redo from \"./redo\";\nimport save from \"./save\";\nimport exportIcon from \"./export\";\nimport add from \"./add\";\nimport add_note from \"./add_note\";\nimport publish from \"./publish\";\nimport folder from \"./folder\";\nimport artboard from \"./artboard\";\nimport image from \"./image\";\nimport setting from \"./setting\";\nimport remove2 from \"./remove2\";\nimport repeat from \"./repeat\";\nimport screen from \"./screen\";\nimport arrowRight from \"./arrowRight\";\nimport check from \"./check\";\nimport border_all from \"./border_all\";\nimport border_inner from \"./border_inner\";\nimport paint from \"./paint\";\nimport title from \"./title\";\nimport timer from \"./timer\";\nimport chevron_left from \"./chevron_left\";\nimport input from \"./input\";\nimport filter from \"./filter\";\nimport play from \"./play\";\nimport pause from \"./pause\";\nimport autorenew from \"./autorenew\";\nimport code from \"./code\";\nimport build from \"./build\";\nimport close from \"./close\";\nimport gradient from \"./gradient\";\nimport transform from \"./transform\";\nimport scatter from \"./scatter\";\nimport shape from \"./shape\";\nimport ballot from \"./ballot\";\nimport add_circle from \"./add_circle\";\nimport lock_open from \"./lock_open\";\nimport outline_image from \"./outline_image\";\nimport edit from \"./edit\";\nimport size from \"./size\";\nimport color from \"./color\";\nimport align_center from \"./align_center\";\nimport align_justify from \"./align_justify\";\nimport align_left from \"./align_left\";\nimport align_right from \"./align_right\";\nimport list from \"./list\";\nimport grid from \"./grid\";\nimport expand from \"./expand\";\nimport brush from \"./brush\";\nimport dahaze from \"./dahaze\";\nimport star from \"./star\";\nimport polygon from \"./polygon\";\nimport cube from \"./cube\";\nimport color_lens from \"./color_lens\";\nimport circle from \"./circle\";\nimport rect from \"./rect\";\nimport note from \"./note\";\nimport skip_next from \"./skip_next\";\nimport skip_prev from \"./skip_prev\";\nimport fast_forward from \"./fast_forward\";\nimport fast_rewind from \"./fast_rewind\";\nimport alternate from \"./alternate\";\nimport alternate_reverse from \"./alternate_reverse\";\nimport speed from \"./speed\";\nimport replay from \"./replay\";\nimport shuffle from \"./shuffle\";\nimport cat from \"./cat\";\nimport refresh from \"./refresh\";\nimport gps_fixed from \"./gps_fixed\";\nimport file_copy from \"./file_copy\";\nimport archive from \"./archive\";\nimport storage from \"./storage\";\nimport doc from \"./doc\";\nimport flash_on from \"./flash_on\";\nimport view_list from \"./view_list\";\nimport near_me from \"./near_me\";\nimport photo from \"./photo\";\nimport specular from \"./specular\";\nimport diffuse from \"./diffuse\";\nimport palette from \"./palette\";\nimport landscape from \"./landscape\";\nimport blur from \"./blur\";\nimport blur_linear from \"./blur_linear\";\nimport waves from \"./waves\";\nimport vintage from \"./vintage\";\nimport looks from \"./looks\";\nimport opacity from \"./opacity\";\nimport shadow from \"./shadow\";\nimport broken_image from \"./broken_image\";\nimport camera_roll from \"./camera_roll\";\nimport view_comfy from \"./view_comfy\";\nimport settings_input_component from \"./settings_input_component\";\nimport merge from \"./merge\";\nimport texture from \"./texture\";\nimport account_tree from \"./account_tree\";\nimport format_shapes from \"./format_shapes\";\nimport flip from \"./flip\";\nimport flipY from \"./flipY\";\nimport control_point from \"./control_point\";\nimport flip_camera from \"./flip_camera\";\nimport device_hub from \"./device_hub\";\nimport text_rotate from \"./text_rotate\";\nimport cylinder from \"./cylinder\";\n\n\nconst alias = {\n  fullscreen:  border_inner\n}\n\nexport default {\n  ...alias,\n  cylinder,\n  text_rotate,\n  device_hub,\n  control_point,\n  flip_camera,\n  flipY,\n  flip,\n  account_tree,\n  format_shapes,  \n  merge,\n  texture,\n  settings_input_component,\n  view_comfy,\n  camera_roll,\n  broken_image,\n  shadow,\n  opacity,\n  looks,\n  vintage,\n  waves,\n  blur_linear,\n  blur,\n  landscape,\n  palette,\n  diffuse,\n  specular,\n  photo,\n  near_me,\n  view_list,\n  flash_on,\n  doc,\n  storage,\n  archive,\n  file_copy,\n  gps_fixed,\n  refresh,\n  cat,\n  shuffle,\n  replay,\n  speed,\n  alternate_reverse,\n  alternate,\n  note,\n  rect,\n  circle,\n  color_lens,\n  cube,\n  polygon,\n  star,\n  dahaze,\n  brush,\n  expand,\n  list,\n  grid,\n  align_center,\n  align_justify,\n  align_left,\n  align_right,\n  color,\n  size,\n  edit,\n  outline_image,\n  ballot,\n  shape,\n  scatter,\n  transform,\n  gradient,\n  close,\n  build,\n  code,\n  autorenew,\n  play,\n  pause,\n  skip_next,\n  skip_prev,\n  fast_forward,\n  fast_rewind,  \n  filter,\n  input,\n  timer,\n  title,\n  paint,\n  border_all,\n  border_inner,\n  check,\n  arrowRight,\n  screen,\n  repeat,\n  remove2,\n  setting,\n  image,\n  artboard,\n  folder,\n  publish,\n  add_note,\n  add,\n  save,\n  export: exportIcon,\n  redo,\n  undo,\n  lock,\n  lock_open,  \n  remove,\n  copy,\n  visible,\n  add_box,\n  add_circle,\n  create_folder,\n  chevron_right,\n  chevron_left\n};\n","export default `\n<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" version=\"1.1\">\n<g class=\"cylinder\">\n<path d=\"M 12 0 C 7.636719 0 3 1.226562 3 3.5 L 3 20.5 C 3 22.773438 7.636719 24 12 24 C 16.363281 24 21 22.773438 21 20.5 L 21 3.5 C 21 1.226562 16.363281 0 12 0 Z M 20 19.121094 C 19.921875 19.140625 19.84375 19.171875 19.78125 19.230469 C 19.574219 19.414062 19.554688 19.726562 19.738281 19.933594 C 19.914062 20.128906 20 20.320312 20 20.5 C 20 21.542969 16.957031 23 12 23 C 7.042969 23 4 21.542969 4 20.5 C 4 20.320312 4.085938 20.128906 4.261719 19.933594 C 4.445312 19.726562 4.425781 19.410156 4.21875 19.226562 C 4.15625 19.171875 4.078125 19.140625 4 19.121094 L 4 5.160156 C 5.59375 6.363281 8.863281 7 12 7 C 15.136719 7 18.40625 6.363281 20 5.160156 Z M 12 6 C 7.042969 6 4 4.542969 4 3.5 C 4 2.457031 7.042969 1 12 1 C 16.957031 1 20 2.457031 20 3.5 C 20 4.542969 16.957031 6 12 6 Z M 12 6 \"/>\n</g>\n</svg>\n`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12.75 3h-1.5L6.5 14h2.1l.9-2.2h5l.9 2.2h2.1L12.75 3zm-2.62 7L12 4.98 13.87 10h-3.74zm10.37 8l-3-3v2H5v2h12.5v2l3-3z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M17 16l-4-4V8.82C14.16 8.4 15 7.3 15 6c0-1.66-1.34-3-3-3S9 4.34 9 6c0 1.3.84 2.4 2 2.82V12l-4 4H3v5h5v-3.05l4-4.2 4 4.2V21h5v-5h-4z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/></svg>`","export default `\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"24px\"\n\t height=\"24px\" viewBox=\"0 0 24 24\" enable-background=\"new 0 0 24 24\" xml:space=\"preserve\">\n    <path d=\"M9,12c0,1.66,1.34,3,3,3s3-1.34,3-3s-1.34-3-3-3S9,10.34,9,12z\"/>\n    <path d=\"M8,10V8H5.09C6.47,5.61,9.05,4,12,4c3.72,0,6.85,2.56,7.74,6h2.06c-0.93-4.56-4.96-8-9.8-8C8.73,2,5.82,3.58,4,6.01V4H2v6\n        H8z\"/>\n    <path d=\"M16,14v2h2.91c-1.38,2.39-3.96,4-6.91,4c-3.72,0-6.85-2.56-7.74-6H2.2c0.93,4.56,4.96,8,9.8,8c3.27,0,6.18-1.58,8-4.01V20\n        h2v-6H16z\"/>\n</svg>\n`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M17 20.41L18.41 19 15 15.59 13.59 17 17 20.41zM7.5 8H11v5.59L5.59 19 7 20.41l6-6V8h3.5L12 3.5 7.5 8z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19.51 3.08L3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41zM11.88 3L3 11.88v2.83L14.71 3h-2.83zM5 3c-1.1 0-2 .9-2 2v2l4-4H5zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4h2zm-9.71 0h2.83L21 12.12V9.29L9.29 21z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M3 9h4V5H3v4zm0 5h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zM8 9h4V5H8v4zm5-4v4h4V5h-4zm5 9h4v-4h-4v4zM3 19h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zm5 0h4v-4h-4v4zm0-14v4h4V5h-4z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M14 5c0-1.1-.9-2-2-2h-1V2c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1v1H4c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2h8V5h-8zm-2 13h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2zm-3 6.42l3 3.01V19c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-6.58l3 2.99 4-4 4 4 4-3.99z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M15.96 10.29l-2.75 3.54-1.96-2.36L8.5 15h11l-3.54-4.71zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 10c-3.86 0-7 3.14-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.86-3.14-7-7-7zm0-4C5.93 6 1 10.93 1 17h2c0-4.96 4.04-9 9-9s9 4.04 9 9h2c0-6.07-4.93-11-11-11z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z\"/></svg>`","export default  `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M17 16.99c-1.35 0-2.2.42-2.95.8-.65.33-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.95c1.35 0 2.2-.42 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.42 2.95-.8c.65-.33 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm0-4.45c-1.35 0-2.2.43-2.95.8-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.32-1.17.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm2.95-8.08c-.75-.38-1.58-.8-2.95-.8s-2.2.42-2.95.8c-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.37-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.93c1.35 0 2.2-.43 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V5.04c-.9 0-1.4-.25-2.05-.58zM17 8.09c-1.35 0-2.2.43-2.95.8-.65.35-1.15.6-2.05.6s-1.4-.25-2.05-.6c-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.35-1.15.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.32 1.18-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V9.49c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M5 17.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 13c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zM3 21h18v-2H3v2zM5 9.5c.83 0 1.5-.67 1.5-1.5S5.83 6.5 5 6.5 3.5 7.17 3.5 8 4.17 9.5 5 9.5zm0 4c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 17c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8-.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM3 3v2h18V3H3zm14 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm0 4c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM13 9c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3 .5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm15 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-11 10c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-17c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 5.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm8 .5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm3 8.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM14 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-4-12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 8.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4-4.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M5 14.5h14v-6H5v6zM11 .55V3.5h2V.55h-2zm8.04 2.5l-1.79 1.79 1.41 1.41 1.8-1.79-1.42-1.41zM13 22.45V19.5h-2v2.95h2zm7.45-3.91l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zM3.55 4.46l1.79 1.79 1.41-1.41-1.79-1.79-1.41 1.41zm1.41 15.49l1.79-1.8-1.41-1.41-1.79 1.79 1.41 1.42z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M3.55 18.54l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8zM11 22.45h2V19.5h-2v2.95zM4 10.5H1v2h3v-2zm11-4.19V1.5H9v4.81C7.21 7.35 6 9.28 6 11.5c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19zm5 4.19v2h3v-2h-3zm-2.76 7.66l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4z\"/></svg>`\n","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M21 3L3 10.53v.98l6.84 2.65L12.48 21h.98L21 3z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M7 2v11h3v9l7-12h-4l4-8z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"/></svg>`","export default /*html*/`\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\t width=\"864px\" height=\"864px\" viewBox=\"0 0 864 864\" enable-background=\"new 0 0 864 864\">\n<path d=\"M712.4846,631.2673c-8.3777-59.9758-44.6997-121.2822-117.7703-198.7816\n\tc-51.7295-54.8649-72.0865-105.7791-55.8514-139.6883c12.4393-25.9817,42.587-35.8935,65.343-34.1103\n\tc26.3435,2.0661,37.3148,18.5905,41.88,32.0888c6.5847,19.471,2.7829,43.5175-8.4753,53.6029\n\tc-2.4382,2.1843-19.5444,15.6083-31.617,2.486c-16.0995-17.4994,1.3123-34.1181,1.3123-34.1181s25.7198-19.4211,11.5477-34.6431\n\tc-14.1721-15.2219-81.6211,4.7241-73.1766,62.9098c2.102,14.4833,9.8525,35.0453,41.7667,49.9105\n\tc31.3411,14.5985,62.0806,11.5356,84.3365-8.4017c26.8387-24.0431,36.221-68.5172,22.8163-108.1526\n\tc-13.0433-38.5685-45.3375-63.5167-86.387-66.7359c-22.4584-1.7602-45.9053,2.9182-66.0231,13.1776\n\tc-22.1882,11.3155-39.3094,28.5606-49.5124,49.8713c-15.207,31.7608-27.0118,99.5788,64.7797,196.9337\n\tc64.4428,68.3486,97.5892,122.6011,104.3126,170.7358c6.1263,43.8577-32.9753,141.2908-59.1734,141.8642\n\tc-18.2653,0.3997-13.0681-28.0174-11.1219-46.1832c3.4623-32.3166,9.02-64.4668,7.8147-96.946\n\tc-1.7692-47.6774-16.0649-83.7216-38.2463-125.1911c-20.1995-37.7643-37.8974-60.6029-92.5699-111.4463\n\tc-13.4884-12.5438-27.4699-22.5866-44.7675-38.1754c-17.5431-15.8101-21.9685-33.5474-24.195-48.6835\n\tc-4.6472-31.5926,5.266-35.0392,22.933-61.1816c7.51,6.1134,15.132,13.1576,22.5878,21.2593\n\tc0.8908,0.9678,2.1063,1.4586,3.3257,1.4586c1.0938,0,2.1906-0.3947,3.059-1.1939c1.8362-1.6895,1.9548-4.548,0.2647-6.3846\n\tc-8.043-8.7399-16.2394-16.2892-24.29-22.8068c1.0196-1.6815,1.9806-3.3693,2.913-5.06\n\tc11.2809,3.873,22.4781,8.5857,32.8744,14.3263c0.6923,0.3824,1.4415,0.5638,2.1804,0.5638c1.592,0,3.1354-0.8433,3.9596-2.3353\n\tc1.2061-2.1848,0.4133-4.9333-1.7714-6.14c-10.5501-5.8255-21.7927-10.625-33.0861-14.5846\n\tc1.7051-3.6655,3.2152-7.3481,4.5178-11.0449c9.9095,1.0547,20.2559,2.6507,30.8756,4.9542\n\tc2.4407,0.5281,4.8451-1.0193,5.3736-3.4585c0.5285-2.4387-1.0193-4.8446-3.4586-5.3736\n\tc-10.3543-2.2456-20.4231-3.8448-30.0823-4.9431c6.761-25.5357,4.0583-51.5754-8.0207-76.8648\n\tC448.2098,115.8869,474.731,76.8288,466.0513,18c-68.8775,17.9071-87.2624,54.1776-94.1043,50.875\n\tc-7.9472-3.8361-40.5018-11.036-62.952-10.6586c-37.278,0.6267-61.382,7.0395-61.382,7.0395\n\tc-11.2537-14.6686-35.9431-36.6889-90.105-41.2683c2.9433,47.1602,13.4346,82.2557,28.5291,102.9373l-0.7433,2.377\n\tc-11.7879,32.4393-13.5817,62.8858-3.8016,89.6451c-9.0883,1.1019-18.5685,2.7173-28.321,4.9987\n\tc-2.4299,0.5687-3.939,2.9991-3.3708,5.429c0.5687,2.4294,2.9972,3.939,5.429,3.3708c10.3087-2.4115,20.3424-4.0428,29.9266-5.0891\n\tc1.4184,2.9763,2.9836,5.904,4.7147,8.7755c-11.2262,4.119-22.4456,9.1879-32.9296,15.4312\n\tc-2.1445,1.2767-2.8476,4.0498-1.5704,6.1939c0.8453,1.4199,2.3461,2.2073,3.8866,2.2073c0.7859,0,1.5827-0.2054,2.3073-0.6369\n\tc10.5541-6.2849,22.0078-11.3381,33.4798-15.4008c3.3157,4.5403,7.0729,8.9251,11.2576,13.1527\n\tc-5.6694,5.3088-11.3757,11.2216-17,17.8125c-1.6199,1.8979-1.3944,4.7505,0.504,6.3699c0.8507,0.7266,1.8935,1.0816,2.931,1.0816\n\tc1.2767,0,2.5456-0.5383,3.4389-1.5856c5.5062-6.4525,11.1144-12.2327,16.692-17.4078c5.7832,5.4212,11.3758,11.1287,15.514,17.8627\n\tc7.8208,12.7265,8.3216,25.8196,6.7598,40.6753c-3.119,29.6671-13.4278,58.0414-20.0391,87.1301\n\tc-16.8163,73.989-9.0635,132.7513,20.7169,202.5388c8.0053,18.7598,17.5698,36.9144,23.7843,56.341\n\tc10.5081,32.8488,7.8436,88.3559,8.2697,122.8419v2.9318c0,0-19.9931,0.1384-28.4717,6.0748\n\tc-8.2555,5.7802-10.3883,21.931-4.3929,28.6906c6.6872,7.5395,21.6739,10.6397,31.6837,11.8093\n\tc119.664,13.9824,293.6021-2.6707,341.7446-8.3345C701.2023,821.2982,721.1432,693.2562,712.4846,631.2673z M437.2106,66.5267\n\tc-0.1946,33.6617-23.5064,50.7886-23.5064,50.7886c-6.2684-17.19-21.1558-25.3943-21.1558-25.3943\n\tC408.2194,68.8708,437.2106,66.5267,437.2106,66.5267z M201.6607,103.3024c0,0-19.8527-14.6264-20.0184-43.3732\n\tc0,0,24.6894,2.0019,38.035,21.6866C219.6773,81.6158,206.999,88.6223,201.6607,103.3024z M215.969,158.6876\n\tc15.0275-4.1452,27.2506-3.8264,37.1033-1.1182c-15.9193,16.5729-7.4137,31.0502-3.2583,36.286\n\tC221.2402,186.9178,215.969,158.6876,215.969,158.6876z M252.8369,194.4974c13.6546-17.1619,7.1357-30.6827,3.4758-35.9226\n\tc24.8589,8.5877,33.2057,32.5095,33.2057,32.5095C274.4792,195.6167,262.4471,196.221,252.8369,194.4974z M308.1766,232.8661\n\tc-4.1644,0.2111-22.0216-7.8084-21.8634-21.8635c0.1244-11.0539,40.2451-7.8568,42.1652,0\n\tC330.8523,220.7164,312.3411,232.655,308.1766,232.8661z M327.2252,191.0843c0,0,8.7972-25.2037,35.2186-33.1565\n\tc-12.424,19.1432-1.5466,31.7233,3.55,36.1478C356.055,196.2867,343.3752,195.9514,327.2252,191.0843z M369.7458,193.0825\n\tc10.0879-20.4091-1.0878-32.4358-4.9794-35.7968c9.66-2.4378,21.5306-2.5917,36.0081,1.4018\n\tC400.7746,158.6876,395.8536,185.0439,369.7458,193.0825z\"/>\n</svg>\n\n`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><defs><path id=\"a\" d=\"M0 0h24v24H0V0z\"/></defs><clipPath id=\"b\"><use xlink:href=\"#a\" overflow=\"visible\"/></clipPath><path d=\"M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-1.1 11H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1c.2.1.3.2.5.3s.2.3.3.6.1.5.1.8v.7zm-.9-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z\" clip-path=\"url(#b)\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z\" /></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M17 10H7v2h10v-2zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-5-5H7v2h7v-2z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z\"/></svg>`","export default `<svg width=\"24\" height=\"24\" style=\"transform: rotate(360deg);\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 24 24\"><path d=\"M21 16.5a1 1 0 0 1-.527.881l-7.907 4.443a.996.996 0 0 1-1.132 0l-7.907-4.443A1 1 0 0 1 3 16.5v-9a1 1 0 0 1 .527-.881l7.907-4.443a.995.995 0 0 1 1.132 0l7.907 4.443A1 1 0 0 1 21 7.5v9zM12 4.15L6.042 7.5l5.96 3.35 5.958-3.35-5.958-3.35zM5 15.916l6 3.372V12.58L5 9.209v6.706zm14 0V9.209l-6 3.372v6.707l6-3.373z\" /></svg>`","export default `<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M17,15.7V13H19V17L10,21L3,14L7,5H11V7H8.3L5.4,13.6L10.4,18.6L17,15.7M22,5V7H19V10H17V7H14V5H17V2H19V5H22Z\" /></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M2 15.5v2h20v-2H2zm0-5v2h20v-2H2zm0-5v2h20v-2H2z\"/></svg>`","\nexport default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M4 11h5V5H4v6zm0 7h5v-6H4v6zm6 0h5v-6h-5v6zm6 0h5v-6h-5v6zm-6-7h5V5h-5v6zm6-6v6h5V5h-5z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M21 15h2v2h-2v-2zm0-4h2v2h-2v-2zm2 8h-2v2c1 0 2-1 2-2zM13 3h2v2h-2V3zm8 4h2v2h-2V7zm0-4v2h2c0-1-1-2-2-2zM1 7h2v2H1V7zm16-4h2v2h-2V3zm0 16h2v2h-2v-2zM3 3C2 3 1 4 1 5h2V3zm6 0h2v2H9V3zM5 3h2v2H5V3zm-4 8v8c0 1.1.9 2 2 2h12V11H1zm2 8l2.5-3.21 1.79 2.15 2.5-3.22L13 19H3z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><clipPath><use xlink:href=\"#a\" overflow=\"visible\"/></clipPath><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M13 9.5h5v-2h-5v2zm0 7h5v-2h-5v2zm6 4.5H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2v14c0 1.1-.9 2-2 2zM6 11h5V6H6v5zm1-4h3v3H7V7zM6 18h5v-5H6v5zm1-4h3v3H7v-3z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><g fill=\"#010101\"><circle cx=\"7\" cy=\"14\" r=\"3\"/><circle cx=\"11\" cy=\"6\" r=\"3\"/><circle cx=\"16.6\" cy=\"17.6\" r=\"3\"/></g></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 18v-2H8V4h2L7 1 4 4h2v2H2v2h4v8c0 1.1.9 2 2 2h8v2h-2l3 3 3-3h-2v-2h4zM10 8h6v6h2V8c0-1.1-.9-2-2-2h-6v2z\"/></svg>`","export default '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M11 9h2v2h-2zm-2 2h2v2H9zm4 0h2v2h-2zm2-2h2v2h-2zM7 9h2v2H7zm12-6H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 18H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z\"/></svg>';","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M8 5v14l11-7z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M6 6h2v12H6zm3.5 6l8.5 6V6z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M5 4v3h5.5v12h3V7H19V4z\"/></svg>`;\n","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M18 4V3c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6h1v4H9v11c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-9h8V4h-3z\"/></svg>`;\n","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1z\"/></svg>`;\n","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/></svg>`;\n","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M16.01 11H4v2h12.01v3L20 12l-3.99-4z\"/></svg>`;\n","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 13H5v-2h14v2z\"/></svg>`;\n","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\"><path d=\"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z\"/></svg>`;\n","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n<path d=\"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"/></svg>`;\n","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/></svg>`","export default `\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z\"/><path fill=\"none\" d=\"M0 0h24v24H0z\"/></svg>`","\nexport default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"/></svg>`","export default `\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z\"/></svg>`","export default `\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"/></svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n    <path d=\"M22 6H12l-2-2H2v16h20V6zm-3 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z\"/>\n</svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n    <path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z\"/>\n</svg>`","export default `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"/></svg>`","import { DomItem } from \"./DomItem\";\nimport { Length } from \"../unit/Length\";\nimport { editor } from \"../editor\";\nimport icon from \"../../csseditor/ui/icon/icon\";\n\n\nexport class Layer extends DomItem {\n\n  static getIcon () {\n    return icon.rect;\n  }\n\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: \"layer\",\n      name: \"New Layer\",\n      tagName: 'div',\n      ...obj\n    });\n  }\n\n  getDefaultTitle() {\n    return \"Layer\";\n  } \n\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      tagName: this.json.tagName\n    }\n  }\n\n\n  get screenX () { \n    if (this.json.parent) {\n        return Length.px( this.json.parent.screenX.value + (this.json.x || zero).value )\n    }\n\n    return this.json.x || Length.px(0) \n  }\n  get screenY () { \n\n      if (this.json.parent) {\n          return Length.px( this.json.parent.screenY.value + (this.json.y || zero).value )\n      }\n\n      return this.json.y || Length.px(0) \n  }  \n\n}\n\neditor.registerComponent('layer', Layer);","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { isNotUndefined, OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { Layer } from \"../../../editor/items/Layer\";\nimport { LOAD, BIND } from \"../../../util/Event\";\n\n\nconst text = (x, y, text = '', className = 'base-line') => {\n    return /*html*/`<text x=\"${x}\" y=\"${y}\" class='${className}'>${text}</text>`\n}\n\nconst line = (x1, y1, x2, y2, className = 'base-line') => {\n    return /*html*/`<line ${OBJECT_TO_PROPERTY({x1, y1, x2, y2 })} class='${className}' />`\n}\n\nconst hLine = (images, startX, minY, maxY) => {\n\n    if (Math.abs(minY - maxY) === 0) return; \n\n\n    // top \n    images.push(line(startX-2,   minY,             startX+2,    minY))\n    images.push(line(startX,     minY,             startX,      maxY)) \n    images.push(line(startX-2,   maxY,             startX+2,    maxY))\n\n    /* text */ \n    var centerY  = (maxY + minY)/2;\n    var centerHeight = Math.floor(Math.abs(maxY - minY))                \n    images.push(text(startX+2, centerY, centerHeight))\n}\n\nconst vLine = (images, startY, minX, maxX) => {\n\n    if (Math.abs(minX - maxX) === 0) return; \n\n    // top \n    images.push(line(minX, startY-2,  minX,  startY+2))\n    images.push(line(minX, startY,  maxX,   startY)) \n    images.push(line(maxX, startY-2, maxX,   startY+2))\n\n    /* text */ \n    var centerX  = (maxX + minX)/2;\n    var centerWidth = Math.floor(Math.abs(maxX - minX))                \n    images.push(text(centerX, startY - 2, centerWidth, 'text-center'))\n}\n\n/**\n * 객체와의 거리의 가이드 라인을 그려주는 컴포넌트\n */\nexport default class GuideLineView extends UIElement {\n\n    template() {\n        return `<svg class='guide-line-view' width=\"100%\" height=\"100%\" ></svg>`\n    }\n\n    initState() {\n        return {\n            list: []\n        }\n    }\n\n    [BIND('$el')] () {\n        return {\n            html: this.createGuideLine(this.state.list)\n        }\n    }\n    \n    createGuideLine (list) {\n    \n        var images = []\n\n        list.forEach(it => {\n    \n            var target = it.B; \n    \n            if (isNotUndefined(it.ax)) {  // 세로 가이드 정의  (x축 좌표 찾기)\n\n                var minY = Length.min(target.screenY, it.A.screenY);\n                var maxY = Length.max(target.screenY2, it.A.screenY2);\n\n\n                // it.bx : x 좌표 \n                // minY : container 위치 \n                // maxY : container 위치 \n                // it.A.screenY : 객체 위치 \n                // it.A.screenY2 : 객체 위치 \n                var startX = it.bx; \n\n                if (it.A.screenY.value > it.B.screenY2.value) {\n                    hLine(images, startX, it.B.screenY2.value, it.A.screenY.value);\n                } else {\n                    hLine(images, startX, minY.value, it.A.screenY.value);\n                }\n\n                if (it.A.screenX.value - target.screenX.value > 0 \n                    && it.A.screenY.value <= it.B.screenY2.value \n                    && it.A.screenY.value >= it.B.screenY.value \n                ) {\n                    var centerY = (it.A.screenY.value + it.A.screenY2.value) /2;                    \n                    vLine(images, centerY, target.screenX.value, it.A.screenX.value);\n                }\n\n                if (target.screenX2.value - it.A.screenX2.value > 0\n                    && it.A.screenY.value <= it.B.screenY2.value \n                    && it.A.screenY.value >= it.B.screenY.value \n                ) {\n                    var centerY = (it.A.screenY.value + it.A.screenY2.value) /2;\n                    vLine(images, centerY, it.A.screenX2.value, target.screenX2.value);\n                }                \n\n                if (it.A.screenY2.value < it.B.screenY.value) {\n                    hLine(images, startX, it.A.screenY2.value, it.B.screenY.value);\n                } else {\n                    hLine(images, startX, it.A.screenY2.value, maxY.value);\n                }\n    \n            } else {            // 가로 가이드 정의 \n                \n                var maxX = Length.max(target.screenX2, it.A.screenX2);\n\n                var startY = it.by; \n    \n\n                if (it.A.screenX.value > it.B.screenX2.value) {\n                    vLine(images, startY, it.B.screenX2.value, it.A.screenX.value);\n                } else {\n                    vLine(images, startY, it.A.screenX2.value, it.B.screenX.value);\n                }\n\n\n\n                if (it.A.screenY.value - target.screenY.value > 0\n                    && it.A.screenX.value <= it.B.screenX2.value \n                    && it.A.screenX.value >= it.B.screenX.value \n                ) {\n                    var centerX = (it.A.screenX.value + it.A.screenX2.value) /2;\n                    hLine(images, centerX, it.B.screenY.value, it.A.screenY.value);\n                }\n\n                if (target.screenY2.value - it.A.screenY2.value > 0\n                    && it.A.screenX.value <= it.B.screenX2.value \n                    && it.A.screenX.value >= it.B.screenX.value \n                ) {\n                    var centerX = (it.A.screenX.value + it.A.screenX2.value) /2;\n                    hLine(images, centerX, it.A.screenY2.value, it.B.screenY2.value);\n                }                \n\n                \n                if (it.A.screenX2.value < it.B.screenX.value) {\n                    vLine(images, startY, it.A.screenX2.value, it.B.screenX.value);\n                } else {\n                    vLine(images, startY, it.A.screenX2.value, maxX.value);\n                }\n            }\n    \n        })\n    \n    \n        return images.join('');\n    }\n\n    removeGuideLine() {\n        this.$el.cssText('');\n    }\n\n    setGuideLine (list) {\n        this.setState({\n            list\n        })\n        // this.$el.cssText(CSS_TO_STRING(this.createGuideLine(list)));\n    }\n\n    [EVENT('removeGuideLine')] () {\n        this.removeGuideLine()\n    }\n\n    [EVENT('refreshGuideLine')] (list) {\n        this.setGuideLine(list);\n    }\n} ","export default class SegmentManager {\n    constructor () {\n        this.segmentList = [] \n    }\n\n    reset () {\n        this.segmentList = []\n        return this;         \n    }\n\n\n    addLine (a, b) {\n        this.segmentList.push({\n            line: true,\n            x1: a.x,\n            y1: a.y,\n            x2: b.x,\n            y2: b.y            \n        })\n        return this;         \n    }\n\n    addGuideLine (a, b) {\n        this.segmentList.push({\n            line: true,\n            guide: true, \n            x1: a.x,\n            y1: a.y,\n            x2: b.x,\n            y2: b.y            \n        })\n        return this;         \n    }    \n\n\n    addDistanceLine (a, b) {\n        this.segmentList.push({\n            line: true,\n            distance: true, \n            x1: a.x,\n            y1: a.y,\n            x2: b.x,\n            y2: b.y            \n        })\n        return this;         \n    }        \n\n    addDistanceAngle (center, rx, ry, degree, last, line) {\n        this.segmentList.push({\n            angle: true,\n            rx, \n            ry, \n            line,\n            degree,\n            center, \n            last\n        })\n        return this;         \n    }            \n\n    addPoint(obj, point, index, segment, selected = false) {\n        this.segmentList.push({\n            ...obj,\n            cx: point.x,\n            cy: point.y,\n            selected,\n            index,\n            segment,\n            isFirst: point.isFirst,\n            isLast: point.isLast,\n            isSecond: point.isSecond\n\n        })\n\n        return this; \n    }\n\n\n    addStartPoint(obj, point) {\n        this.segmentList.push({\n            ...obj,\n            cx: point.x,\n            cy: point.y,\n            start: true \n        })\n\n        return this; \n    }    \n\n    addCurvePoint (point, index, segment, selected = false) {\n\n        this.segmentList.push({\n            curve: true, \n            cx: point.x,\n            cy: point.y,\n            index,\n            selected,\n            segment,\n            isFirst: point.isFirst,\n            isLast: point.isLast,\n            isSecond: point.isSecond\n        })     \n\n        return this; \n    }\n\n    addText (point, text) {\n        this.segmentList.push({\n            type: 'text',\n            cx: point.x,\n            cy: point.y,\n            text: text + \"\"  \n        })\n\n        return this;\n    }\n\n    toString () {\n\n        this.segmentList.sort((a, b) => {\n            if (a.line && !b.line) {\n                return -1; \n            } else if (!a.line && b.line) {\n                return 1; \n            }\n            return 0;\n        })\n\n        return this.segmentList.map(it => {\n\n            if (it.angle) {\n                return  /*html*/`\n                <path stroke-width='1' \n                    data-distance='true'\n                    fill=\"rgba(0,0,0,0.5)\"\n                    d=\"M ${it.center.x},${it.center.y} A ${it.rx} ${it.ry},${it.degree},0,0,${it.last.x} ${it.last.y} L${it.line.x} ${it.line.y} Z\"\n                />`\n            } else if (it.line) {\n                return  /*html*/`\n                <line stroke-width='1' \n                    data-segment=\"true\"\n                    data-is-last=\"${it.isLast}\"                \n                    data-guide='${it.guide}'\n                    data-distance='${it.distance}'\n                    x1='${it.x1}' x2='${it.x2}' y1='${it.y1}' y2='${it.y2}' \n                />`\n            } else if (it.text) {\n                return /*html*/ `\n                <text x=\"${it.cx}\" y=\"${it.cy}\" dx=\"5\" dy=\"-5\" text-anchor=\"start\">${it.text}</text>\n                `                              \n            } else if (it.curve) {\n                return /*html*/`\n                <circle \n                    cx='${it.cx}' \n                    cy='${it.cy}' \n                    r='4'                     \n                    class='curve' \n                    data-selected='${it.selected}'                    \n                    data-is-last=\"${it.isLast}\"                \n                    data-is-first=\"${it.isFirst}\"      \n                    data-is-second=\"${it.isSecond}\"                                  \n                    title=\"${it.segment} curve\"                \n                    data-index='${it.index}' \n                    data-segment-point='${it.segment}' \n                    data-segment=\"true\" \n                />`\n            } else if (it.start) {\n                return /*html*/`\n                <rect \n                    x='${it.cx - 4}' \n                    y='${it.cy - 4}' \n                    class='segment'\n                    data-selected='${it.selected}'                                   \n                    title=\"Center\"\n                    data-start=\"true\" \n                />`    \n            } else {\n                return /*html*/`\n                <rect \n                    x='${it.cx - 4}' \n                    y='${it.cy - 4}' \n                    class='segment'\n                    data-selected='${it.selected}'\n                    title=\"${it.segment}\"\n                    data-is-last=\"${it.isLast}\"\n                    data-is-first=\"${it.isFirst}\"\n                    data-is-second=\"${it.isSecond}\"\n                    data-index='${it.index}' \n                    data-segment-point='${it.segment}' \n                    data-segment=\"true\" \n                />`  \n            }\n\n        }).join('');\n    }\n\n}\n\n","export default class Point {\n    static isEqual(a, b) {\n        return a.x === b.x && a.y === b.y; \n    }\n\n    static isFirst (point) {\n        return point && point.command == 'M'\n    }\n\n    // check whether C is in A->C line \n    // 지점의 각도가 맞는지 계산해서 같은 각이면 같이 움직이는 걸로 처리 하자 .\n    static isInLine (A, B, C) {\n        if (A.x === C.x) return B.x === C.x;\n        if (A.y === C.y) return B.y === C.y;\n        return (A.x - C.x) * (A.y - C.y) === (C.x - B.x) * (C.y - B.y);\n    }\n\n    static isLine (point) {\n        return Point.isInLine(point.endPoint, point.startPoint, point,reversePoint);\n    }\n\n    static getReversePoint(start, end) {\n        var distX = (start.x -  end.x)\n        var distY = (start.y -  end.y)\n\n        return {\n            x: start.x + distX,\n            y: start.y + distY\n        }\n    }    \n\n    static getIndexPoint (points, index) {\n        return points[index]\n    }\n\n    static getPoint (points, p0) {\n        return points.filter(p => Point.isEqual(p.startPoint, p0))[0]\n    }\n\n    static getIndex (points, p0) {\n        var firstIndex = -1; \n        for(var i = 0, len = points.length; i < len; i++) {\n            var p = points[i]\n\n            if (Point.isEqual(p.startPoint, p0)) {\n                firstIndex = i; \n                break; \n            }\n        }\n        return firstIndex;\n    }\n\n    static getPointIndex (points, p0) {\n        var firstIndex = -1; \n        for(var i = 0, len = points.length; i < len; i++) {\n            var p = points[i]\n\n            if (Point.isEqual(p, p0)) {\n                firstIndex = i; \n                break; \n            }\n        }\n        return firstIndex;\n    }\n    \n    static getLastPoint (points, index) {\n\n        if (!points.length) return null;\n\n        var lastIndex = -1; \n        for(var i = index + 1, len = points.length; i < len; i++) {\n            if (points[i].command === 'M') {\n                lastIndex = i - 1;\n                break; \n            }\n        }\n\n        if (lastIndex == -1) {\n            lastIndex = points.length - 1; \n        }\n\n        if (points[lastIndex] && points[lastIndex].command === 'Z') {\n            lastIndex -= 1; \n        }\n\n        var point = points[lastIndex]\n\n        if (point) {\n            point.index = lastIndex;\n        }\n\n        return point\n    }\n\n    static getFirstPoint (points, index) {\n        var firstIndex = -1; \n        for (var i = index - 1; i > 0; i--) {\n            if (points[i].command === 'M') {\n                firstIndex = i; \n                break; \n            }\n        }\n        \n        if (firstIndex === -1) {\n            firstIndex = 0; \n        }\n\n        var point = points[firstIndex]\n        \n        if (point) {\n            point.index = firstIndex;\n        }\n\n        return point\n    }\n\n    static getPrevPoint (points, index) {\n        var prevIndex = index - 1; \n\n        if (prevIndex < 0) {\n            return Point.getLastPoint(points, index);\n        }\n\n        var point = points[prevIndex]\n\n        if (point) {\n            point.index = prevIndex\n        }\n\n        return point;\n    }    \n\n\n    static getNextPoint (points, index) {\n\n        var currentPoint = points[index]\n        var nextPoint = points[index + 1]\n\n        if (nextPoint) {\n            nextPoint.index = index + 1; \n        }\n\n        if (currentPoint.connected) {\n            nextPoint = Point.getFirstPoint(points, index);\n        }\n\n        return nextPoint;\n    }       \n}","\nimport { isNotUndefined, clone } from \"../../util/functions/func\";\nimport Point from \"./Point\";\n\nconst REG_PARSE_NUMBER_FOR_PATH = /([mMlLvVhHcCsSqQtTaAzZ]([^mMlLvVhHcCsSqQtTaAzZ]*))/g;\nconst splitReg = /[\\b\\t \\,]/g;\nvar numberReg = /-?[0-9]*\\.?[0-9]+(?:e[-+]?\\d+)?/ig\n\nconst matrix = {\n\n    multiply : function (a) {\n\n        return function (b, startIndex = 0) {\n            var x = +b[startIndex];\n            var y = +b[startIndex+1];\n\n            return [\n                a[0][0] * x + a[0][1] * y +  a[0][2],\n                a[1][0] * x + a[1][1] * y +  a[1][2],\n                1\n            ];\n        };\n    },\n\n    translate : function (tx, ty) {\n        return this.multiply([\n            [1, 0, tx],\n            [0, 1, ty],\n            [0, 0, 1]\n        ]);\n    },\n\n    rotate : function (angle) {\n        return this.multiply([\n            [Math.cos(angle) , -Math.sin(angle), 0],\n            [Math.sin(angle),  Math.cos(angle), 0],\n            [0, 0, 1]\n        ]);\n    },\n\n    rotateCenter : function (angle, cx, cy) {\n        return this.multiply([\n            [Math.cos(angle) , -Math.sin(angle), -cx * Math.cos(angle) + cy * Math.sin(angle) + cx],\n            [Math.sin(angle),  Math.cos(angle), -cx * Math.sin(angle) - cy * Math.cos(angle) + cy],\n            [0, 0, 1]\n        ])\n    },\n\n    scale : function (sx, sy) {\n        return this.multiply([\n            [sx, 0, 0],\n            [0, sy, 0],\n            [0, 0, 1]\n        ]);\n    },\n\n    skewX : function (x) {\n        return this.multiply([\n            [1, x, 0],\n            [0, 1, 0],\n            [0, 0, 1]\n        ]);\n    },\n\n    skewY : function (y) {\n        return this.multiply([\n            [1, 0, 0],\n            [y, 1, 0],\n            [0, 0, 1]\n        ]);\n    },\n\n    reflectionOrigin : function () {\n        return this.multiply([\n            [-1, 0, 0],\n            [0, -1, 0],\n            [0, 0, 1]\n        ]);\n    },\n\n    flipX : function () {\n        return this.multiply([\n            [1, 0, 0],\n            [0, -1, 0],\n            [0, 0, 1]\n        ]);\n    },\n\n    flipY : function () {\n        return this.multiply([\n            [-1, 0, 0],\n            [0, 1, 0],\n            [0, 0, 1]\n        ]);\n    }\n};\n \nexport default class PathParser {\n\n    constructor (pathString = '') {\n        this.reset(pathString);\n    }\n\n    reset (pathString = '') {\n        this.segments =  [];\n        this.pathString = pathString; \n        \n        this.parse()\n    }\n\n    resetSegments (segments) {\n        this.segments = segments || [] \n        this.pathString = this.joinPath()\n    }\n\t\n    trim (str = '')  {\n        var arr = str.match(numberReg) || [] \n        return arr.filter(it => it != '');\n    }\n\n    parse () {\n\n        var arr = this.pathString.match(REG_PARSE_NUMBER_FOR_PATH) || [];\n\n        this.segments = arr.map(s => {\n            var command = s[0]\n            var values = this.trim(s.replace(command, '')).map(it => +it);\n            \n            return { command, values }\n        });\n\n        // 상대 좌표를 모두 절 대 좌표로 변경 \n        // 절대좌표로 변환이 되어야 transform 을 쉽게 적용 할 수 있다. \n        // 물론 트랜스폼 하기 전에 절대 좌표로 구조를 맞추고 \n        // 다시 돌아올 수도 있겠지만 불필요한 작업이 너무 많아질 수도 있다. \n        this.segments = this.segments.map((s, index) => {\n            switch(s.command) {\n            case 'c':\n            case 'm':\n            case 'l':\n            case 'q':\n            case 's':\n            case 't':\n            case 'v':\n            case 'h': \n                var prev = this.segments[index-1]\n                var x = prev.values[prev.values.length -2 ]\n                var y = prev.values[prev.values.length -1 ]\n\n                 for (var i = 0, len = s.values.length; i < len; i += 2) {\n                     s.values[i] += x\n                     s.values[i+1] += y\n                 }\n\n                return {\n                    command: s.command.toUpperCase(),\n                    values: [...s.values]\n                }; \n            default: \n                return s; \n            }\n        })\n    }\n\n    convertGenerator () {\n\n        var points = [] \n\n        for(var index = 0, len = this.segments.length; index < len; index++) {\n            var s = this.segments[index]\n            var nextSegment = this.segments[index+1]\n            const {command, values} = s; \n\n            if (command === 'M' ) {\n                var [x, y] = values\n                points.push({ \n                    command, \n                    originalCommand: command,                    \n                    startPoint: {x, y}, \n                    endPoint: {x, y}, \n                    reversePoint: {x, y},\n                    curve: false\n                })\n            } else if (command === 'L') { \n                var prevPoint = Point.getPrevPoint(points, points.length);\n                \n                if (prevPoint.curve) {\n                    var [x, y] = values\n                    points.push({ \n                        command, \n                        originalCommand: command,                        \n                        startPoint: {x, y}, \n                        endPoint: {x, y}, \n                        reversePoint: clone(prevPoint.endPoint),\n                        curve: true\n                    })\n                } else {\n\n                    var [x, y] = values\n                    points.push({ \n                        command, \n                        originalCommand: command,                        \n                        startPoint: {x, y}, \n                        endPoint: {x, y}, \n                        reversePoint: { x, y},\n                        curve: false\n                    })\n                }\n\n            } else if (command === 'Q') {\n                var [cx1, cy1, x, y] = values; \n                var prevPoint = Point.getPrevPoint(points, points.length);\n\n                if (prevPoint.curve) {  // 내가 Q 인데 앞의 포인트가  \n                    var startPoint = {x, y}                    \n                    var endPoint = {x, y}                    \n                    var reversePoint = {x, y}                    \n                    points.push({\n                        command: 'L',\n                        originalCommand: command,                        \n                        startPoint,\n                        endPoint,\n                        reversePoint,\n                        curve: false\n                    })\n\n                    prevPoint.endPoint = { x: cx1, y: cy1 }\n\n                } else {\n\n\n                    if (nextSegment && nextSegment.command === 'L') {\n                        prevPoint.curve = true; \n                        prevPoint.endPoint = { x: cx1, y: cy1 }\n\n                        var startPoint = {x, y}\n                        var reversePoint = { x, y} \n                        var endPoint = {x, y}\n        \n                        points.push({\n                            command: 'L', \n                            originalCommand: command,                        \n                            curve: false, \n                            startPoint,\n                            endPoint,\n                            reversePoint\n                        })\n\n                    } else {\n\n                        var startPoint = {x, y}\n                        var reversePoint = { x: cx1, y: cy1} \n                        var endPoint = {x, y}\n        \n                        points.push({\n                            command, \n                            originalCommand: command,                        \n                            curve: true, \n                            startPoint,\n                            endPoint,\n                            reversePoint\n                        })\n                    }\n\n\n                }\n            } else if (command === 'T') {\n                var [x, y] = values; \n                // T 는 앞에 Q 가 있다는 소리 \n                // Q 의 Control Point 반대편에 Control Point 가 있다고 치고 생각하자. \n                var prevSegment = segments[index-1]\n\n                if (prevSegment && prevSegment.command === 'Q') {\n                    var [cx1, cy1, sx, sy ] = prevSegment.values\n\n                    var prevPoint = Point.getPrevPoint(points, points.length)\n                    prevPoint.endPoint = Point.getReversePoint({x: sx, y: sy}, {x: cx1, y: cy1});\n\n                    var startPoint = {x, y}\n                    var endPoint = {x, y}                    \n                    var reversePoint = {x, y}                    \n                    points.push({\n                        command: 'L',\n                        originalCommand: command,\n                        startPoint,\n                        endPoint,\n                        reversePoint,\n                        curve: false\n                    })\n                }\n\n\n            } else if (command === 'C') {\n                \n                var prevPoint = Point.getPrevPoint(points, points.length)\n\n                var [cx1, cy1, cx2, cy2, x, y] = values;                 \n                var startPoint = {x, y}\n                var reversePoint = { x: cx2, y: cy2} \n                var endPoint = {x, y}\n\n                points.push({\n                    command, \n                    originalCommand: command,                    \n                    curve: true, \n                    startPoint,\n                    endPoint,\n                    reversePoint\n                })\n\n                if (prevPoint) {\n                    prevPoint.curve = true; \n                    prevPoint.endPoint = {x: cx1, y: cy1 } \n                }    \n            } else if (command === 'S') {\n                var [x, y] = values; \n                // S 는 앞에 C,S 가 있다는 소리 \n                // S 의 Control Point 반대편에 Control Point 가 있다고 치고 생각하자. \n                var prevSegment = segments[index-1]\n\n                if (prevSegment && prevSegment.command === 'C') {\n                    var [cx2, cy2, sx, sy ] = prevSegment.values\n\n                    var prevPoint = Point.getPrevPoint(points, points.length)\n                    prevPoint.endPoint = Point.getReversePoint(prevPoint.startPoint, prevPoint.reversePoint);\n\n                    var startPoint = {x, y}\n                    var endPoint = {x, y}                    \n                    var reversePoint = { x: cx2, y: cy2}  \n                    points.push({\n                        command: 'Q',\n                        originalCommand: command,\n                        startPoint,\n                        endPoint,\n                        reversePoint,\n                        curve: false\n                    })\n                }\n                            \n                \n            } else if (command === 'Z') {\n                var prevPoint = Point.getPrevPoint(points, points.length);\n                var firstPoint = Point.getFirstPoint(points, points.length);\n\n                if (Point.isEqual(prevPoint.startPoint, firstPoint.startPoint)) {\n                    prevPoint.connected = true; \n\n                    prevPoint.endPoint = clone(firstPoint.endPoint)\n                    firstPoint.reversePoint = clone(prevPoint.reversePoint)\n                }\n\n                prevPoint.close = true; \n\n            }\n        }\n\n        points = points.filter(p => !!p);\n\n        return points;\n    }\n\n    length () {\n        return this.segments.length;\n    }\n\n\tsetSegments (index, seg) {\n        this.segments[index] = seg;\n    }\n\n\tgetSegments (index) {\n        if (isNotUndefined(index)) {\n            return this.segments[index];\n        }\n        return this.segments;\n    }\n\n\tjoinPath (segments) {\n        var list = (segments || this.segments);\n        return list.map(it => {\n            return `${it.command} ${it.values.length ? it.values.join(' ') : ''}`\n        }).join('')\n    }\n\n    each (callback, isReturn = false) {\n\n        var newSegments = this.segments.map(segment => {\n            return callback.call(this, segment);\n        })\n\n        if (isReturn) {\n            return newSegments;\n        } else {\n            this.segments = newSegments;\n        }\n    }\n\n    _loop (m, isReturn = false) {\n        return this.each(function(segment) {\n            var v = segment.values;\n            var c = segment.command;\n\n            switch(c) {\n            case 'M':\n            case 'L':\n                var result = m(v, 0);\n                segment.values = [result[0], result[1]];\n                break; \n            case 'V':\n                var result = m([+v[0], 0]);\n                segment.values = [result[0]];                \n                break;\n            case 'H':\n                var result = m([0, +v[0]]);\n                segment.values = [result[1]];                \n                break; \n            case 'C':\n            case 'S':\n            case 'T':\n            case 'Q':\n                for(var i = 0, len = v.length; i < len; i+=2) {\n                    var result = m(v, i);\n                    segment.values[i] = result[0];\n                    segment.values[i+1] = result[1];\n                }\n                break; \n            case 'A':\n\n                break; \n            }\n\n            return segment;\n\n        }, isReturn);\n    }\n\n    clone () {\n        return new PathParser(this.joinPath());\n    }\n\n    translate (tx, ty) {\n        this._loop(matrix.translate(tx, ty));\n        return this;\n    }\n\n    translateTo (tx, ty) {\n        return this.joinPath(this._loop(matrix.translate(tx, ty), true))\n    }    \n\n    scale (sx, sy) {\n        this._loop(matrix.scale(sx, sy));\n        return this;        \n    }\n\n    scaleTo (sx, sy) {\n        return this.joinPath(this._loop(matrix.scale(sx, sy), true))\n    }    \n\n    rotate (angle, centerX, centerY) {\n\n        if (isNotUndefined(centerX) && isNotUndefined(centerY)) {\n            this._loop(matrix.rotateCenter(angle, centerX, centerY));   \n        } else {    \n            this._loop(matrix.rotate(angle));\n        }\n        return this;        \n    }\n\n    rotateTo (angle) {\n        return this.joinPath(this._loop(matrix.rotate(angle), true))\n    }        \n\n    reflectionOrigin (angle) {\n        this._loop(matrix.reflectionOrigin(angle));\n        return this;        \n    }\n\n    reflectionOriginTo (angle) {\n        return this.joinPath(this._loop(matrix.reflectionOrigin(angle), true))\n    }            \n\n    flipX (angle) {\n        this._loop(matrix.flipX(angle));\n        return this;        \n    }\n\n    flipXTo (angle) {\n        return this.joinPath(this._loop(matrix.flipX(angle), true))\n    }    \n\n    flipY (angle) {\n        this._loop(matrix.flipY(angle));\n        return this;        \n    }\n\n    flipYTo (angle) {\n        return this.joinPath(this._loop(matrix.flipY(angle), true))\n    }    \n\n\n    skewX (sx) {\n        this._loop(matrix.skewX(sx));\n        return this;        \n    }\n\n\n    skewXTo (angle) {\n        return this.joinPath(this._loop(matrix.skewX(angle), true))\n    }        \n\n    skewY (sy) {\n        this._loop(matrix.skewY(sy));\n        return this;        \n    }\n\n    skewYTo (angle) {\n        return this.joinPath(this._loop(matrix.skewY(angle), true))\n    }     \n    \n    get d () {\n        return this.toString()\n    }\n\n    toString() {\n        return this.joinPath()\n    }\n}","import PathParser from \"./PathParser\";\nimport Point from \"./Point\";\n\nexport default class PathStringManager {\n    constructor () {\n        this.pathArray = [] \n    }\n\n    reset () {\n        this.pathArray = []\n    } \n\n    getPointString (values) {\n        return values.map(v => `${v.x} ${v.y}`).join(' ')\n    }\n\n    makeString (command, values = []) {\n        this.pathArray.push(`${command} ${this.getPointString(values)}`)\n        return this; \n    }\n\n    M (...values) {\n        return this.makeString('M', values);\n    }\n\n    L (...values) {\n        return this.makeString('L', values);\n    }    \n\n    Q (...values) {\n        return this.makeString('Q', values);\n    }    \n\n    C (...values) {\n        return this.makeString('C', values);\n    }    \n\n    Z () {\n        return this.makeString('Z');\n    }        \n\n    get d () {\n        return this.pathArray.join(' ').trim();\n    }\n\n    toString (className = 'object') {\n        return /*html*/`<path d=\"${this.d}\" class='${className}'/>`\n    }\n\n    static makeRect (x, y, width, height) {\n        var d = new PathStringManager()\n            .M({x, y})\n            .L({x: x + width, y})\n            .L({x: x + width, y: y + height})\n            .L({x, y: y + height})\n            .L({x, y})\n            .Z()\n            .d\n\n        return d; \n    }\n\n\n    static makeLine (x, y, x2, y2) {\n        var d = new PathStringManager()\n            .M({x, y})\n            .L({x: x2, y: y2})\n            .d\n\n        return d; \n    }    \n\n    static makeCircle (x, y, width, height) {\n        // refer to https://stackoverflow.com/questions/1734745/how-to-create-circle-with-b%C3%A9zier-curves\n\n        var segmentSize = 0.552284749831;\n\n        var d = new PathStringManager()\n            .M({x: 0, y: -1})\n            .C({x: segmentSize, y: -1},{x: 1, y: -segmentSize},{x: 1, y: 0})\n            .C({x: 1, y: segmentSize},{x: segmentSize, y: 1},{x: 0, y: 1})\n            .C({x: -segmentSize, y: 1},{x: -1, y: segmentSize},{x: -1, y: 0})\n            .C({x: -1, y: -segmentSize},{x: -segmentSize, y: -1},{x: 0, y: -1})\n            .Z()\n            .d\n        var parser = new PathParser(d);\n\n        parser.translate(1, 1).scale(width/2, height/2).translate(x, y);\n\n        return parser.toString();\n    }\n\n}\n\n","import SegmentManager from \"./SegmentManager\";\nimport { clone, OBJECT_TO_PROPERTY } from \"../../util/functions/func\";\nimport { getDist, calculateAngle, getXYInCircle, calculateAngle360, degreeToRadian, div } from \"../../util/functions/math\";\nimport Point from \"./Point\";\nimport PathStringManager from \"./PathStringManager\";\nimport matrix from \"../../util/functions/matrix\";\n\nconst SEGMENT_DIRECTION = ['startPoint', 'endPoint', 'reversePoint']\n\n\nfunction calculateSnapPoint (points, sourceKey, target, distanceValue, dist) {\n    var checkedPointList = points.filter(p => {\n        if (!p) return false;\n        return Math.abs(p[sourceKey] - target) <= dist \n    }).map(p => {\n        return {dist: Math.abs(p[sourceKey] - target), point: p}\n    })\n\n    checkedPointList.sort( (a, b) => {\n        return a.dist > b.dist ? -1 : 1; \n    })\n\n    var point = null; \n\n    if (checkedPointList.length) {\n        point = checkedPointList[0].point\n        distanceValue += point[sourceKey] - target\n    }\n\n    return { point, distanceValue }; \n}\n\n\nfunction calculateMovePointSnap(points, moveXY, dist = 1) {\n    var snapPointX = calculatePointDist(points, 'x', moveXY.x, dist)\n    var snapPointY = calculatePointDist(points, 'y', moveXY.y, dist)        \n\n    var snapEndPoint = {...moveXY}\n    if (snapPointX) { snapEndPoint.x = snapPointX.x; }\n    if (snapPointY) { snapEndPoint.y = snapPointY.y;}\n\n    var snapPointList = [] \n\n    if (snapPointX) { snapPointList.push({ startPoint: snapPointX, endPoint: snapEndPoint })}\n    if (snapPointY) { snapPointList.push({ startPoint: snapPointY, endPoint: snapEndPoint})}      \n \n    return { snapPointList, moveXY: snapEndPoint }\n}    \n\n\n\nfunction calculatePointDist (points, sourceKey, target, dist) {\n    var checkedPointList = []\n    var arr = SEGMENT_DIRECTION\n    points.filter(p => p).forEach(p => {\n\n        arr.filter(key => p[key]).forEach(key => {\n            var point = p[key];\n            var tempDist = Math.abs(point[sourceKey] - target)\n            if (tempDist <= dist) {\n                checkedPointList.push({ dist: tempDist, point })\n            }\n        })\n    })\n\n    checkedPointList.sort( (a, b) => {\n        return a.dist > b.dist ? 1 : -1; \n    })\n\n    return (checkedPointList.length) ? checkedPointList[0].point : null \n}\n\n\n\nfunction toPath (points, minX, minY, scale = 1) {\n    var d = [];\n\n    for(var index = 0, len = points.length; index < len; index++) {\n        var currentIndex = index; \n        var current = points[currentIndex];                \n\n        if (!current) continue; \n\n        if (current.command === 'M') {\n            d.push({command: 'M', values: [ current.startPoint ]});             \n        } else {\n            var prevPoint = Point.getPrevPoint(points, index);                \n            if (current.curve === false) {  // 1번이 점이면 \n                // 꼭지점\n                if (prevPoint.curve === false) {\n                    d.push({command: 'L', values: [ current.startPoint ]});\n                } else {\n                    // 이전이 drag이고  지금이 점일 때  한쪽만 segment 가 있으므로 2차 Curve                         \n                    d.push({command: 'Q', values: [ prevPoint.endPoint, current.startPoint]});\n                }\n            } else {\n                // 이전은 점이고 현재가 드래그 일 때 , 한쪽만 segment 가 있으므로 2차 Curve \n                if (prevPoint.curve === false) { \n\n                    if (Point.isEqual(current.reversePoint, current.startPoint)) {\n                        d.push({ command: 'L', values: [current.startPoint] })\n                    } else {\n                        d.push({command: 'Q', values: [current.reversePoint, current.startPoint ]});\n                    }\n\n                } else {\n                    d.push({command: 'C', values: [ prevPoint.endPoint, current.reversePoint, current.startPoint ]});\n                }\n            }\n        }\n\n        if (current.close) {\n            d.push({command: 'Z'});\n        }\n    }\n\n    var dString = d.map(segment => {\n        return calculateRelativePosition (minX, minY, segment, scale);\n    }).join(' ')\n\n    return {\n        d: dString\n    };\n}\n\n\nfunction calculateRelativePosition (minX, minY, segment, scale = 1) {\n\n    var { command, values } = segment;\n\n    switch(command) {\n    case 'Z':\n        return 'Z';\n    default:\n        var str = values.map(v => {\n            var tx = (v.x - minX) === 0 ? 0 : (v.x - minX) / scale; \n            var ty = (v.y - minY) === 0 ? 0 : (v.y - minY) / scale; \n            return `${tx} ${ty}`\n        }).join(' ')\n\n        return `${command} ${str}`\n    }\n}\n\nfunction checkInArea (area, point) {\n\n    if (area.x2.value < point.x) { return false; }\n    if (area.y2.value < point.y) { return false; }\n    if (area.x.value > point.x) { return false; }\n    if (area.y.value > point.y) { return false; }\n\n    return true;\n}\n\n\nexport default class PathGenerator {\n\n    constructor (pathEditor) {\n        \n        this.pathEditor = pathEditor;\n        this.pathStringManager = new PathStringManager();\n        this.guideLineManager = new PathStringManager();\n        this.segmentManager = new SegmentManager();\n\n        this.initialize()\n        this.initializeSelect();\n    }\n\n    initialize () {\n        this.splitLines = [] \n        this.guideLineManager.reset();\n        this.segmentManager.reset();\n        this.pathStringManager.reset();\n \n    }\n\n    initializeSelect () {\n        this.selectedPointKeys = {}\n        this.selectedPointList = [];               \n    }\n\n    get state () {\n        return this.pathEditor.state; \n    }\n\n    get clonePoints() {\n        return [...this.state.points]\n    }\n\n    selectInBox (box) {\n        var list = [] \n        var target = ['startPoint', 'endPoint', 'reversePoint']\n        this.state.points.forEach((point, index) => {\n\n            target.forEach(key => {\n                const p = point[key]\n                if (checkInArea(box, p)) {\n                    list.push({ x: p.x, y: p.y,  key, index})\n                }\n            })\n\n        })\n\n        this.select(...list);\n    }\n\n    select (...list) {\n        this.selectedPointKeys = {}\n        this.selectedPointList = list;\n        list.forEach(it => {\n            var key = `${it.key}_${it.index}`\n            this.selectedPointKeys[key] = true;\n        }) \n    }\n\n    selectKeyIndex (key, index) {\n\n        if (this.state.points[index]) {\n            var point = this.state.points[index][key];\n            if (point && !this.isSelectedSegment(key, index)) {\n                this.select({x: point.x, y: point.y, key, index})\n            }\n        }\n\n    }\n\n    reselect () {\n        this.selectedPointList.forEach(it => {\n            var point = this.state.points[it.index][it.key];\n            it.x = point.x;\n            it.y = point.y;\n        });\n    }\n\n    isSelectedSegment (segment, index) {\n        var key = `${segment}_${index}`\n        return this.selectedPointKeys[key]\n    }\n\n    applyMatrix (p, ...mat) {\n\n        var {x, y} = p; \n\n        mat.forEach(m => {\n            if (m) {\n                [x, y] = m([x, y], 0)\n            }\n        })\n\n        return {x, y}\n    }\n\n    applyTransform (...mat) {\n\n        var first = matrix.matrix2d.translate(-this.transformRect.x, -this.transformRect.y);\n        var second = matrix.matrix2d.translate(this.transformRect.x, this.transformRect.y);\n\n        this.transformPoints.forEach((p, index) => {\n            var realPoint = this.state.points[index];\n\n            Object.assign(realPoint.startPoint, this.applyMatrix(p.startPoint, first, ...mat, second)) ;\n            Object.assign(realPoint.endPoint, this.applyMatrix(p.endPoint, first, ...mat, second)) ;\n            Object.assign(realPoint.reversePoint, this.applyMatrix(p.reversePoint, first, ...mat, second)) ;\n        })\n\n    }\n\n    transform (type, dx = 0, dy = 0) {\n\n        var {x, y, width, height} = this.transformRect;\n\n        switch(type) {\n        case 'flipX':\n            this.applyTransform(\n                matrix.matrix2d.translate(-dx, 0),\n                matrix.matrix2d.flipX()\n            ); \n            break; \n        case 'flipY':\n            this.applyTransform(\n                matrix.matrix2d.translate(0, -dy),\n                matrix.matrix2d.flipY()\n            ); \n            break;      \n        case 'flip':\n            this.applyTransform(\n                matrix.matrix2d.translate(-dx, -dy),\n                matrix.matrix2d.flip()\n            ); \n            break;                         \n        case 'to move': \n            this.applyTransform(matrix.matrix2d.translate(dx, dy)); \n            break; \n        case 'to skewX': \n            var hw = width/2;\n            var hh = height/2;\n\n            var a = calculateAngle(hw, hh)\n            var b = calculateAngle(hw + dx, hh)\n\n            var xAngle = a - b;        \n            this.applyTransform(matrix.matrix2d.skewX(degreeToRadian(xAngle))); \n            break;             \n        case 'to skewY': \n            var hw = width/2;\n            var hh = height/2;\n\n            var a = calculateAngle(hw, hh)\n            var b = calculateAngle(hw, hh + dy)\n\n            var yAngle = b - a;        \n            this.applyTransform(\n                matrix.matrix2d.skewY(degreeToRadian(yAngle))\n            ); \n            break;                         \n        case 'to bottom right':\n\n            var sx =  div(width + dx, width);\n            var sy =  div(height + dy, height);\n\n            this.applyTransform(\n                matrix.matrix2d.scale(sx, sy)\n            ); \n            break; \n        case 'to right':\n\n            var sx =  div(width + dx, width)\n\n            this.applyTransform(\n                matrix.matrix2d.scale(sx, 1)\n            ); \n            break;             \n        case 'to bottom':\n                var sy =  div(height + dy, height)\n\n                this.applyTransform(\n                    matrix.matrix2d.scale(1, sy)\n                ); \n                break;             \n\n        case 'to top right':\n\n            var sx =  div(width + dx, width)\n            var sy =  div(height - dy, height)\n\n            this.applyTransform(\n                matrix.matrix2d.scale(sx, sy),\n                matrix.matrix2d.translate(0, dy)\n            ); \n            break;             \n        case 'to top left':\n\n            var sx =  div(width - dx, width)\n            var sy =  div(height - dy, height)\n\n            this.applyTransform(\n                matrix.matrix2d.scale(sx, sy),\n                matrix.matrix2d.translate(dx, dy)\n            ); \n            break;    \n        case 'to left':\n\n            var sx =  div(width - dx, width)\n\n            this.applyTransform(\n                matrix.matrix2d.scale(sx, 1),\n                matrix.matrix2d.translate(dx, 0)\n            ); \n            break;                      \n        case 'to top':\n\n            var sy =  div(height - dy, height)\n\n            this.applyTransform(\n                matrix.matrix2d.scale(1, sy),\n                matrix.matrix2d.translate(0, dy)\n            ); \n            break;          \n        case 'to bottom left':\n\n            var sx =  div(width - dx, width)\n            var sy =  div(height + dy, height)\n\n            this.applyTransform(\n                matrix.matrix2d.scale(sx, sy),\n                matrix.matrix2d.translate(dx, 0)\n            ); \n            break;                                     \n        }\n    }\n\n    initTransform (rect) {\n        this.transformRect = clone(rect);\n        this.transformPoints = this.clonePoints.map(p => {\n            \n            return {\n                startPoint: clone(p.startPoint),\n                endPoint: clone(p.endPoint),\n                reversePoint: clone(p.reversePoint)\n            }\n        });   \n    }\n\n    setConnectedPoint (dx, dy) {\n        var state = this.state\n        var x = state.dragXY.x + dx // / editor.scale;\n        var y = state.dragXY.y + dy //  / editor.scale;\n\n        var endPoint = {x, y}\n        var reversePoint = {x, y}\n\n        if (state.dragPoints) {\n            state.reversePoint = Point.getReversePoint(state.startPoint, endPoint);\n        }\n\n\n        var point = {\n            startPoint: state.startPoint,\n            endPoint: endPoint,\n            curve: !!state.dragPoints,\n            reversePoint: reversePoint,\n            connected: true, \n            close: true \n        }   \n\n        state.points.push(point);\n    }\n\n    setCachePoint (index, segmentKey) {\n\n        var state = this.state; \n        var { points } = state; \n\n        this.snapPointList = []     // 객체 처음 움직일 때 snap line 은 초기화 \n        state.selectedIndex = index; \n        state.connectedPoint =  Point.getPrevPoint(points, index)\n\n        if (state.connectedPoint && !state.connectedPoint.connected) {\n            state.connectedPoint = null; \n        }\n\n        state.segment = Point.getIndexPoint(points, index)\n\n        // 연결된 포인트인 경우 , 처음 지점 포인트를 가지고 온다. \n        if (state.segment.connected) {  \n            state.connectedPoint = Point.getNextPoint(points, index);\n        }\n\n        var isFirstSegment = Point.isFirst(state.segment)\n\n        if (isFirstSegment) {\n            var lastPoint = Point.getLastPoint(points, index);\n\n            if (lastPoint.connected) {\n                state.connectedPoint = lastPoint;\n            }\n        }\n\n        state.segmentKey = segmentKey\n        state.isCurveSegment = state.segment.curve && state.segmentKey != 'startPoint'\n        state.originalSegment = clone(state.segment);\n\n        if (state.connectedPoint) {\n            state.originalConnectedPoint = clone(state.connectedPoint);\n        }\n\n        state.cachedPoints = [] \n        points.filter(p => p && p != state.segment).forEach(p => {\n            state.cachedPoints.push(p.startPoint, p.reversePoint, p.endPoint)\n        })\n\n    }\n\n    moveSegment (segmentKey, dx, dy) {\n        var state = this.state; \n\n        var originPoint = state.originalSegment[segmentKey]\n        var targetPoint = state.segment[segmentKey]\n\n        if (originPoint) {\n            targetPoint.x = originPoint.x + dx;\n            targetPoint.y = originPoint.y + dy;     \n        }\n    }\n\n    calculateToCurve (point, nextPoint, prevPoint) {\n\n        var centerX = (nextPoint.startPoint.x + prevPoint.startPoint.x) /2;\n        var centerY = (nextPoint.startPoint.y + prevPoint.startPoint.y) /2;\n\n        var dx = (nextPoint.startPoint.x - centerX)/2\n        var dy = (nextPoint.startPoint.y - centerY)/2\n\n        point.endPoint = {\n            x: point.startPoint.x + dx,\n            y: point.startPoint.y + dy\n        }\n\n        point.reversePoint = {\n            x: point.startPoint.x - dx,\n            y: point.startPoint.y - dy\n        }\n\n        return {dx, dy}\n    }\n\n    convertToCurve (index) {\n\n\n        var {points} = this.state; \n        var point = points[index];\n\n        if (point.curve) {\n            // curve 가 직선으로 \n            point.curve = false; \n            point.reversePoint = clone(point.startPoint);\n            point.endPoint = clone(point.startPoint);\n\n            if (point.command === 'M') {\n                var lastPoint = Point.getPrevPoint(points, point.index)\n\n                if (lastPoint.connected) {\n                    lastPoint.curve = false; \n                    lastPoint.reversePoint = clone(lastPoint.startPoint);\n                    lastPoint.endPoint = clone(lastPoint.startPoint);\n                }\n            } else {\n\n                var nextPoint = Point.getNextPoint(points, index);\n\n                if (nextPoint && nextPoint.command === 'M') {\n                    // 다음이 처음일 때 \n                    var firstPoint = nextPoint;\n    \n                    firstPoint.curve = false; \n                    firstPoint.reversePoint = clone(firstPoint.startPoint);\n                    firstPoint.endPoint = clone(firstPoint.startPoint);                \n                }\n            }\n\n\n\n        } else {\n            point.curve = true; \n\n            var prevPoint = Point.getPrevPoint(points, index);\n            var nextPoint = Point.getNextPoint(points, index);\n\n            if (nextPoint && nextPoint.index < index && nextPoint.command === 'M') {  \n                // 현재 포인트가 마지막 일 때 connected 상태를 보고 \n                // firstPoint 랑 맞춘다. \n\n                var firstPoint = nextPoint;\n\n                nextPoint = Point.getNextPoint(points, firstPoint.index);\n\n                this.calculateToCurve(point, nextPoint, prevPoint)\n\n                // 처음도 같이 변경해주기 \n                firstPoint.curve = true; \n                firstPoint.endPoint = clone(point.endPoint)\n                firstPoint.reversePoint = clone(point.reversePoint)\n\n            } else if (nextPoint && nextPoint.index > index && nextPoint.command !== 'M') {\n\n                this.calculateToCurve(point, nextPoint, prevPoint)\n            } else if (!nextPoint && prevPoint) {\n\n                // 이전 점만 있고 다음 점이 없다면 \n                var centerX = (point.startPoint.x - prevPoint.startPoint.x)/3;\n                var centerY = (point.startPoint.y - prevPoint.startPoint.y)/3;\n\n                point.endPoint = { x : point.startPoint.x + centerX, y: point.startPoint.y + centerY  } \n                point.reversePoint = Point.getReversePoint(point.startPoint, point.endPoint)\n            } else if (!prevPoint && nextPoint) {\n                var centerX = (point.startPoint.x - nextPoint.startPoint.x)/3;\n                var centerY = (point.startPoint.y - nextPoint.startPoint.y)/3;\n\n                point.endPoint = { x : point.startPoint.x + centerX, y: point.startPoint.y + centerY  } \n                point.reverse = Point.getReversePoint(point.startPoint, point.endPoint)\n            }            \n\n        }\n    }\n\n\n    moveCurveSegment(segmentKey, dx, dy) {\n        var state = this.state; \n        this.moveSegment(segmentKey, dx, dy);\n\n        var targetSegmentKey = segmentKey === 'endPoint' ? 'reversePoint' : 'endPoint'\n\n        state.segment[targetSegmentKey] = Point.getReversePoint(state.segment.startPoint, state.segment[segmentKey]);\n    }\n\n    rotateSegmentTarget (segmentKey, target) {\n        var state = this.state; \n        if (state.originalSegment && state.segment) {\n            var {x: cx, y: cy} = state.originalSegment.startPoint;\n            var {x: rx, y: ry} = state.segment[segmentKey];\n            var {x: tx, y: ty} = state.originalSegment[target]\n    \n            var {x, y} = getXYInCircle(\n                calculateAngle360(rx - cx, ry - cy), \n                getDist(tx, ty, cx, cy), \n                cx, \n                cy\n            );                 \n    \n            state.segment[target] = {x, y}\n        }\n\n    }\n\n    rotateSegment (segmentKey) {\n        this.rotateSegmentTarget(segmentKey, segmentKey === 'endPoint' ? 'reversePoint' : 'endPoint');\n    }\n\n    calculateSnap( segmentKey, dx, dy, dist = 1) {\n        var state = this.state; \n        var cachedPoints = state.cachedPoints\n\n        var original = state.originalSegment[segmentKey]\n\n        if (!segmentKey) {\n            return { dx, dy, snapPointList: []}\n        }\n\n        var realX = original.x + dx;\n        var realY = original.y + dy;\n\n        var {point: snapPointX, distanceValue: dx } = calculateSnapPoint(cachedPoints, 'x', realX, dx, dist);\n        var {point: snapPointY, distanceValue: dy } = calculateSnapPoint(cachedPoints, 'y', realY, dy, dist);\n\n        var snapEndPoint = {\n            x : original.x + dx,\n            y : original.y + dy\n        }\n\n        var snapPointList = [] \n        if (snapPointX) { snapPointList.push({ startPoint: snapPointX, endPoint: snapEndPoint })}\n        if (snapPointY) { snapPointList.push({ startPoint: snapPointY, endPoint: snapEndPoint }) }        \n     \n        return { dx, dy, snapPointList }\n    }\n\n    copySegment(from, to) {\n        to.startPoint =  clone(from.startPoint)\n        to.endPoint =  clone(from.endPoint)\n        to.reversePoint =  clone(from.reversePoint)\n    }\n\n    moveSelectedSegment (dx, dy) {\n\n        // 선택된 포인터를 옮길 때 \n        // curve 에 연결된 endPoint와 reversePoint 를 같이 책임 질 것인가? \n\n        this.selectedPointList.forEach(it => {\n            var target = this.state.points[it.index][it.key]\n\n            target.x = it.x + dx; \n            target.y = it.y + dy; \n        })\n    }\n\n    move (dx, dy, e) {\n        var state = this.state;\n        var { isCurveSegment, segmentKey, connectedPoint} = state \n\n        var { dx, dy, snapPointList} = this.calculateSnap(segmentKey, dx, dy, 2);\n    \n        this.snapPointList = snapPointList || []\n\n        if (this.selectedPointList.length > 1) {\n            // 여러개가 동시에 선택된 상태에서는 \n            this.moveSelectedSegment(dx, dy);\n        } else if (isCurveSegment) {\n            if (e.shiftKey) {   \n                // 상대편 길이 동일하게 curve 움직이기 \n                this.moveSegment(segmentKey, dx, dy);\n                var targetSegmentKey = segmentKey === 'endPoint' ? 'reversePoint' : 'endPoint'\n                state.segment[targetSegmentKey] = Point.getReversePoint(state.segment.startPoint, state.segment[segmentKey]);                \n\n            } else if (e.altKey) {  \n                this.moveSegment(segmentKey, dx, dy);\n            } else {    // Curve 만 움직이기 \n                // 해당 segment 먼저 움직이고 \n                this.moveSegment(segmentKey, dx, dy);\n                \n                // 상대편 rotate 하는데 \n                this.rotateSegment(segmentKey);\n            }\n        } else {\n            this.moveSegment('startPoint', dx, dy);\n            this.moveSegment('endPoint', dx, dy);\n            this.moveSegment('reversePoint', dx, dy);\n        }\n        connectedPoint && this.copySegment(state.segment, state.connectedPoint)\n    }\n\n    moveEnd (dx, dy) {\n        var state = this.state; \n        var {points} = state; \n        var x = state.dragXY.x + dx // / editor.scale;\n        var y = state.dragXY.y + dy //  / editor.scale;\n        \n        var endPoint = {x, y}\n        var reversePoint = {x, y}\n\n        if (state.dragPoints) { // drag 상태 일 때 \n            reversePoint = Point.getReversePoint(state.startPoint, endPoint);\n        }\n\n        points.push({\n            command: state.clickCount === 0 ? 'M' : '',\n            startPoint: state.startPoint,\n            endPoint: endPoint,\n            curve: !!state.dragPoints,\n            reversePoint: reversePoint\n        })\n\n        state.startPoint = null\n        state.dragPoints = false;\n        state.moveXY = null;\n    }\n\n    setPoint (obj) {\n\n        var p0 = obj.first[0] \n        var p1 = obj.second[obj.second.length-1]\n\n        var allPoints = this.clonePoints\n\n        var firstItem = Point.getPoint(allPoints, p0)\n        var secondItem = Point.getPoint(allPoints, p1)        \n\n        var newPoints = [\n            {...firstItem, endPoint: obj.first[1]},\n            {startPoint: obj.first[3], reversePoint: obj.first[2], curve: true , endPoint: obj.second[1]},\n            {...secondItem, reversePoint: obj.second[2]}\n        ]\n\n        var firstIndex = Point.getIndex(allPoints, p0);         \n\n        allPoints.splice(firstIndex, 2, ...newPoints);\n\n        this.state.points = allPoints;\n\n    }\n\n    setPointQuard (obj) {\n\n        var p0 = obj.first[0] \n        var p1 = obj.second[obj.second.length-1]\n\n        var allPoints = this.clonePoints\n\n        var firstItem = Point.getPoint(allPoints, p0)\n\n        var fx = firstItem.startPoint.x + (firstItem.endPoint.x - firstItem.startPoint.x) / 3 \n        var fy = firstItem.startPoint.y + (firstItem.endPoint.y - firstItem.startPoint.y) / 3 \n\n        var newPoints = [\n            {...firstItem, endPoint: {x: fx, y : fy }},\n            {startPoint: obj.first[2], reversePoint: obj.first[1], curve: true , endPoint: obj.second[1]}\n        ]\n\n        var firstIndex = Point.getIndex(allPoints, p0); \n\n        allPoints.splice(firstIndex, 1, ...newPoints);\n\n        this.state.points = allPoints;\n\n    }\n\n\n    setPointLine (obj) {\n\n        var p0 = obj.first[0] \n\n        var allPoints = this.clonePoints\n\n        var newPoints = [\n            {command: 'L', startPoint: obj.first[1], curve: false , endPoint: obj.first[1], reversePoint: obj.first[1]},\n        ]\n\n        var firstIndex = Point.getIndex(allPoints, p0); \n\n        allPoints.splice(firstIndex+1, 0, ...newPoints);\n\n        this.state.points = allPoints;\n\n    }\n\n    toPath (minX, minY, scale = 1) {\n        return toPath(this.clonePoints, minX, minY, scale)\n    }\n\n    changeScale () {\n\n        this.pathEditor.scale; \n    }\n\n    makeSVGPath() {\n\n        this.initialize();\n\n        this.makePointGuide(this.clonePoints)\n\n        this.makeMovePositionGuide();\n\n        return this.toSVGString()\n    }\n\n    makeTriangleDistancePointGuide (first, second) {\n\n        var minX = Math.min(first.startPoint.x, second.startPoint.x);\n        var maxX = Math.max(first.startPoint.x, second.startPoint.x);\n\n        var minY = Math.min(first.startPoint.y, second.startPoint.y);\n        var maxY = Math.max(first.startPoint.y, second.startPoint.y);\n\n        // right bottom \n        if (first.startPoint.x < second.startPoint.x && first.startPoint.y < second.startPoint.y) {\n            this.segmentManager\n            .addDistanceLine({x: minX, y: minY}, {x: maxX, y : minY} )\n            .addDistanceLine({x: maxX, y: minY}, {x: maxX, y : maxY} )            \n\n\n            var centerX = minX\n            var centerY = minY \n            var angle = calculateAngle360(maxX-minX, maxY-minY) - 180\n            var dist = 20;            \n            var {x, y} = getXYInCircle(\n                0, \n                dist, \n                centerX, \n                centerY\n            );                 \n            var {x: tx, y: ty} = getXYInCircle(\n                angle/2, \n                dist, \n                centerX, \n                centerY\n            );     \n            \n            var last = getXYInCircle(\n                angle, \n                dist, \n                centerX, \n                centerY\n            );                 \n\n            this.segmentManager\n                .addDistanceAngle(last, dist, dist, angle, {x, y}, {x: x-dist, y})\n                .addText({x: tx-5, y: ty+15}, angle)\n        } else if (first.startPoint.x < second.startPoint.x && first.startPoint.y > second.startPoint.y) {\n            // right top  \n            this.segmentManager\n            .addDistanceLine({x: minX, y: maxY}, {x: maxX, y : maxY} )\n            .addDistanceLine({x: maxX, y: minY}, {x: maxX, y : maxY} )            \n        } else if (first.startPoint.x > second.startPoint.x && first.startPoint.y > second.startPoint.y) {\n            // left top \n            this.segmentManager\n            .addDistanceLine({x: minX, y: minY}, {x: minX, y : maxY} )\n            .addDistanceLine({x: minX, y: maxY}, {x: maxX, y : maxY} )\n        } else if (first.startPoint.x > second.startPoint.x && first.startPoint.y < second.startPoint.y) {\n            // left bottom \n            this.segmentManager\n            .addDistanceLine({x: minX, y: maxY}, {x: maxX, y : maxY} )\n            .addDistanceLine({x: maxX, y: minY}, {x: maxX, y : maxY} )            \n        }\n\n    }\n\n    makeDistancePointGuide (prevPoint, current, nextPoint, index) {\n\n        if (current.selected) {\n\n            if (prevPoint) {\n                this.makeTriangleDistancePointGuide(prevPoint, current);\n            }\n\n            if (nextPoint) {\n                this.makeTriangleDistancePointGuide(current, nextPoint);\n            }\n\n        }\n    }\n\n    makeStartPointGuide (prevPoint, current, nextPoint, index) {\n        current.startPoint.isFirst = true; \n\n        this.pathStringManager.M(current.startPoint)        \n\n        if (current.curve === false) {\n            this.segmentManager\n                .addPoint({}, current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n\n            if (!current.startPoint.isLast) {\n                this.segmentManager.addText(current.startPoint, index+1);\n            }\n\n\n        } else {      \n            this.segmentManager\n                .addPoint({}, current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n                .addGuideLine(current.startPoint, current.endPoint)\n                .addCurvePoint(current.endPoint, index, 'endPoint', this.isSelectedSegment('endPoint', index))\n        }\n\n\n    }\n\n    makeMiddlePointGuideSegment (prevPoint, current, nextPoint, index) {\n        var mng = this.segmentManager;\n        if (current.curve === false) { \n            // 꼭지점\n            if (prevPoint.curve === false) {\n                mng.addPoint({}, current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))   \n\n                if (!current.startPoint.isLast) {\n                    mng.addText(current.startPoint, index+1);\n                }\n            } else {\n\n                mng\n                .addGuideLine(prevPoint.startPoint, prevPoint.endPoint)\n                .addCurvePoint(current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n                .addCurvePoint(prevPoint.endPoint, prevPoint.index, 'endPoint', this.isSelectedSegment('endPoint', prevPoint.index));\n\n                if (!current.startPoint.isLast) {\n                    mng.addText(current.startPoint, index+1);\n                }\n        \n            }\n\n\n        } else {    // 현재가 curve 일 때 \n            if (prevPoint.curve === false) { \n\n                if (Point.isEqual(current.reversePoint, current.startPoint)) {\n                    mng.addPoint({},current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n\n                    if (!current.startPoint.isLast) {\n                        mng.addText(current.startPoint, index+1);\n                    }                                       \n                } else {\n                    mng\n                    .addGuideLine(current.startPoint, current.reversePoint)\n                    .addCurvePoint(current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n                    .addCurvePoint(current.reversePoint, index, 'reversePoint', this.isSelectedSegment('reversePoint', index));     \n\n                    if (!current.startPoint.isLast) {\n                        mng.addText(current.startPoint, index+1);\n                    }\n                }\n\n\n            } else {\n\n                if (current.connected) {\n                    mng\n                    .addGuideLine(prevPoint.startPoint, prevPoint.endPoint)\n                    .addGuideLine(current.startPoint, current.reversePoint)\n                    .addCurvePoint(prevPoint.endPoint, prevPoint.index, 'endPoint', this.isSelectedSegment('endPoint', prevPoint.index))\n                    .addCurvePoint(current.reversePoint, index, 'reversePoint', this.isSelectedSegment('reversePoint', index));\n                } else {\n                    mng\n                    .addGuideLine(prevPoint.startPoint, prevPoint.endPoint)\n                    .addGuideLine(current.startPoint, current.reversePoint)\n                    .addCurvePoint(current.startPoint, index, 'startPoint', this.isSelectedSegment('startPoint', index))\n                    .addCurvePoint(prevPoint.endPoint, prevPoint.index, 'endPoint', this.isSelectedSegment('endPoint', prevPoint.index))                        \n                    .addCurvePoint(current.reversePoint, index, 'reversePoint', this.isSelectedSegment('reversePoint', index));\n\n                    if (!current.startPoint.isLast) {\n                        mng.addText(current.startPoint, index+1);\n                    }                        \n\n                }\n            }\n        }\n    }\n\n    makeMiddlePointGuideRealPath (prevPoint, current, nextPoint, index) {\n        var mng = this.pathStringManager;\n        if (current.curve === false) { \n            // 꼭지점\n            if (prevPoint.curve === false) {\n                mng.L(current.startPoint)\n            } else {\n                mng.Q(prevPoint.endPoint, current.startPoint)        \n            }\n        } else {    // 현재가 curve 일 때 \n            if (prevPoint.curve === false) { \n                if (Point.isEqual(current.reversePoint, current.startPoint)) {\n                    mng.L( current.startPoint);\n                } else {\n                    mng.Q( current.reversePoint, current.startPoint);\n                }\n            } else {\n                mng.C(prevPoint.endPoint, current.reversePoint, current.startPoint)\n            }\n        }\n    }\n\n\n    makeMiddlePointGuideSplitLine (prevPoint, current, nextPoint, index) {\n\n        if (current.curve === false) { \n            // 꼭지점\n            if (prevPoint.curve === false) {\n                this.splitLines.push(\n                    new PathStringManager()\n                        .M(prevPoint.startPoint)\n                        .L(current.startPoint)\n                        .toString('split-path')\n                )\n            } else {\n                this.splitLines.push(\n                    new PathStringManager()\n                        .M(prevPoint.startPoint)\n                        .Q(prevPoint.endPoint, current.startPoint)\n                        .toString('split-path')\n                )        \n            }\n        } else {    // 현재가 curve 일 때 \n            if (prevPoint.curve === false) { \n\n                if (Point.isEqual(current.reversePoint, current.startPoint)) {\n                    this.splitLines.push(\n                        new PathStringManager()\n                            .M(prevPoint.startPoint)\n                            .L(current.startPoint)\n                            .toString('split-path')\n                    )                    \n                } else {\n                    this.splitLines.push(\n                        new PathStringManager()\n                            .M(prevPoint.startPoint)\n                            .Q(current.reversePoint, current.startPoint)\n                            .toString('split-path')\n                    )          \n                }\n\n\n            } else {\n                this.splitLines.push(\n                    new PathStringManager()\n                        .M(prevPoint.startPoint)\n                        .C(prevPoint.endPoint, current.reversePoint, current.startPoint)\n                        .toString('split-path')\n                )\n            }\n        }\n    }\n\n    makePointGuide (points) {\n        var {selectedIndex} = this.state; \n        for(var index = 0, len = points.length; index < len; index++) {\n            var currentIndex = index; \n            var current = points[currentIndex];\n\n            if (!current) continue; \n\n            var nextPoint = Point.getNextPoint(points, index);\n            var prevPoint = Point.getPrevPoint(points, index);\n\n            if (prevPoint && prevPoint.command === 'M') {\n                current.startPoint.isSecond = true; \n            }\n\n            if (nextPoint ) {\n                current.startPoint.isLast = nextPoint.command === 'M';                 \n            } else {\n                current.startPoint.isLast = index === len - 1; \n            }\n\n            current.selected = selectedIndex === index;\n\n            // 각도를 표시 해준다. \n            // 쓸 곳이 없다. \n            // this.makeDistancePointGuide(prevPoint, current, nextPoint, index);\n\n            if (current.command === 'M') {\n                this.makeStartPointGuide(prevPoint, current, nextPoint, index);\n            } else {\n                this.makeMiddlePointGuideRealPath(prevPoint, current, nextPoint, index);\n                this.makeMiddlePointGuideSplitLine(prevPoint, current, nextPoint, index);\n                this.makeMiddlePointGuideSegment(prevPoint, current, nextPoint, index);\n            }\n\n            if (current.close) {\n                this.pathStringManager.Z();\n            }\n\n        }\n\n    }\n\n    makeMovePositionGuide () {\n        var state = this.state; \n        var {points, startPoint, moveXY, dragPoints, altKey, snapPointList} = state;\n        if (moveXY) {\n\n            /* moveXY 에도 snap 을 적용한다. */ \n            snapPointList = snapPointList || [] \n\n            var { \n                snapPointList: movePointSnapPointList, \n                moveXY: newMoveXY \n            } = calculateMovePointSnap(points, moveXY, 2); \n            snapPointList.push(...movePointSnapPointList);\n\n            state.moveXY = newMoveXY;\n            moveXY = newMoveXY\n            this.snapPointList = snapPointList;\n\n            var prev = points[points.length - 1];\n\n            if (dragPoints) {\n\n                if (!prev) {\n                    var {x, y} = Point.getReversePoint(startPoint, moveXY);\n                    this.guideLineManager\n                        .M(moveXY)\n                        .L(startPoint)\n                        .L( {x,y} )\n\n                    this.segmentManager\n                        .addCurvePoint(startPoint)\n                        .addCurvePoint(moveXY)\n                        .addCurvePoint({x, y})\n\n                } else if (prev.curve) {\n                    // 이전 것이 곡선이면 C 로 대응 \n                    var {x, y} = Point.getReversePoint(startPoint, moveXY);                    \n\n                    this.guideLineManager\n                        .M(prev.startPoint)\n                        .C(prev.endPoint, {x,y}, startPoint);\n\n                    this.segmentManager\n                        .addGuideLine(prev.startPoint, prev.endPoint)\n                        .addGuideLine(startPoint, {x, y})\n                        .addGuideLine(startPoint, moveXY)\n                        .addCurvePoint(prev.endPoint)                    \n                        .addCurvePoint({x, y})\n                        .addCurvePoint(moveXY)\n                        .addPoint(false, startPoint);\n\n                } else if (prev.curve === false ) {\n                    // 이전 것이 점이면 Q 로 대응 \n                    // 내가 드래그 중이므로  내 좌표랑 start 좌표랑 비교 해서 이전 좌표를 구하기 \n                    var {x, y} = Point.getReversePoint(startPoint, moveXY);\n\n                    this.guideLineManager\n                        .M(prev.startPoint)\n                        .Q({x, y},startPoint);\n\n                    this.segmentManager\n                        .addGuideLine(moveXY, {x, y})\n                        .addPoint(false, startPoint)\n                        .addCurvePoint({x, y})\n                        .addCurvePoint(moveXY);\n                } \n\n            } else {\n\n                if (!prev) {\n\n                } else if (prev.curve) {\n                    // 이전에 드래그 한 point 가 있을 경우 Q 로 \n                    this.guideLineManager\n                        .M(prev.startPoint)\n                        .Q(prev.endPoint, moveXY);\n\n                    this.segmentManager\n                        .addGuideLine(prev.endPoint, prev.startPoint)\n                        .addCurvePoint(prev.endPoint);\n                } else {\n                    // 이전에 점이고 지금도 점이면  직선 \n                    if (!prev.close) {\n                        this.guideLineManager.M(prev.startPoint).L(moveXY);\n\n                        this.segmentManager.addPoint(false, prev.startPoint);\n                    }\n                }\n            }\n\n        }\n    }\n\n    makeSnapLines () {\n\n        var snapLines = [] \n        // snapPoint 를 그려준다. \n        if (this.snapPointList) {\n            var snapPath = new PathStringManager()\n            snapLines = this.snapPointList.map(snapPoint => {\n                snapPath.reset();                \n                return snapPath\n                        .M(snapPoint.startPoint)\n                        .L(snapPoint.endPoint)\n                        .toString('snap-path');\n            })\n        }\n\n        return snapLines.join('');\n    }\n\n    makeSelectedSVGZone () {\n\n        var { screenX, screenY, screenWidth, screenHeight} = this.state \n        var scale = this.pathEditor.scale; \n\n        var x = screenX.value * scale; \n        var y = screenY.value * scale; \n        var width = screenWidth.value * scale; \n        var height = screenHeight.value * scale; \n\n        return /*html*/`<rect class='svg-canvas' ${OBJECT_TO_PROPERTY({x, y, width, height})} />`\n    }\n\n    toSVGString () {\n        return /*html*/`\n        <svg width=\"100%\" height=\"100%\" class='svg-editor-canvas'>\n            ${this.makeSelectedSVGZone()}\n            ${this.guideLineManager.toString('guide')}\n            ${this.pathStringManager.toString('object')}\n            ${this.splitLines.join('')}\n            ${this.makeSnapLines()}\n            ${this.segmentManager.toString()}\n        </svg>\n        `\n    }\n\n}","import { Item } from \"../items/Item\";\nimport { Length } from \"../unit/Length\";\n\nimport { convertMatches } from \"../../util/functions/parser\";\nexport class ColorStep extends Item {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      cut: false,\n      percent: 0,\n      unit: \"%\",\n      px: 0,\n      em: 0,\n      color: \"rgba(0, 0, 0, 0)\",\n      prevColorStep: null\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      cut: this.json.cut,\n      percent: this.json.percent,\n      unit: this.json.unit,\n      px: this.json.px,\n      em: this.json.em,\n      color: this.json.color\n    }\n  }\n\n  on() {\n    this.json.cut = true;\n  }\n\n  off() {\n    this.json.cut = false;\n  }\n\n  toggle() {\n    this.json.cut = !this.json.cut;\n  }\n\n  getUnit() {\n    return this.json.unit == \"%\" ? \"percent\" : this.json.unit;\n  }\n\n  add(num) {\n    var unit = this.getUnit();\n    this.json[unit] += +num;\n\n    return this;\n  }\n\n  sub(num) {\n    var unit = this.getUnit();\n    this.json[unit] -= +num;\n\n    return this;\n  }\n\n  mul(num) {\n    var unit = this.getUnit();\n    this.json[unit] *= +num;\n\n    return this;\n  }\n\n  div(num) {\n    var unit = this.getUnit();\n    this.json[unit] /= +num;\n\n    return this;\n  }\n\n  mod(num) {\n    var unit = this.getUnit();\n    this.json[unit] %= +num;\n\n    return this;\n  }\n\n  get isPx() {\n    return this.json.unit == \"px\";\n  }\n  get isPercent() {\n    return this.json.unit == \"%\" || this.json.unit === \"percent\";\n  }\n  get isEm() {\n    return this.json.unit == \"em\";\n  }\n\n  /**\n   * convert Length instance\n   * @return {Length}\n   */\n  toLength(maxValue) {\n    // TODO: apply maxValue\n    return Length.parse(this.json);\n  }\n\n  getPrevLength() {\n    if (!this.json.prevColorStep) return '';\n\n    return this.json.prevColorStep.toLength();\n  }\n\n  /**\n   * get color string\n   *\n   * return {string}\n   */\n  toString() {\n    var prev = this.json.cut ? this.getPrevLength() : ''\n    var color = this.json.color || 'transparent'\n    return `${color} ${prev} ${this.toLength()}`;\n  }\n\n  reset(json) {\n    super.reset(json);\n    if (this.parent) {\n      this.parent.sortColorStep();\n    }\n  }\n\n  static parse(colorStepString) {\n    let colorsteps = [];\n\n    const results = convertMatches(colorStepString);\n\n    var arr = results.str.split(' ').filter(it => it.trim());\n    const colorIndex = +arr[0].replace(\"@\", \"\");\n    const color = results.matches[colorIndex].color;\n\n    if (arr.length === 1) {\n      colorsteps.push(\n        new ColorStep({\n          color,\n          unit: \"%\",\n          percent: 0,\n          hasNotUnit: true \n        })\n      );\n    } else if (arr.length === 2) {\n      const len = Length.parse(arr[1]);\n\n      let data = { unit: len.unit };\n\n      if (len.isPercent()) {\n        data.percent = len.value;\n      } else if (len.isPx()) {\n        data.px = len.value;\n      } else if (len.isEm()) {\n        data.em = len.value;\n      }\n\n      colorsteps.push(new ColorStep({ color, ...data }));\n    } else if (arr.length === 3) {\n      [1, 2].forEach(index => {\n        const len = Length.parse(arr[index]);\n\n        let data = { unit: len.unit };\n\n        if (len.isPercent()) {\n          data.percent = len.value;\n        } else if (len.isPx()) {\n          data.px = len.value;\n        } else if (len.isEm()) {\n          data.em = len.value;\n        }\n\n        colorsteps.push(new ColorStep({ color, ...data }));\n      });\n    }\n\n    return colorsteps;\n  }\n}\n","import { Property } from \"../items/Property\";\n\nexport class ImageResource extends Property {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: \"image-resource\",\n      type: \"image\",\n      ...obj\n    });\n  }\n\n  isGradient() {\n    return false;\n  }\n  isLinear() {\n    return false;\n  }\n  isRadial() {\n    return false;\n  }\n  isConic() {\n    return false;\n  }\n  isStatic() {\n    return false;\n  }\n  isImage() {\n    return false;\n  }\n  hasAngle() {\n    return false;\n  }\n  isUrl() {\n    return false;\n  }\n  isFile() {\n    return false;\n  }\n  isAttribute() {\n    return true;\n  }\n\n  toString() {\n    return \"none\";\n  }\n}\n","import { ImageResource } from \"./ImageResource\";\nimport { ColorStep } from \"./ColorStep\";\n\nimport { isUndefined } from \"../../util/functions/func\";\nimport Color from \"../../util/Color\";\n\nconst DEFINED_ANGLES = {\n  \"to top\": 0,\n  \"to top right\": 45,\n  \"to right\": 90,\n  \"to bottom right\": 135,\n  \"to bottom\": 180,\n  \"to bottom left\": 225,\n  \"to left\": 270,\n  \"to top left\": 315\n};\n\nexport class Gradient extends ImageResource {\n  isGradient() {\n    return true;\n  }\n\n  toString() {\n    return \"none\";\n  }\n\n  /**\n   * colorsteps = [\n   *    new ColorStep({color: 'red', percent: 0}),\n   *    new ColorStep({color: 'red', percent: 0})\n   * ]\n   *\n   * @param {*} obj\n   */\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: \"gradient\",\n      colorsteps: [],\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      colorsteps: this.json.colorsteps.map(color => color.clone())\n    }\n  }\n\n  convert(json) {\n    json.colorsteps = json.colorsteps.map(c => new ColorStep(c));\n\n    return json;\n  }\n\n  calculateAngle() {\n    var angle = this.json.angle;\n    return isUndefined(DEFINED_ANGLES[angle])\n      ? angle\n      : DEFINED_ANGLES[angle] || 0;\n  }\n\n  /**\n   * add ColorStep\n   *\n   * @param {ColorStep} colorstep\n   * @param {boolean} isSort\n   */\n  addColorStep(colorstep, isSort = true) {\n    this.json.colorsteps.push(colorstep);\n\n    if (isSort) this.sortColorStep();\n\n    return colorstep;\n  }\n\n  insertColorStep(\n    percent,\n    startColor = \"rgba(216,216,216,0)\",\n    endColor = \"rgba(216,216,216,1)\"\n  ) {\n    var colorsteps = this.colorsteps;\n    if (!colorsteps.length) {\n      this.addColorStepList([\n        new ColorStep({ color: startColor, percent, index: 0 }),\n        new ColorStep({ color: endColor, percent: 100, index: 100 })\n      ]);\n      return;\n    }\n\n    if (percent < colorsteps[0].percent) {\n      colorsteps[0].index = 1;\n\n      this.addColorStep(\n        new ColorStep({ index: 0, color: colorsteps[0].color, percent })\n      );\n      return;\n    }\n\n    var lastIndex = colorsteps.length - 1;\n    if (colorsteps[lastIndex].percent < percent) {\n      var color = colorsteps[lastIndex].color;\n      var index = colorsteps[lastIndex].index + 1;\n\n      this.addColorStep(new ColorStep({ index, color, percent }));\n\n      return;\n    }\n\n    for (var i = 0, len = colorsteps.length - 1; i < len; i++) {\n      var step = colorsteps[i];\n      var nextStep = colorsteps[i + 1];\n\n      if (step.percent <= percent && percent <= nextStep.percent) {\n        var color = Color.mix(\n          step.color,\n          nextStep.color,\n          (percent - step.percent) / (nextStep.percent - step.percent),\n          \"rgb\"\n        );\n\n        this.addColorStep(\n          new ColorStep({ index: step.index + 1, color, percent })\n        );\n\n        return;\n      }\n    }\n  }\n\n  sortColorStep() {\n    var children = this.colorsteps;\n\n    children.sort((a, b) => {\n      if (a.percent > b.percent) return 1;\n      if (a.percent < b.percent) return -1;\n      if (a.percent == b.percent) {\n        if (a.index === b.index) return 0;\n        return a.index > b.index ? 1 : -1;\n      }\n    });\n\n    children.forEach((it, index) => {\n      it.index = index * 100;\n    });\n  }\n\n  /**\n   * add ColorStep List\n   * @param {Array<ColorStep>} colorstepList\n   */\n  addColorStepList(colorstepList = []) {\n    colorstepList.forEach(c => {\n      this.addColorStep(c, false);\n    });\n\n    this.sortColorStep();\n  }\n\n  /**\n   * get color step by id\n   *\n   * @param {string} id\n   */\n  getColorStep(id) {\n    return this.json.colorsteps.filter(c => c.id == id)[0];\n  }\n\n  clear(...args) {\n    if (args.length) {\n      this.json.colorsteps.splice(+args[0], 1);\n    } else {\n      this.json.colorsteps = [];\n    }\n  }\n\n  removeColorStep(id) {\n    this.json.colorsteps = this.json.colorsteps.filter(it => it.id != id)\n  }\n\n  /**\n   * get colorstep list\n   *\n   * @return {Array<ColorStep>}\n   */\n  get colorsteps() {\n    return this.json.colorsteps;\n  }\n\n  /**\n   * get color string\n   *\n   * @return {string}\n   */\n  getColorString() {\n    var colorsteps = this.colorsteps;\n\n    return Gradient.toColorString(colorsteps);\n  }\n\n  static toColorString (colorsteps = [] ) {\n    if (!colorsteps.length) return '';\n\n    var newColors = colorsteps.map((c, index) => {\n      c.prevColorStep = c.cut && index > 0 ? colorsteps[index - 1] : null;\n      return c;\n    });\n\n    if (newColors.length === 1) {\n      newColors.push(new ColorStep({\n        color: newColors[0].color || 'transparent',\n        percent: 100 \n      }))\n    }\n\n    return newColors.map(f => `${f}`).join(\",\");\n  }\n\n  static random () {\n    var angle = Math.floor(Math.random() * 1000)%360;\n    return `linear-gradient(${angle}deg, ${Color.random()} 0%, ${Color.random()} 100%)`\n  }\n}\n","import { Gradient } from \"./Gradient\";\n\nexport class SVGGradient extends Gradient {\n  toString() {  // 이건 데이타로서의 문자열 , 기본적으로  css gradient 와 유사 \n    return ''\n  }\n\n  toSVGString (id) {    // 이건 def 에 들어갈 태그 \n    return ''\n  }\n\n  toFillValue (id) {    // 이건 실제 fill, stroke 에 적용될 속성 값  형식 \n    return '' \n  }\n}\n","import { OBJECT_TO_PROPERTY } from \"../../util/functions/func\";\nimport { convertMatches, reverseMatches } from \"../../util/functions/parser\";\nimport { ColorStep } from \"./ColorStep\";\nimport { SVGGradient } from \"./SVGGradient\";\nimport { Length } from \"../unit/Length\";\n\nexport class SVGLinearGradient extends SVGGradient {\n  getDefaultObject(obj) {\n    return super.getDefaultObject({\n      type: \"linear-gradient\",\n      x1: '0%',\n      y1: '0%',\n      x2: '100%',      \n      y2: '0%',\n      spreadMethod: 'pad',\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      x1: this.json.x1,\n      y1: this.json.y1,\n      x2: this.json.x2,\n      y2: this.json.y2,\n      spreadMethod: this.json.spreadMethod\n    }\n  }\n\n  toString() {\n\n    // linear-gradient(x1 y1 x2 y2 spreadMethod, ....colors)\n\n    if(this.colorsteps.length === 0) return '';    \n\n    var colorString = this.getColorString();\n\n    var {x1, y1, x2, y2, spreadMethod} = this.json;\n    var opt = [x1, y1, x2, y2, spreadMethod].join(' ');\n\n    var result = `${this.json.type}(${opt}, ${colorString})`;\n\n    return result;\n  }\n\n  toSVGString(id) {\n      var {x1, y1, x2, y2, spreadMethod} = this.json;    \n\n      return /*html*/`\n<linearGradient ${OBJECT_TO_PROPERTY({ id, x1, x2, y1, y2, spreadMethod })} >\n  ${this.colorsteps.map(it => {\n    return /*html*/`<stop offset=\"${it.percent}%\"  stop-color=\"${it.color}\" ></stop>`\n  }).join('\\n')}\n</linearGradient>\n      `\n  }\n\n  toFillValue (id) {\n      return `url(#${id})`;\n  }  \n\n  static toLinearGradient(colorsteps) {\n    if (colorsteps.length === 0) {\n      return \"none\";\n    }\n\n    var gradient = new LinearGradient({\n      angle: \"to right\",\n      colorsteps\n    });\n\n    return gradient + \"\";\n  }\n\n  static parse(str) {\n    var results = convertMatches(str);\n    var opt = {};\n    var colorsteps = [];\n    results.str\n      .split(\"(\")[1]\n      .split(\")\")[0]\n      .split(\",\")\n      .map(it => it.trim())\n      .forEach((newValue, index) => {\n        if (newValue.includes(\"@\")) {\n\n          newValue = reverseMatches(newValue, results.matches);\n\n          colorsteps.push(...ColorStep.parse(newValue));\n        } else {\n\n          var [x1, y1, x2, y2, spreadMethod] = newValue.split(' ')\n\n          opt.x1 = Length.parse(x1);\n          opt.y1 = Length.parse(y1);\n          opt.x2 = Length.parse(x2);\n          opt.y2 = Length.parse(y2);\n          opt.spreadMethod = spreadMethod || 'pad'\n        }\n      });\n\n    return new SVGLinearGradient({ ...opt, colorsteps });\n  }\n}\n","import { convertMatches, reverseMatches } from \"../../util/functions/parser\";\nimport { ColorStep } from \"./ColorStep\";\nimport { SVGGradient } from \"./SVGGradient\";\nimport { OBJECT_TO_PROPERTY } from \"../../util/functions/func\";\n\nexport class SVGRadialGradient extends SVGGradient {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: \"radial-gradient\",\n      cx: '50%',\n      cy: '50%',\n      r: '50%',\n      fx: '50%',\n      fy: '50%',\n      fr: '0%',\n      spreadMethod: 'pad',\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    var {cx, cy, r, fx, fy, fr,spreadMethod} = this.json; \n    return {\n      ...super.toCloneObject(),\n      cx, cy, r, fx, fy, fr,spreadMethod\n    }\n  }\n\n\n  toString() {\n\n    if(this.colorsteps.length === 0) return '';    \n\n    var colorString = this.getColorString();\n\n    var {cx, cy, r, fx, fy, fr,spreadMethod} = this.json;\n    var opt = [cx, cy, r, fx, fy, fr,spreadMethod].join(' ');\n\n    var result = `${this.json.type}(${opt}, ${colorString})`;\n\n    return result;\n  }\n\n  toSVGString(id) {\n      var {cx, cy, r, fx, fy, fr,spreadMethod} = this.json;    \n      return /*html*/`\n<radialGradient ${OBJECT_TO_PROPERTY({ id, cx, cy, r, fx, fy, fr,spreadMethod })} >\n  ${this.colorsteps.map(it => {\n    return /*html*/`<stop offset=\"${it.percent}%\"  stop-color=\"${it.color}\" />`\n  }).join('\\n')}\n</radialGradient>\n`\n  }\n\n  toFillValue (id) {\n      return `url(#${id})`;\n  }  \n\n\n\n  static parse(str) {\n    var results = convertMatches(str);\n    var opt = {} \n    var colorsteps = [];\n    results.str\n      .split(\"(\")[1]\n      .split(\")\")[0]\n      .split(\",\")\n      .map(it => it.trim())\n      .forEach((newValue, index) => {\n        if (newValue.includes(\"@\")) {\n          // color 복원\n          newValue = reverseMatches(newValue, results.matches);\n\n          colorsteps.push(...ColorStep.parse(newValue));\n        } else {\n\n          var [cx, cy, r, fx, fy, fr,spreadMethod] = newValue.split(' ');        \n\n          opt.cx = cx;\n          opt.cy = cy;\n          opt.r = r;\n          opt.fx = fx;\n          opt.fy = fy;\n          opt.fr = fr;\n          opt.spreadMethod = spreadMethod || 'pad'\n        }\n      });\n\n    return new SVGRadialGradient({ ...opt, colorsteps });\n  }\n}\n","import { ColorStep } from \"./ColorStep\";\nimport { SVGGradient } from \"./SVGGradient\";\n\nexport class SVGStaticGradient extends SVGGradient {\n    getDefaultObject() {\n        return super.getDefaultObject({  \n            type: 'static-gradient', \n            static: true, \n            colorsteps: [\n                new ColorStep({color: 'red', percent: 0, index: 0 }),\n                new ColorStep({color: 'red', percent: 100, index: 1 }),\n            ]\n        }) \n    }\n\n    toCloneObject() {\n        return {\n            ...super.toCloneObject(),\n            static: true \n        }\n    }\n\n    static create (color = 'transparent') {\n        return new SVGStaticGradient({\n            colorsteps: [\n                new ColorStep({color, percent: 0, index: 0 }),\n                new ColorStep({color, percent: 100, index: 0 }),\n            ]\n        })\n    }\n\n    setColor (color) {\n        this.colorsteps.forEach(it => {\n            it.color = color; \n        })\n    }\n\n    toString () {\n        var color = this.json.colorsteps[0].color;\n        return color\n    }\n\n    toSVGString() {\n        return '' \n    }\n\n    toFillValue () {\n        return this.toString();\n    }\n\n    isStatic () { return true; }\n}\n","import { ImageResource } from \"./ImageResource\";\nimport { editor } from \"../editor\";\nimport { OBJECT_TO_PROPERTY } from \"../../util/functions/func\";\n\nconst IMAGE_LIST = [\"jpg\", \"jpeg\", \"png\", \"gif\", \"svg\"];\n\n// refer to https://github.com/graingert/datauritoblob/blob/master/dataURItoBlob.js\n// MIT License\nfunction dataURItoBlob(dataURI) {\n  // convert base64 to raw binary data held in a string\n  // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\n  var byteString = atob(dataURI.split(\",\")[1]);\n  // separate out the mime component\n  var mimeString = dataURI\n    .split(\",\")[0]\n    .split(\":\")[1]\n    .split(\";\")[0];\n  // write the bytes of the string to an ArrayBuffer\n  var ab = new ArrayBuffer(byteString.length);\n  var dw = new DataView(ab);\n  for (var i = 0; i < byteString.length; i++) {\n    dw.setUint8(i, byteString.charCodeAt(i));\n  }\n  // write the ArrayBuffer to a blob, and you're done\n  return new Blob([ab], { type: mimeString });\n}\n\nexport class SVGImageResource extends ImageResource {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: \"url\",\n      url: \"\",\n      datauri: \"\",\n      patternUnits: 'userSpaceOnUse', \n      patternWidth: '100%', \n      patternHeight: '100%',\n      imageX: \"0%\",\n      imageY: '0%',\n      imageWidth: \"100%\",\n      imageHeight: '100%',\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      url: this.json.url,\n      datauri: this.json.datauri,\n      patternUnits: this.json.patternUnits, \n      patternWidth: this.json.patternWidth, \n      patternHeight: this.json.patternHeight, \n      imageX: this.json.imageX, \n      imageY: this.json.imageY, \n      imageWidth: this.json.imageWidth, \n      imageHeight: this.json.imageHeight, \n    }\n  }\n\n  static parse(str) {\n\n    var content = str.split('(')[1].split(')')[0]\n\n    var [url,  props] = content.trim().split('#')\n\n    if (!props) {\n      return new SVGImageResource({ url });\n    }\n\n    var [ patternUnits, patternWidth, patternHeight, imageX, imageY, imageWidth, imageHeight] = props.split(',');\n\n    return new SVGImageResource({ patternUnits, patternWidth, patternHeight, imageX, imageY, imageWidth, imageHeight, url })\n  }\n\n  isUrl() {\n    return true;\n  }\n\n  static isImageFile(fileExt) {\n    return IMAGE_LIST.includes(fileExt);\n  }\n\n\n  toString() {\n    var json = this.json;\n    var {\n      patternUnits, \n      patternWidth, \n      patternHeight,\n      imageX,\n      imageY,\n      imageWidth,\n      imageHeight,\n      url\n    } = json;       \n\n    var string = [\n      patternUnits, \n      patternWidth, \n      patternHeight,\n      imageX,\n      imageY,\n      imageWidth,\n      imageHeight\n    ].join(',').trim();\n\n    return `url(${url}#${string})`;\n  }\n\n  toSVGString(id) {\n      var {\n        patternUnits, \n        patternWidth: width, \n        patternHeight: height,\n        imageX,\n        imageY,\n        imageWidth,\n        imageHeight\n      } = this.json;    \n\n      return /*html*/`\n  <pattern ${OBJECT_TO_PROPERTY({ id, patternUnits, width, height })} >\n    <image xlink:href=\"${this.json.url}\" ${OBJECT_TO_PROPERTY({\n      x: imageX, y: imageY, width: imageWidth, height: imageHeight, preserveAspectRatio: \"none\"\n    })} />\n  </pattern>\n      `\n  }\n\n  toFillValue (id) {\n      return `url(#${id})`;\n  }    \n}\n","import { Property } from \"../items/Property\"\nimport { convertMatches, reverseMatches } from \"../../util/functions/parser\";\nimport { SVGLinearGradient } from \"../image-resource/SVGLinearGradient\";\nimport { SVGRadialGradient } from \"../image-resource/SVGRadialGradient\";\nimport { SVGStaticGradient } from \"../image-resource/SVGStaticGradient\";\nimport { SVGImageResource } from \"../image-resource/SVGImageResource\";\n\n\nconst reg = /((linear\\-gradient|radial\\-gradient|url)\\(([^\\)]*)\\))/gi;\n\nexport class SVGFill extends Property {\n  addImageResource(imageResource) {\n    this.clear(\"image-resource\");\n    return this.addItem(\"image-resource\", imageResource);\n  }\n\n  addGradient(gradient) {\n    return this.addImageResource(gradient);\n  }\n\n  setImageUrl(data) {\n    if (!data.images) return;\n    if (!data.images.length) return;\n    this.reset({ \n      type: \"image\", \n      image: SVGFill.createImage(data.images[0]) \n    });\n  }\n\n  static createImage(url) {\n    return new SVGLImageResource({ url });\n  }\n\n  setGradient(data) {\n    this.reset({\n      type: data.type,\n      image: SVGFill.createGradient(data, this.json.image)\n    });\n  }\n\n  static createGradient(data, gradient) {\n    const colorsteps = data.colorsteps || gradient.colorsteps;\n\n    let json = gradient.toJSON();\n    delete json.itemType;\n    delete json.type;\n\n    switch (data.type) {\n      case \"linear-gradient\":\n        return new SVGLinearGradient({ ...json, colorsteps });\n      case \"radial-gradient\":\n        return new SVGRadialGradient({ ...json, colorsteps });\n      default:\n        return new SVGStaticGradient({ ...json, colorsteps });\n    }\n  }\n\n  get image() {\n    return this.json.image;\n  }\n\n  set image(image) {\n    this.json.image = image;\n  }\n\n  static parse(obj) {\n    return new SVGFill(obj);\n  }\n\n  static parseImage (str) {\n    var results = convertMatches(str);\n    let image = null;\n\n    var matchResult = results.str.match(reg)\n\n    if (!matchResult) return SVGStaticGradient.create(str || 'transparent'); \n\n    matchResult.forEach((value, index) => {\n\n      value = reverseMatches(value, results.matches);\n      if (value.includes(\"linear\")) {\n        image = SVGLinearGradient.parse(value);\n      } else if (value.includes(\"radial\")) {\n        image = SVGRadialGradient.parse(value);\n      } else if (value.includes(\"url\")) {\n        image = SVGImageResource.parse(value);\n      } else {\n        image = SVGStaticGradient.parse(value);\n      }\n    });\n\n    return image\n  }\n\n  static changeImageType (options) {\n\n    switch  (options.type) {\n    case 'linear-gradient': \n      return new SVGLinearGradient(options);     \n    case 'radial-gradient': \n      return new SVGRadialGradient(options);\n    case 'image-resource':\n    case 'url':\n      return new SVGImageResource(options);\n    default: \n      return new SVGStaticGradient(options);\n    }\n  }\n}\n","import { Layer } from \"../Layer\";\nimport { SVGFill } from \"../../svg-property/SVGFill\";\nimport Dom from \"../../../util/Dom\";\n\nexport class SVGItem extends Layer {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'svg',\n      name: \"New SVG\",\n      elementType: 'svg',\n      overflow: 'visible',         \n      stroke: 'black',\n      'stroke-width': 1,\n      'svgfilter': '',\n      fill: 'transparent',\n      'fill-rule': '',\n      'fill-opacity': '',\n      'stroke-linecap': '',\n      'stroke-linejoin': '',      \n      'stroke-dashoffset': '', \n      'stroke-dasharray': ' ',\n      'text-anchor': 'start',\n      'motion-based': false,\n      ...obj\n    });\n  }\n\n\n  toCloneObject() {\n    var json = this.json; \n    return {\n      ...super.toCloneObject(),\n      overflow: json.overflow,\n      stroke: json.stroke,\n      'stroke-width': json['stroke-width'],\n      svgfilter: json.svgfilter,\n      fill: json.fill,\n      'fill-rule': json['fill-rule'],\n      'fill-opacity': json['fill-opacity'],\n      'stroke-linecap': json['stroke-linecap'],\n      'stroke-linejoin': json['stroke-linejoin'],\n      'stroke-dashoffset': json['stroke-dashoffset'],\n      'stroke-dasharray': json['stroke-dasharray'],\n      'text-anchor': json['text-anchor'],\n      'motion-based': json['motion-based']\n    }\n  }\n\n  toDefaultCSS() {\n    return {\n      ...super.toDefaultCSS(),\n      ...this.toKeyListCSS(\n        'stroke-width', 'stroke-linecap', 'stroke-linejoin', 'stroke-dasharray', 'stroke-dashoffset',\n        'fill-opacity', 'fill-rule', 'text-anchor'\n      )\n    }\n  }\n\n  toSVGAttribute () {\n    return {\n      ...this.toDefaultSVGCSS(),\n      ...this.toKeyListCSS(\n        'stroke-width', 'stroke-linecap', 'stroke-linejoin', 'stroke-dasharray', 'stroke-dashoffset',\n        'fill-opacity', 'fill-rule', 'text-anchor'\n      )\n    }\n  }\n\n  /**\n   * @override\n   */\n  toLayoutCSS() {\n    return {}\n  }\n\n  getDefaultTitle() {\n    return \"SVG\";\n  }\n\n\n  updateDefString (currentElement) {\n\n    var $defs = currentElement.$('defs');\n    if ($defs) {\n      $defs.html(this.toDefInnerString)          \n    } else {\n      var str = this.toDefString.trim();\n      currentElement.prepend(Dom.createByHTML(str));\n    }      \n  }  \n\n  get toDefInnerString () {\n    return /*html*/`\n        ${this.toFillSVG}\n        ${this.toStrokeSVG}\n    `\n  }\n\n  get toDefString () {\n\n    var str = this.toDefInnerString.trim();\n\n    // if (!str) return ''; \n\n    return /*html*/`\n      <defs>\n        ${str}\n      </defs>\n    `\n  }\n\n  get fillId () {\n    return this.getInnerId('fill')\n  }\n\n  get strokeId () {\n    return this.getInnerId('stroke')\n  }\n\n  get toFillSVG () {\n    return SVGFill.parseImage(this.json.fill || 'transparent').toSVGString(this.fillId);\n  }\n\n  get toStrokeSVG () {\n    return SVGFill.parseImage(this.json.stroke || 'black').toSVGString(this.strokeId);\n  }  \n\n  get toFillValue () {\n    return  SVGFill.parseImage(this.json.fill || 'transparent').toFillValue(this.fillId);\n  }\n\n  get toStrokeValue () {\n    return  SVGFill.parseImage(this.json.stroke || 'black').toFillValue(this.strokeId);\n  }  \n\n  get toFilterValue () {\n\n    if (!this.json.svgfilter) {\n      return '';\n    }\n\n    return `url(#${this.json.svgfilter})`\n  }\n\n  toExportSVGCode () {\n    return `\n      ${this.toFillSVG}\n      ${this.toStrokeSVG}\n    `\n  }\n}\n","import PathParser from \"../../parse/PathParser\";\nimport { SVGItem } from \"./SVGItem\";\nimport { clone, OBJECT_TO_CLASS, OBJECT_TO_PROPERTY, CSS_TO_STRING } from \"../../../util/functions/func\";\nimport { hasSVGProperty, hasCSSProperty, hasSVGPathProperty } from \"../../util/Resource\";\nimport { Length } from \"../../unit/Length\";\nimport { SVGFill } from \"../../svg-property/SVGFill\";\nimport Dom from \"../../../util/Dom\";\nimport { editor } from \"../../editor\";\nimport icon from \"../../../csseditor/ui/icon/icon\";\n\nexport class SVGPathItem extends SVGItem {\n\n  static getIcon () {\n    return icon.edit;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'svg-path',\n      name: \"New Path\",   \n      d: '',        // 이건 최종 결과물로만 쓰고 나머지는 모두 segments 로만 사용한다. \n      segments: [],\n      totalLength: 0,\n      ...obj\n    });\n  }\n\n  enableHasChildren() {\n    return false; \n  }\n \n\n  updatePathItem (obj) {\n\n    this.json.d = obj.d; \n    this.json.totalLength = obj.totalLength;\n    this.json.path = new PathParser(obj.d);\n\n    if(obj.segments) {\n      this.json.path.resetSegment(obj.segments);\n    }\n\n    if (obj.rect) {\n\n      this.json.width = Length.px(obj.rect.width);\n      this.json.height = Length.px(obj.rect.height);\n  \n      this.setScreenX(Length.px(obj.rect.x))\n      this.setScreenY(Length.px(obj.rect.y))\n    }\n\n  }\n  \n  setCache () {\n    this.rect = this.clone();\n    this.cachePath = this.json.path.clone()\n\n  }\n\n  recover () {\n\n    var baseWidth = this.rect.width.value\n    if (baseWidth === 0) baseWidth = 1; \n\n    var baseHeight = this.rect.height.value\n    if (baseHeight === 0) baseHeight = 1;     \n\n    var sx = this.json.width.value / baseWidth \n    var sy = this.json.height.value / baseHeight\n\n    this.scale(sx, sy);\n  }\n\n  scale (sx, sy) {\n    this.json.d = this.cachePath.clone().scaleTo(sx, sy)\n    this.json.path.reset(this.json.d)\n  }\n\n  convert(json) {\n    json = super.convert(json);\n    if (json.d)  {\n      json.path = new PathParser(json.d);\n    }\n\n    return json;\n  }\n\n  toCloneObject() {\n    var json = this.json; \n    return {\n      ...super.toCloneObject(),\n      totalLength: json.totalLength,\n      d: json.d,\n      segments: clone(this.json.segments)\n    }\n  }\n\n  getDefaultTitle() {\n    return \"Path\";\n  }\n\n  toAnimationKeyframes (properties) {\n\n    var svgProperties = properties.filter(it => hasSVGProperty(it.property) && hasSVGPathProperty(it.property));\n    var cssProperties = properties.filter(it => hasCSSProperty(it.property));\n\n    return [\n      { selector: `[data-id=\"${this.json.id}\"]`, properties: cssProperties  },\n      { selector: `[data-id=\"${this.json.id}\"] path`, properties: svgProperties }\n    ] \n  }  \n\n\n  updateFunction (currentElement, isChangeFragment = true) {\n\n    var $path = currentElement.$('path');\n    $path.attr('d', this.json.d);\n    if (isChangeFragment) {\n      $path.setAttr({\n        'filter': this.toFilterValue,\n        'fill': this.toFillValue,\n        'stroke': this.toStrokeValue\n      })\n\n      this.updateDefString(currentElement)\n\n    }\n\n    this.json.totalLength = $path.totalLength\n  }    \n\n  get html () {\n    var {id} = this.json; \n    var p = {'motion-based': this.json['motion-based'] }\n\n    return /*html*/`\n  <svg class='element-item path ${OBJECT_TO_CLASS(p)}'  ${OBJECT_TO_PROPERTY({\n    'motion-based': this.json['motion-based'],\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  })}  data-id=\"${id}\" >\n    ${this.toDefString}\n    <path ${OBJECT_TO_PROPERTY({\n      'class': 'svg-path-item',\n      d: this.json.d, \n      filter: this.toFilterValue,\n      fill: this.toFillValue,\n      stroke: this.toStrokeValue\n    })} />\n  </svg>`\n  }\n\n\n  get svg () {\n    var x = this.json.x.value;\n    var y = this.json.y.value;\n    return this.toSVG(x, y);\n  }\n\n  toSVG(x = 0, y = 0) {\n    return /*html*/`\n      <g transform=\"translate(${x}, ${y})\">\n      ${this.toDefString}\n      <path ${OBJECT_TO_PROPERTY({\n        'class': 'svg-path-item',\n        d: this.json.d, \n        filter: this.toFilterValue,\n        fill: this.toFillValue,\n        stroke: this.toStrokeValue,\n        ...this.toSVGAttribute(),\n        style: CSS_TO_STRING(this.toSVGCSS())      \n      })} />\n    </g>\n  `\n  }\n}\n\neditor.registerComponent('svg-path', SVGPathItem)\n","import { getDist } from \"./math\";\n\nexport const predefinedBezier = {\n    'linear': true,\n    'ease': true,\n    'ease-in': true,\n    'ease-out': true,\n    'ease-in-out': true \n}\n\nexport const bezierObj = {\n    \"ease\" : \"cubic-bezier(0.25, 0.1, 0.25, 1)\",\n    \"ease-in\" : \"cubic-bezier(0.42, 0, 1, 1)\",\n    \"ease-out\" : \"cubic-bezier(0, 0, 0.58, 1)\"\n};\n\nexport const bezierList = [\n    [ 0, 0, 1, 1, 'linear', true],\n    [ 0.25, 0.1, 0.25, 1, 'ease', true],\n    [ 0.42, 0, 1, 1, 'ease-in', true],\n    [ 0, 0, 0.58, 1, 'ease-out', true],\n    [  0.47, 0, 0.745, 0.715,  'ease-in-sine'],\n    [  0.39, 0.575, 0.565, 1,  'ease-out-sine'],\n    [  0.445, 0.05, 0.55, 0.95,  'ease-in-out-sine'],\n    [  0.55, 0.085, 0.68, 0.53,  'ease-in-quad'],\n    [  0.25, 0.46, 0.45, 0.94,  'ease-out-quad'],\n    [  0.455, 0.03, 0.515, 0.955,  'ease-in-out-quad'],\n    [ 0.55, 0.055, 0.675, 0.19, 'ease-in-cubic'],\n    [ 0.215, 0.61, 0.355, 1, 'ease-out-cubic'],\n    [ 0.645, 0.045, 0.355, 1, 'ease-in-out-cubic'],\n    [ 0.895, 0.03, 0.685, 0.22, 'ease-in-quart'],\n    [ 0.165, 0.84, 0.44, 1, 'ease-out-quart'],\n    [ 0.77, 0, 0.175, 1, 'ease-in-out-quart'],\n    [0.6, 0.04, 0.98, 0.335, 'ease-in-circ'],\n    [0.075, 0.82, 0.165, 1, 'ease-out-circ'], \n    [0.785,0.135,0.15,0.86, 'ease-in-out-circ'],\n    [0.95,0.05,0.795,0.035, 'ease-in-expo'],\n    [0.19,1,0.22,1, 'ease-out-expo'],\n    [1,0,0,1, 'ease-in-out-expo'],\n    [0.755,0.05,0.855,0.06, 'ease-in-quint'],\n    [0.23,1,0.32,1, 'ease-out-quint'],\n    [0.86,0,0.07,1, 'ease-in-out-quint'],\n    [0.6,-0.28,0.735,0.045, 'ease-in-back'],\n    [0.175, 0.885,0.32,1.275, 'ease-out-back'],\n    [0.68,-0.55,0.265,1.55, 'ease-in-out-back']\n\n];\n\n\nexport const getPredefinedCubicBezier = (str) => {\n    return [...parseCubicBezier(bezierObj[str] || str)]\n}\n\nexport const formatCubicBezier = (arr) => {\n    arr = arr.map(it => Math.floor(it * 100)/100 )\n\n    for(var i = 0, len  = bezierList.length; i < len; i++) {\n        var bezier = bezierList[i];\n\n        if (bezier[0] == arr[0] && bezier[1] == arr[1] && bezier[2] == arr[2] && bezier[3] == arr[3] && bezier[5] /* is support css timing function name */) {\n            return bezier[4]; // timing function name\n        }\n    }\n\n    return `cubic-bezier( ${arr.filter((_, index) => index < 4).join(',')} )`;\n}\n\nexport const parseCubicBezier = (str) => {\n    if (typeof str == 'string') {\n\n        if (predefinedBezier[str]) {\n            return bezierList.filter(it => it[4] === str)[0]\n        } else {\n            var arr = str.replace(\"cubic-bezier\", \"\").replace(\"(\", \"\").replace(\")\", \"\").split(\",\");\n            arr = arr.map(it => parseFloat(it.trim()))\n            return arr;\n        }\n    }\n\n    return str;\n}\n\nexport const calc = {\n    B1 : function (t) { return t*t*t },\n    B2 : function (t) { return 3*t*t*(1-t) },\n    B3 : function (t) { return 3*t*(1-t)*(1-t) },\n    B4 : function (t) { return (1-t)*(1-t)*(1-t) }\n}\n\nexport const createBezier = (C1, C2, C3, C4) => {\n    var points = [C1, C2, C3, C4]\n    return function (t) {\n        return getBezierPointOne(points, t);\n    }\n}\n\nexport const createBezierQuard = (C1, C2, C3) => {\n    var points = [C1, C2, C3]\n    return function (t) {\n        return getBezierPointOneQuard(points, t);\n    }\n}\n\nexport const createBezierLine = (C1, C2) => {\n    var points = [C1, C2]\n    return function (t) {\n        return getBezierPointOneLine(points, t);\n    }\n}\n\nconst checkDist = (obj, curve, t, x, y) => {\n    var p = curve(t) \n    var dist = getDist(x, y, p.x, p.y);\n\n    if (dist < obj.minDist) {\n        obj.minDist = dist; \n        obj.minT = t; \n    }        \n}\n\nexport const getCurveDist = (sx, sy, cx1, cy1, cx2, cy2, ex, ey, count = 1000) => {\n    var curve = createBezier(\n        {x: sx, y: sy},\n        {x: cx1, y: cy1},\n        {x: cx2, y: cy2},\n        {x: ex, y: ey}\n    )\n\n    var total = 0\n    var startPoint = curve(0); \n    for(var i = 0; i <= count; i++) {\n        var t = i/count\n        var xy = curve(t)\n\n        total += getDist(startPoint.x, startPoint.y, xy.x, xy.y)\n        startPoint = xy; \n    }\n\n    return total; \n}\n\n\nexport const getQuardDist = (sx, sy, cx1, cy1, ex, ey, count = 1000) => {\n    var curve = createBezierQuard(\n        {x: sx, y: sy},\n        {x: cx1, y: cy1},\n        {x: ex, y: ey}\n    )\n\n    var total = 0\n    var startPoint = curve(0); \n    for(var i = 0; i <= count; i++) {\n        var t = i/count\n        var xy = curve(t)\n\n        total += getDist(startPoint.x, startPoint.y, xy.x, xy.y)\n        startPoint = xy; \n    }\n\n    return total; \n}\n\n\nconst makeCurveFunction = (curve, count = 100) => {\n    var obj = {\n        minDist: Infinity,\n        minT: 0\n    }\n    return function (x, y) {\n\n        for(var i = 0; i <= count; i++) {\n            checkDist(obj, curve, i/count, x, y);\n        }\n\n        var step = 1 / (count * 2)\n        var t = obj.minT\n        for(var i = 0; i < count; i++) {\n            checkDist(obj, curve, t - step, x, y);\n            checkDist(obj, curve, t + step, x, y);\n            step /= 2;             \n        }\n\n        return obj.minT;\n    }\n}\n\nexport const recoverBezier = (C1, C2, C3, C4, count = 100) => {\n    return makeCurveFunction(createBezier(C1, C2, C3, C4), count)\n}\n\nexport const recoverBezierQuard = (C1, C2, C3, count = 100) => {\n    return makeCurveFunction(createBezierQuard(C1, C2, C3), count)\n}\n\nexport const recoverBezierLine = (C1, C2, count = 100) => {\n    return makeCurveFunction(createBezierLine(C1, C2), count)    \n}\n\nexport const createBezierForPattern = (str) => {\n    var bezierList = parseCubicBezier(str);\n\n    var C1 = { x : 0, y : 0 };\n    var C2 = { x : bezierList[0], y : bezierList[1] };\n    var C3 = { x : bezierList[2], y : bezierList[3] };\n    var C4 = { x : 1, y : 1 };\n\n    return createBezier(C1, C2, C3, C4);\n\n}\n\nconst interpolate = (p1, p2, t) => {\n    return {\n        x: p1.x + (p2.x - p1.x) * t,\n        y: p1.y + (p2.y - p1.y) * t \n    }\n}\n\nexport const getBezierPointOne = (points, t) => {\n\n    var p0 = interpolate(points[0], points[1], t);\n    var p1 = interpolate(points[1], points[2], t);\n    var p2 = interpolate(points[2], points[3], t);\n    var p3 = interpolate(p0, p1, t);\n    var p4 = interpolate(p1, p2, t);\n    return interpolate(p3, p4, t);\n}\n\nexport const getBezierPointOneQuard = (points, t) => {\n\n    var p0 = interpolate(points[0], points[1], t);\n    var p1 = interpolate(points[1], points[2], t);\n    return interpolate(p0, p1, t);\n}\n\nexport const getBezierPointOneLine = (points, t) => {\n\n    return interpolate(points[0], points[1], t);\n}\n\nexport const getBezierPoints = (points, t) => {\n    var p0 = interpolate(points[0], points[1], t);\n    var p1 = interpolate(points[1], points[2], t);\n    var p2 = interpolate(points[2], points[3], t);\n    var p3 = interpolate(p0, p1, t);\n    var p4 = interpolate(p1, p2, t);\n    var p5 = interpolate(p3, p4, t);\n\n    return {\n        first: [ points[0], p0, p3, p5 ],\n        second: [ p5, p4, p2, points[3] ]\n    }\n}\n\nexport const getBezierPointsQuard = (points, t) => {\n\n    var p0 = interpolate(points[0], points[1], t);\n    var p1 = interpolate(points[1], points[2], t);\n    var p2 = interpolate(p0, p1, t);\n\n    return {\n        first: [ points[0], p0, p2 ],\n        second: [ p2, p1, points[2] ]\n    }\n}\n\nexport const getBezierPointsLine = (points, t) => {\n\n    var p0 = interpolate(points[0], points[1], t);\n\n    return {\n        first: [ points[0], p0 ],\n        second: [ p0, points[1] ]\n    }\n}","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { POINTERSTART, MOVE, END, BIND, POINTERMOVE, PREVENT, KEYUP, IF, STOP, CLICK, DOUBLECLICK, KEY, LOAD } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport PathGenerator from \"../../../editor/parse/PathGenerator\";\nimport Dom from \"../../../util/Dom\";\nimport PathParser from \"../../../editor/parse/PathParser\";\n\nimport { SVGPathItem } from \"../../../editor/items/layers/SVGPathItem\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { getBezierPoints, recoverBezier, recoverBezierQuard, getBezierPointsQuard, recoverBezierLine, getBezierPointsLine } from \"../../../util/functions/bezier\";\n\n\n/**\n * convert array[x, y] to object{x, y} \n * \n * @param {array} param0 \n */\nfunction xy ([x, y]) {\n    return {x, y}\n}\n\nconst SegmentConvertor = class extends UIElement {\n\n    [DOUBLECLICK('$view [data-segment]')] (e) {\n        var index = +e.$dt.attr('data-index')\n\n\n        this.pathGenerator.convertToCurve(index);\n\n        this.renderPath()\n\n        this.refreshPathLayer()\n    }\n}\n\nconst PathCutter = class extends SegmentConvertor {\n\n    [CLICK('$view .split-path')] (e) {\n        this.initRect()\n        var parser = new PathParser(e.$dt.attr('d'));\n        var clickPosition = {\n            x: e.xy.x - this.state.rect.x, \n            y: e.xy.y - this.state.rect.y\n        }; \n\n        if (parser.segments[1].command === 'C') {\n            var points = [\n                xy(parser.segments[0].values),\n                xy(parser.segments[1].values.slice(0, 2)),\n                xy(parser.segments[1].values.slice(2, 4)),\n                xy(parser.segments[1].values.slice(4, 6))\n            ]\n    \n            var curve = recoverBezier(...points, 200)\n            var t = curve(clickPosition.x, clickPosition.y);\n    \n            this.changeMode('modify');\n    \n            this.pathGenerator.setPoint(getBezierPoints(points, t))        \n    \n        } else if (parser.segments[1].command === 'Q') {\n            var points = [\n                xy(parser.segments[0].values),\n                xy(parser.segments[1].values.slice(0, 2)),\n                xy(parser.segments[1].values.slice(2, 4))\n            ]\n    \n            var curve = recoverBezierQuard(...points, 200)\n            var t = curve(clickPosition.x, clickPosition.y);\n    \n            this.changeMode('modify');\n    \n            this.pathGenerator.setPointQuard(getBezierPointsQuard(points, t))        \n        } else if (parser.segments[1].command === 'L') {\n            var points = [\n                xy(parser.segments[0].values),\n                xy(parser.segments[1].values.slice(0, 2))\n            ]\n\n            var curve = recoverBezierLine(...points, 200)\n            var t = curve(clickPosition.x, clickPosition.y);          \n\n            this.changeMode('modify');\n    \n            this.pathGenerator.setPointLine(getBezierPointsLine(points, t))\n        }\n\n\n\n\n        this.renderPath()\n\n        this.refreshPathLayer();\n\n    }\n}\n\nconst PathTransformEditor = class extends PathCutter {\n\n    [EVENT('changePathTransform')] (transformMoveType) {\n        this.resetTransformZone()\n\n        var {width, height} = this.state.transformZoneRect;\n        this.pathGenerator.initTransform(this.state.transformZoneRect);\n\n        switch(transformMoveType) {\n        case 'flipX':\n            this.pathGenerator.transform('flipX', width, 0)     // rect 가운데를 기준으로 뒤집기 \n            break; \n        case 'flipY':\n            this.pathGenerator.transform('flipY', 0, height)    \n            break;        \n        case 'flip':\n            this.pathGenerator.transform('flip', width, height)    \n            break;                         \n        }\n        \n\n        this.renderPath()\n\n        this.refreshPathLayer();        \n    }\n        \n    [POINTERSTART('$tool .transform-tool-item') + MOVE('moveTransformTool') + END('moveEndTransformTool')]  (e) {\n        this.transformMoveType = e.$dt.attr('data-position')\n\n        this.resetTransformZone()        \n        this.pathGenerator.initTransform(this.state.transformZoneRect);\n        this.startXY = e.xy; \n    }\n\n    moveTransformTool (dx, dy) {\n\n      \n        this.pathGenerator.transform(this.transformMoveType, dx, dy);\n\n        this.renderPath()\n\n        this.refreshPathLayer();\n    }\n\n    moveEndTransformTool  (dx, dy) {\n        // this.pathGenerator.transform(this.transformMoveType, dx, dy);\n\n        // this.renderPath();\n    }\n}\n\nexport default class PathEditorView extends PathTransformEditor {\n\n    initialize() {\n        super.initialize();\n\n        this.pathParser = new PathParser();\n        this.pathGenerator = new PathGenerator(this)\n    }\n\n    initState() {\n        return {\n            changeEvent: 'updatePathItem', \n            isShow: false,\n            points: [],\n            hasTransform: false, \n            mode: 'draw',\n            $target: null, \n            clickCount: 0,\n            isSegment: false,\n            isFirstSegment: false,\n            screenX: Length.px(0),\n            screenY: Length.px(0),\n            screenWidth: Length.px(0),\n            screenHeight: Length.px(0)\n        }\n    }\n\n    get scale () {\n        return editor.scale; \n    }\n\n    template() {\n        return /*html*/`\n        <div class='path-editor-view' tabIndex=\"-1\" ref='$view'>\n            <div class='path-container' ref='$view'></div>\n            <div class='path-tool'>\n                <div class='transform-manager' ref='$tool'>\n                    <div class='transform-tool-item' data-position='to move'></div>\n                    <div class='transform-tool-item' data-position='to top'></div>\n                    <div class='transform-tool-item' data-position='to right'></div>\n                    <div class='transform-tool-item' data-position='to bottom'></div>\n                    <div class='transform-tool-item' data-position='to left'></div>\n                    <div class='transform-tool-item' data-position='to top right'></div>\n                    <div class='transform-tool-item' data-position='to bottom right'></div>\n                    <div class='transform-tool-item' data-position='to top left'></div>\n                    <div class='transform-tool-item' data-position='to bottom left'></div>  \n                </div>\n            </div>\n            <div class='segment-box' ref='$segmentBox'></div>\n        </div>`\n    }\n\n    [BIND('$tool')] () {\n        this.resetTransformZone();\n        var rect = this.state.transformZoneRect;\n\n        return {\n            'data-show': this.state.mode === 'transform',\n            style: {\n                left: Length.px(rect.x),\n                top: Length.px(rect.y),\n                width: Length.px(rect.width),\n                height: Length.px(rect.height)\n            }\n\n        }\n    }\n\n    renderTransformTool () {\n        this.bindData('$tool')\n    }\n\n    isShow () {\n        return this.state.isShow\n    }\n\n    initRect (isForce  = false) {\n        if (!this.state.rect || isForce) {\n            this.state.rect = this.parent.refs.$body.rect();\n        }\n    }\n\n    [KEYUP('document') + IF('isShow') + KEY('Escape') + KEY('Enter') + PREVENT + STOP] () {\n        if (this.state.current) {\n            this.refreshPathLayer();\n        } else {     \n            this.addPathLayer(); \n        }\n        this.trigger('hidePathEditor');        \n    }\n\n    get totalPathLength () {\n        if (!this.refs.$view) return 0 \n        var $obj = this.refs.$view.$('path.object');\n        if (!$obj) return 0; \n\n        return $obj.totalLength\n    }\n\n    makePathLayer (pathRect) {\n        var { d } = this.pathGenerator.toPath(pathRect.x, pathRect.y, this.scale);\n        var artboard = this.$selection.currentArtboard\n        var layer; \n        if (artboard) {\n\n            var x = pathRect.x / this.scale;\n            var y = pathRect.y / this.scale;\n            var width = pathRect.width / this.scale;\n            var height = pathRect.height / this.scale; \n\n            layer = artboard.add(new SVGPathItem({\n                width: Length.px(width),\n                height: Length.px(height),\n                d,\n                totalLength: this.totalPathLength\n            }))\n\n            layer.setScreenX(x);\n            layer.setScreenY(y);\n        }\n\n        return layer; \n    }\n\n    get isBoxMode () {\n        return this.state.box === 'box'\n    }\n\n    updatePathLayer () {\n        var rect = this.getPathRect()\n\n        var minX = rect.x;\n        var minY = rect.y; \n        \n        var item = this.state.current;\n\n        // 객체 내부에 포함된 패스는 box 를 기준으로 재설정 \n        if (item && this.isBoxMode) {\n            var minX = item.screenX.value / this.scale \n            var minY = item.screenY.value / this.scale \n        }\n\n\n        var { d } = this.pathGenerator.toPath(\n            minX, \n            minY, \n            this.scale\n        );\n\n        var parser = new PathParser(d);\n\n        this.emit(this.state.changeEvent, {\n            d: parser.toString(), \n            totalLength: this.totalPathLength, \n            rect: {\n                x: rect.x === 0? 0 : rect.x/this.scale,\n                y: rect.y === 0? 0 : rect.y/this.scale,\n                width: rect.width === 0? 0 : rect.width / this.scale,     // scale 이전의 크기 계산 \n                height: rect.height === 0? 0 : rect.height / this.scale    // scale 이전의 실제 크기 계산 \n            }\n        })\n\n\n        this.emit('refreshPathLayer')   // 외부 데이타 변경 시점 정의 \n    }\n\n    addPathLayer() {\n        var pathRect = this.getPathRect()\n\n        this.changeMode('modify');\n\n        if (pathRect.width !==  0 && pathRect.height !== 0) {\n\n            var layer = this.makePathLayer(pathRect)\n            if (layer) {\n                this.$selection.select(layer);\n    \n                this.emit('refreshAll')\n                this.emit('refreshSelection');\n            }\n        }\n        \n    }\n\n    changeMode (mode, obj) { \n        this.setState({\n            mode,\n            clickCount: 0,\n            moveXY: null,\n            ...obj\n        }, false)    \n\n        this.emit('changePathManager', this.state.mode );\n    }\n\n    [EVENT('changePathManager')] (mode) {\n        this.setState({ mode, clickCount: 0 }, false);\n        this.renderPath()\n    }\n\n    isMode (mode) {\n        return this.state.mode === mode; \n    }\n\n    [EVENT('changeScale')] () {\n\n        this.refresh();\n\n    }\n\n    getCurrentObject () {\n        var current = this.state.current; \n\n        if (!current) {\n            return null;\n        }\n\n        return {\n            current,\n            d: current.d,\n            screenX: current.screenX,\n            screenY: current.screenY,\n            screenWidth: current.screenWidth,\n            screenHeight: current.screenHeight,\n        }\n    }\n\n    refresh (obj) {\n\n        obj = obj || this.getCurrentObject();\n\n        if (obj && obj.d) {\n            this.pathParser.reset(obj.d)\n            this.pathParser.scale(this.scale, this.scale);\n\n            var x = obj.screenX.value * this.scale\n            var y = obj.screenY.value * this.scale\n            // var width = obj.screenWidth.value * this.scale\n            // var height = obj.screenHeight.value * this.scale\n\n            this.pathParser.translate(x, y)\n\n            // var transform = Transform.parseStyle(obj.current.transform);\n            // var rotateValue = transform.find(it => it.type === 'rotateZ' || it.type === 'rotate');\n            // var transformRotate = 0; \n\n            // if (rotateValue) {\n            //     transformRotate = rotateValue.value[0].value;\n            // }\n\n            // transformRotate = (transformRotate + 360) % 360\n            // this.pathParser.rotate(degreeToRadian(transformRotate), x + width/2, y + height/2)\n\n            // this.state.reverse = [\n            //     degreeToRadian(-transformRotate), \n            //     x + width/2, \n            //     y + height/2\n            // ]\n            // this.state.reverseXY = {x, y, width, height}\n\n\n            this.state.points = this.pathParser.convertGenerator();      \n            this.state.hasTransform = !!obj.current.transform;\n        } else {\n            this.state.hasTransform = false;        \n        }\n\n        this.pathGenerator.initializeSelect();\n        this.renderPath()\n\n    }\n\n    [EVENT('showPathEditor')] (mode = 'draw', obj = {}) {\n\n        if (mode === 'move') {\n            obj.current = null;\n            obj.points = [] \n        } else {\n            if (!obj.current) {\n                obj.current = null; \n            }\n        }\n\n        obj.box = obj.box || 'canvas'\n\n        this.changeMode(mode, obj);\n\n        this.refresh(obj);\n\n        this.state.isShow = true; \n        this.$el.show();\n        this.$el.focus();\n\n        this.emit('showPathManager', { mode: this.state.mode });\n    }\n\n    [EVENT('hidePathEditor')] () {\n        this.pathParser.reset('');\n        this.setState(this.initState(), false)\n        this.refs.$view.empty()\n        this.$el.hide();\n        this.emit('finishPathEdit')\n        this.emit('hidePathManager');\n    }\n\n    [BIND('$view')] () {\n        return {\n            class: {\n                'draw': this.state.mode === 'draw',\n                'modify': this.state.mode === 'modify',\n                'transform': this.state.mode === 'transform',\n                'box': this.state.box === 'box',\n                'has-transform': !!this.state.hasTransform,\n                'segment-move': this.state.mode === 'segment-move',         \n            },\n            innerHTML: this.pathGenerator.makeSVGPath()\n        }\n    }\n\n\n    refreshPathLayer () {\n        this.updatePathLayer();\n    }\n\n    [BIND('$splitCircle')] () {\n        return {\n            cx: this.state.splitXY.x,\n            cy: this.state.splitXY.y\n        }\n    }\n\n    renderPath () {\n        this.bindData('$view');\n\n        this.renderTransformTool()\n    }\n\n    getPathRect () {\n        this.initRect(true);\n\n        var $obj = this.refs.$view.$('path.object')\n\n        var pathRect = {x: Length.px(0), y: Length.px(0),  width: Length.px(0), height: Length.px(0)}\n        if ($obj) {\n\n            pathRect = $obj.rect()\n            pathRect.x -= this.state.rect.x;\n            pathRect.y -= this.state.rect.y;\n        }\n\n        return pathRect;\n    }\n\n    resetTransformZone() {\n        var rect = this.getPathRect();\n\n        this.state.transformZoneRect = rect; \n    }\n\n    [POINTERMOVE('$view')] (e) {        \n        this.initRect()\n        if (this.isMode('draw') && this.state.rect) {            \n            this.state.moveXY = {\n                x: e.xy.x - this.state.rect.x, \n                y: e.xy.y - this.state.rect.y \n            }; \n\n            this.state.altKey = e.altKey\n            this.renderPath()\n        } else {\n\n            var isSplitPath = Dom.create(e.target).hasClass('split-path')\n            if (isSplitPath) {\n                this.state.splitXY = {\n                    x: e.xy.x - this.state.rect.x, \n                    y: e.xy.y - this.state.rect.y \n                }; \n    \n                this.bindData('$splitCircle');\n            }\n\n\n            this.state.altKey = false; \n        }\n\n   \n    }\n\n    [POINTERSTART('$view :not(.split-path)') + MOVE() + END()] (e) {\n        this.initRect();\n\n        this.state.altKey = false; \n        var isDrawMode = this.isMode('draw');\n\n        this.state.dragXY = {\n            x: e.xy.x - this.state.rect.x, \n            y: e.xy.y - this.state.rect.y\n        }; \n        this.state.isOnCanvas = false; \n\n\n        var $target = Dom.create(e.target);\n\n        if ($target.hasClass('svg-editor-canvas') && !isDrawMode) {\n            this.state.isOnCanvas = true; \n            // return false; \n        } else {\n\n            this.pathGenerator.reselect()\n            this.state.isSegment = $target.attr('data-segment') === 'true';\n            this.state.isFirstSegment = this.state.isSegment && $target.attr('data-is-first') === 'true';\n            \n        }\n\n        if (isDrawMode) {\n\n            if (this.state.isFirstSegment) {\n                // 마지막 지점을 연결할 예정이기 때문에 \n                // startPoint 는  M 이었던 startPoint 로 정리된다. \n                var index = +$target.attr('data-index')\n                this.state.startPoint = this.state.points[index].startPoint;\n            } else {\n                this.state.startPoint = this.state.dragXY;\n    \n            }\n            this.state.dragPoints = false\n            this.state.endPoint = null;\n\n\n        } else {\n            if (this.isOnCanvas) {\n                this.renderSelectBox(this.state.dragXY);\n            } else if (this.state.isSegment) {\n                this.changeMode('segment-move');\n                var [index, segmentKey] = $target.attrs('data-index', 'data-segment-point')\n                this.pathGenerator.setCachePoint(+index, segmentKey);\n\n                this.pathGenerator.selectKeyIndex(segmentKey, index)\n            }\n        }\n\n    }\n\n    hideSelectBox() {\n        this.refs.$segmentBox.css({\n            left: Length.px(-100000)\n        })\n    }\n\n    renderSelectBox (startXY = null, dx = 0, dy = 0) {\n\n        var obj = {\n            left: Length.px(startXY.x + (dx < 0 ? dx : 0)),\n            top: Length.px(startXY.y + (dy < 0 ? dy : 0)),\n            width: Length.px(Math.abs(dx)),\n            height: Length.px(Math.abs(dy))\n        }        \n\n        this.refs.$segmentBox.css(obj)\n\n\n    }\n\n    getSelectBox() {\n\n        var [x, y, width, height ] = this.refs.$segmentBox\n                .styles('left', 'top', 'width', 'height')\n                .map(it => Length.parse(it))\n\n        var rect = {\n            x, \n            y, \n            width, \n            height\n        }\n\n        rect.x2 = Length.px(rect.x.value + rect.width.value);\n        rect.y2 = Length.px(rect.y.value + rect.height.value);\n\n        return rect; \n    }\n\n    move (dx, dy) {\n\n        if (this.state.isOnCanvas) {\n            // 드래그 상자 만들기 \n            this.renderSelectBox(this.state.dragXY, dx, dy);\n\n        } else if (this.isMode('segment-move')) {\n            var e = this.$config.get('bodyEvent')\n            this.pathGenerator.move(dx, dy, e);\n\n            this.renderPath()      \n\n            this.updatePathLayer();\n\n        } else if (this.isMode('draw')) {\n            var e = this.$config.get('bodyEvent');\n\n            this.state.dragPoints = e.altKey ? false : true; \n        }\n\n    }\n\n    end (dx, dy) {\n\n        if (this.state.isOnCanvas) {\n            if (dx === 0 &&  dy === 0) {    // 아무것도 움직인게 없으면 편집 종료 \n                this.changeMode('modify');\n                this.trigger('hidePathEditor')\n            } else {\n                // 움직였으면 drag 상자를 기준으로 좌표를 검색해서 선택한다. \n                // this.renderSelectBox(this.state.dragXY, dx, dy);\n                this.changeMode('segment-move');\n                this.pathGenerator.selectInBox(this.getSelectBox())\n                this.renderPath()\n                // 여기에 무엇을 할까? \n                this.hideSelectBox();\n            }\n\n        } else if (this.isMode('modify')) {\n            // NOOP \n\n        } else if (this.isMode('segment-move')) {\n\n            this.changeMode('modify');           \n            this.renderPath()\n\n        } else if (this.isMode('draw')) {            \n\n\n            if (this.state.isFirstSegment) {\n                this.changeMode('modify');            \n                this.pathGenerator.setConnectedPoint(dx, dy);\n        \n                this.renderPath()\n                   \n                if (this.state.current) {\n                    this.refreshPathLayer();\n                } else {\n                 \n                    this.addPathLayer(); \n                    this.trigger('hidePathEditor')\n                }\n            } else {\n                // this.changeMode('modify');\n\n                this.pathGenerator.moveEnd(dx, dy);\n                this.state.clickCount++;\n\n                this.renderPath()\n            }\n\n        }\n\n    }   \n\n} ","import PathParser from \"./PathParser\";\nimport PathStringManager from \"./PathStringManager\";\nimport { isArray } from \"../../util/functions/func\";\n\n\nconst splitReg = /[\\b\\t \\,]/g;\n \nexport default class PolygonParser extends PathParser {\n\n    constructor (points = '') {\n        super(points);\n    }\n\n    reset (points = '') {\n        this.segments =  [];\n        this.points = points; \n        \n        this.parse()\n    }\n\n    resetSegments (segments = []) {\n        this.segments = segments\n        this.points = this.joinPoints()\n    }\n\n    parse () {\n\n        var points = this.points;\n\n        if (isArray(points)) {\n            points = points.join(' ');\n        }\n\n        var arr = points.trim().split(splitReg).filter(it => it);\n\n\n        var segments = [] \n\n        for(var i = 0, len = arr.length; i < len; i += 2) {\n            segments.push({ x : +arr[i], y : +arr[i+1] });\n        }\n        this.segments = segments;\n    }\n\n    convertGenerator () {\n        return this.segments;\n    }\n\n    length () {\n        return this.segments.length;\n    }\n\n    toPathString () {\n\n        var path = new PathStringManager()\n\n        for(var i = 0, len = this.segments.length; i < len ; i++) {\n            var s = this.segments[i];\n\n            if (i === 0) {\n                path.M(s)\n            } else if (i === len - 1) {\n                path.L(s).L(this.segments[0]).Z();  // 마지막 지점을 연결한다. \n            } else {\n                path.L(s);\n            }\n        }\n\n        return path.d;\n    }\n\n    joinPath(segments) {\n        return this.joinPoints(segments)\n    }\n\n\tjoinPoints (segments) {\n        var list = (segments || this.segments);\n\n        return list.map(it => {\n            return `${it.x},${it.y}`\n        }).join(' ')\n    }\n\n    each (callback, isReturn = false) {\n\n        var newSegments = this.segments.map(segment => {\n            return callback.call(this, segment);\n        })\n\n        if (isReturn) {\n            return newSegments;\n        } else {\n            this.segments = newSegments;\n        }\n    }\n\n    _loop (m, isReturn = false) {\n        return this.each(function(segment) {\n            var [x, y] = m([segment.x, segment.y], 0)\n\n            segment.x = x; \n            segment.y = y; \n\n            return segment;\n\n        }, isReturn);\n    }\n\n    clone () {\n        return new PolygonParser(this.joinPoints());\n    }\n\n    toString() {\n        return this.joinPoints()\n    }\n}","import SegmentManager from \"./SegmentManager\";\nimport { clone, OBJECT_TO_PROPERTY } from \"../../util/functions/func\";\nimport { getDist, calculateAngle, getXYInCircle, Deluanay, generate_sample_points, getCenterInTriangle } from \"../../util/functions/math\";\nimport Point from \"./Point\";\nimport PathStringManager from \"./PathStringManager\";\nimport { randomNumber, random } from \"../../util/functions/create\";\nimport Color from \"../../util/Color\";\n\nexport default class PolygonGenerator {\n\n    constructor (polygonEditor) {\n        \n        this.polygonEditor = polygonEditor;\n        this.segmentManager = new SegmentManager();        \n        this.initialize()\n    }\n\n    initialize () {\n        this.splitLines = []         \n        this.points = []\n        this.snapPointList = [] \n        this.segmentManager.reset();\n    }\n\n    get state () {\n        return this.polygonEditor.state; \n    }\n\n    get cloneSegments() {\n        return [...this.state.segments]\n    }\n\n\n\n    setCachePoint (index) {\n\n        var state = this.state; \n\n        state.segment = state.segments[index];\n        state.originalSegment = clone(state.segment);\n\n        state.cachedPoints = [] \n        state.segments.filter(p => p && p != state.segment).forEach(p => {\n            state.cachedPoints.push(p)\n        })\n\n    }\n\n\n    moveSegment (dx, dy) {\n        var state = this.state; \n        var original = state.originalSegment\n        if (original) {\n            var targetPoint = state.segment\n            targetPoint.x = original.x + dx;\n            targetPoint.y = original.y + dy;        \n        }\n\n    }\n\n\n    calculateSnapPoint (sourceKey, target, distanceValue, dist) {\n        var state = this.state; \n        var checkedPointList = state.cachedPoints.filter(p => {\n            if (!p) return false;\n            return Math.abs(p[sourceKey] - target) <= dist \n        }).map(p => {\n            return {dist: Math.abs(p[sourceKey] - target), point: p}\n        })\n\n        checkedPointList.sort( (a, b) => {\n            return a.dist > b.dist ? -1 : 1; \n        })\n\n        var point = null; \n\n        if (checkedPointList.length) {\n\n            point = checkedPointList[0].point\n\n            distanceValue += point[sourceKey] - target\n        }\n\n        return { point, distanceValue }; \n    }\n\n    calculateSnap( dx, dy, dist = 1) {\n        var state = this.state; \n\n        var original = state.originalSegment\n        var realX = original.x + dx;\n        var realY = original.y + dy;\n\n        var {point: snapPointX, distanceValue: dx } = this.calculateSnapPoint('x', realX, dx, dist);\n        var {point: snapPointY, distanceValue: dy } = this.calculateSnapPoint('y', realY, dy, dist);\n\n        var snapEndPoint = {\n            x : original.x + dx,\n            y : original.y + dy\n        }\n\n        var snapPointList = [] \n        if (snapPointX) { snapPointList.push({ startPoint: snapPointX, endPoint: snapEndPoint })}\n        if (snapPointY) { snapPointList.push({ startPoint: snapPointY, endPoint: snapEndPoint }) }        \n     \n        return { dx, dy, snapPointList }\n    }\n\n\n    calculatePointDist (sourceKey, target, dist) {\n        var state = this.state; \n        var checkedPointList = []\n\n        state.segments.forEach(point => {\n\n            var tempDist = Math.abs(point[sourceKey] - target)\n            if (tempDist <= dist) {\n                checkedPointList.push({ dist: tempDist, point })\n            }\n\n        })\n\n        checkedPointList.sort( (a, b) => {\n            return a.dist > b.dist ? 1 : -1; \n        })\n\n        return (checkedPointList.length) ? checkedPointList[0].point : null \n    }\n\n    calculateMovePointSnap( moveXY, dist = 1) {\n        var snapPointX = this.calculatePointDist('x', moveXY.x, dist)\n        var snapPointY = this.calculatePointDist('y', moveXY.y, dist)        \n\n        var snapEndPoint = {...moveXY}\n        if (snapPointX) { snapEndPoint.x = snapPointX.x; }\n        if (snapPointY) { snapEndPoint.y = snapPointY.y;}\n\n        var snapPointList = [] \n\n        if (snapPointX) { snapPointList.push({ startPoint: snapPointX, endPoint: snapEndPoint })}\n        if (snapPointY) { snapPointList.push({ startPoint: snapPointY, endPoint: snapEndPoint})}      \n     \n        return { snapPointList, moveXY: snapEndPoint }\n    }    \n\n    move (dx, dy, e) {\n\n        var { dx, dy, snapPointList} = this.calculateSnap(dx, dy, 2);\n    \n        this.snapPointList = snapPointList\n\n        this.moveSegment(dx, dy);\n\n    }\n\n    moveStart () {\n        var randomTable = [] \n        for(var i = 0; i < 100; i++) {\n            randomTable[i] = randomNumber(i/100, 100)\n        }\n        \n        this.state.randomTable = randomTable;\n    }\n\n    moveStar (dx, dy, e) {\n        var state = this.state; \n        state.starRadius = getDist(dx, dy, 0, 0);\n        state.starAngle = calculateAngle(dx, dy);\n\n        this.refreshStar()\n    }\n\n    refreshStar () {\n        var state = this.state; \n        var count = state.starCount; \n        state.innerRadius = state.starRadius * state.starInnerRadiusRate;\n\n        var angleList = [state.starAngle]\n        var innerAngleList = [] \n        var angleUnit = 360 / count; \n        for(var i = 1; i < count; i++) {\n            angleList.push(angleList[i-1] + angleUnit);\n        }\n\n        for(var i = 0, len = angleList.length; i < len; i++) {\n            innerAngleList[i] = angleList[i] + angleUnit /2 ;\n        }\n\n        var anglePointList = angleList.map(angle => {\n            return getXYInCircle(angle, state.starRadius);\n        })\n\n        var innerAnglePointList = innerAngleList.map(angle => {\n            return getXYInCircle(angle, state.innerRadius);\n        })\n        \n        var points = []\n        anglePointList.forEach((point, index) => {\n            points.push(point, innerAnglePointList[index])\n        })\n\n        state.segments = points.map(p => {\n            p.x += state.dragXY.x;\n            p.y += state.dragXY.y;\n            return p; \n        });\n    }\n\n    moveEnd (dx, dy) {\n        var state = this.state; \n        var x = state.dragXY.x + dx \n        var y = state.dragXY.y + dy \n\n        state.segments.push({x, y})\n    }\n\n    moveEndStar (dx, dy) {\n\n    }\n\n    setPointLine (obj) {\n\n        var p0 = obj.first[0] \n\n        var allPoints = this.cloneSegments\n\n        var firstIndex = Point.getPointIndex(allPoints, p0); \n\n        allPoints.splice(firstIndex+1, 0, obj.first[1]);\n\n        this.state.segments = allPoints;\n\n    }\n\n    toPolygon (minX, minY, scale = 1) {\n        var points = this.cloneSegments\n\n        return {\n            points: points.map(segment => {\n                var newX = (segment.x - minX)/scale; \n                var newY = (segment.y - minY)/scale; \n                return `${newX} ${newY}`;\n            }).join(' ')\n        };\n    }\n\n\n    makeSVGPath() {\n\n        this.initialize();\n\n        this.makeMoveGuide (this.cloneSegments)\n\n        this.makeMovePositionGuide();\n\n        return this.toSVGString()\n    }\n\n    makeMoveGuide(points) {\n        this.points = []\n        var lastIndex = points.length - 1\n        points.forEach( (point, index) => {\n            var isFirst = index === 0\n            var isLast = index === lastIndex\n            this.points.push(point);\n\n            this.splitLines.push(\n                new PathStringManager()\n                    .M(Point.getPrevPoint(points, index))\n                    .L(point)\n                    .toString('split-path')\n            )\n            \n            this.segmentManager.addPoint({isFirst}, point, index);\n            this.segmentManager.addText(point, index + 1);\n        })\n    }\n\n    makeMovePositionGuide () {\n        var state = this.state; \n        var {moveXY, snapPointList} = state;\n        if (moveXY) {\n\n            /* moveXY 에도 snap 을 적용한다. */ \n            snapPointList = snapPointList || [] \n\n            var { \n                snapPointList: movePointSnapPointList, \n                moveXY: newMoveXY \n            } = this.calculateMovePointSnap(moveXY, 2); \n            snapPointList.push(...movePointSnapPointList);\n\n            state.moveXY = newMoveXY;\n            this.snapPointList = snapPointList;\n\n            this.points.push(state.moveXY)\n\n            this.segmentManager.addStartPoint({}, state.dragXY);\n        }\n    }\n\n    makeSnapLines () {\n\n        var snapLines = [] \n        if (this.snapPointList) {\n            var snapPath = new PathStringManager()\n            snapLines = this.snapPointList.map(snapPoint => {\n                snapPath.reset();                \n                return snapPath\n                        .M(snapPoint.startPoint)\n                        .L(snapPoint.endPoint)\n                        .toString('snap-path');\n            })\n        }\n\n        return snapLines.join('');\n    }\n\n\n    makeSelectedSVGZone () {\n\n        var { screenX, screenY, screenWidth, screenHeight} = this.state \n        var scale = this.polygonEditor.scale; \n\n        var x = screenX.value * scale; \n        var y = screenY.value * scale; \n        var width = screenWidth.value * scale; \n        var height = screenHeight.value * scale; \n\n        return `<rect class='svg-canvas' ${OBJECT_TO_PROPERTY({\n            x, y, width, height\n        })} />`\n    }\n\n    makeDeluanay() {\n        return '';\n\n        var points  = []\n        var minX = Number.MAX_SAFE_INTEGER;\n        var maxX = Number.MIN_SAFE_INTEGER;\n        var minY = Number.MAX_SAFE_INTEGER;\n        var maxY = Number.MIN_SAFE_INTEGER; \n        this.points.forEach(it => {\n            // console.log(it);\n            if (minX > it.x) {\n                minX = it.x; \n            } \n\n            if (minY  > it.y) {\n                minY = it.y;\n            }\n\n            if (maxX < it.x) {\n                maxX = it.x; \n            }\n\n            if (maxY < it.y) {\n                maxY = it.y \n            }\n        })\n\n        // console.log(minX, minY, maxX, maxY)\n\n        if (minX !== Number.MAX_SAFE_INTEGER && maxX !== Number.MIN_SAFE_INTEGER && minY !== Number.MAX_SAFE_INTEGER && maxY !== Number.MIN_SAFE_INTEGER) {\n\n\n            if (maxX !== minX && maxY !== minY) {\n\n                var width = maxX - minX \n                var height = maxY - minY\n\n                points.push(...generate_sample_points(width, height, 10, 10, 50, Math.random()).map(it => {\n                    it.x += minX \n                    it.y += minY \n                    return it; \n                }))\n\n                points.push(\n                    {x: minX, y: minY },\n                    {x: maxX, y: minY },\n                    {x: minX, y: maxY },\n                    {x: maxX, y: maxY }\n                )\n            }\n\n        }\n\n        var totalDist = getDist(maxX, maxY, minX, minY)\n        var colors = Color.scale(['red', 'blue', 'yellow'], 10);\n        return Deluanay(points).map(({a, b, c}) => {\n\n            var center = getCenterInTriangle(a, b, c);\n            var dist = getDist(center.x, center.y, minX, minY);\n\n            var index = Math.floor(dist/totalDist * 20 )\n\n            console.log(index, colors, dist, totalDist)\n\n            return /*html*/`<polygon class='deluanay-polygon' fill=\"${colors[index]}\" stroke=\"black\" stroke-width='1' points=\"${a.x},${a.y} ${b.x},${b.y} ${c.x},${c.y}\" />`\n        }).join('')\n    }\n\n    toSVGString () {\n\n        return /*html*/`\n        <svg width=\"100%\" height=\"100%\" class='svg-editor-canvas'>\n            ${this.makeSelectedSVGZone()}\n            ${this.makeDeluanay()}\n            <polygon class='object' points=\"${this.points.map(p => `${p.x} ${p.y}`).join(' ')}\" />        \n            ${this.makeSnapLines()}\n            ${this.splitLines.join('')}            \n            ${this.segmentManager.toString()}\n        </svg>\n        `\n    }\n\n}","import { SVGItem } from \"./SVGItem\";\nimport { Length } from \"../../unit/Length\";\nimport PolygonParser from \"../../parse/PolygonParser\";\nimport { OBJECT_TO_PROPERTY, CSS_TO_STRING } from \"../../../util/functions/func\";\nimport Dom from \"../../../util/Dom\";\nimport { Deluanay } from \"../../../util/functions/math\";\nimport { editor } from \"../../editor\";\nimport icon from \"../../../csseditor/ui/icon/icon\";\n\nexport class SVGPolygonItem extends SVGItem {\n\n  static getIcon () {\n    return icon.polygon;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'svg-polygon',\n      name: \"New Polygon\",   \n      points: '',\n      totalLength: 0,\n      ...obj\n    });\n  }\n\n\n  enableHasChildren() {\n    return false;  \n  }  \n\n  updatePolygonItem (obj) {\n    this.json.points = obj.points; \n    this.json.totalLength = obj.totalLength;\n    this.json.polygon = new PolygonParser(obj.points);\n\n    this.json.width = Length.px(obj.rect.width);\n    this.json.height = Length.px(obj.rect.height);\n\n    this.setScreenX(Length.px(obj.rect.x))\n    this.setScreenY(Length.px(obj.rect.y))    \n  }\n\n  get d () {\n    return this.json.polygon.toPathString();\n  }\n\n  setCache () {\n    this.rect = {\n      width: this.json.width.clone(),\n      height: this.json.height.clone()\n    }\n    this.cachePolygon = this.json.polygon.clone()\n  }\n\n  recover () {\n    var sx = this.json.width.value / this.rect.width.value \n    var sy = this.json.height.value / this.rect.height.value \n\n    this.scale(sx, sy);\n  }\n\n  scale (sx, sy) {\n    this.json.points = this.cachePolygon.clone().scaleTo(sx, sy)\n    this.json.polygon.reset(this.json.points)\n  }\n\n  convert(json) {\n    json = super.convert(json);\n    if (json.points)  {      \n      json.polygon = new PolygonParser(json.points);\n    }\n\n    return json;\n  }\n\n  toCloneObject() {\n    var json = this.json; \n    return {\n      ...super.toCloneObject(),\n      totalLength: json.totalLength,\n      points: json.points\n    }\n  }\n\n  getDefaultTitle() {\n    return \"Polygon\";\n  }\n\n  updateFunction (currentElement, isChangeFragment = true) {\n    var $polygon = currentElement.$('polygon');\n    $polygon.attr('points', this.json.points);\n\n    if (isChangeFragment) {\n      $polygon.setAttr({\n        'filter': this.toFilterValue,\n        'fill': this.toFillValue,\n        'stroke': this.toStrokeValue\n      })\n  \n      this.updateDefString(currentElement)\n\n    }\n\n    this.json.totalLength = $polygon.totalLength\n  }  \n\n  toAnimationKeyframes (properties) {\n\n    var svgProperties = properties.filter(it => hasSVGProperty(it.property));\n    var cssProperties = properties.filter(it => hasCSSProperty(it.property));\n\n    return [\n      { properties: cssProperties, selector: `[data-id=\"${this.json.id}\"]` },\n      { properties: svgProperties, selector: `[data-id=\"${this.json.id}\"] polygon` }\n    ] \n  }    \n\n  get html () {\n    var {id, points} = this.json; \n    return /*html*/`<svg class='element-item polygon' ${OBJECT_TO_PROPERTY({\n      'motion-based': this.json['motion-based']\n    })} data-id=\"${id}\">\n      ${this.toDefString}\n      <polygon ${OBJECT_TO_PROPERTY({\n        'class': 'svg-polygon-item',\n        points, \n        filter: this.json.svgfilter,\n        fill: this.toFillValue,\n        stroke: this.toStrokeValue\n      })} />\n    </svg>`\n  }\n\n\n  get svg () {\n    var x = this.json.x.value;\n    var y = this.json.y.value;\n    return this.toSVG(x, y);\n  }  \n\n  toSVG (x = 0, y = 0) {\n        \n    return /*html*/`\n    <g transform=\"translate(${x}, ${y})\">\n      ${this.toDefString}\n      <polygon ${OBJECT_TO_PROPERTY({\n        'class': 'svg-polygon-item',\n        points: this.json.points, \n        filter: this.json.svgfilter,\n        fill: this.toFillValue,\n        stroke: this.toStrokeValue,\n        ...this.toSVGAttribute(),        \n        style: CSS_TO_STRING(this.toSVGCSS())      \n      })} />\n    </g>\n    `\n  }\n}\n\neditor.registerComponent('svg-polygon', SVGPolygonItem);\n","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { POINTERSTART, MOVE, END, BIND, POINTERMOVE, PREVENT, KEYUP, IF, STOP, CLICK, KEY } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport Dom from \"../../../util/Dom\";\nimport PathParser from \"../../../editor/parse/PathParser\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { recoverBezierLine, getBezierPointsLine } from \"../../../util/functions/bezier\";\nimport PolygonParser from \"../../../editor/parse/PolygonParser\";\nimport PolygonGenerator from \"../../../editor/parse/PolygonGenerator\";\nimport { SVGPolygonItem } from \"../../../editor/items/layers/SVGPolygonItem\";\n\nexport default class PolygonEditorView extends UIElement {\n\n    initialize() {\n        super.initialize();\n\n        this.polygonParser = new PolygonParser();\n        this.polygonGenerator = new PolygonGenerator(this)\n    }\n\n    initState() {\n        return {\n            isShow: false, \n            points: '',\n            segments: [],\n            mode: 'draw',\n            starCount: 5, \n            starRadius: 5,\n            starInnerRadiusRate: 0.5,\n            $target: null,\n            screenX: Length.px(0),\n            screenY: Length.px(0),\n            screenWidth: Length.px(0),\n            screenHeight: Length.px(0)\n        }\n    }\n\n    get scale () {\n        return editor.scale;\n    }\n\n    template() {\n        return `<div class='polygon-editor-view' tabIndex=\"-1\" ref='$view' ></div>`\n    }\n\n    isStarMode () {\n        return this.isMode('star')\n    }\n\n    isShow () {\n        return this.state.isShow;\n    }\n\n    [KEYUP() + KEY(1) + KEY(2) + IF('isStarMode') + PREVENT + STOP] (e) {\n\n        var dt = 1; \n\n        if (e.key === '1') {\n            dt = -1; \n        }\n\n        this.state.starCount += dt; \n\n        this.refreshStar()\n        this.emit('changeStarManager', this.state.starCount, this.state.starInnerRadiusRate)\n    } \n\n    refreshStar () {\n\n        this.polygonGenerator.refreshStar();\n\n        this.bindData('$view');            \n\n        this.updatePolygonLayer();\n    }\n\n    [KEYUP() + KEY(3) + KEY(4) + IF('isStarMode') + PREVENT + STOP] (e) {\n\n        var dt = 0.1; \n\n        if (e.key === '3') {\n            dt = -0.1; \n        }\n\n        this.state.starInnerRadiusRate += dt; \n\n        this.refreshStar()\n        this.emit('changeStarManager', this.state.starCount, this.state.starInnerRadiusRate)        \n    } \n\n    // svg 에는 키 이벤트를 줄 수 없어서 \n    // document 전체에 걸어서 처리한다. \n    // 실행은 Polygon 에디터가 보일 때만 \n    [KEYUP('document') + IF('isShow') + KEY('Escape') + KEY('Enter') + PREVENT] (e) {\n\n        if (this.state.current) {\n            this.refreshPolygonLayer();\n        } else {    \n            this.addPolygonLayer(); \n        }\n        this.trigger('hidePolygonEditor');        \n    }\n\n    makePolygonLayer (pathRect) {\n        var totalLength = this.refs.$view.$('polygon.object').totalLength\n        var { points } = this.polygonGenerator.toPolygon(pathRect.x, pathRect.y, this.scale);\n        var artboard = this.$selection.currentArtboard\n        var layer; \n\n        if (artboard) {\n\n            var x = pathRect.x / this.scale;\n            var y = pathRect.y / this.scale;\n            var width = pathRect.width / this.scale;\n            var height = pathRect.height / this.scale; \n\n            layer = artboard.add(new SVGPolygonItem({\n                width: Length.px(width),\n                height: Length.px(height),\n                points,\n                totalLength\n            }))\n\n            layer.setScreenX(x);\n            layer.setScreenY(y);\n        }\n\n        return layer; \n    }\n\n    updatePolygonLayer () {\n        var rect = this.getViewRect()\n        var totalLength = this.refs.$view.$('polygon.object').totalLength        \n        var { points } = this.polygonGenerator.toPolygon(\n            rect.x * this.scale, \n            rect.y * this.scale, \n            this.scale\n        );\n\n        this.emit('updatePolygonItem', {\n            points,\n            totalLength,\n            rect\n        })\n        this.emit('refreshPolygonLayer')\n    }\n\n    addPolygonLayer() {\n        this.changeMode('modify');\n\n        var rect = this.getViewRect()\n        var layer = this.makePolygonLayer(rect)\n        if (layer) {\n            this.$selection.select(layer);\n\n            this.state.segments = [] \n            this.polygonParser.reset('')\n            this.bindData('$view');\n\n            this.emit('refreshAll')\n            this.emit('refreshSelection');\n        }\n\n    }\n\n    changeMode (mode, obj) { \n        this.setState({\n            mode,\n            moveXY: null,\n            ...obj\n        }, false)    \n    }\n\n    isMode (mode) {\n        return this.state.mode === mode; \n    }\n\n    [EVENT('changeScale')] () {\n\n        this.refresh();\n\n    }\n\n    refresh (obj) {\n\n        if (obj && obj.points) {\n            this.polygonParser.reset(obj.points)\n            this.polygonParser.scale(this.scale, this.scale);\n            this.polygonParser.translate(obj.screenX.value * this.scale, obj.screenY.value * this.scale)\n\n            // points 문자열에서 변환된 point 는 segments 로 변경된다. \n            this.state.segments = this.polygonParser.convertGenerator();\n        } else {\n            this.state.segments = [] \n        }\n\n        this.bindData('$view')\n\n    }\n\n    [EVENT('showPolygonEditor')] (mode = 'draw', obj = {}) {\n\n        if (mode === 'move') {\n            obj.current = null;\n        } else {\n            if (!obj.current) {\n                obj.current = null; \n            }            \n        }\n\n        var newOptions = {\n            ...obj,\n            points: obj.points || ''\n        }\n\n        this.changeMode(mode, obj);\n        this.refresh(newOptions);\n\n        this.state.isShow = true; \n        this.$el.show();\n        this.$el.focus();\n\n        if (mode === 'star') {\n            this.emit('showStarManager', {\n                changeEvent: 'changeStarManager',\n                count: this.state.starCount,\n                radius: this.state.starInnerRadiusRate\n            })\n            this.emit('hidePolygonManager');\n        } else {\n            this.emit('showPolygonManager', { mode: this.state.mode });\n            this.emit('hideStarManager');\n        }\n    }\n\n    [EVENT('changeStarManager')] (count, radius) {\n\n        this.state.starCount = count; \n        this.state.starInnerRadiusRate = radius; \n\n        this.refreshStar()\n\n    }\n\n    [EVENT('hidePolygonEditor')] () {\n        this.polygonParser.reset('')\n        this.setState(this.initState(), false)\n        this.refs.$view.empty()        \n        this.$el.hide();\n\n        this.emit('hideStarManager');\n        this.emit('hidePolygonManager');        \n        this.emit('finishPolygonEdit')   \n    }\n\n    [BIND('$view')] () {\n        return {\n            class: {\n                'draw': this.state.mode === 'draw',\n                'modify': this.state.mode === 'modify',\n                'segment-move': this.state.mode === 'segment-move',\n            },\n            innerHTML: this.polygonGenerator.makeSVGPath()\n        }\n    }\n\n    getXY ([x, y]) {\n        return {x, y}\n    }\n\n    [CLICK('$view .split-path')] (e) {\n        var parser = new PathParser(e.$dt.attr('d'));\n        var clickPosition = {\n            x: e.xy.x - this.state.rect.x, \n            y: e.xy.y - this.state.rect.y\n        }; \n\n        var points = [\n            this.getXY(parser.segments[0].values),\n            this.getXY(parser.segments[1].values.slice(0, 2))\n        ]\n\n        var curve = recoverBezierLine(...points, 200)\n        var t = curve(clickPosition.x, clickPosition.y);          \n\n\n        this.polygonGenerator.setPointLine(getBezierPointsLine(points, t))\n\n        this.changeMode('modify');\n        this.bindData('$view');\n\n        this.refreshPolygonLayer();\n\n    }\n\n    getViewRect () {\n        var pathRect = this.refs.$view.$('polygon.object').rect()\n        pathRect.x -= this.state.rect.x;\n        pathRect.y -= this.state.rect.y;\n\n        return pathRect;\n    }\n\n    refreshPolygonLayer () {\n        this.updatePolygonLayer();\n    }\n\n    [POINTERMOVE('$view')] (e) {\n        if (this.isMode('draw') && this.state.rect) {            \n            this.state.moveXY = {\n                x: e.xy.x - this.state.rect.x, \n                y: e.xy.y - this.state.rect.y \n            }; \n\n            this.state.altKey = e.altKey\n            \n            this.bindData('$view');\n        } else {\n            // this.state.altKey = false; \n        }\n\n    }\n\n    [POINTERSTART('$view :not(.split-path)') + MOVE() + END()] (e) {\n\n        // console.log(e);\n\n        this.state.rect = this.parent.refs.$body.rect();            \n        // this.state.canvasOffset = this.refs.$view.rect();\n        this.state.altKey = false; \n\n        this.state.dragXY = {\n            x: e.xy.x - this.state.rect.x, \n            y: e.xy.y - this.state.rect.y\n        }; \n\n        this.$el.focus()\n\n        this.state.$target = Dom.create(e.target);\n        this.state.isSegment = this.state.$target.attr('data-segment') === 'true';\n\n        if (this.state.$target.hasClass('svg-editor-canvas') && !this.isMode('draw') && !this.isMode('star')) {\n            this.changeMode('modify');\n            this.trigger('hidePolygonEditor')\n            return false; \n        } \n\n        if (this.state.isSegment) {\n\n            this.changeMode('segment-move');\n            var index = +this.state.$target.attr('data-index')\n            this.polygonGenerator.setCachePoint(index);\n\n        } else if (this.isMode('star')) {\n            this.polygonGenerator.moveStart()\n\n        } else if (this.isMode('draw')) {\n            // this.changeMode('draw');   \n        } else {\n\n        }\n\n    }\n\n    move (dx, dy) {\n\n        if (this.isMode('star')) {\n\n            this.polygonGenerator.moveStar(dx, dy, this.$config.get('bodyEvent'));\n\n            this.bindData('$view');            \n\n        } else if (this.isMode('segment-move')) {\n\n            this.polygonGenerator.move(dx, dy, this.$config.get('bodyEvent'));\n\n            this.bindData('$view');            \n\n            this.updatePolygonLayer();\n\n        } else if (this.isMode('draw')) {\n            // var e = this.$config.get('bodyEvent');\n\n            // this.state.dragPoints = e.altKey ? false : true; \n        } else if (this.isMode('move')) {\n            \n        }\n\n    }\n\n    end (dx, dy) {\n\n        if (this.state.$target.is(this.refs.$view) && this.$config.get('bodyEvent').altKey)  {\n            // 에디팅  종료 \n            this.trigger('hidePolygonEditor')\n            this.changeMode('modify');            \n            return ; \n        }\n\n        if (this.isMode('segment-move')) {\n            this.changeMode('modify');\n        } else if (this.isMode('star')) {\n\n            this.polygonGenerator.moveEndStar(dx, dy);\n\n            this.bindData('$view');\n        } else if (this.isMode('draw')) {            \n\n\n            this.polygonGenerator.moveEnd(dx, dy);\n\n            this.bindData('$view');\n\n        }\n\n    }   \n\n} ","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { BIND, POINTERSTART, MOVE, END, IF, KEYUP } from \"../../../util/Event\";\nimport { Length } from \"../../../editor/unit/Length\";\n\nimport { editor } from \"../../../editor/editor\";\nimport Dom from \"../../../util/Dom\";\nimport SelectionToolView from \"./SelectionToolView\";\nimport GuideLineView from \"./GuideLineView\";\nimport PathEditorView from \"./PathEditorView\";\nimport PolygonEditorView from \"./PolygonEditorView\";\n\nexport default class ElementView extends UIElement {\n\n    components() {\n        return {\n            SelectionToolView,\n            GuideLineView,\n            PathEditorView,\n            PolygonEditorView\n        }\n    }\n\n    initState() {\n        return {\n            mode: 'selection',\n            left: Length.px(0),\n            top: Length.px(0),\n            width: Length.px(10000),\n            height: Length.px(10000),\n            html: ''\n        }\n    }\n\n    template() {\n        return /*html*/`\n            <div class='element-view' ref='$body'>\n                <div class='canvas-view' ref='$view'></div>\n                <div class='drag-area-rect' ref='$dragAreaRect'></div>\n                <GuideLineView ref='$guideLineView' />                \n                <SelectionToolView ref='$selectionTool' />\n                <PathEditorView ref='$pathEditorView' />\n                <PolygonEditorView ref='$polygonEditorView' />                             \n            </div>\n        `\n    }\n\n    getScrollXY () {\n        return {\n            width: this.refs.$body.scrollWidth(),\n            height: this.refs.$body.scrollHeight(),\n            left: this.refs.$body.scrollLeft(),\n            top: this.refs.$body.scrollTop()\n        }\n    }\n\n    [EVENT('afterChangeMode')] () {\n        this.$el.attr('data-mode', editor.mode);\n    }\n\n\n    [EVENT('hideSubEditor')] (e) {\n        this.children.$pathEditorView.$el.hide();\n        this.children.$polygonEditorView.$el.hide();\n    }\n\n    getElement (id) {\n        return this.refs.$view.$(`[data-id=\"${id}\"]`);\n    }\n\n    checkEmptyElement (e) {\n        var $el = Dom.create(e.target)\n\n        if (editor.isAddMode()) {\n            return true; \n        }\n\n        if (this.state.mode !== 'selection') {\n            return false; \n        }\n\n        return $el.hasClass('element-item') === false \n            && $el.hasClass('selection-tool-item') === false \n            && $el.hasClass('path-editor-view') === false \n            && $el.hasClass('polygon-editor-view') === false\n            && $el.hasClass('point') === false\n            && $el.hasClass('handle') === false            \n            && $el.hasClass('perspective-handle') === false\n            && $el.hasClass('transform-tool-item') === false\n            && $el.hasClass('transform-tool') === false            \n            && $el.isTag('svg') === false \n            && $el.isTag('path') === false\n            && $el.isTag('textPath') === false\n            && $el.isTag('polygon') === false\n            && $el.attr('data-segment') !== 'true';\n    }\n\n    [POINTERSTART('$el') + IF('checkEmptyElement') + MOVE('movePointer') + END('moveEndPointer')] (e) {\n\n        this.$target = Dom.create(e.target);\n\n        this.dragXY = {x: e.xy.x, y: e.xy.y}; \n\n        this.rect = this.refs.$body.rect();            \n        this.canvasOffset = this.refs.$view.rect();\n\n        this.canvasPosition = {\n            x: this.canvasOffset.left - this.rect.x,\n            y: this.canvasOffset.top - this.rect.y\n        }\n\n        this.dragXY.x -= this.rect.x\n        this.dragXY.y -= this.rect.y\n\n        if (editor.isSelectionMode()) {\n\n            var obj = {\n                left: Length.px(this.dragXY.x),\n                top: Length.px(this.dragXY.y),\n                width: Length.px(0),\n                height: Length.px(0)\n            }        \n    \n            this.refs.$dragAreaRect.css(obj) \n\n            this.$selection.empty();\n        \n            this.cachedCurrentElement = {}\n            this.$el.$$('.selected').forEach(it => it.removeClass('selected'))\n    \n            this.emit('initSelectionTool')        \n        } else {\n            // add mode \n            // NOOP \n        }\n\n    }\n\n    movePointer (dx, dy) {\n\n        var obj = {\n            left: Length.px(this.dragXY.x + (dx < 0 ? dx : 0)),\n            top: Length.px(this.dragXY.y + (dy < 0 ? dy : 0)),\n            width: Length.px(Math.abs(dx)),\n            height: Length.px(Math.abs(dy))\n        }        \n\n        this.refs.$dragAreaRect.css(obj)\n\n        if (editor.isSelectionMode()) {\n\n            var {left: x, top: y, width, height } = obj\n\n            var rect = {\n                x: Length.px(x.value -  this.canvasPosition.x), \n                y: Length.px(y.value - this.canvasPosition.y), \n                width, \n                height\n            }\n\n            rect.x2 = Length.px(rect.x.value + rect.width.value);\n            rect.y2 = Length.px(rect.y.value + rect.height.value); \n\n            var artboard = this.$selection.currentArtboard;\n\n            if (artboard) {\n                Object.keys(rect).forEach(key => {\n                    rect[key].div(editor.scale)\n                })\n    \n                var items = artboard.checkInAreaForLayers(rect);\n\n                if (rect.width.value === 0 && rect.height.value === 0) {\n                    items = [] \n                }                 \n    \n                this.$selection.select(...items);\n\n                this.selectCurrentForBackgroundView(...items)\n            }\n            this.$selection.select(...items);    \n            this.emit('refreshSelection')\n        }\n    }\n\n    moveEndPointer (dx, dy) {\n\n        var [x, y, width, height ] = this.refs.$dragAreaRect\n                .styles('left', 'top', 'width', 'height')\n                .map(it => Length.parse(it))\n\n        var rect = {\n            x: Length.px(x.value -  this.canvasPosition.x), \n            y: Length.px(y.value - this.canvasPosition.y), \n            width, \n            height\n        }\n\n        rect.x2 = Length.px(rect.x.value + rect.width.value);\n        rect.y2 = Length.px(rect.y.value + rect.height.value);\n\n        this.refs.$dragAreaRect.css({\n            left: Length.px(-10000),\n            top: Length.px(0),\n            width: Length.px(0),\n            height: Length.px(0)\n        })\n\n\n        if (editor.isSelectionMode()) {\n\n            var artboard = this.$selection.currentArtboard;\n            var items = [] \n            if (artboard) {\n                Object.keys(rect).forEach(key => {\n                    rect[key].div(editor.scale)\n                })\n\n                items = artboard.checkInAreaForLayers(rect);\n\n                if (rect.width.value === 0 && rect.height.value === 0) {\n                    items = [] \n                } \n\n                if (items.length === 0) {\n                    if (artboard.checkInArea(rect)) {\n                        items = [artboard]\n                    }\n                }\n\n                this.$selection.select(...items);\n\n                this.selectCurrentForBackgroundView(...items)\n    \n                if (items.length) {\n                    this.emit('refreshSelection')\n                } else {\n                    this.$selection.select();            \n                    this.emit('emptySelection')\n                }                \n            } else {\n                this.$selection.select();                \n                this.emit('emptySelection')\n            }\n    \n\n        } else {\n            var obj = {\n                x: Length.px(rect.x.value / editor.scale),\n                y: Length.px(rect.y.value / editor.scale),\n                width: Length.px(rect.width.value / editor.scale),\n                height: Length.px(rect.height.value / editor.scale)\n            }\n\n            if (editor.addComponentType === 'image') { \n                this.emit('addImage', obj);\n            } else {\n                if (editor.isComponent) {\n                    this.emit('newComponent', editor.addComponentType, obj);\n                } else {\n                    this.emit('new.layer', editor.addComponentType, obj);\n                }\n\n            }\n\n        }\n\n        this.sendHelpMessage();\n    }\n\n    sendHelpMessage () {\n\n        if (this.$selection.length === 1) {\n            var current = this.$selection.current;\n\n            if (current.is('svg-path', 'svg-polygon', 'svg-textpath')) {\n                this.emit('addStatusBarMessage', 'Please click if you want to edit to path ');\n            }\n\n        } \n\n    }\n\n\n    [KEYUP('$view .element-item.text')] (e) {\n        var content = e.$dt.html()\n        var text = e.$dt.text().trim()\n        var id = e.$dt.attr('data-id');\n\n        var arr = [] \n        this.$selection.items.filter(it => it.id === id).forEach(it => {\n            it.reset({ content, text })\n            arr.push({id:it.id, content, text})\n        })\n\n        this.emit('refreshContent', arr);\n    }\n\n    checkEditMode () {\n        return editor.isSelectionMode()\n    }\n\n    [POINTERSTART('$view .element-item') + IF('checkEditMode')  + MOVE('calculateMovedElement') + END('calculateEndedElement')] (e) {\n        this.startXY = e.xy ; \n        this.$element = e.$dt;\n\n\n        if (this.$element.hasClass('text') && this.$element.hasClass('selected')) {\n            return false; \n        }\n\n        if (this.$element.hasClass('selected')) {\n            // NOOP \n        } else {\n\n            var id = this.$element.attr('data-id')\n            this.$selection.selectById(id);    \n        }\n\n        if (this.$selection.isRelative) {\n            // console.log('relative')\n        } else {    \n            this.selectCurrent(...this.$selection.items)\n            this.emit('refreshSelection');\n            this.$selection.setRectCache()\n        }\n    }\n\n    calculateMovedElement (dx, dy) {\n        this.children.$selectionTool.refreshSelectionToolView(dx, dy, 'move');\n        this.updateRealPosition();     \n    }\n\n    updateRealPosition() {\n        this.$selection.items.forEach(item => {\n            var {x, y, width, height} = item.toBound();\n            var cachedItem = this.cachedCurrentElement[item.id]\n            if (cachedItem) {\n                cachedItem.cssText(`left: ${x};top:${y};width:${width};height:${height}; transform: ${item.transform};`)\n            }\n        })\n\n        this.emit('refreshRect');        \n    }\n    [EVENT('refreshArtBoardName')] (id, title) {\n        this.$el.$(`[data-id='${id}']`).attr('data-title', title);\n    }\n\n    calculateEndedElement (dx, dy) {\n        this.children.$selectionTool.refreshSelectionToolView(dx, dy, 'move');\n\n        var current = this.$selection.items.length === 1 ? this.$selection.current : null;\n\n        this.emit('refreshElement', current);\n\n        this.emit('refreshSelection');\n\n        this.emit('removeGuideLine')        \n\n    }\n\n    [BIND('$body')] () {\n        var width = Length.px(10000);\n        var height = Length.px(10000);\n\n        return {\n            'data-mode': editor.mode,\n            style: {\n                'position': 'relative',\n                width,\n                height\n            }\n        }\n    }\n\n\n    [BIND('$view')] () {\n        return {\n            style: {\n                // 'background-image': createGridLine(100),\n                // 'box-shadow': '0px 0px 5px 0px rgba(0, 0, 0, .5)',\n                transform: `scale(${editor.scale})`\n            },\n            innerHTML: this.state.html\n        }\n    }    \n\n    [EVENT('addElement')] () {\n        var artboard = this.$selection.currentArtboard || { html : ''} \n        var html = artboard.html;\n\n        this.setState({ html }, false)\n        // this.bindData('$view');\n        this.refs.$view.updateDiff(html)\n\n        this.emit('refreshSelectionTool')\n    }\n\n    selectCurrent (...args) {\n        this.cachedCurrentElement = {}\n        var $selectedElement = this.$el.$$('.selected');\n\n        if ($selectedElement) {\n            $selectedElement.forEach(it => it.removeClass('selected'))\n        }\n\n        if(args.length) {\n\n            var selector = args.map(it => `[data-id='${it.id}']`).join(',')\n\n            var list = this.$el.$$(selector);\n            \n            list.forEach(it => {\n                this.cachedCurrentElement[it.attr('data-id')] = it; \n                it.addClass('selected')\n            })\n            \n        } else {\n            this.$selection.select(this.$selection.currentArtboard)\n        }\n        // this.emit('refreshSelection')           \n\n        this.emit('initSelectionTool')\n\n    }\n\n\n    selectCurrentForBackgroundView (...args) {\n        this.cachedCurrentElement = {}\n        var $selectedElement = this.$el.$$('.selected');\n\n        if ($selectedElement) {\n            $selectedElement.forEach(it => it.removeClass('selected'))\n        }\n\n        if(args.length) {\n\n            var selector = args.map(it => `[data-id='${it.id}']`).join(',')\n\n            var list = this.$el.$$(selector);\n            \n            list.forEach(it => {\n                this.cachedCurrentElement[it.attr('data-id')] = it; \n                it.addClass('selected')\n            })\n            \n        } else {\n            // this.$selection.select()\n        }\n        this.emit('refreshSelection')           \n\n        this.emit('initSelectionTool')\n\n    }    \n    \n    [EVENT('refreshSelection')] () {\n\n        if (!this.state.html) {\n            this.trigger('addElement');\n        }\n\n        // var current = this.$selection.current || { id : ''} \n        // this.selectCurrent(current);        \n        this.emit('initSelectionTool')\n    }\n\n    modifyScale () {\n        this.refs.$view.css({\n            transform: `scale(${editor.scale})`\n        })\n\n        this.emit('makeSelectionTool', true);\n    }\n\n    [EVENT('changeScale')] () {\n       this.modifyScale();\n    }\n\n    // 객체를 부분 업데이트 하기 위한 메소드 \n    [EVENT('refreshCanvasForPartial', 'refreshSelectionStyleView')] (obj, isChangeFragment = true) {\n\n        var items = obj ? [obj] : this.$selection.items;\n\n        items.forEach(current => {\n            this.updateElement(current, isChangeFragment);\n        })\n    }\n\n    updateElement (item, isChangeFragment = true) {\n        item.updateFunction(this.getElement(item.id), isChangeFragment);\n    }\n\n    [EVENT('playTimeline')] () {\n\n        var artboard = this.$selection.currentArtboard;\n\n        if (artboard) {\n            var timeline = artboard.getSelectedTimeline();\n            timeline.animations.map(it => artboard.searchById(it.id)).forEach(current => {\n                this.updateElement(current);\n            })\n        }\n    }    \n\n    [EVENT('refreshCanvas')] (obj) {\n        if (obj) {\n\n            this.updateElement(obj);\n\n        } else {\n            this.trigger('addElement')\n        }\n\n    }\n\n    [EVENT('refreshAllCanvas')] () {\n        var artboard = this.$selection.currentArtboard || { html : ''} \n        var html = artboard.html\n\n        this.setState({ html })\n        this.emit('refreshSelectionTool')        \n    }\n\n    refresh() {\n        if (this.state.html != this.prevState.html) {\n            this.load();\n        } else {\n            // NOOP \n        }\n    }\n    \n} ","import UIElement from \"../../../util/UIElement\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { LOAD, INPUT, CLICK, FOCUS, BLUR } from \"../../../util/Event\";\nimport icon from \"../icon/icon\";\n\nexport default class NumberRangeEditor extends UIElement {\n\n    initState() {\n        var value = Length.parse(this.props.value || Length.number(0));\n        value = value.toUnit('number');\n        return {\n            removable: this.props.removable === 'true',\n            label: this.props.label || '',\n            min: +this.props.min || 0,\n            max: +this.props.max || 100,\n            step: +this.props.step || 1,\n            key: this.props.key,\n            params: this.props.params || '',\n            layout: this.props.layout || '',\n            value\n        }\n    }\n\n    template () {\n        return `<div class='small-editor' ref='$body'></div>`\n    }\n\n    [LOAD('$body')] () {\n\n        var { min, max, step, label, type, removable, layout } = this.state\n\n        var value = +this.state.value.value.toString()\n\n        if (isNaN(value)) {\n            value = 0\n        }\n\n        var hasLabel = !!label ? 'has-label' : ''\n        var isRemovable = removable ? 'is-removable' : '';\n        var layoutClass = layout;\n\n        var realValue = (+value).toString();\n        \n        return /*html*/`\n        <div class='number-range-editor ${hasLabel} ${isRemovable} ${layoutClass}' data-selected-type='${type}'>\n            ${label ? `<label>${label}</label>` : '' }\n            <div class='range-editor-type' data-type='range'>\n                <div class='area'>\n                    <input type='range' ref='$property' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" />\n                    <input type='number' ref='$propertyNumber' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" />\n                </div>\n            </div>\n            <button type='button' class='remove' ref='$remove' title='Remove'>${icon.remove}</button>\n        </div>\n    `\n    }\n\n    getValue() {\n        return this.state.value; \n    }\n\n    setValue (value) {\n        this.setState({\n            value: Length.parse(value)\n        })\n    }\n\n    [FOCUS('$propertyNumber')] (e) {\n        this.refs.$propertyNumber.addClass('focused');\n    } \n\n    [BLUR('$propertyNumber')] (e) {\n        this.refs.$propertyNumber.removeClass('focused');\n    }\n\n    [CLICK('$remove')] (e) {\n        this.updateData({\n            value: ''\n        })\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n\n    [INPUT('$propertyNumber')] (e) {\n\n        var value = +this.getRef('$propertyNumber').value; \n        this.getRef('$property').val(value);\n\n        this.updateData({ \n            value: this.state.value.set(value)\n        });\n\n    }\n\n\n    [INPUT('$property')] (e) {\n        var value = +this.getRef('$property').value; \n        this.getRef('$propertyNumber').val(value);\n\n        if (this.state.value === '') {\n            this.state.value = Length.number(0)\n        }\n\n        this.updateData({ \n            value: this.state.value.set(value)\n        });\n    }\n}","import UIElement, { EVENT } from \"../../../util/UIElement\";\n\nimport { editor } from \"../../../editor/editor\";\nimport { CLICK, PREVENT, STOP } from \"../../../util/Event\";\n\nimport icon from \"../icon/icon\";\nimport NumberRangeEditor from \"../property-editor/NumberRangeEditor\";\nimport { round } from \"../../../util/functions/math\";\n\nexport default class PageTools extends UIElement {\n\n  components() {\n    return {\n      NumberRangeEditor\n    }\n  }\n\n  template() {\n    return /*html*/`     \n      <div class='page-tools'>\n        <button type='button' ref='$plus'>${icon.add}</button>\n        <button type='button' ref='$minus'>${icon.remove2}</button>\n        <div class='select'>\n          <NumberRangeEditor ref='$scale' min='10' max='240' step=\"1\" key=\"scale\" value=\"${editor.scale*100}\" onchange=\"changeRangeEditor\" />\n        </div>\n        <label>%</label>\n      </div>\n\n    `;\n  }  \n\n  [EVENT('changeScaleValue')] (scale) {\n\n    scale = round(scale * 100, 100)\n\n    this.children.$scale.setValue(scale);\n    this.emit('update.scale', scale/100);\n  }\n\n  [EVENT('changeRangeEditor')] (key, scale) {\n    this.trigger('changeScaleValue', scale/100);\n  }\n\n  [CLICK('$plus') + PREVENT + STOP] () {\n\n    this.trigger('changeScaleValue', editor.scale * 1.1);\n  }\n\n  [CLICK('$minus') + PREVENT + STOP] () {\n    this.trigger('changeScaleValue', editor.scale * 0.9);    \n  }\n\n}\n","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\nimport { CLICK, BIND, CHANGE, CHANGEINPUT } from \"../../../util/Event\";\n\nexport default class StarManager extends UIElement {\n\n    initState() {\n        return {\n            count: 5,\n            radius: 0.5 \n        }\n    }\n\n  template() {\n    return /*html*/`\n      <div class='star-manager'>\n        <div class='text'>\n            <label>Star Count</label>\n            <span class='count' ref='$c'>\n                <button type=\"button\" data-type='plus'>${icon.add}</button>\n                <input type=\"number\" min=\"2\" max=\"100\" ref='$count'/>\n                <button type=\"button\" data-type='minus'>${icon.remove2}</button>\n            </span>\n            <label>Radius Rate</label>\n            <span class='radius' ref='$r'>\n                <button type=\"button\" data-type='plus'>${icon.add}</button>\n                <input type=\"number\" min=\"0\" max=\"10\" step=\"0.1\" ref='$radius'/>\n                <button type=\"button\" data-type='minus'>${icon.remove2}</button>\n            </span>      \n            <button type=\"button\">Keydown ESC or Enter key to close editing</button>   \n\n            \n        </div>\n      </div>    \n    `;\n  }\n\n  [BIND('$count')] () {\n    return { value: this.state.count }\n  }\n\n  [BIND('$radius')] () {\n    return { value: this.state.radius  }\n  }  \n\n  refresh() {\n    this.load();\n  }\n\n  [CLICK('$c [data-type]')] (e) {\n    var type = e.$dt.attr('data-type')\n    var step = type === 'plus' ? 1 : -1; \n\n    this.updateData({\n        count: this.state.count + step \n    })\n    this.refresh();    \n  }\n\n\n  [CLICK('$r [data-type]')] (e) {\n    var type = e.$dt.attr('data-type')\n    var step = type === 'plus' ? 0.1 : -0.1; \n\n    this.updateData({\n        radius: this.state.radius + step \n    });\n    this.refresh();\n  }  \n\n  [CHANGEINPUT('$count')] () {\n    var count = +this.refs.$count.value;\n\n    if (count < 3) {\n      count = 3 \n    }\n\n    this.updateData({\n      count \n    });\n    this.refresh();\n  }\n\n  [CHANGEINPUT('$radius')] () {\n    var radius = +this.refs.$radius.value;\n    this.updateData({\n        radius \n    });\n    // this.refresh();    \n  }\n\n  updateData(obj = {}) {\n\n    this.setState(obj, false)\n    this.emit(this.state.changeEvent, this.state.count, this.state.radius);\n  }\n\n  [EVENT('changeStarManager')] (count, radius) {\n    this.setState({count, radius}, false)\n\n    this.refresh();\n  }\n\n  [EVENT('showStarManager')] (obj = {}) {\n      obj.changeEvent = obj.changeEvent || 'changeStarManager';\n      this.setState(obj, false)\n      this.refresh();\n      this.$el.show();\n  }\n\n  [EVENT('hideStarManager')] () {\n      this.$el.hide();\n  }\n\n  [EVENT('hideSubEditor')] () {\n    this.trigger('hideStarManager');\n  }\n\n}\n","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { CLICK, BIND } from \"../../../util/Event\";\nimport icon from \"../icon/icon\";\nimport { editor } from \"../../../editor/editor\";\n\nconst MODES = {\n  'segment-move': 'modify',\n  'modify': 'modify',\n  'draw': 'draw',\n  'transform': 'transform',\n} \n\nconst i18n = editor.initI18n('path.manager');\n\nexport default class PathManager extends UIElement {\n\n    initState() {\n        return {\n            mode: 'move',\n            msg: i18n('msg')\n        }\n    }\n\n  template() {\n    return /*html*/`\n      <div class='path-manager'>\n        <div class='tools' ref='$mode' data-selected-value='${this.state.mode}'>\n            <button type=\"button\" data-value='modify' title='${i18n('mode.modify')}' > ${icon.device_hub}</button>\n            <button type=\"button\" data-value='draw' title='${i18n('mode.draw')}' > ${icon.control_point}</button>\n            <button type=\"button\" data-value='transform' title='${i18n('mode.transform')}' > ${icon.format_shapes}</button>\n        </div>\n        <div class='split'></div>\n        <div class='tools' ref='$flip'>\n            <button type=\"button\" data-value='flipX' title='${i18n('mode.flipX')}'>${icon.flip}</button>\n            <button type=\"button\" data-value='flipY' title='${i18n('mode.flipY')}'>${icon.flip}</button>\n            <button type=\"button\" data-value='flip' title='${i18n('mode.flipOrigin')}'>${icon.flip}</button>\n        </div>\n      </div>    \n    `;\n  }\n\n  [BIND('$mode')] () {\n    return {\n      'data-selected-value' : MODES[this.state.mode]\n    }\n  }\n\n  refresh() {\n    this.bindData('$mode')\n  }\n\n  [CLICK('$flip button')] (e) {\n    var transformType = e.$dt.attr('data-value');\n\n    this.emit('changePathTransform', transformType);    \n  }\n\n  [CLICK('$mode button')] (e) {\n    var mode = e.$dt.attr('data-value');\n\n    this.updateData({\n        mode \n    })\n\n    this.refresh();\n  }\n\n  updateData(obj = {}) {\n\n    this.setState(obj, false)\n    this.emit(this.state.changeEvent, this.state.mode);\n  }\n\n  [EVENT('changePathManager')] (mode) {\n    this.setState({ mode })\n  }\n\n  [EVENT('showPathManager')] (obj = {}) {\n      obj.changeEvent = obj.changeEvent || 'changePathManager';\n      this.setState(obj)\n      this.$el.show();\n\n      this.emit('addStatusBarMessage', this.state.msg)\n  }\n\n  [EVENT('hidePathManager')] () {\n      this.$el.hide();\n  }\n\n  [EVENT('hideSubEditor')] () {\n    this.trigger('hidePathManager');\n  }  \n\n}\n","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { CLICK } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\n\nconst i18n = editor.initI18n('path.manager');\n\nexport default class PolygonManager extends UIElement {\n\n  initState() {\n      return {\n          mode: 'move',\n          msg: i18n('msg')\n      }\n  }\n\n  template() {\n    return /*html*/`\n      <div class='polygon-manager'>\n        <div class='text'>\n            <label>Polygon Mode</label>\n            <label><input type='radio' name='polygon-mode' value='draw' /> draw</label>            \n            <label><input type='radio' name='polygon-mode' value='modify' /> modify</label>         \n        </div>\n      </div>    \n    `;\n  }\n\n  [CLICK('$el input[type=\"radio\"]')] (e) {\n    var mode = e.$dt.value;\n\n    this.updateData({\n        mode \n    })\n  }\n\n\n  refresh() {\n    var $mode = this.$el.$(`[value=${this.state.mode}]`)\n    \n    if ($mode) {\n      $mode.checked(true);\n    }\n  }\n\n  updateData(obj = {}) {\n\n    this.setState(obj, false)\n    this.emit(this.state.changeEvent, this.state.mode);\n  }\n\n  [EVENT('changePolygonManager')] (mode) {\n    this.setState({ mode }, false)\n\n    this.refresh();\n  }\n\n  [EVENT('showPolygonManager')] (obj = {}) {\n      obj.changeEvent = obj.changeEvent || 'changePolygonManager';\n      this.setState(obj, false)\n      this.refresh();\n      this.$el.show();\n      this.emit('addStatusBarMessage', this.state.msg)      \n  }\n\n  [EVENT('hidePolygonManager')] () {\n      this.$el.hide();\n  }\n\n  [EVENT('hideSubEditor')] () {\n    this.trigger('hidePolygonManager');\n  }\n\n}\n","import UIElement from \"../../../util/UIElement\";\n\nimport StarManager from \"./StarManager\";\nimport PathManager from \"./PathManager\";\nimport PolygonManager from \"./PolygonManager\";\n\n\nexport default class PageSubEditor extends UIElement {\n\n  components() {\n    return {\n      StarManager,\n      PathManager,\n      PolygonManager\n    }\n  }\n\n  template() {\n    return/*html*/`\n      <div class='page-subeditor'>\n        <PathManager />\n        <PolygonManager />\n        <StarManager />\n        <SelectionManager />\n      </div>\n    `;\n  }\n}\n","import UIElement, { EVENT } from \"../../../util/UIElement\";\n\nimport { editor, EDIT_MODE_SELECTION } from \"../../../editor/editor\";\nimport { DEBOUNCE, PREVENT, STOP, WHEEL, ALT, THROTTLE, IF, KEYUP, CONTROL, KEY, DRAGOVER, DROP } from \"../../../util/Event\";\n\nimport ElementView from \"./ElementView\";\nimport NumberRangeEditor from \"../property-editor/NumberRangeEditor\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport Dom from \"../../../util/Dom\";\nimport PageTools from \"../view-items/PageTools\";\nimport PageSubEditor from \"../view-items/PageSubEditor\";\n\n\n\nexport default class CanvasView extends UIElement {\n\n  components() {\n    return {\n      PageTools,\n      NumberRangeEditor,\n      ElementView,\n      PageSubEditor\n    }\n  }\n\n  afterRender() {\n\n    this.emit('load.json');\n  }\n  template() {\n    return/*html*/`\n      <div class='page-container' tabIndex=\"-1\">\n        <div class='page-view'>\n          <div class='page-lock' ref='$lock'>\n            <ElementView ref='$elementView' />\n          </div>\n        </div>\n        <PageSubEditor />\n        <PageTools />\n      </div>\n    `;\n  }\n\n  [EVENT('toggle.fullscreen')] () {\n    this.$el.fullscreen();\n  }\n\n  // [ANIMATIONITERATION()] (e) {\n  //   // console.log(e.elapsedTime, e);\n  // }\n\n  [KEYUP('$el') + CONTROL + KEY('c')  + PREVENT ] (e) {\n    this.emit('copy');\n  }\n\n  [KEYUP('$el') + CONTROL + KEY('v') + PREVENT ] () {\n    this.emit('paste');\n  }  \n\n  isNumberKey(e) {\n    return ((+e.key) + \"\") === e.key;\n  }  \n\n  isNotFormElement(e) {\n    var tagName = e.target.tagName.toLowerCase();\n\n    return ['input'].includes(tagName) === false;\n  }\n\n  [KEYUP('$el') + IF('isNumberKey') + IF('isNotFormElement') + PREVENT+ STOP] (e) {\n    this.emit('keyup.canvas.view', e.key);\n  }\n\n  [WHEEL('$lock') + ALT + PREVENT + THROTTLE(10)] (e) {\n\n    var dt = e.deltaY < 0 ? 1.1 : 0.9;\n    this.emit('changeScaleValue', editor.scale * dt);\n  }\n\n  getScrollTop() {\n    if (this.refs.$lock) {\n      return this.refs.$lock.scrollTop()\n    }\n\n    return 0;\n  }\n\n  getScrollLeft() {\n    if (this.refs.$lock) {\n      return this.refs.$lock.scrollLeft()\n    }\n    \n    return 0; \n  }  \n\n  get scrollXY () {\n    return {\n      screenX: Length.px(this.getScrollLeft()),\n      screenY: Length.px(this.getScrollTop())\n    }\n  }\n\n  get screenSize () {\n    if (this.refs.$lock) {\n      return this.refs.$lock.rect()\n    }\n\n    return {\n      width: 0,\n      height: 0\n    }\n  } \n\n  setScrollTop (value) {\n    this.refs.$lock.setScrollTop(value);\n  }\n\n  addScrollTop (value) {\n    this.setScrollTop(this.getScrollTop() + value)\n  }\n\n  setScrollLeft (value) {\n    this.refs.$lock.setScrollLeft(value);\n  }  \n\n  addScrollLeft (value) {\n    this.setScrollLeft(this.getScrollLeft() + value)\n  }\n\n  [EVENT('focusCanvasView')] () {\n    this.$el.focus()\n  }\n\n\n  // 단축키 적용하기 \n  [KEYUP() + IF('Backspace')] (e) {\n    var $target = Dom.create(e.target);\n    if ($target.attr('contenteditable')) {\n\n    } else {\n      this.$selection.remove()\n      this.emit('refreshAllSelectArtBoard')\n    }\n  }\n\n  [DRAGOVER() + PREVENT] (e) { }\n  [DROP() + PREVENT] (e) { \n    var imageUrl = e.dataTransfer.getData('image/info');\n\n    this.emit('drop.image.url', imageUrl)\n  } \n\n  [EVENT('refreshComputedStyle') + DEBOUNCE(100)] (last) {\n    var computedCSS = this.refs.$canvas.getComputedStyle(...last)\n    \n    this.emit('refreshComputedStyleCode', computedCSS)\n  }\n\n  // [EVENT('loadSketchData')] (sketchData) {\n  //   var projects = SketchUtil.parse (sketchData);\n\n  //   projects.forEach(p => {\n  //     editor.add(p);\n  //   })\n\n  //   this.refresh();\n  //   this.emit('addElement');    \n  //   this.emit('refreshCanvas')\n  //   this.emit('refreshStyleView')\n\n  // }\n\n}\n","import UIElement from \"../../../util/UIElement\";\nimport { CLICK } from \"../../../util/Event\";\n\n\nconst DEFAULT_TITLE = '';\nconst DEFAULT_ICON = ''; \nconst DEFAULT_CHECKED = false; \n\nexport default class MenuItem extends UIElement {\n    template () {\n        return /*html*/`\n        <button type=\"button\" class='menu-item ${this.getClassName()}' data-no-title=\"${this.isHideTitle()}\" ${this.isHideTitle() ? `title=\"${this.getTitle()}\"` : '' } checked=\"${this.getChecked() ? 'checked' : ''}\">\n            <div class=\"icon ${this.getIcon()}\">${this.getIconString()}</div>\n            <div class=\"title\">${this.getTitle()}</div>\n        </button>\n        `\n    }\n\n    getClassName() {\n        return \"\"\n    }\n\n    clickButton(e) {}\n\n    getChecked () {\n        return DEFAULT_CHECKED; \n    }\n\n    getTitle () {\n        return DEFAULT_TITLE;\n    }\n\n    getIcon () { \n        return DEFAULT_ICON; \n    }\n\n    getIconString() {\n        return DEFAULT_ICON;\n    }\n\n    isHideTitle() {\n        return false; \n    }\n\n    [CLICK()] (e) {\n        this.clickButton(e);\n    }\n}","import MenuItem from \"./MenuItem\";\nimport { editor } from \"../../../editor/editor\";\n\nexport default class Github extends MenuItem {\n  getIcon() {\n    return \"github\";\n  }\n  getTitle() {\n    return this.$i18n('menu.item.github.title');\n  }\n\n  clickButton(e) {\n    window.open(\"https://github.com/easylogic/editor\", \"github-window\");\n  }\n}\n","export default class AnipaExport {\n    constructor (artboard) {\n        this.artboard = artboard \n    }\n\n    generateCode () {\n\n\n        var lastTime = this.artboard.getSelectedTimelineLastTime();\n        var timeline = this.artboard.getSelectedTimeline();\n        var animations = [] \n        var options = {} \n\n\n        if (timeline) {\n            timeline.animations.forEach (animation => {\n                var item = this.artboard.searchById(animation.id);\n\n                var properties = animation.properties.map(p => {\n                    var property = p.property;\n\n                    switch(property) {\n                    case 'x': property = 'left'; break; \n                    case 'y': property = 'top'; break; \n                    }\n\n                    return {\n                        property,\n                        keyframes: p.keyframes.map(keyframe => {\n                            var { time, value, timing } = keyframe\n                            return { time: time * 1000, value, timing }\n                        })\n                    };\n                })\n\n\n                animations.push(...item.toAnimationKeyframes(properties).filter(it => {\n                    return it.properties.length\n                })) \n\n            })\n\n            var { iterationCount, fps, speed, direction} = timeline\n            var duration = lastTime * 1000; \n\n            options = { duration, iterationCount, fps, speed, direction }\n        }\n\n        animations = JSON.stringify(animations, null, 4);\n        options = JSON.stringify(options,  null, 4);\n\n        return `\nvar player = new anipa.Player(${animations}, ${options});\nplayer.play();\n`\n    }\n}\n","import AnipaExport from \"./AnipaExport\";\n\nexport default {\n    generate (artboard, type = 'anipa' ) {\n        switch(type) {\n        case 'anipa': return new AnipaExport(artboard).generateCode();\n        }\n\n        return ''\n    }\n}","import { CSS_TO_STRING } from \"../util/functions/func\";\nimport { editor } from \"./editor\";\nimport { Length } from \"./unit/Length\";\nimport AnimationExport from \"./export/animation-export/AnimationExport\";\nimport { replaceLocalUrltoRealUrl } from \"./util/Resource\";\n\nexport default {\n\n  makeProjectStyle (item) {\n\n    const keyframeString = item.toKeyframeString();\n    const rootVariable = item.toRootVariableCSS()\n    \n    return `\n      :root {\n        ${CSS_TO_STRING(rootVariable)}\n      }\n      /* keyframe */\n      ${keyframeString}\n    `\n  },\n\n  makeStyle (item,appendCSS = '') {\n\n    if (item.is('project')) {\n      return this.makeProjectStyle(item);\n    }\n\n    const cssString = item.generateView(`[data-id='${item.id}']`, appendCSS)\n    return `\n    ${cssString}\n    ` + item.layers.map(it => {\n      return this.makeStyle(it);\n    }).join('')\n  },\n\n  makeSvg (project) {\n    const SVGString = project.toSVGString ? project.toSVGString() : ''\n    return `\n      ${SVGString ? `<svg width=\"0\" height=\"0\">${SVGString}</svg>` : ''}\n    `\n  },\n\n  generate () {\n    var project = this.$selection.currentProject;\n    var artboard = this.$selection.currentArtboard;\n\n    var css = `\n${this.makeStyle(project)}\n${this.makeStyle(artboard, `\n  left: 0px;\n  top: 0px;\n`)}`\n    var html = `\n${artboard.html}\n${this.makeSvg(project)}\n    `\n\n    var js = AnimationExport.generate(artboard, 'anipa')\n\n    html = replaceLocalUrltoRealUrl(html);\n    css = replaceLocalUrltoRealUrl(css);\n    js = replaceLocalUrltoRealUrl(js);\n\n  \n    return { html, css, js }\n  },\n\n  generateSVG (rootItem) {\n    return replaceLocalUrltoRealUrl(rootItem.generateSVG(true));\n  }\n\n}","import { SUBMIT } from \"../../../util/Event\";\nimport UIElement from \"../../../util/UIElement\";\n\nimport ExportManager from \"../../../editor/ExportManager\";\nimport { editor } from \"../../../editor/editor\";\n \nexport default class ExportCodePen extends UIElement {\n  template() {\n    return /*html*/`\n    <form class='codepen' action=\"https://codepen.io/pen/define\" method=\"POST\" target=\"_code_pen\">\n      <input type=\"hidden\" name=\"data\" ref=\"$codepen\" value=''>\n      <button type=\"submit\">\n        <div class='icon codepen'></div>\n        <div class='title'>${this.$i18n('menu.item.codepen.title')}</div>\n      </button>\n    </form>     \n    `;\n  }\n\n  [SUBMIT()]() {\n    var obj = ExportManager.generate();\n    this.refs.$codepen.val(JSON.stringify({\n      title: \"sapa - editor.easylogic.studio\",\n      description: \"https://editor.easylogic.studio\",\n      js_external: \"https://cdn.jsdelivr.net/npm/@easylogic/anipa@0.0.11/dist/main.js\",\n      ...obj\n    }))\n\n    return false;\n  }\n\n}\n","import { SUBMIT } from \"../../../util/Event\";\nimport MenuItem from \"./MenuItem\";\n\nimport ExportManager from \"../../../editor/ExportManager\";\n\nexport default class ExportJSFiddle extends MenuItem {\n  template() {\n    return /*html*/`\n      <form class='jsfiddle' action=\"https://jsfiddle.net/api/post/library/pure/\" method=\"POST\" target=\"_blank\">\n          <input type=\"hidden\" name=\"title\" ref=\"$title\" value=''>\n          <input type=\"hidden\" name=\"description\" ref=\"$description\" value=''>\n          <input type=\"hidden\" name=\"html\" ref=\"$html\" value=''>\n          <input type=\"hidden\" name=\"css\" ref=\"$css\" value=''>\n          <input type=\"hidden\" name=\"dtd\" value='html 5'>\n          <input type=\"hidden\" name=\"resources\" ref='$resources' value=\"\" />\n          <button type=\"submit\">\n              <div class='icon jsfiddle'></div>\n              <div class='title'>JSFiddle</div>\n          </button>                \n      </form>     \n    `;\n  }\n\n  [SUBMIT()]() {\n    this.refs.$title.val(\"sapa - editor.easylogic.studio\");\n    this.refs.$description.val(\"https://editor.easylogic.studio\");\n\n    var obj = ExportManager.generate();\n    var js_external = [\n      'https://cdn.jsdelivr.net/npm/@easylogic/anipa@0.0.3/dist/main.js'\n    ].join(',');\n\n    this.refs.$html.val(obj.html);\n    this.refs.$css.val(obj.css);\n    this.refs.$resources.val(js_external)\n\n    return false;\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\n \nexport default class AddRect extends MenuItem {\n  getIconString() {\n    return icon.rect;\n  }\n  getTitle() {\n    return \"1. Rect\";\n  }\n\n\n  isHideTitle() {\n    return true; \n  }  \n\n  clickButton(e) {\n\n    this.emit('addComponentType', 'rect');\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\n   \nexport default class AddCircle extends MenuItem {\n  getIconString() {\n    return icon.circle\n  }\n  getTitle() {\n    return \"2. Circle\";\n  }\n\n\n  isHideTitle() {\n    return true; \n  }  \n\n  clickButton(e) {\n\n    this.emit('addComponentType', 'circle');    \n\n  }\n\n}\n","import { editor } from \"./editor\";\n\nexport default class Sort {\n\n    static getContainer () {\n        return this.$selection.items.length === 1 ? this.$selection.currentArtboard : this.$selection.allRect;\n    }\n\n    static left () {\n\n        var x =  Sort.getContainer().screenX.value\n\n        this.$selection.each(item => {\n            item.setScreenX(x);\n        })\n\n        this.$selection.setRectCache();\n    }\n\n    static top () {\n        var y =  Sort.getContainer().screenY.value\n\n        this.$selection.each(item => {\n            item.setScreenY(y);\n        })\n\n        this.$selection.setRectCache();\n    }\n\n    static center () {\n        var container = Sort.getContainer()        \n        var x = container.screenX.value + container.width.value / 2; \n\n        this.$selection.each(item => {\n            item.setScreenXCenter(x);\n        })\n\n        this.$selection.setRectCache();\n    }\n\n    static middle () {\n        var container = Sort.getContainer()        \n        var y = container.screenY.value + container.height.value / 2;         \n\n        this.$selection.each(item => {\n            item.setScreenYMiddle(y);\n        })\n\n        this.$selection.setRectCache();\n    }    \n\n    static right () {\n        var container = Sort.getContainer()        \n        var x2 = container.screenX2.value;         \n\n        this.$selection.each(item => {\n            item.setScreenX2(x2);\n        })\n\n        this.$selection.setRectCache();\n    } \n\n\n    static bottom () {\n        var container = Sort.getContainer()        \n        var y2 = container.screenY2.value;         \n\n        this.$selection.each(item => {\n            item.setScreenY2(y2);\n        })\n\n        this.$selection.setRectCache();\n    }     \n\n    static sameWidth () {\n\n        var len = this.$selection.items.length ;\n\n        if (len == 1) {\n            // artboard 랑 크기를 맞출지 고민해보자. \n        } else if (len > 1) {\n            this.$selection.each(item => {\n                item.setScreenX(this.$selection.allRect.x.value);\n                item.width.set( this.$selection.allRect.width.value);\n            })\n\n            this.$selection.setRectCache();            \n        }\n\n\n    }\n\n    static sameHeight () {\n\n        var len = this.$selection.items.length ;\n\n        if (len == 1) {\n            // artboard 랑 크기를 맞출지 고민해보자. \n        } else if (len > 1) {\n            this.$selection.each(item => {\n                item.setScreenY(this.$selection.allRect.y.value);\n                item.height.set( this.$selection.allRect.height.value);\n            })\n\n            this.$selection.setRectCache();\n        }\n    }\n}","import MenuItem from \"./MenuItem\";\nimport Sort from \"../../../editor/Sort\";\n   \nexport default class LeftAlign extends MenuItem {\n  getIcon() {\n    return 'left';\n  }\n  getTitle() {\n    return \"Left\";\n  }\n\n  isHideTitle () {\n    return true; \n  }  \n\n  clickButton(e) {\n    Sort.left();\n    this.emit('refreshSelectionStyleView')\n    this.emit('refreshSelectionTool')\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport Sort from \"../../../editor/Sort\";\n   \nexport default class RightAlign extends MenuItem {\n  getIcon() {\n    return 'right';\n  }\n  getTitle() {\n    return \"Right\";\n  }\n\n  isHideTitle () {\n    return true; \n  }  \n\n  clickButton(e) {\n    Sort.right();\n    this.emit('refreshSelectionStyleView')\n    this.emit('refreshSelectionTool')\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport Sort from \"../../../editor/Sort\";\n   \nexport default class CenterAlign extends MenuItem {\n  getIcon() {\n    return 'center';\n  }\n  getTitle() {\n    return \"Center\";\n  }\n \n  isHideTitle () {\n    return true; \n  } \n\n  clickButton(e) {\n    Sort.center();\n    this.emit('refreshSelectionStyleView')\n    this.emit('refreshSelectionTool')\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport Sort from \"../../../editor/Sort\";\n   \nexport default class TopAlign extends MenuItem {\n  getIcon() {\n    return 'top';\n  }\n  getTitle() {\n    return \"Top\";\n  }\n\n  isHideTitle () {\n    return true; \n  }  \n\n  clickButton(e) {\n    Sort.top();\n    this.emit('refreshSelectionStyleView')\n    this.emit('refreshSelectionTool')\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport Sort from \"../../../editor/Sort\";\n   \nexport default class BottomAlign extends MenuItem {\n  getIcon() {\n    return 'bottom';\n  }\n  getTitle() {\n    return \"Bottom\";\n  }\n\n  isHideTitle () {\n    return true; \n  }  \n\n  clickButton(e) {\n    Sort.bottom();\n    this.emit('refreshSelectionStyleView')\n    this.emit('refreshSelectionTool')\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport Sort from \"../../../editor/Sort\";\n   \nexport default class MiddleAlign extends MenuItem {\n  getIcon() {\n    return 'middle';\n  }\n  getTitle() {\n    return \"middle\";\n  }\n\n  isHideTitle () {\n    return true; \n  }\n\n  clickButton(e) {\n    Sort.middle();\n    this.emit('refreshSelectionStyleView')\n    this.emit('refreshSelectionTool')\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport Sort from \"../../../editor/Sort\";\n   \nexport default class SameHeight extends MenuItem {\n  getIcon() {\n    return 'height';\n  }\n  getTitle() {\n    return \"height\";\n  }\n\n  isHideTitle () {\n    return true; \n  }\n  clickButton(e) {\n    Sort.sameHeight();\n    this.emit('refreshSelectionStyleView')\n    this.emit('refreshSelectionTool')\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport Sort from \"../../../editor/Sort\";\n   \nexport default class SameWidth extends MenuItem {\n  getIcon() {\n    return 'width';\n  }\n  getTitle() {\n    return \"width\";\n  }\n\n  isHideTitle () {\n    return true; \n  }\n\n  clickButton(e) {\n    Sort.sameWidth();\n    this.emit('refreshSelectionStyleView')\n    this.emit('refreshSelectionTool')\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\n \nexport default class CopyItem extends MenuItem {\n  getIcon() {\n    return 'copy';\n  }\n  getTitle() {\n    return \"Copy\";\n  }\n\n  clickButton(e) {\n\n      this.$selection.copy();\n\n      this.emit('refreshAll')\n      this.emit('refreshSelection');\n  }\n\n  [EVENT('refreshSelection')] () {\n    this.$el.hide();\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\n \nexport default class AddText extends MenuItem {\n  getIconString() {\n    return icon.title;\n  }\n  getTitle() { \n    return \"3. Text\";\n  }\n\n  getClassName() {\n    return 'text'\n  }\n\n  isHideTitle() {\n    return true; \n  }\n\n  clickButton(e) {\n\n    this.emit('addComponentType', 'text');\n  }\n\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\nimport { EVENT } from \"../../../util/UIElement\";\n \nexport default class ToggleRightItem extends MenuItem {\n  getIconString() {\n    return icon.dahaze;\n  }\n\n  getIcon() {\n    return 'open-right-panel'\n  }\n\n  getTitle() { \n    return \"Property\";\n  }\n\n  clickButton(e) {\n    this.emit('toggleRightPanel');\n    this.trigger('refreshMenuItem');\n  }\n\n  [EVENT('refreshMenuItem')] () {\n    this.$el.toggleClass('open', editor.openRightPanel);\n  }\n\n  [EVENT('refreshAll')] () {\n    this.trigger('refreshMenuItem')\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\n \nexport default class AddPolygon extends MenuItem {\n  getIconString() {\n    return icon.polygon;\n  }\n  getTitle() {\n    return \"Polygon\";\n  }\n\n  isHideTitle() {\n    return true; \n  }  \n\n  clickButton(e) {\n    this.emit('addPolygon');\n  }\n\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\n \nexport default class AddStar extends MenuItem {\n  getIconString() {\n    return icon.star;\n  }\n  getTitle() {\n    return \"Star\";\n  }\n\n\n  isHideTitle() {\n    return true; \n  }  \n\n  clickButton(e) {\n    this.emit('hideSubEditor');    \n    this.$selection.empty();\n    this.emit('initSelectionTool');    \n    this.emit('showPolygonEditor', 'star' );\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\n \nexport default class ThemeSwitcher extends MenuItem {\n  getIconString() {\n    return icon.color_lens;\n  }\n  getTitle() {\n    return \"Theme\";\n  }\n\n  clickButton(e) {\n    this.emit('switch.theme')\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\nimport { editor } from \"../../../editor/editor\";\n\nexport default class ExportView extends MenuItem {\n  getIconString() {\n    return icon.publish;\n  }\n  getTitle() {\n    return this.$i18n('menu.item.export.title');\n  }\n\n  clickButton(e) {\n    this.emit('show.exportView')\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\nimport { editor } from \"../../../editor/editor\";\n\nexport default class Manual extends MenuItem {\n  getIconString() {\n    return icon.note;\n  }\n  getTitle() {\n    return this.$i18n('menu.item.learn.title');\n  }\n\n  clickButton(e) {\n    window.open(\"https://www.easylogic.studio/docs/getting-started.html\", \"learn-window\");\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\n \nexport default class AddCube extends MenuItem {\n  getIconString() {\n    return icon.cube;\n  }\n  getTitle() {\n    return \"5. Cube\";\n  }\n\n  isHideTitle() {\n    return true; \n  }  \n\n  clickButton(e) {\n\n    this.emit('addComponentType', 'cube');\n  }\n\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\n \nexport default class AddImage extends MenuItem {\n\n  getIconString() {\n    return icon.photo;\n  }\n\n  getTitle() {\n    return \"4. Image\";\n  }\n\n  isHideTitle() {\n    return true; \n  }\n\n  clickButton() {\n    this.emit('addComponentType', 'image');\n  }\n\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\n \nexport default class AddPath extends MenuItem {\n  getIconString() {\n    return icon.edit;\n  }\n  getTitle() {\n    return \"6. Path\";\n  }\n\n\n  isHideTitle() {\n    return true; \n  }  \n\n  clickButton(e) {\n    this.emit('addPath')\n  }\n\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\nimport { editor } from \"../../../editor/editor\";\n\nexport default class Save extends MenuItem {\n  getIconString() {\n    return icon.storage;\n  }\n  getTitle() {\n    return this.$i18n('menu.item.save.title');\n  }\n\n  clickButton(e) {\n    this.emit('save.json')\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\nimport { editor } from \"../../../editor/editor\";\n\nexport default class Download extends MenuItem {\n  getIconString() {\n    return icon.archive;\n  }\n  getTitle() {\n    return this.$i18n('menu.item.download.title');\n  }\n\n  clickButton(e) {\n    this.emit('download.json')\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\n \nexport default class SelectTool extends MenuItem {\n  getIconString() {\n    return icon.near_me;\n  }\n  getIcon() {\n    return 'flipY'\n  }\n  getTitle() {\n    return \"1. Select a item\";\n  }\n\n\n  isHideTitle() {\n    return true; \n  }  \n\n  clickButton(e) {\n\n    this.emit('selectItem');\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\n \nexport default class AddSVGRect extends MenuItem {\n  getIconString() {\n    return icon.rect;\n  }\n  getTitle() {\n    return \"6. SVG Rect\";\n  }\n \n\n  isHideTitle() {\n    return true; \n  }  \n\n  clickButton(e) {\n    this.emit('addComponentType', 'svgrect');\n  }\n\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\n \nexport default class AddSVGCircle extends MenuItem {\n  getIconString() {\n    return icon.circle;\n  }\n  getTitle() {\n    return \"6. SVG Circle\";\n  }\n \n\n  isHideTitle() {\n    return true; \n  }  \n\n  clickButton(e) {\n    this.emit('addComponentType', 'svgcircle');\n  }\n\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\nimport { editor } from \"../../../editor/editor\";\n\nexport default class Fullscreen extends MenuItem {\n  getIconString() {\n    return icon.fullscreen;\n  }\n  getTitle() {\n    return this.$i18n('menu.item.fullscreen.title');\n  }\n\n  clickButton(e) {\n    this.emit('toggle.fullscreen')\n  }\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\n \nexport default class AddSVGTextPath extends MenuItem {\n  getIconString() {\n    return icon.text_rotate;\n  }\n  getTitle() {\n    return \"10. SVG TextPath\";\n  }\n \n\n  isHideTitle() {\n    return true; \n  }  \n\n  clickButton(e) {\n    this.emit('addComponentType', 'svgtextpath');\n  }\n\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\n \nexport default class AddCylinder extends MenuItem {\n  getIconString() {\n    return icon.cylinder;\n  }\n  getTitle() {\n    return \"5. Cylinder\";\n  }\n\n  getClassName() {\n    return 'cylinder'\n  }\n\n  isHideTitle() {\n    return true; \n  }  \n\n  clickButton(e) {\n\n    this.emit('addComponentType', 'cylinder');\n  }\n\n}\n","import MenuItem from \"./MenuItem\";\nimport icon from \"../icon/icon\";\n \nexport default class AddSVGText extends MenuItem {\n  getIconString() {\n    return icon.title;\n  }\n  getTitle() {\n    return \"SVG Text\";\n  }\n \n\n  isHideTitle() {\n    return true; \n  }  \n\n  clickButton(e) {\n    this.emit('addComponentType', 'svgtext');\n  }\n\n}\n","import MenuItem from \"./MenuItem\";\n\nexport default class LoginButton extends MenuItem {\n  getIcon() {\n    return \"github\";\n  }\n  getTitle() {\n    return \"Login\";\n  }\n\n  clickButton(e) {\n    this.emit('showLoginWindow')\n  }\n}\n","import Github from \"./Github\";\nimport ExportCodePen from \"./ExportCodePen\";\nimport ExportJSFiddle from \"./ExportJSFiddle\";\nimport AddRect from \"./AddRect\";\nimport AddCircle from \"./AddCircle\";\nimport LeftAlign from \"./LeftAlign\";\nimport RightAlign from \"./RightAlign\";\nimport CenterAlign from \"./CenterAlign\";\nimport TopAlign from \"./TopAlign\";\nimport BottomAlign from \"./BottomAlign\";\nimport MiddleAlign from \"./MiddleAlign\";\nimport SameHeight from \"./SameHeight\";\nimport SameWidth from \"./SameWidth\";\nimport CopyItem from \"./CopyItem\";\nimport AddText from \"./AddText\";\nimport ToggleRightItem from \"./ToggleRightItem\";\nimport AddPolygon from \"./AddPolygon\";\nimport AddStar from \"./AddStar\";\nimport ThemeSwitcher from \"./ThemeSwitcher\";\nimport ExportView from \"./ExportView\";\nimport Manual from \"./Manual\";\nimport AddCube from \"./AddCube\";\nimport AddImage from \"./AddImage\";\nimport AddPath from \"./AddPath\";\nimport Save from \"./Save\";\nimport Download from \"./Download\";\nimport SelectTool from \"./SelectTool\";\nimport AddSVGRect from \"./AddSVGRect\";\nimport AddSVGCircle from \"./AddSVGCircle\";\nimport Fullscreen from \"./Fullscreen\";\nimport AddSVGTextPath from \"./AddSVGTextPath\";\nimport AddCylinder from \"./AddCylinder\";\nimport AddSVGText from \"./AddSVGText\";\nimport LoginButton from \"./LoginButton\";\nimport SignButton from \"./SignButton\";\n\n\n\n\nexport default {\n  SignButton,\n  LoginButton,\n  AddSVGText,\n  AddCylinder,\n  AddSVGTextPath,\n  Fullscreen,\n  AddSVGCircle,\n  AddSVGRect,\n  SelectTool,\n  Download,\n  Save,\n  AddCube,\n  AddImage,\n  AddPath,\n  Manual,\n  ExportView,\n  ThemeSwitcher,\n  AddStar,\n  AddPolygon,\n  ToggleRightItem,\n  AddText,\n  CopyItem,\n  SameHeight,\n  SameWidth,\n  TopAlign,\n  BottomAlign,\n  MiddleAlign,\n  CenterAlign,\n  RightAlign,\n  LeftAlign,\n  AddCircle,\n  AddRect,\n  ExportJSFiddle,\n  ExportCodePen,\n  Github\n};\n","import MenuItem from \"./MenuItem\";\n\nexport default class SignButton extends MenuItem {\n  getIcon() {\n    return \"github\";\n  }\n  getTitle() {\n    return \"Sign\";\n  }\n\n  clickButton(e) {\n    this.emit('showSignWindow')\n  }\n}\n","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport menuItems from \"../menu-items/index\";\nimport { CLICK } from \"../../../util/Event\";\n\nexport default class ToolMenu extends UIElement {\n  components() {\n    return menuItems;\n  }\n\n  template() {\n    return /*html*/`\n      <div class='tool-menu '>\n        <div class='items'>\n          <div class='draw-items' ref='$items'>\n            <!--<label>CSS</label>-->\n            <SelectTool />\n            <AddRect />\n            <AddCircle />         \n            <AddText />\n            <AddImage />\n            <AddCube />\n            <AddCylinder />\n            <!-- AddSphere / -->\n            <div class='split'></div>\n            <!--<label>SVG</label>-->\n            <AddPath />\n            <AddSVGRect />\n            <AddSVGCircle />            \n            <AddSVGText />\n            <AddSVGTextPath />\n            <AddPolygon />\n            <AddStar />\n            <!-- <AddRedGL /> -->\n          </div>\n        </div>\n\n      </div>\n    `;\n  }\n\n  [EVENT('noneSelectMenu')] () {\n    var $selected = this.refs.$items.$('.selected');\n    if ($selected) {\n      $selected.removeClass('selected');\n    }\n  }\n\n  [CLICK('$items button')] (e) {\n    e.$dt.onlyOneClass('selected');\n  }\n}\n","import { Gradient } from \"./Gradient\";\nimport { ColorStep } from \"./ColorStep\";\n\nexport class StaticGradient extends Gradient {\n    getDefaultObject() {\n        return super.getDefaultObject({  \n            type: 'static-gradient', \n            static: true, \n            colorsteps: [\n                new ColorStep({color: 'red', percent: 0, index: 0}),\n                new ColorStep({color: 'red', percent: 100, index: 0})\n            ]\n        }) \n    }\n\n    toCloneObject() {\n        return {\n            ...super.toCloneObject(),\n            static: true \n        }\n    }\n\n    static create (color = 'transparent') {\n        return new StaticGradient({\n            colorsteps: [\n                new ColorStep({color, percent: 0, index: 0}),\n                new ColorStep({color, percent: 100, index: 1})\n            ]\n        })\n    }\n\n    toString () {\n        var color = this.json.colorsteps[0].color;\n        return `linear-gradient(to right, ${color} 0%, ${color} 100%)`\n    }\n\n    isStatic () { return true; }\n}\n","import { ImageResource } from \"./ImageResource\";\nimport { editor } from \"../editor\";\n\nconst IMAGE_LIST = [\"jpg\", \"jpeg\", \"png\", \"gif\", \"svg\"];\n\n// refer to https://github.com/graingert/datauritoblob/blob/master/dataURItoBlob.js\n// MIT License\nfunction dataURItoBlob(dataURI) {\n  // convert base64 to raw binary data held in a string\n  // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\n  var byteString = atob(dataURI.split(\",\")[1]);\n  // separate out the mime component\n  var mimeString = dataURI\n    .split(\",\")[0]\n    .split(\":\")[1]\n    .split(\";\")[0];\n  // write the bytes of the string to an ArrayBuffer\n  var ab = new ArrayBuffer(byteString.length);\n  var dw = new DataView(ab);\n  for (var i = 0; i < byteString.length; i++) {\n    dw.setUint8(i, byteString.charCodeAt(i));\n  }\n  // write the ArrayBuffer to a blob, and you're done\n  return new Blob([ab], { type: mimeString });\n}\n\nexport class URLImageResource extends ImageResource {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: \"url\",\n      url: \"\",\n      datauri: \"\",\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      url: this.json.url,\n      datauri: this.json.datauri\n    }\n  }\n\n  static parse(str) {\n\n    var url = str.split('(')[1].split(')')[0]\n\n    return new URLImageResource({ url })\n  }\n\n  isUrl() {\n    return true;\n  }\n\n  toString() {\n    var json = this.json;\n\n    return `url(${json.url})`;\n  }\n\n  static isImageFile(fileExt) {\n    return IMAGE_LIST.includes(fileExt);\n  }\n}\n\nexport class FileImageResource extends URLImageResource {\n  getDefaultObject() {\n    return super.getDefaultObject({ type: \"file\" });\n  }\n\n  isUrl() {\n    return false;\n  }\n  isFile() {\n    return true;\n  }\n\n  convert(json) {\n    if (!json.url && json.datauri) {\n      json.url = this.makeURL(json.datauri);\n    }\n    return json;\n  }\n\n  remove() {\n    this.removeURL();\n    super.remove();\n  }\n\n  removeURL() {\n    URL.revokeObjectURL(this.json.url);\n  }\n\n  makeURL(datauri) {\n    var file = dataURItoBlob(datauri);\n\n    return URL.createObjectURL(file);\n  }\n\n  toJSON() {\n    return {\n      type: \"file\",\n      id: this.json.id,\n      datauri: this.json.datauri\n    };\n  }\n}\n","import { Gradient } from \"./Gradient\";\nimport { isNumber, isUndefined } from \"../../util/functions/func\";\nimport { convertMatches, reverseMatches } from \"../../util/functions/parser\";\nimport { Length } from \"../unit/Length\";\nimport { ColorStep } from \"./ColorStep\";\n\nconst DEFINED_DIRECTIONS = {\n  \"0\": \"to top\",\n  \"45\": \"to top right\",\n  \"90\": \"to right\",\n  \"135\": \"to bottom right\",\n  \"180\": \"to bottom\",\n  \"225\": \"to bottom left\",\n  \"270\": \"to left\",\n  \"315\": \"to top left\"\n};\n\nconst DEFINED_ANGLES = {\n  \"to top\": \"0\",\n  \"to top right\": \"45\",\n  \"to right\": \"90\",\n  \"to bottom right\": \"135\",\n  \"to bottom\": \"180\",\n  \"to bottom left\": \"225\",\n  \"to left\": \"270\",\n  \"to top left\": \"315\"\n};\n\nexport class LinearGradient extends Gradient {\n  getDefaultObject(obj) {\n    return super.getDefaultObject({\n      type: \"linear-gradient\",\n      angle: 0,\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      angle: this.json.angle\n    }\n  }\n\n  isLinear() {\n    return true;\n  }\n  hasAngle() {\n    return true;\n  }\n\n  toString() {\n\n    if(this.colorsteps.length === 0) return '';    \n\n    var colorString = this.getColorString();\n\n    var opt = '';\n    var angle = this.json.angle || 0;\n\n    opt = angle;\n\n    if (isNumber(opt)) {\n      opt = DEFINED_DIRECTIONS[`${opt}`] || opt;\n    }\n\n    if (isNumber(opt)) {\n      opt = opt > 360 ? opt % 360 : opt;\n\n      opt = `${opt}deg`;\n    }\n\n\n    var result = `${this.json.type}(${opt}, ${colorString})`;\n\n    return result;\n  }\n\n  static toLinearGradient(colorsteps) {\n    if (colorsteps.length === 0) {\n      return \"none\";\n    }\n\n    var gradient = new LinearGradient({\n      angle: \"to right\",\n      colorsteps\n    });\n\n    return gradient + \"\";\n  }\n\n  static parse(str) {\n    var results = convertMatches(str);\n    var angle = 0;\n    var colorsteps = [];\n    results.str\n      .split(\"(\")[1]\n      .split(\")\")[0]\n      .split(\",\")\n      .map(it => it.trim())\n      .forEach((newValue, index) => {\n        if (newValue.includes(\"@\")) {\n\n          newValue = reverseMatches(newValue, results.matches);\n\n          colorsteps.push(...ColorStep.parse(newValue));\n        } else {\n\n          angle = isUndefined(DEFINED_ANGLES[newValue])\n            ? Length.parse(newValue)\n            : Length.deg(+DEFINED_ANGLES[newValue]);\n        }\n      });\n\n    return new LinearGradient({ angle: angle.value, colorsteps });\n  }\n}\n","import { LinearGradient } from \"./LinearGradient\";\n\nexport class RepeatingLinearGradient extends LinearGradient {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"repeating-linear-gradient\",\n      angle: 0\n    });\n  }\n\n  static parse(str) {\n    var linear = LinearGradient.parse(str);\n    return new RepeatingLinearGradient({\n      angle: linear.angle,\n      colorsteps: linear.colorsteps\n    });\n  }\n}\n","import { Gradient } from \"./Gradient\";\n\nimport { Length, Position } from \"../unit/Length\";\nimport { isString, clone } from \"../../util/functions/func\";\nimport { convertMatches, reverseMatches } from \"../../util/functions/parser\";\nimport { ColorStep } from \"./ColorStep\";\n\nconst DEFINED_POSITIONS = {\n  [\"center\"]: true,\n  [\"top\"]: true,\n  [\"left\"]: true,\n  [\"right\"]: true,\n  [\"bottom\"]: true\n};\n\nexport class RadialGradient extends Gradient {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: \"radial-gradient\",\n      radialType: \"ellipse\",\n      radialPosition: [Position.CENTER, Position.CENTER],\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      radialType: this.json.radialType,\n      radialPosition: clone(this.json.radialPosition)\n    }\n  }\n\n  isRadial() {\n    return true;\n  }\n\n  toString() {\n    if(this.colorsteps.length === 0) return '';        \n    var colorString = this.getColorString();\n    var json = this.json;\n    var opt = '';\n    var radialType = json.radialType;\n    var radialPosition = json.radialPosition || [\"center\", \"center\"];\n\n    radialPosition = DEFINED_POSITIONS[radialPosition]\n      ? radialPosition\n      : radialPosition.join(' ');\n\n    opt = radialPosition ? `${radialType} at ${radialPosition}` : radialType;\n\n    return `${json.type || \"radial-gradient\"}(${opt}, ${colorString})`;\n  }\n\n  static parse(str) {\n    var results = convertMatches(str);\n    var radialType = \"ellipse\";\n    var radialPosition = [Position.CENTER, Position.CENTER];\n    var colorsteps = [];\n    results.str\n      .split(\"(\")[1]\n      .split(\")\")[0]\n      .split(\",\")\n      .map(it => it.trim())\n      .forEach((newValue, index) => {\n        if (newValue.includes(\"@\")) {\n          // color 복원\n          newValue = reverseMatches(newValue, results.matches);\n\n          colorsteps.push(...ColorStep.parse(newValue));\n        } else {\n          // direction\n          if (newValue.includes(\"at\")) {\n            [radialType, radialPosition] = newValue.split(\"at\").map(it => it.trim());\n          } else {\n            radialType = newValue;\n          }\n\n          if (isString(radialPosition)) {\n            var arr = radialPosition.split(' ');\n            if (arr.length === 1) {\n              var len = Length.parse(arr[0]);\n\n              if (len.isString()) {\n                radialPosition = [len.value, len.value];\n              } else {\n                radialPosition = [len.clone(), len.clone()];\n              }\n            } else if (arr.length === 2) {\n              radialPosition = arr.map(it => {\n                var len = Length.parse(it);\n                return len.isString() ? len.value : len.clone();\n              });\n            }\n          }\n        }\n      });\n\n    return new RadialGradient({ radialType, radialPosition, colorsteps });\n  }\n}\n","import { RadialGradient } from \"./RadialGradient\";\n\nexport class RepeatingRadialGradient extends RadialGradient {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"repeating-radial-gradient\"\n    });\n  }\n\n  static parse(str) {\n    var radial = RadialGradient.parse(str);\n\n    return new RepeatingRadialGradient({\n      radialType: radial.radialType,\n      radialPosition: radial.radialPosition,\n      colorsteps: radial.colorsteps\n    });\n  }\n}\n","import { Gradient } from \"./Gradient\";\n\nimport {\n  isNotUndefined,\n  isString,\n  isUndefined,\n  clone\n} from \"../../util/functions/func\";\nimport { ColorStep } from \"./ColorStep\";\nimport { Length, Position } from \"../unit/Length\";\nimport { convertMatches, reverseMatches } from \"../../util/functions/parser\";\n\nconst DEFINED_POSITIONS = {\n  [\"center\"]: true,\n  [\"top\"]: true,\n  [\"left\"]: true,\n  [\"right\"]: true,\n  [\"bottom\"]: true\n};\n\nconst DEFINED_ANGLES = {\n  \"to top\": 0,\n  \"to top right\": 45,\n  \"to right\": 90,\n  \"to bottom right\": 135,\n  \"to bottom\": 180,\n  \"to bottom left\": 225,\n  \"to left\": 270,\n  \"to top left\": 315\n};\n\nexport class ConicGradient extends Gradient {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: \"conic-gradient\",\n      angle: 0,\n      radialPosition: [Position.CENTER, Position.CENTER],\n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      angle: this.json.angle,\n      radialPosition: clone(this.json.radialPosition)\n    }\n  }\n\n  isConic() {\n    return true;\n  }\n  hasAngle() {\n    return true;\n  }\n\n  getColorString() {\n    if(this.colorsteps.length === 0) return '';    \n    var colorsteps = this.colorsteps;\n    if (!colorsteps) return '';\n\n    colorsteps.sort((a, b) => {\n      if (a.percent == b.percent) return 0;\n      return a.percent > b.percent ? 1 : -1;\n    });\n\n    var newColors = colorsteps.map((c, index) => {\n      c.prevColorStep = c.cut && index > 0 ? colorsteps[index - 1] : null;\n      return c;\n    });\n\n    return newColors\n      .map(f => {\n        var deg = Math.floor(f.percent * 3.6);\n        var prev = '';\n\n        if (f.cut && f.prevColorStep) {\n          var prevDeg = Math.floor(f.prevColorStep.percent * 3.6);\n          prev = `${prevDeg}deg`;\n        }\n        return `${f.color} ${prev} ${deg}deg`;\n      })\n      .join(\",\");\n  }\n\n  toString() {\n    var colorString = this.getColorString();\n\n    var opt = [];\n    var json = this.json;\n\n    var conicAngle = json.angle;\n    var conicPosition = json.radialPosition || Position.CENTER;\n\n    conicPosition = DEFINED_POSITIONS[conicPosition]\n      ? conicPosition\n      : conicPosition.join(' ');\n\n    if (isNotUndefined(conicAngle)) {\n      conicAngle = +(DEFINED_ANGLES[conicAngle] || conicAngle);\n      opt.push(`from ${conicAngle}deg`);\n    }\n\n    if (conicPosition) {\n      opt.push(`at ${conicPosition}`);\n    }\n\n    var optString = opt.length ? opt.join(' ') + \",\" : '';\n\n    return `${json.type}(${optString} ${colorString})`;\n  }\n\n  static parse(str) {\n    var results = convertMatches(str);\n    var angle = \"0deg\"; //\n    var radialPosition = [Position.CENTER, Position.CENTER];\n    var colorsteps = [];\n    results.str\n      .split(\"(\")[1]\n      .split(\")\")[0]\n      .split(\",\")\n      .map(it => it.trim())\n      .forEach((newValue, index) => {\n        if (newValue.includes(\"@\")) {\n          // conic 은 최종 값이 deg 라  gradient 의 공통 영역을 위해서\n          // deg 르 % 로 미리 바꾸는 작업이 필요하다.\n          newValue = newValue\n            .split(' ')\n            .map(it => it.trim())\n            .map(it => {\n              if (it.includes(\"deg\")) {\n                return Length.parse(it).toPercent();\n              } else {\n                return it;\n              }\n            })\n            .join(' ');\n\n          // color 복원\n          newValue = reverseMatches(newValue, results.matches);\n\n          // 나머지는 ColorStep 이 파싱하는걸로\n          // ColorStep 은 파싱이후 colorsteps 를 리턴해줌... 배열임, 명심 명심\n          colorsteps.push(...ColorStep.parse(newValue));\n        } else {\n          // direction\n          if (newValue.includes(\"at\")) {\n            // at 이 있으면 radialPosition 이 있는 것임\n            [angle, radialPosition] = newValue.split(\"at\").map(it => it.trim());\n          } else {\n            // at 이 없으면 radialPosition 이 center, center 로 있음\n            angle = newValue;\n          }\n\n          if (isString(radialPosition)) {\n            var arr = radialPosition.split(' ');\n            if (arr.length === 1) {\n              var len = Length.parse(arr[0]);\n\n              if (len.isString()) {\n                radialPosition = [len.value, len.value];\n              } else {\n                radialPosition = [len.clone(), len.clone()];\n              }\n            } else if (arr.length === 2) {\n              radialPosition = arr.map(it => {\n                var len = Length.parse(it);\n                return len.isString() ? len.value : len;\n              });\n            }\n          }\n\n          if (isString(angle)) {\n            if (angle.includes(\"from\")) {\n              angle = angle.split(\"from\")[1];\n\n              angle = isUndefined(DEFINED_ANGLES[angle])\n                ? Length.parse(angle)\n                : Length.deg(+DEFINED_ANGLES[angle]);\n            }\n          }\n        }\n      });\n\n    return new ConicGradient({ angle: angle.value, radialPosition, colorsteps });\n  }\n}\n","import { ConicGradient } from \"./ConicGradient\";\nimport { Position } from \"../unit/Length\";\n\nexport class RepeatingConicGradient extends ConicGradient {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"repeating-conic-gradient\",\n      angle: 0,\n      radialPosition: [Position.CENTER, Position.CENTER]\n    });\n  }\n  \n  static parse(str) {\n    var conic = ConicGradient.parse(str);\n\n    return new RepeatingConicGradient({\n      angle: conic.angle,\n      radialPosition: conic.radialPosition,\n      colorsteps: conic.colorsteps\n    });\n  }\n}\n","import { Length, Position } from \"../unit/Length\";\nimport { keyMap, combineKeyArray, keyEach, CSS_TO_STRING, isString } from \"../../util/functions/func\";\nimport { Property } from \"../items/Property\";\nimport { StaticGradient } from \"../image-resource/StaticGradient\";\nimport { URLImageResource } from \"../image-resource/URLImageResource\";\nimport { LinearGradient } from \"../image-resource/LinearGradient\";\nimport { RepeatingLinearGradient } from \"../image-resource/RepeatingLinearGradient\";\nimport { RadialGradient } from \"../image-resource/RadialGradient\";\nimport { RepeatingRadialGradient } from \"../image-resource/RepeatingRadialGradient\";\nimport { ConicGradient } from \"../image-resource/ConicGradient\";\nimport { RepeatingConicGradient } from \"../image-resource/RepeatingConicGradient\";\nimport { Gradient } from \"../image-resource/Gradient\";\nimport { convertMatches, reverseMatches } from \"../../util/functions/parser\";\n\n\nconst RepeatList = [\"repeat\", \"no-repeat\", \"repeat-x\", \"repeat-y\"];\nconst reg = /((linear\\-gradient|repeating\\-linear\\-gradient|radial\\-gradient|repeating\\-radial\\-gradient|conic\\-gradient|repeating\\-conic\\-gradient|url)\\(([^\\)]*)\\))/gi;\n\nexport class BackgroundImage extends Property {\n  addImageResource(imageResource) {\n    this.clear(\"image-resource\");\n    return this.addItem(\"image-resource\", imageResource);\n  }\n\n  addGradient(gradient) {\n    return this.addImageResource(gradient);\n  }\n\n  setImageUrl(data) {\n    if (!data.images) return;\n    if (!data.images.length) return;\n    this.reset({ \n      type: \"image\", \n      image: BackgroundImage.createImage(data.images[0]) \n    });\n  }\n\n  static createImage(url) {\n    return new URLImageResource({ url });\n  }\n\n  setGradient(data) {\n    this.reset({\n      type: data.type,\n      image: BackgroundImage.createGradient(data, this.json.image)\n    });\n  }\n\n  static createGradient(data, gradient) {\n    const colorsteps = data.colorsteps || gradient.colorsteps;\n\n    // linear, conic 은 angle 도 같이 설정한다.\n    const angle = data.angle || gradient.angle;\n\n    // radial 은  radialType 도 같이 설정한다.\n    const radialType = data.radialType || gradient.radialType;\n    const radialPosition = data.radialPosition || gradient.radialPosition;\n\n    let json = gradient.toJSON();\n    delete json.itemType;\n    delete json.type;\n\n    switch (data.type) {\n      case \"static-gradient\":\n        return new StaticGradient({ ...json, colorsteps });\n        break;\n      case \"linear-gradient\":\n        return new LinearGradient({ ...json, colorsteps, angle });\n      case \"repeating-linear-gradient\":\n        return new RepeatingLinearGradient({ ...json, colorsteps, angle });\n      case \"radial-gradient\":\n        return new RadialGradient({\n          ...json,\n          colorsteps,\n          radialType,\n          radialPosition\n        });\n      case \"repeating-radial-gradient\":\n        return new RepeatingRadialGradient({\n          ...json,\n          colorsteps,\n          radialType,\n          radialPosition\n        });\n      case \"conic-gradient\":\n        return new ConicGradient({\n          ...json,\n          colorsteps,\n          angle,\n          radialPosition\n        });\n      case \"repeating-conic-gradient\":\n        return new RepeatingConicGradient({\n          ...json,\n          colorsteps,\n          angle,\n          radialPosition\n        });\n    }\n\n    return new Gradient();\n  }\n\n  getDefaultObject() {\n    return super.getDefaultObject({\n      itemType: \"background-image\",\n      checked: false,\n      blendMode: \"normal\",\n      size: \"auto\",\n      repeat: \"repeat\",\n      width: Length.percent(100),\n      height: Length.percent(100),\n      x: Length.percent(0),\n      y: Length.percent(0),\n      image: new StaticGradient()\n    });\n  }\n\n  toCloneObject() {\n    var json = this.json; \n    return {\n      ...super.toCloneObject(),\n      checked: json.checked,\n      blendMode: json.blendMode,\n      size: json.size,\n      repeat: json.repeat,\n      width: json.width + '',\n      height: json.height + '',\n      x: json.x + '',\n      y: json.y + '',\n      image: json.image.clone()\n    }\n  }\n\n  convert(json) {\n    json.x = Length.parse(json.x);\n    json.y = Length.parse(json.y);\n\n    if (json.width) json.width = Length.parse(json.width);\n    if (json.height) json.height = Length.parse(json.height);\n\n    if (isString(json.image)) {\n      json.image = BackgroundImage.parseImage(json.image);\n    }\n\n    return json;\n  }\n\n  get image() {\n    return this.json.image;\n  }\n\n  set image(image) {\n    this.json.image = image;\n  }\n\n  checkField(key, value) {\n    if (key === \"repeat\") {\n      return RepeatList.includes(value);\n    }\n\n    return super.checkField(key, value);\n  }\n\n  toBackgroundImageCSS() {\n    if (!this.json.image) return {};\n    return {\n      \"background-image\": this.json.image.toString()\n    };\n  }\n\n\n  toBackgroundPositionCSS() {\n    var json = this.json;\n\n    return {\n      \"background-position\": `${json.x} ${json.y}`\n    };\n  }\n\n  toBackgroundSizeCSS() {\n    var json = this.json;\n    var backgroundSize = \"auto\";\n\n    if (json.size == \"contain\" || json.size == \"cover\") {\n      backgroundSize = json.size;\n    } else if (json.width.isPercent() && json.width.isPercent()) {\n      // 기본 사이즈가 아닌 것만 표시 (100% 100% 이 아닐 때 )\n      if (+json.width !== 100 || +json.height !== 100) {\n        backgroundSize = `${json.width} ${json.height}`;\n      }\n    } else {\n      backgroundSize = `${json.width} ${json.height}`;\n    }\n\n    return {\n      \"background-size\": backgroundSize\n    };\n  }\n\n  toBackgroundRepeatCSS() {\n    var json = this.json;\n    return {\n      \"background-repeat\": json.repeat\n    };\n  }\n\n  toBackgroundBlendCSS() {\n    var json = this.json;\n    return {\n      \"background-blend-mode\": json.blendMode\n    };\n  }\n\n  toCSS() {\n    var results = {\n      ...this.toBackgroundImageCSS(),\n      ...this.toBackgroundPositionCSS(),\n      ...this.toBackgroundSizeCSS(),\n      ...this.toBackgroundRepeatCSS(),\n      ...this.toBackgroundBlendCSS()\n    };\n\n    return results;\n  }\n\n  toString() {\n    return keyMap(this.toCSS(), (key, value) => {\n      return `${key}: ${value}`;\n    }).join(\";\");\n  }\n\n  toBackgroundCSS () {\n    var obj = this.toCSS();\n\n    return {\n      // 'background-blend-mode': obj['background-blend-mode'],\n      // 'background-size': obj['background-size'],\n      // 'background-position': obj['background-position'],\n      // 'background-repeat': obj['background-repeat'],\n      'background': `${obj['background-image']} `\n    }\n  }\n\n  static parse(obj) {\n    return new BackgroundImage(obj);\n  }\n\n  static parseImage (str) {\n    var results = convertMatches(str);\n    let image = null;\n\n    var matchResult = results.str.match(reg)\n\n    if (!matchResult) return image; \n\n    matchResult.forEach((value, index) => {\n\n      value = reverseMatches(value, results.matches);\n      if (value.includes(\"repeating-linear-gradient\")) {\n        image = RepeatingLinearGradient.parse(value);\n      } else if (value.includes(\"linear-gradient\")) {\n        image = LinearGradient.parse(value);\n      } else if (value.includes(\"repeating-radial-gradient\")) {\n        image = RepeatingRadialGradient.parse(value);\n      } else if (value.includes(\"radial\")) {\n        image = RadialGradient.parse(value);\n      } else if (value.includes(\"repeating-conic-gradient\")) {\n        image = RepeatingConicGradient.parse(value);\n      } else if (value.includes(\"conic\")) {\n        image = ConicGradient.parse(value);\n      } else if (value.includes(\"url\")) {\n        image = URLImageResource.parse(value);\n      }\n    });\n\n    return image\n  }\n\n  static changeImageType (options) {\n    switch  (options.type) {\n    case 'static-gradient':\n      return new StaticGradient(options);\n    case 'linear-gradient': \n      return new LinearGradient(options);\n    case 'repeating-linear-gradient': \n      return new RepeatingLinearGradient(options);      \n    case 'radial-gradient': \n      return new RadialGradient(options);\n    case 'repeating-radial-gradient': \n      return new RepeatingRadialGradient(options);      \n    case 'conic-gradient': \n      return new ConicGradient(options);\n    case 'repeating-conic-gradient': \n      return new RepeatingConicGradient(options);      \n    case 'image-resource':\n    case 'url':\n      return new URLImageResource(options);\n    }\n  }\n\n  static parseStyle(style) {\n    var backgroundImages = [];\n\n    if (style[\"background-image\"]) {\n      var results = convertMatches(style[\"background-image\"]);\n\n      results.str.match(reg).forEach((value, index) => {\n        let image = null;\n        value = reverseMatches(value, results.matches);\n        if (value.includes(\"repeating-linear-gradient\")) {\n          image = RepeatingLinearGradient.parse(value);\n        } else if (value.includes(\"linear-gradient\")) {\n          image = LinearGradient.parse(value);\n        } else if (value.includes(\"repeating-radial-gradient\")) {\n          image = RepeatingRadialGradient.parse(value);\n        } else if (value.includes(\"radial-gradient\")) {\n          image = RadialGradient.parse(value);\n        } else if (value.includes(\"repeating-conic-gradient\")) {\n          image = RepeatingConicGradient.parse(value);\n        } else if (value.includes(\"conic-gradient\")) {\n          image = ConicGradient.parse(value);\n        } else if (value.includes(\"url\")) {\n          image = URLImageResource.parse(value);\n        }\n\n\n\n        backgroundImages[index] = new BackgroundImage({\n          type: image.type,\n          image\n        });\n      });\n    }\n\n    if (style[\"background-repeat\"]) {\n      style[\"background-repeat\"].split(\",\").map(it => it.trim()).forEach((it, index) => {\n        if (backgroundImages[index]) {\n          backgroundImages[index].repeat = it;\n        }\n      });\n    }\n\n    if (style[\"background-blend-mode\"]) {\n      style[\"background-blend-mode\"].split(\",\").map(it => it.trim()).forEach((it, index) => {\n        if (backgroundImages[index]) {\n          backgroundImages[index].blendMode = it;\n        }\n      });\n    }\n\n    if (style[\"background-size\"]) {\n      style[\"background-size\"].split(\",\").map(it => it.trim()).forEach((it, index) => {\n        if (backgroundImages[index]) {\n          if (it == \"cover\" || it === \"contain\" || it === \"auto\") {\n            backgroundImages[index].size = it;\n          } else {\n            backgroundImages[index].size = \"auto\";\n            let [width, height] = it.split(' ');\n            backgroundImages[index].width = Length.parse(width);\n            backgroundImages[index].height = Length.parse(height);\n          }\n        }\n      });\n    }\n\n    if (style[\"background-position\"]) {\n      style[\"background-position\"].split(\",\").map(it => it.trim()).forEach((it, index) => {\n        if (backgroundImages[index]) {\n          let [x, y] = it.split(' ');\n          backgroundImages[index].x = Length.parse(x);\n          backgroundImages[index].y = Length.parse(y);\n        }\n      });\n    }\n\n    return backgroundImages;\n  }\n\n\n  static toPropertyCSS(list) {\n    var results = {};\n    list.forEach(item => {\n        keyEach(item.toCSS(), (key, value) => {\n            if (!results[key]) results[key] = [];\n            results[key].push(value);\n        });\n    });\n\n    return combineKeyArray(results);\n  }  \n\n  static join (list) {\n    return CSS_TO_STRING(BackgroundImage.toPropertyCSS(list.map(it => BackgroundImage.parse(it))))\n  }\n}\n","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { CLICK, BIND } from \"../../../util/Event\";\n\nexport default class BackgroundPositionEditor extends UIElement {\n\n    initState() { \n        return {\n            index: this.props.index,\n            x: this.props.x,\n            y: this.props.y,\n            width: this.props.width,\n            height: this.props.height,\n            repeat: this.props.repeat,\n            size: this.props.size,\n            blendMode: this.props.blendMode,\n            color: 'rgba(0, 0, 0, 1)'\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt, false);\n        this.modifyValue(opt);\n    }\n\n    modifyValue(value) {\n        this.parent.trigger(this.props.onchange, this.props.key, value, this.state.index);\n    }\n\n    setValue (obj) {\n        this.setState({\n            ...obj \n        })\n    }\n\n    [BIND('$miniView')] () {\n        return {\n            style: {\n                'background-image': 'linear-gradient(to top right, black, white)',\n                'background-repeat': this.state.repeat,\n                'background-size': '7px 7px'\n            }\n        }\n    }\n\n    template() {\n\n        return /*html*/`\n            <div class='background-position-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ${this.state.color}\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        `\n    }\n\n\n    [CLICK(\"$preview\")](e) {\n        this.viewBackgroundPositionPopup();\n    }\n\n    viewBackgroundPositionPopup() {\n        this.emit(\"showBackgroundImagePositionPopup\", {\n            changeEvent: 'changeBackgroundPositionPattern',\n            data: this.state \n        }, {\n            id: this.id\n        });\n    }\n\n\n    [EVENT(\"changeBackgroundPositionPattern\")](pattern, params) {\n        if (params.id === this.id) {\n            // this.refs.$miniView.cssText(`background-color: ${color}`);\n            this.updateData({ ...pattern })\n        }\n    }    \n}","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { CLICK, BIND } from \"../../../util/Event\";\n\nexport default class GradientSingleEditor extends UIElement {\n\n    initState() { \n        return {\n            index: this.props.index,\n            image: this.props.image,\n            color: 'rgba(0, 0, 0, 1)'\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt, false);\n        this.modifyValue(opt);\n    }\n\n    modifyValue(value) {\n        this.parent.trigger(this.props.onchange, this.props.key, value, this.state.index);\n    }\n\n    setValue (obj) {\n        this.setState({\n            ...obj \n        })\n    }\n\n    [BIND('$miniView')] () {\n        return {\n            style: {\n                'background-image': this.state.image, \n                'background-size': 'cover'\n            }\n        }\n    }\n\n    template() {\n\n        return /*html*/`\n            <div class='gradient-single-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ${this.state.color}\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        `\n    }\n\n\n    [CLICK(\"$preview\")](e) {\n        this.viewGradientPopup();\n    }\n\n    viewGradientPopup() {\n\n        this.emit(\"showGradientPickerPopup\", {\n            instance: this,\n            changeEvent: 'changeGradientSingle',\n            gradient: this.state.image \n        });\n    }\n\n    [EVENT('changeGradientSingle')] (image, params) {\n        this.updateData({ image })\n\n        this.refresh();\n      }\n}","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { BackgroundImage } from \"../../../editor/css-property/BackgroundImage\";\nimport { LOAD, CLICK, DRAGSTART, DRAGOVER, DROP, PREVENT, DEBOUNCE } from \"../../../util/Event\";\nimport icon from \"../icon/icon\";\nimport { keyEach, combineKeyArray, CSS_TO_STRING, STRING_TO_CSS, OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\nimport BackgroundPositionEditor from \"./BackgroundPositionEditor\";\nimport GradientSingleEditor from \"./GradientSingleEditor\";\nimport { LinearGradient } from \"../../../editor/image-resource/LinearGradient\";\nimport { ColorStep } from \"../../../editor/image-resource/ColorStep\";\n\n\nconst names = {\n    'image-resource': \"Image\",\n    'url': \"Image\",\n    image: \"Image\",\n    \"static-gradient\": \"Static\",\n    \"linear-gradient\": \"Linear\",\n    \"repeating-linear-gradient\": `${icon.repeat} Linear`,\n    \"radial-gradient\": \"Radial\",\n    \"repeating-radial-gradient\": `${icon.repeat} Radial`,\n    \"conic-gradient\": \"Conic\",\n    \"repeating-conic-gradient\": `${icon.repeat} Conic`\n  };\n  \n  const types = {\n    image: \"image\",\n    'image-resource': \"image\",    \n    'url': 'image',\n\n    \"static-gradient\": \"gradient\",\n    \"linear-gradient\": \"gradient\",\n    \"repeating-linear-gradient\": \"gradient\",\n    \"radial-gradient\": \"gradient\",\n    \"repeating-radial-gradient\": \"gradient\",\n    \"conic-gradient\": \"gradient\",\n    \"repeating-conic-gradient\": \"gradient\"\n  };\n\nexport default class BackgroundImageEditor extends UIElement {\n\n    components() {\n        return {\n            GradientSingleEditor,\n            BackgroundPositionEditor\n        }\n    }\n\n    initState() {\n        return {\n            hideLabel: this.props['hide-label'] === 'true' ? true: false,\n            value: this.props.value, \n            images : this.parseBackgroundImage(this.props.value)\n        }\n    }\n\n    parseBackgroundImage(str) {\n        return BackgroundImage.parseStyle(STRING_TO_CSS(str));\n    }\n\n    setValue (value) {\n        this.setState({\n            value, \n            images : this.parseBackgroundImage(value)\n        })\n    }\n\n    template () {\n        var labelClass = this.state.hideLabel ? 'hide' : '';\n        return /*html*/`\n            <div class='background-image-editor' >\n                <div class='label ${labelClass}'>\n                    <label>${this.props.title||''}</label>\n                    <div class='tools'>\n                        <button type=\"button\" ref='$add'>${icon.add} ${this.props.title ? '' : 'Add'}</button>\n                    </div>\n                </div>\n                <div class='fill-list' ref='$fillList'></div>\n            </div>\n        `\n    }\n\n\n    getColorStepList(image) {\n        switch (image.type) {\n          case \"static-gradient\":\n          case \"linear-gradient\":\n          case \"repeating-linear-gradient\":\n          case \"radial-gradient\":\n          case \"repeating-radial-gradient\":\n          case \"conic-gradient\":\n          case \"repeating-conic-gradient\":\n            return this.getColorStepString(image.colorsteps);\n        }\n    \n        return '';\n    }\n\n    getColorStepString(colorsteps) {\n        return colorsteps\n            .map((step, index) => {\n                return /*html*/`\n                    <div class='step' data-index=\"${index}\" data-cut=\"${step.cut}\" data-selected='${step.selected}'>\n                        <div class='color-view' style='background-color:${step.color};'></div>\n                    </div>\n                `;\n            })\n            .join('');\n    }\n    \n\n    [LOAD('$fillList')] () {\n        return this.state.images.map((it, index) => {\n            var image = it.image;\n\n            var backgroundType = types[image.type];\n            var backgroundTypeName = names[image.type];\n\n            const selectedClass = it.selected ? \"selected\" : \"\";\n      \n            if (it.selected) {\n              this.selectedIndex = index;\n            }\n      \n            return /*html*/`\n            <div class='fill-item ${selectedClass}' data-index='${index}' ref=\"fillIndex${index}\"  draggable='true' data-fill-type=\"${backgroundType}\" >\n                <BackgroundPositionEditor ${OBJECT_TO_PROPERTY({\n                    key: 'background-position',\n                    index,\n                    ref: `$bp${index}`,\n                    x: it.x,\n                    y: it.y,\n                    width: it.width,\n                    height: it.height,\n                    repeat: it.repeat,\n                    size: it.size,\n                    blendMode: it.blendMode     \n                })} onchange='changePattern' />\n                <GradientSingleEditor ${OBJECT_TO_PROPERTY({\n                    index,\n                    ref: `$gse${index}`,                    \n                    image: it.image,\n                    key: 'background-image'\n                })} onchange='changePattern'\n\n                />\n                <div class='fill-info'>\n                  <div class='gradient-info'>\n                    <div class='fill-title' ref=\"fillTitle${index}\">${backgroundTypeName}</div>\n                    <div class='colorsteps' ref=\"colorsteps${index}\">\n                      ${this.getColorStepList(image)}\n                    </div>\n                    <div class='tools'>\n                      <button type=\"button\" class='remove' data-index='${index}'>${icon.remove2}</button>\n                    </div>\n                  </div>\n                </div>\n            </div>\n            `;\n        });\n    }\n\n    modifyBackgroundImage () {\n        var value = CSS_TO_STRING(BackgroundImage.toPropertyCSS(this.state.images));\n\n        this.parent.trigger(this.props.onchange, this.props.key, value)\n    }\n\n    [EVENT('add')] () {\n\n        this.state.images.push(new BackgroundImage({\n            image: new LinearGradient({\n                angle: 90,\n                colorsteps: [\n                    new ColorStep({ percent: 0, color: 'white', index: 0}),\n                    new ColorStep({ percent: 100, color: 'black', index: 1})\n                ]\n            })\n        }));\n\n        this.refresh();\n\n        this.modifyBackgroundImage();        \n    }\n\n    [CLICK('$add')] () {\n\n        this.trigger('add')\n    }\n\n\n    [DRAGSTART(\"$fillList .fill-item\")](e) {\n        this.startIndex = +e.$dt.attr(\"data-index\");\n    }\n\n    [DRAGOVER(\"$fillList .fill-item\") + PREVENT](e) {}\n\n\n    sortItem(arr, startIndex, targetIndex) {\n        arr.splice(\n          targetIndex + (startIndex < targetIndex ? -1 : 0),\n          0,\n          ...arr.splice(startIndex, 1)\n        );\n    }\n\n    sortBackgroundImage(startIndex, targetIndex) {\n        this.sortItem(this.state.images, startIndex, targetIndex);\n    }\n\n    [DROP(\"$fillList .fill-item\") + PREVENT](e) {\n        var targetIndex = +e.$dt.attr(\"data-index\");\n\n\n        this.selectItem(this.startIndex, true);\n\n        this.sortBackgroundImage(this.startIndex, targetIndex);\n\n        this.refresh();\n\n        // this.viewFillPopup(this.getRef(\"preview\", this.selectedIndex));\n\n        this.modifyBackgroundImage()\n\n    }\n\n\n\n    getCurrentBackgroundImage() {\n        return this.state.images[this.selectedIndex];\n    }\n\n\n    [CLICK(\"$fillList .tools .remove\")](e) {\n        var removeIndex = +e.$dt.attr(\"data-index\");\n\n        this.state.images.splice(removeIndex, 1);\n\n        this.refresh();\n\n        this.modifyBackgroundImage()\n    }\n\n    selectItem(selectedIndex, isSelected = true) {\n        if (isSelected) {\n            this.refs[`fillIndex${selectedIndex}`].addClass(\"selected\");\n        } else {\n            this.refs[`fillIndex${selectedIndex}`].removeClass(\"selected\");\n        }\n\n        \n        this.state.images.forEach((it, index) => {\n            it.selected = index === selectedIndex;\n        });\n        \n    }\n\n    [EVENT(\"selectFillPopupTab\")](type, data) {\n        var typeName = types[type];\n        var $fillItem = this.refs[`fillIndex${this.selectedIndex}`];\n        $fillItem.attr(\"data-fill-type\", typeName);\n    }\n\n    [EVENT('changePattern')] (key, value, params) {\n        var index = +params;\n        var image = this.state.images[index];\n\n        image.reset(value);\n\n        this.modifyBackgroundImage();\n        this.refresh();\n    }\n}","\nimport { Length } from \"../unit/Length\";\nimport { Property } from \"../items/Property\";\nimport { convertMatches } from \"../../util/functions/parser\";\n\nexport class BoxShadow extends Property {\n  static parse(obj) {\n    return new BoxShadow(obj);\n  }\n\n  static parseStyle (str) {\n\n      var boxShadows = [];\n\n      if (!str) return boxShadows;\n\n      var results = convertMatches(str);\n\n      boxShadows = results.str.split(\",\").filter(it => it.trim()).map(shadow => {\n        var values = shadow.split(\" \");\n\n        var insets = values.filter(it => it === \"inset\");\n        var colors = values\n          .filter(it => it.includes(\"@\"))\n          .map(it => {\n            return results.matches[+it.replace(\"@\", \"\")].color;\n          });\n\n        var numbers = values.filter(it => {\n          return it !== \"inset\" && !it.includes(\"@\");\n        });\n\n        return BoxShadow.parse({\n          inset: !!insets.length,\n          color: colors[0] || \"rgba(0, 0, 0, 1)\",\n          offsetX: Length.parse(numbers[0] || \"0px\"),\n          offsetY: Length.parse(numbers[1] || \"0px\"),\n          blurRadius: Length.parse(numbers[2] || \"0px\"),\n          spreadRadius: Length.parse(numbers[3] || \"0px\")\n        });\n      });\n  \n      return boxShadows;\n  }\n\n  static join (list) {\n    return list.map(it => BoxShadow.parse(it)).join(', ');\n  }\n\n  getDefaultObject() {\n    return super.getDefaultObject({\n      itemType: \"box-shadow\",\n      inset: false,\n      offsetX: Length.px(0),\n      offsetY: Length.px(0),\n      blurRadius: Length.px(0),\n      spreadRadius: Length.px(0),\n      color: \"rgba(0, 0, 0, 1)\"\n    });\n  }\n\n  toCloneObject() {\n    var json = this.json; \n    return {\n      ...super.toCloneObject(),\n      inset: json.inset,\n      offsetX: json.offsetX + \"\",\n      offsetY: json.offsetY + \"\",\n      blurRadius: json.blurRadius + \"\",\n      spreadRadius: json.spreadRadius + \"\",\n      color: json.color \n    }\n  }\n\n  convert(json) {\n\n    json = super.convert(json);\n\n    json.offsetX = Length.parse(json.offsetX);\n    json.offsetY = Length.parse(json.offsetY);\n    json.blurRadius = Length.parse(json.blurRadius);\n    json.spreadRadius = Length.parse(json.spreadRadius);\n\n    return json \n  }\n\n  toCSS() {\n    return {\n      \"box-shadow\": this.toString()\n    };\n  }\n\n  toString() {\n    var json = this.json;\n\n    return `${json.inset ? \"inset \" : ''}${json.offsetX} ${\n      json.offsetY\n    } ${json.blurRadius} ${json.spreadRadius} ${json.color}`;\n  }\n}\n","import { CLICK, LOAD } from \"../../../util/Event\";\nimport UIElement, { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\nimport { BoxShadow } from \"../../../editor/css-property/BoxShadow\";\nimport { editor } from \"../../../editor/editor\";\n\nconst i18n = editor.initI18n('boxshadow.editor')\n\nexport default class BoxShadowEditor extends UIElement {\n\n  initState() {\n    return {\n      hideLabel: this.props['hide-label'] === 'true' ? true : false,\n      boxShadows: BoxShadow.parseStyle(this.props.value || '')\n    }\n  }\n\n  template() {\n    var labelClass = this.state.hideLabel ? 'hide' : '';\n    return /*html*/`\n      <div class=\"box-shadow-editor\" >\n        <div class='label ${labelClass}' >\n            <label>${this.props.title||''}</label>\n            <div class='tools'>\n              <button type=\"button\" ref=\"$add\" title=\"add Box Shadow\">${icon.add}</button> ${this.props.title ? '': 'Add'}\n            </div>\n        </div>\n        <div class='box-shadow-list' ref='$shadowList'></div>\n      </div>\n    `;\n  }\n\n  [LOAD(\"$shadowList\")]() {\n    var arr = this.state.boxShadows.map((shadow, index) => {\n      return /*html*/`\n        <div class=\"shadow-item real\" data-index=\"${index}\">\n          <div class=\"color\">\n            <div class='color-view' style=\"background-color: ${shadow.color}\">\n            </div>\n          </div>\n          <div class=\"inset\" data-value=\"${shadow.inset}\">${icon.check}</div>\n          <div class=\"offset-x\">${shadow.offsetX}</div>\n          <div class=\"offset-y\">${shadow.offsetY}</div>\n          <div class=\"blur-radius\">${shadow.blurRadius}</div>\n          <div class=\"spread-radius\">${shadow.spreadRadius}</div>\n          <div class=\"tools\">\n            <button type=\"button\" class=\"remove\" data-index=\"${index}\">\n              ${icon.remove2}\n            </button>\n          </div>\n        </div>\n      `;\n    });\n\n    if (arr.length) {\n      arr.push(/*html*/`\n      <div class=\"shadow-item desc\">\n        <div class=\"color\"></div>      \n        <div class=\"inset\" >Inset</div>\n\n        <div class=\"offset-x\">X</div>\n        <div class=\"offset-y\">Y</div>\n        <div class=\"blur-radius\">${i18n('blur')}</div>\n        <div class=\"spread-radius\">${i18n('spread')}</div>\n        <div class=\"tools\">\n        </div>\n      </div>\n      `);\n    }\n\n\n    return arr.join('');\n  }\n\n  [EVENT('refreshSelection')]() {\n    this.refresh();\n  }\n\n  modifyBoxShadow () {\n    var value = this.state.boxShadows.join(', ');\n\n    this.parent.trigger(this.props.onchange, value)\n  }\n\n  [EVENT('add')] () {\n    this.state.boxShadows.push(new BoxShadow())\n\n    this.refresh();\n\n    this.modifyBoxShadow()\n  }\n\n  [CLICK(\"$add\")]() {\n    this.trigger('add');\n  }\n\n  [CLICK(\"$shadowList .remove\")](e) {\n    var index = +e.$dt.attr(\"data-index\");\n\n    this.state.boxShadows.splice(index, 1);\n\n    this.refresh();\n\n    this.modifyBoxShadow()\n\n    this.emit('hideBoxShadowPropertyPopup')\n  }\n\n\n  [CLICK(\"$shadowList .shadow-item.real > div:not(.tools)\")](e) {\n    var index = +e.$dt.closest('shadow-item').attr(\"data-index\");\n\n    var shadow = this.state.boxShadows[index]\n\n    this.viewShadowPopup(shadow, index);\n  }\n\n  viewShadowPopup(shadow, index) {\n    this.selectedIndex = index;\n\n    this.viewBoxShadowPropertyPopup(shadow);\n  }\n\n  viewBoxShadowPropertyPopup(shadow) {\n    this.emit(\"showBoxShadowPropertyPopup\", {\n      changeEvent: 'changeBoxShadowEditorPopup',\n      color: shadow.color,\n      inset: shadow.inset,\n      offsetX: shadow.offsetX,\n      offsetY: shadow.offsetY,\n      blurRadius: shadow.blurRadius,\n      spreadRadius: shadow.spreadRadius\n    }, { id: this.id });\n\n  }\n\n  [EVENT(\"changeBoxShadowEditorColor\")](color) {\n    this.trigger('changeBoxShadowEditorPopup', { color })\n  }\n\n  [EVENT(\"changeBoxShadowEditorPopup\")](data, params) {\n\n    if (params.id === this.id) {\n      var shadow = this.state.boxShadows[this.selectedIndex]\n      if (shadow) {\n        shadow.reset(data)\n        this.refresh();\n  \n        this.modifyBoxShadow();      \n      }\n    }\n  }\n}\n","import UIElement from \"../../../util/UIElement\";\nimport { LOAD, CHANGE, BIND } from \"../../../util/Event\";\n\nexport default class SelectEditor extends UIElement {\n\n    initState() {\n        var keyValueChar = this.props['key-value-char'] || ':'\n        var splitChar = this.props.split || ',';\n        var options = (this.props.options || '').split(splitChar).map(it => it.trim());\n\n        var value = this.props.value;\n\n        return {\n            keyValueChar,\n            splitChar,\n            label: this.props.label || '',\n            options, value\n        }\n    }\n\n    template() {\n        var { label } = this.state; \n        var hasLabel = !!label ? 'has-label' : ''\n        return /*html*/`\n            <div class='select-editor ${hasLabel}'>\n                ${label ? `<label>${label}</label>` : '' }\n                <select ref='$options'></select>\n            </div>\n        `\n    }\n\n    getValue () {\n        return this.refs.$options.value; \n    }\n\n    setValue (value) {\n        this.state.value = value + ''; \n        this.refs.$options.val(this.state.value);\n        this.refresh()\n    }\n\n    refresh(reload = false) {\n        this.load();\n    }\n\n    [BIND('$options')] () {\n        return {\n            'data-count': this.state.options.length.toString()\n        }\n    }\n\n    [LOAD('$options')] () {\n\n        var arr = this.state.options.map(it => {\n\n            var value = it; \n            var label = it; \n\n            if (value.includes(this.state.keyValueChar)) {\n                var [value, label] = value.split(this.state.keyValueChar)\n            }\n\n            if (label === '') {\n                label = this.props['none-value'] ? this.props['none-value'] : ''\n            } else if (label === '-') {\n                label = '----------'\n                value = ''; \n            }\n            var selected = value === this.state.value ? 'selected' : '' \n            return `<option ${selected} value=\"${value}\">${label}</option>`\n        })\n\n        return arr; \n    }\n\n    setOptions (options = '') {\n        this.setState({ \n            options: options.split(this.state.splitChar).map(it => it.trim()) \n        })\n    }\n\n    [CHANGE('$options')] () {\n        this.updateData({\n            value: this.refs.$options.value \n        })\n    }\n\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n}","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { LOAD, INPUT, CLICK, FOCUS, BLUR } from \"../../../util/Event\";\nimport icon from \"../icon/icon\";\nimport SelectEditor from \"./SelectEditor\";\nimport { OBJECT_TO_CLASS, OBJECT_TO_PROPERTY, isUndefined } from \"../../../util/functions/func\";\n\nexport default class RangeEditor extends UIElement {\n\n    components() {\n        return {\n            SelectEditor\n        }\n    }\n\n    initState() {\n        var units = this.props.units || 'px,em,%';\n        var value = Length.parse(this.props.value || Length.px(0));\n\n        return {\n            removable: this.props.removable === 'true',\n            calc:  this.props.calc === 'true'  ? true : false,\n            label: this.props.label || '',\n            min: +this.props.min || 0,\n            max: +this.props.max || 100,\n            step: +this.props.step || 1,\n            key: this.props.key,\n            params: this.props.params || '',\n            layout: this.props.layout || '',\n            units,\n            type: (value.unit === 'calc' || value.unit === 'var') ? 'calc' : 'range',\n            value\n        }\n    }\n\n    template () {\n        return `<div class='small-editor' ref='$body'></div>`\n    }\n\n    refresh() {\n        this.load();\n    }\n\n    [LOAD('$body')] () {\n\n        var { min, max, step, label, calc, type, removable, layout } = this.state\n\n        var value = +this.state.value.value.toString()\n\n        if (isNaN(value)) {\n            value = 0\n        }\n\n        var layoutClass = layout;\n\n        var realValue = (+value).toString();\n\n        return /*html*/`\n        <div ${OBJECT_TO_PROPERTY({\n            'data-selected-type': type,\n            'ref': '$range',\n            'class': OBJECT_TO_CLASS({\n                'range-editor': true,\n                'has-label': !!label,\n                'has-calc': calc,\n                'is-removable': removable,\n                [layoutClass] : true \n            })\n        })}>\n            ${label ? `<label>${label}</label>` : '' }\n            <button type='button' class='type-button' ref='$toggleType'>${icon.autorenew}</button>\n            <div class='range-editor-type' data-type='range'>\n                <input type='range' ref='$property' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" /> \n                <div class='area' ref='$rangeArea'>\n                    <input type='number' ref='$propertyNumber' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" />\n                    <SelectEditor ref='$unit' key='unit' value=\"${this.state.selectedUnit || this.state.value.unit}\" options=\"${this.state.units}\" onchange='changeUnit' />\n                </div>\n            </div>\n            <div class='range-editor-type' data-type='calc'>\n                <div class='area'>\n                    <SelectEditor ref='$varType' key='varType' value=\"${this.state.value.unit}\" options=\"calc,var\" onchange='changeVarType' />\n\n                    <input type='text' ref='$calc' value='${this.state.value}' />\n                </div>\n            </div>\n            <button type='button' class='remove thin' ref='$remove' title='Remove'>${icon.remove}</button>\n        </div>\n    `\n    }\n\n    getValue() {\n        return this.state.value.clone(); \n    }\n\n    setValue (value) {\n        this.setState({\n            value: Length.parse(value)\n        })\n    }\n\n    [FOCUS('$propertyNumber')] (e) {\n        this.refs.$rangeArea.addClass('focused');\n    }\n\n    [BLUR('$propertyNumber')] (e) {\n        this.refs.$rangeArea.removeClass('focused');\n    }    \n\n    [CLICK('$toggleType')] (e) {\n\n        var type = this.state.type === 'calc' ? 'range' : 'calc';\n        var value = '' \n        if (type === 'calc') {\n            value = Length.calc(this.refs.$calc.value) \n\n            var varType = value.unit;\n\n            this.children.$varType.setValue(varType);\n            \n        } else {\n            var value = this.getRef('$propertyNumber').value; \n            var unit = this.children.$unit.getValue();\n            value = new Length(value, unit) \n        }\n\n        this.updateData({\n            type, value \n        }) \n\n        this.refs.$range.attr('data-selected-type', type);\n    }\n\n    [CLICK('$remove')] (e) {\n        this.updateData({\n            value: ''\n        })\n    }\n\n    [INPUT('$calc')] () {\n        this.updateData({ \n            value: new Length(this.refs.$calc.value, this.children.$varType.getValue()) \n        });\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n\n    updateCalc () {\n        this.refs.$calc.val(this.state.value);\n    }\n\n    initValue () {\n        if (this.state.value == '') {\n            this.state.value = new Length(0, this.children.$unit.getValue())\n        }\n        \n    }\n\n    [INPUT('$propertyNumber')] (e) {\n\n        var value = +this.getRef('$propertyNumber').value; \n        this.getRef('$property').val(value);\n        \n        this.initValue()\n\n        this.updateData({ \n            value: new Length(value, this.children.$unit.getValue())\n        });\n\n        this.updateCalc()\n    }\n\n\n    [INPUT('$property')] (e) {\n        var value = +this.getRef('$property').value; \n        this.getRef('$propertyNumber').val(value);\n\n        this.initValue();\n\n        this.updateData({ \n            value: new Length(value, this.children.$unit.getValue())\n        });\n\n        this.updateCalc()\n    }\n\n    [EVENT('changeUnit')] (key, value) {\n\n        this.initValue();\n\n        this.updateData({\n            value: this.state.value.toUnit(value)\n        })\n\n        this.updateCalc()\n    }\n\n    [EVENT('changeVarType')] (key, unit) {\n        this.updateData({\n            value: new Length(this.refs.$calc.value, unit)\n        })\n    }\n}","import { Length } from \"../unit/Length\";\n\nexport default class BorderRadius {\n    static parseStyle (str) {\n        \n        var obj = {\n            isAll: true,\n            'border-radius': Length.px(0),\n            'border-top-left-radius': Length.px(0),\n            'border-top-right-radius': Length.px(0),\n            'border-bottom-right-radius': Length.px(0),\n            'border-bottom-left-radius': Length.px(0)\n        }\n\n        var temp = {} \n        var arr = str.split(' ').filter(it => Length.parse(it))\n\n        if (arr.length === 1) {\n            obj.isAll = true; \n            obj['border-radius'] = arr[0]\n        } else {\n            obj.isAll = false; \n            obj['border-top-left-radius'] = arr[0];\n            obj['border-top-right-radius'] = arr[1];\n            obj['border-bottom-right-radius'] = arr[2];\n            obj['border-bottom-left-radius'] = arr[3];\n        }\n\n        return obj; \n    }\n}","import { CLICK, INPUT, CHANGE, LOAD } from \"../../../util/Event\";\nimport icon from \"../icon/icon\";\nimport UIElement, { EVENT } from \"../../../util/UIElement\";\nimport RangeEditor from \"./RangeEditor\";\nimport BorderRadius from \"../../../editor/css-property/BorderRadius\";\nimport { editor } from \"../../../editor/editor\";\n\nconst typeList = [\n  { key: \"border-top-left-radius\", title: \"topLeft\" },\n  { key: \"border-top-right-radius\", title: \"topRight\" },\n  { key: \"border-bottom-right-radius\", title: \"bottomRight\" },\n  { key: \"border-bottom-left-radius\", title: \"bottomLeft\" }  \n];\n\nconst keyList = typeList.map(it => it.key);\n\nconst i18n = editor.initI18n('border.radius.editor');\n\nexport default class BorderRadiusEditor extends UIElement {\n  components() {\n    return {\n      RangeEditor\n    }\n  }\n  initState() {\n\n    return BorderRadius.parseStyle(this.props.value)\n  }\n\n  template() {\n    return `<div class='border-radius-editor' ref='$body'></div>`\n  }\n\n  [EVENT('changeBorderRadius')] (key, value) {\n\n    if (key === 'border-radius') {\n      keyList.forEach(type => {\n        this.children[`$${type}`].setValue(value.clone())\n      });\n    }\n\n    this.setBorderRadius()\n  }\n\n  [LOAD('$body')] () {\n\n    var selectedValue = this.state.isAll ? 'all' : 'partitial'\n    var borderRadius = this.state['border-radius'];\n\n    return /*html*/`\n      <div class=\"property-item border-radius-item\">\n        <div class=\"radius-selector\" data-selected-value=\"${selectedValue}\" ref=\"$selector\">\n          <button type=\"button\" data-value=\"all\">${icon.border_all}</button>\n          <button type=\"button\" data-value=\"partitial\">\n            ${icon.border_inner}\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <RangeEditor ref='$all' key='border-radius' value=\"${borderRadius}\" onchange='changeBorderRadius' />\n        </div>\n      </div>\n      <div\n        class=\"property-item full border-radius-item\"\n        ref=\"$partitialSetting\"\n        style=\"display: none;\"\n      >\n        <div class=\"radius-setting-box\" ref=\"$radiusSettingBox\">\n          ${typeList.map(it => {\n            var value = this.state[it.key]\n            var label = i18n(it.title);\n            return /*html*/`\n              <div>\n                  <RangeEditor ref='$${it.key}' label='${label}' key='${it.key}' value='${value}' onchange='changeBorderRadius' />\n              </div>  \n            `;\n          }).join('')}\n        </div>\n      </div>\n    `;\n  }\n\n  [INPUT(\"$radiusSettingBox input\")](e) {\n    this.setBorderRadius();\n  }\n\n  [CHANGE(\"$radiusSettingBox select\")](e) {\n    this.setBorderRadius();\n  }\n\n  setBorderRadius() {\n    var type = this.refs.$selector.attr(\"data-selected-value\");\n\n    if (type === \"all\") {\n      this.state.isAll = true; \n      this.state['border-radius'] = this.children[`$all`].getValue();\n    } else {\n\n      this.state.isAll = false; \n      keyList.forEach(key => {\n        this.state[key] = this.children[`$${key}`].getValue();\n      });\n    }\n\n    this.modifyBorderRadius();\n  }\n\n  modifyBorderRadius () {\n    var value = '';\n\n    if (this.state.isAll) {\n      value = this.state['border-radius'] + ''\n    } else {\n      value = keyList.map(key => `${this.state[key]}`).join(' ')\n    }\n\n    this.parent.trigger(this.props.onchange, value);\n  }\n\n  [CLICK(\"$selector button\")](e) {\n    var type = e.$dt.attr(\"data-value\");\n    this.refs.$selector.attr(\"data-selected-value\", type);\n\n    if (type === \"all\") {\n      this.refs.$partitialSetting.hide();\n    } else {\n      this.refs.$partitialSetting.show(\"grid\");\n    }\n\n    this.setBorderRadius();\n  }\n\n\n}\n","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { CLICK, BIND } from \"../../../util/Event\";\n\nexport default class ColorSingleEditor extends UIElement {\n\n    initState() { \n        return {\n            params: this.props.params,\n            color: this.props.color || 'rgba(0, 0, 0, 1)'\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt, false);\n        this.modifyColor();\n    }\n\n    modifyColor() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.color, this.state.params);\n    }\n\n    changeColor (color) {\n        this.setState({ color })\n    }\n\n    setValue (color) {\n        this.changeColor(color);\n    }\n\n    [BIND('$miniView')] () {\n        return {\n            style: {\n                'background-color': this.state.color\n            }\n        }\n    }\n\n    template() {\n\n        return /*html*/`\n            <div class='color-single-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ${this.state.color}\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        `\n    }\n\n\n    [CLICK(\"$preview\")](e) {\n        this.viewColorPicker();\n    }\n\n    viewColorPicker() {\n        this.emit(\"showColorPickerPopup\", {\n            changeEvent: 'changeColorSingleEditor',\n            color: this.state.color\n        }, {\n            id: this.id\n        });\n    }\n\n\n    [EVENT(\"changeColorSingleEditor\")](color, data) {\n        if (data.id === this.id) {\n            this.refs.$miniView.cssText(`background-color: ${color}`);\n            this.updateData({ color })\n        }\n    }    \n}","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { CLICK, INPUT, BIND, FOCUS, BLUR } from \"../../../util/Event\";\nimport icon from \"../icon/icon\";\n\nexport default class ColorViewEditor extends UIElement {\n\n    initState() {\n        return {\n            removable: this.props.removable === 'true',            \n            label: this.props.label,\n            value: this.props.value || 'rgba(0, 0, 0, 1)'\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt);\n        this.modifyColor();\n    }\n\n    getValue () {\n        return this.state.value; \n    }\n\n    setValue (value) {\n        this.changeColor(value)\n    }\n\n    modifyColor() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params);\n    }\n\n    changeColor (value) {\n        this.setState({ value })\n        this.refs.$miniView.cssText(`background-color: ${value}`);\n        this.refs.$colorCode.val(value);\n    }\n\n    refresh () {\n        this.refs.$miniView.cssText(`background-color: ${this.state.value}`);\n        this.refs.$colorCode.val(this.state.value);\n    }\n\n    template() {\n        var { label, removable } = this.state;\n        var hasLabel = !!label ? 'has-label' : ''\n        var isRemovable = removable ? 'is-removable' : '';        \n        return /*html*/`\n            <div class='color-view-editor ${hasLabel} ${isRemovable}'>\n                ${label ? `<label>${label}</label>` : '' }            \n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ${this.state.value}\" ref='$miniView'></div>\n                    </div>\n                </div>\n                <div class='color-code'>\n                    <input type=\"text\" ref='$colorCode' value='${this.state.value}' />\n                </div>\n                <button type='button' class='remove' ref='$remove' title='Remove'>${icon.remove}</button>                \n            </div>\n        ` \n    }\n\n    [BIND('$miniView')] () {\n        return {\n            style: {\n                'background-color': this.state.value\n            }\n        }\n    }\n\n    [BIND('$colorCode')] () {\n        return {\n            value: this.state.value\n        }\n    }\n\n    [FOCUS('$colorCode')] (e) {\n        this.refs.$colorCode.addClass('focused');\n    }\n\n    [BLUR('$colorCode')] (e) {\n        this.refs.$colorCode.removeClass('focused');\n    }\n\n    [CLICK(\"$preview\")](e) {\n        this.viewColorPicker();\n    }\n\n    viewColorPicker() {\n        this.emit(\"showColorPickerPopup\", {\n            changeEvent: 'changeColorViewEditor',\n            color: this.state.value\n        }, {\n            id: this.id\n        });\n    }\n\n\n    [CLICK('$remove')] (e) {\n        this.updateData({ value: ''})\n    }    \n\n    [INPUT(\"$el .color-code input\")](e) {\n        var color = e.$dt.value;\n        this.refs.$miniView.cssText(`background-color: ${color}`);\n\n        this.updateData({ value: color })\n    }\n\n    [EVENT(\"changeColorViewEditor\")](color, data) {\n        if (data.id === this.id) {\n            this.refs.$miniView.cssText(`background-color: ${color}`);\n            this.refs.$colorCode.val(color);\n    \n            this.updateData({ value: color })\n        }\n    }\n\n}","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\nimport { CLICK, POINTERSTART, MOVE, END } from \"../../../util/Event\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { formatCubicBezier, createBezierForPattern, bezierList, getPredefinedCubicBezier } from \"../../../util/functions/bezier\";\n\n\nexport default class CubicBezierEditor extends UIElement {\n\n    initState() {\n        return {\n            key: this.props.key,\n            currentBezier: getPredefinedCubicBezier( this.props.value || 'linear'),\n            currentBezierIndex: 0,\n            selectedColor: '#609de2',\n            animatedColor: '#609de266',\n            curveColor: '#609de2',\n            baseLineColor: 'rgba(117, 117, 117, 0.46)'\n        }\n    }\n\n    template () {\n        return /*html*/`\n            <div class='cubic-bezier-editor'>\n                <div class='predefined'>\n                    <div class='left' ref='$left'>${icon.chevron_left}</div>\n                    <div class='predefined-text' ref='$text'></div>\n                    <div class='right' ref='$right'>${icon.chevron_right}</div>\n                </div>\n                <div class='animation'>\n                    <canvas \n                        class='animation-canvas' \n                        ref='$animationCanvas' \n                        title='Click and Replay point animation' \n                        width='230px' \n                        height='20px'\n                    ></canvas>\n                </div>\n                <div class='item-list' ref='$itemList' data-selected-value=''>\n                    <div class='item' data-bezier='ease' title='ease'>\n                        <canvas class='item-canvas' ref='$item1Canvas' width=\"30px\" height=\"30px\"></canvas>\n                    </div>\n                    <div class='item' data-bezier='ease-in' title='ease-in'>\n                        <canvas class='item-canvas' ref='$item2Canvas' width=\"30px\" height=\"30px\"></canvas>\n                    </div>\n                    <div class='item' data-bezier='ease-out' title='ease-out'>\n                        <canvas class='item-canvas' ref='$item3Canvas' width=\"30px\" height=\"30px\"></canvas>\n                    </div>\n                </div>\n                <div class='bezier'>\n                    <canvas class='bezier-canvas' ref='$canvas' width='200px' height=\"200px\"></canvas>\n                    <div class='control' ref='$control'>\n                        <div class='pointer1' ref='$pointer1'></div>\n                        <div class='pointer2' ref='$pointer2'></div>\n                    </div>\n                </div>\n            </div>\n        `\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt);\n        this.modifyCubicBezier();\n    }\n\n    modifyCubicBezier () {\n        this.emit(this.props.onchange, this.state.key, formatCubicBezier(this.state.currentBezier))\n    }\n\n    [CLICK('$left')] () {\n        var { currentBezier, currentBezierIndex} = this.state;\n\n        if (currentBezierIndex == 0) {\n            currentBezierIndex = bezierList.length - 1;\n        }  else {\n            --currentBezierIndex;\n        }\n\n        var currentBezier = bezierList[currentBezierIndex]\n\n        this.updateData({ currentBezierIndex, currentBezier })\n\n        this.refresh();\n    }\n\n    [CLICK('$right')] (){\n        var { currentBezier, currentBezierIndex} = this.state;\n\n        currentBezierIndex = (++currentBezierIndex) % bezierList.length;\n        currentBezier = bezierList[currentBezierIndex];\n\n        this.updateData({ currentBezierIndex, currentBezier })\n\n        this.refresh();\n    }\n\n    [CLICK('$text')] () {\n        var currentBezier =  [...bezierList[this.state.currentBezierIndex]]\n\n        this.updateData({ currentBezier });\n        this.refresh();\n    }\n\n    [CLICK('$itemList .item')] (e) {\n        var bezierString = e.$dt.attr('data-bezier');\n        this.refs.$itemList.attr('data-selected-value', bezierString)\n\n        var currentBezier = getPredefinedCubicBezier(bezierString)\n        this.updateData({\n            currentBezier\n        })\n\n        this.refresh();\n    }\n\n    refresh() {\n        this.refreshPointer()\n        this.refreshEasingText();\n        this.refreshBezierCanvas();\n    }\n\n    refreshBezierCanvas () {\n        this.drawBezierCanvas(this.refs.$canvas, this.state.currentBezier, true)\n    }\n\n    drawBezierCanvas($canvas, currentBezier, isDrawPointer = false) {\n        currentBezier = getPredefinedCubicBezier(currentBezier)\n        $canvas.update(() => {\n            var left = isDrawPointer ? 30 : 0; \n            var top = isDrawPointer ? 30 : 0; \n            var width = $canvas.width() - left * 2;\n            var height = $canvas.height() - top * 2;\n            var context = $canvas.context();\n\n            context.lineWidth = 1;\n            context.strokeStyle = this.state.baseLineColor;\n    \n            context.beginPath();\n            context.moveTo(left, height + top);\n            context.lineTo(width + left, top);\n            context.stroke();\n            context.closePath();\n    \n            context.strokeStyle = this.state.selectedColor;\n    \n            context.beginPath();\n            context.moveTo(left, height + top);\n            context.lineTo(\n                currentBezier[0] * width + left, \n                (currentBezier[1] == 0 ? height : (1 - currentBezier[1]) * height) + top\n            );\n            context.moveTo(width + left, top);\n            context.lineTo(\n                currentBezier[2] * width + left, \n                (currentBezier[3] == 1 ? 0 : (1 - currentBezier[3] ) * height) + top\n            );\n            context.stroke();\n            context.closePath();\n    \n            context.lineWidth = 2;\n            context.strokeStyle = this.state.curveColor;\n            \n            var x1 = currentBezier[0] * width\n            var y1 = currentBezier[1] == 0 ? height : (1 - currentBezier[1]) * height \n            var x2 = currentBezier[2] * width\n            var y2 = currentBezier[3] == 1 ? 0 : (1 - currentBezier[3] ) * height\n            var x = width\n            var y = 0\n\n            context.beginPath();\n            context.moveTo(left , top + height);   \n            context.bezierCurveTo( \n                left + x1, top + y1,\n                left + x2, top + y2, \n                left + x, top + y \n            );\n            context.stroke();\n        })\n\n        if (isDrawPointer) {\n            this.drawPoint()\n        }\n\n    }\n\n    refreshEasingText() {\n        this.refs.$text.html(this.state.currentBezier[4] || 'ease');\n    }\n\n    refreshPointer () {\n        var currentBezier = getPredefinedCubicBezier(this.state.currentBezier)\n        var width = this.refs.$control.width();\n        var height = this.refs.$control.height();\n\n        var left = currentBezier[0] * width;\n        var top = (1 - currentBezier[1]) * height;\n\n        this.refs.$pointer1.css({\n            left: Length.px(left),\n            top : Length.px(top)\n        });\n\n        left = currentBezier[2] * width ;\n        top = (1 - currentBezier[3]) * height;\n\n        this.refs.$pointer2.css({\n            left: Length.px(left),\n            top : Length.px(top)\n        })\n    }\n\n    drawPoint () {\n\n        if (this.timer) clearTimeout(this.timer);\n        if (this.animationTimer) clearTimeout(this.animationTimer);\n\n        this.timer = setTimeout(() =>{\n            this.animationPoint ();\n        }, 100);\n    }\n\n\n    start (i) {\n\n        var pos = this.animationCanvasData.func(i);\n        var x = 10 + (this.animationCanvasData.width - 20) * pos.y;       \n        var y = 10\n        var context = this.animationCanvasData.context;\n\n\n\n        context.beginPath();\n        context.arc(x, y, 5, 0, 2 * Math.PI);\n        context.fill();\n        context.stroke();\n        context.closePath();\n\n        if (i >= 1) {\n            return;\n        }\n\n        this.animationTimer = setTimeout(() => { \n            this.start(i + 0.05); \n        }, 50);\n    }\n\n    animationPoint () {\n        const currentBezier = getPredefinedCubicBezier(this.state.currentBezier);\n        var func = createBezierForPattern(formatCubicBezier(currentBezier));    \n\n        this.refs.$animationCanvas.clear();\n        var width = this.refs.$animationCanvas.width();\n        var height = this.refs.$animationCanvas.height();\n\n        var context = this.refs.$animationCanvas.context();\n        context.fillStyle = this.state.animatedColor;\n        context.strokeStyle = this.state.selectedColor;\n        context.lineWidth = 1;\n\n        this.animationCanvasData = {\n            func, \n            width, \n            height,\n            context\n        }\n\n\n        this.start(0);\n\n\n    }\n\n\n    setPosition($pointer, e) {\n        var width = this.refs.$control.width();\n        var height = this.refs.$control.height();\n\n        var minX = this.refs.$control.offset().left;\n        var minY = this.refs.$control.offset().top;\n\n        var p = e;\n\n        var x = p.x;\n        if (0 > x) {\n            x = 0;\n        } else if (p.x > document.body.clientWidth) {\n            x = document.body.clientWidth;            \n        }\n\n        x -= minX;\n\n        if (x < 0) {\n            x = 0; \n        }\n\n        if (width < x) {\n            x = width; \n        }\n\n        var y = p.y;\n        if (0 > y) {\n            y = 0;\n        } else if (p.y > document.body.clientHeight) {\n            y = document.body.clientHeight;\n        }\n\n        y -= minY;\n\n        $pointer.css({\n            left: x + 'px',\n            top : y + 'px'\n        });\n\n        return { \n            x : div(x, width), \n            y : (y == height ) ? 0 : (height-y) / height \n        };\n    }\n\n    [POINTERSTART('$pointer1') + MOVE('movePointer1') + END('drawPoint')] (e) {\n        this.clientX = e.clientX\n        this.clientY = e.clientY\n    }\n\n    movePointer1 (dx, dy) {\n        var pos = this.setPosition(this.refs.$pointer1, {\n            x: this.clientX + dx,\n            y: this.clientY + dy \n        });\n\n        this.state.currentBezier[0] = pos.x;\n        this.state.currentBezier[1] = pos.y;\n\n        this.refreshBezierCanvas();\n\n        this.modifyCubicBezier();\n    }\n\n    [POINTERSTART('$pointer2') + MOVE('movePointer2') + END('drawPoint')] (e) {\n        this.clientX = e.clientX\n        this.clientY = e.clientY\n    }\n    movePointer2(dx, dy) {\n\n        var pos = this.setPosition(this.refs.$pointer2, {\n            x: this.clientX + dx,\n            y: this.clientY + dy \n        });\n\n        this.state.currentBezier[2] = pos.x;\n        this.state.currentBezier[3] = pos.y;\n\n        this.refreshBezierCanvas();\n\n        this.modifyCubicBezier();\n\n    }\n\n    [EVENT('showCubicBezierEditor')] (data) {\n        var currentBezier = getPredefinedCubicBezier(data.timingFunction || this.state.currentBezier)\n        this.setState({ currentBezier })\n        this.refresh();\n        this.drawBezierCanvas(this.refs.$item1Canvas, 'ease')\n        this.drawBezierCanvas(this.refs.$item2Canvas, 'ease-in')\n        this.drawBezierCanvas(this.refs.$item3Canvas, 'ease-out')\n    }\n}","import { Length } from \"../unit/Length\";\nimport { Property } from \"../items/Property\";\nimport { convertMatches } from \"../../util/functions/parser\";\nconst FILTER_REG = /((blur|drop\\-shadow|hue\\-rotate|invert|brightness|contrast|opacity|saturate|sepia)\\(([^\\)]*)\\))/gi;\nexport class Filter extends Property {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({ \n      itemType: \"filter\", \n      ...obj \n    });\n  }\n\n  toString() {\n    return `${this.json.type}(${this.json.value || \"\"})`;\n  }\n\n  static parse (obj) {\n    var FilterClass = FilterClassName[obj.type];\n\n    if (FilterClass) {\n      return new FilterClass(obj);\n    } else {\n      return new URLSvgFilter({\n        value: obj.type \n      });\n    }\n  }  \n\n  static parseStyle (filter) {\n\n    var filters = [];\n\n    if (!filter) return filters;\n\n    var results = convertMatches(filter);\n    var matches = (results.str.match(FILTER_REG) || []);\n    matches.forEach((value, index) => {\n      var [filterName, filterValue] = value.split(\"(\");\n      filterValue = filterValue.split(\")\")[0];\n\n      if (filterName === \"drop-shadow\") {\n        var arr = filterValue.split(\" \");\n        var colors = arr\n          .filter(it => it.includes(\"@\"))\n          .map(it => {\n            return results.matches[+it.replace(\"@\", \"\")].color;\n          });\n        var values = arr.filter(it => !it.includes(\"@\"));\n\n        // drop-shadow 값 설정\n        filters[index] = Filter.parse({\n          type: filterName,\n          offsetX: Length.parse(values[0]),\n          offsetY: Length.parse(values[1]),\n          blurRadius: Length.parse(values[2]),\n          color: colors[0] || \"rgba(0, 0, 0, 1)\"\n        });\n      } else {\n        // drop shadow 제외한 나머지 값 지정\n        filters[index] = Filter.parse({\n          type: filterName,\n          value: Length.parse(filterValue)\n        });\n      }\n    });\n    return filters;\n  }\n\n  static join (list) {\n    return list.map(it => Filter.parse(it)).join(' ');\n  }\n\n}\n\nexport class BlurFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"blur\",\n      value: BlurFilter.spec.defaultValue\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      value: Length.parse(this.json.value)\n    }\n  }\n}\n\nBlurFilter.spec = {\n  title: \"Blur\",\n  inputType: \"range\",\n  min: 0,\n  max: 100,\n  step: 1,\n  unit: 'px',\n  units: [\"px\", \"em\"],\n  defaultValue: Length.px(0)\n};\n\nexport class URLSvgFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"svg\",\n      value: URLSvgFilter.spec.defaultValue\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      value: Length.parse(this.json.value) \n    }\n  }\n\n  toString() {\n    return `url(#${this.json.value || \"\"})`;\n  }\n}\n\nURLSvgFilter.spec = {\n  title: \"SVG\",\n  inputType: \"select\",\n  defaultValue: ''\n};\n\nexport class GrayscaleFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"grayscale\",\n      value: GrayscaleFilter.spec.defaultValue\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      value: Length.parse(this.json.value) \n    }\n  }\n}\n\nGrayscaleFilter.spec = {\n  title: \"Grayscale\",\n  inputType: \"range\",\n  min: 0,\n  max: 100,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(0)\n};\n\nexport class HueRotateFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"hue-rotate\",\n      value: HueRotateFilter.spec.defaultValue\n    });\n  }\n}\n\nHueRotateFilter.spec = {\n  title: \"Hue\",\n  inputType: \"range\",\n  min: 0,\n  max: 360,\n  step: 1,\n  unit: 'deg',\n  units: [\"deg\"],\n  defaultValue: Length.deg(0)\n};\n\nexport class InvertFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"invert\",\n      value: InvertFilter.spec.defaultValue\n    });\n  }\n}\n\nInvertFilter.spec = {\n  title: \"Invert\",\n  inputType: \"range\",\n  min: 0,\n  max: 100,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(0)\n};\n\nexport class BrightnessFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"brightness\",\n      value: BrightnessFilter.spec.defaultValue\n    });\n  }\n}\n\nBrightnessFilter.spec = {\n  title: \"Brightness\",\n  inputType: \"range\",\n  min: 0,\n  max: 200,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(100)\n};\n\nexport class ContrastFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"contrast\",\n      value: ContrastFilter.spec.defaultValue\n    });\n  }\n}\n\nContrastFilter.spec = {\n  title: \"Contrast\",\n  inputType: \"range\",\n  min: 0,\n  max: 200,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(100)\n};\n\nexport class OpacityFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"opacity\",\n      value: OpacityFilter.spec.defaultValue\n    });\n  }\n}\n\nOpacityFilter.spec = {\n  title: \"Opacity\",\n  inputType: \"range\",\n  min: 0,\n  max: 100,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(100)\n};\n\nexport class SaturateFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"saturate\",\n      value: SaturateFilter.spec.defaultValue\n    });\n  }\n}\n\nSaturateFilter.spec = {\n  title: \"Saturate\",\n  inputType: \"range\",\n  min: 0,\n  max: 100,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(100)\n};\n\nexport class SepiaFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"sepia\",\n      value: SepiaFilter.spec.defaultValue\n    });\n  }\n}\n\nSepiaFilter.spec = {\n  title: \"Sepia\",\n  inputType: \"range\",\n  min: 0,\n  max: 100,\n  step: 1,\n  unit: '%',\n  units: [\"%\"],\n  defaultValue: Length.percent(0)\n};\n\nexport class DropshadowFilter extends Filter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"drop-shadow\",\n      multi: true,\n      offsetX: DropshadowFilter.spec.offsetX.defaultValue,\n      offsetY: DropshadowFilter.spec.offsetY.defaultValue,\n      blurRadius: DropshadowFilter.spec.blurRadius.defaultValue,\n      color: DropshadowFilter.spec.color.defaultValue\n    });\n  }\n\n  toString() {\n    var json = this.json;\n    return `drop-shadow(${json.offsetX} ${json.offsetY} ${json.blurRadius} ${json.color})`;\n  }\n}\n\nDropshadowFilter.spec = {\n  offsetX: {\n    title: \"Offset X\",\n    inputType: \"range\",\n    min: -100,\n    max: 100,\n    step: 1,\n    defaultValue: Length.px(0),\n    unit: 'px',\n    units: [\"px\", \"em\"]\n  },\n  offsetY: {\n    title: \"Offset Y\",\n    inputType: \"range\",\n    min: -100,\n    max: 100,\n    step: 1,\n    defaultValue: Length.px(0),\n    unit: 'px',\n    units: [\"px\", \"em\"]\n  },\n  blurRadius: {\n    title: \"Blur Radius\",\n    inputType: \"range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.px(0),\n    unit: 'px',\n    units: [\"px\", \"em\", \"%\"]\n  },\n  color: {\n    title: \"Color\",\n    inputType: \"color\",\n    defaultValue: \"rgba(0, 0, 0, 1)\",\n    unit: 'color'\n  }\n};\n\nexport const FilterClassList = [\n  BlurFilter,\n  GrayscaleFilter,\n  HueRotateFilter,\n  InvertFilter,\n  BrightnessFilter,\n  ContrastFilter,\n  OpacityFilter,\n  SaturateFilter,\n  SepiaFilter,\n  DropshadowFilter,\n  URLSvgFilter\n];\n\nexport const FilterClassName = {\n  blur: BlurFilter,\n  grayscale: GrayscaleFilter,\n  \"hue-rotate\": HueRotateFilter,\n  invert: InvertFilter,\n  brightness: BrightnessFilter,\n  contrast: ContrastFilter,\n  opacity: OpacityFilter,\n  saturate: SaturateFilter,\n  sepia: SepiaFilter,\n  \"drop-shadow\": DropshadowFilter,\n  svg: URLSvgFilter\n};\n\nexport const FilterClass = {\n  BlurFilter,\n  GrayscaleFilter,\n  HueRotateFilter,\n  InvertFilter,\n  BrightnessFilter,\n  ContrastFilter,\n  OpacityFilter,\n  SaturateFilter,\n  SepiaFilter,\n  DropshadowFilter,\n  URLSvgFilter\n};\n","import icon from \"../icon/icon\";\nimport {\n  LOAD,\n  CLICK,\n  DRAGSTART,\n  DRAGOVER,\n  DROP,\n  PREVENT,\n  DEBOUNCE\n} from \"../../../util/Event\";\n\nimport {\n  BlurFilter,\n  GrayscaleFilter,\n  HueRotateFilter,\n  InvertFilter,\n  BrightnessFilter,\n  ContrastFilter,\n  DropshadowFilter,\n  OpacityFilter,\n  SaturateFilter,\n  SepiaFilter,\n  Filter,\n  URLSvgFilter\n} from \"../../../editor/css-property/Filter\";\nimport { editor } from \"../../../editor/editor\";\nimport UIElement, { EVENT } from \"../../../util/UIElement\";\nimport RangeEditor from \"./RangeEditor\";\nimport ColorViewEditor from \"./ColorViewEditor\";\nimport SelectEditor from \"./SelectEditor\";\n\n\nvar filterList = [\n  \"blur\",\n  \"grayscale\",\n  \"hue-rotate\",\n  \"invert\",\n  \"brightness\",\n  \"contrast\",\n  \"drop-shadow\",\n  \"opacity\",\n  \"saturate\",\n  \"sepia\",\n  'svg',\n];\n\nvar specList = {\n  blur: BlurFilter.spec,\n  grayscale: GrayscaleFilter.spec,\n  \"hue-rotate\": HueRotateFilter.spec,\n  invert: InvertFilter.spec,\n  brightness: BrightnessFilter.spec,\n  contrast: ContrastFilter.spec,\n  \"drop-shadow\": DropshadowFilter.spec,\n  opacity: OpacityFilter.spec,\n  saturate: SaturateFilter.spec,\n  sepia: SepiaFilter.spec,\n  svg: URLSvgFilter.spec\n};\n\nexport default class FilterEditor extends UIElement {\n\n  components() {\n    return {\n      SelectEditor,\n      RangeEditor,\n      ColorViewEditor\n    }\n  }\n\n  initState() {\n    return {\n      hideLabel: this.props['hide-label'] === 'true' ? true : false, \n      filters: Filter.parseStyle(this.props.value)\n    }\n  }\n\n  template() {\n    var labelClass = this.state.hideLabel ? 'hide' : '';\n    return /*html*/`\n      <div class='filter-editor filter-list'>\n          <div class='label ${labelClass}' >\n              <label>${this.props.title || ''}</label>\n              <div class='tools'>\n                <select ref=\"$filterSelect\"></select>\n                <button type=\"button\" ref=\"$add\" title=\"add Filter\">${icon.add}</button>\n              </div>\n          </div>\n          <div class='filter-list' ref='$filterList'></div>\n      </div>`;\n  }\n\n  [LOAD('$filterSelect')] () {\n    var list = filterList.map(it => { \n      return {title: it, value: it}\n    })\n\n    var svgFilterList = this.getSVGFilterList()\n\n    var totalList = []\n\n    if (svgFilterList.length) {\n      totalList = [\n        ...list,\n        { title: '-------' , value: ''},\n        ...svgFilterList\n      ]\n    } else {\n      totalList = [\n        ...list\n      ]\n    }\n\n    return totalList.map(it => {\n      var {title, value} = it;\n      \n      return `<option value='${value}'>${title}</option>`\n    })\n  }\n\n  getSpec(filterType) {\n    return specList[filterType];\n  }\n\n  makeDropShadowFilterTemplate(spec, filter, index) {\n    return /*html*/`\n      <div class=\"filter-item\">\n        <div class=\"title\" draggable=\"true\" data-index=\"${index}\">\n          <label>Drop Shadow</label>\n          <div class=\"filter-menu\">\n            <button type=\"button\" class=\"del\" data-index=\"${index}\">\n              ${icon.remove2}\n            </button>\n          </div>\n        </div>\n\n        <div class=\"filter-ui drop-shadow-color\">\n          <label>${spec.color.title}</label>\n          <ColorViewEditor ref='$dropShadowColorView${index}' params=\"${index}\" value=\"${filter.color}\" onChange=\"changeDropShadowColor\" />\n        </div>\n\n        ${[\"offsetX\", \"offsetY\", \"blurRadius\"].map(key => {\n          return /*html*/`        \n            <div class=\"filter-ui drop-shadow\">\n                <label>${spec[key].title}</label>\n\n                <RangeEditor \n                  ref='$${key}${index}' \n                  key=\"${index}\" \n                  min=\"${spec[key].min}\"\n                  min=\"${spec[key].max}\"\n                  params=\"${key}\" \n                  value=\"${filter[key].value}\" units=\"${spec[key].units.join(',')}\" onchange=\"changeRangeEditor\" />\n            </div>`;\n        }).join('')}\n      </div>\n    `;\n  }\n\n  getSVGFilterList () {\n     \n    var current = this.$selection.currentProject;\n    var arr = [] \n\n    if (current) {\n      arr = current.svgfilters\n        .map(it => {\n          return {\n            title : `svg - #${it.id}`,\n            value: it.id\n          }\n        })\n    }\n\n    return arr\n  }\n\n  makeOneFilterEditor (index, filter, spec) {\n\n    if (filter.type === 'svg') {\n\n      var options = ''\n      \n      var current = this.$selection.currentProject;\n\n      if (current) {\n        options = current.svgfilters.map(it => it.id)\n        options = options.length ? ',' + options.join(',') : '';\n      }\n\n      return /*html*/`\n      <SelectEditor \n        ref='$select${index}' \n        key=\"${index}\" \n        label=\"SVG Filter\"\n        value=\"${filter.value}\" \n        options=\"${options}\"\n        onchange=\"changeRangeEditor\"  />`\n    }\n\n    return /*html*/`\n      <RangeEditor \n        ref='$range${index}_${filter.type}' \n        key=\"${index}\" \n        min='${spec.min}'\n        max='${spec.max}'\n        value=\"${filter.value}\" \n        units=\"${spec.units.join(',')}\"   \n        onchange=\"changeRangeEditor\" />\n      `\n  }\n\n  makeOneFilterTemplate(spec, filter, index) {\n\n    var subtitle = filter.type === 'svg' ? ` - <span class='svg-filter-edit' data-index=\"${index}\">${filter.value}</span>` : ''; \n\n    return /*html*/`\n      <div class=\"filter-item\" data-index=\"${index}\">\n        <div class=\"title\" draggable=\"true\" data-index=\"${index}\">\n          <label>${spec.title}${subtitle}</label>\n          <div class=\"filter-menu\">\n            <button type=\"button\" class=\"del\" data-index=\"${index}\">\n              ${icon.remove2}\n            </button>\n          </div>\n        </div>\n        ${filter.type != 'svg' ? `\n          <div class=\"filter-ui\">\n            ${this.makeOneFilterEditor(index, filter, spec)}\n          </div>\n        `: ''}\n        \n      </div>\n    `;\n  }\n\n  makeFilterTemplate(filter, index) {\n    if (filter.type === \"drop-shadow\") {\n      return this.makeDropShadowFilterTemplate(\n        this.getSpec(filter.type),\n        filter,\n        index\n      );\n    } else {\n      return this.makeOneFilterTemplate(\n        this.getSpec(filter.type),\n        filter,\n        index\n      );\n    }\n  }\n\n  [LOAD(\"$filterList\")]() {\n    return this.state.filters.map((filter, index) => {\n      return this.makeFilterTemplate(filter, index.toString());\n    });\n  }\n\n\n  [DRAGSTART(\"$filterList .filter-item .title\")](e) {\n    this.startIndex = +e.$dt.attr(\"data-index\");\n  }\n\n\n  [DRAGOVER(\"$filterList .filter-item\") + PREVENT](e) {}\n\n\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n\n  sortFilter(startIndex, targetIndex) {\n      this.sortItem(this.state.filters, startIndex, targetIndex);\n  }\n\n  [DROP(\"$filterList .filter-item\") + PREVENT](e) {\n    var targetIndex = +e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    this.sortFilter(this.startIndex, targetIndex);\n\n    this.refresh();\n\n    this.modifyFilter()\n  }\n\n  modifyFilter () {\n    var value = this.state.filters.join(' ');\n\n    this.parent.trigger(this.props.onchange, value)\n  }\n\n  makeFilter(type, opt = {}) {\n    return Filter.parse({ ...opt, type });\n  }\n\n  [CLICK('$filterList .svg-filter-edit')] (e) {\n    var index = +e.$dt.attr('data-index');\n\n    var filter = this.state.filters[index];\n\n    var project = this.$selection.currentProject; \n    \n    if (project) {\n      var svgfilterIndex = project.getSVGFilterIndex(filter.value);\n\n      this.trigger('openSVGFilterPopup', svgfilterIndex);\n\n    }\n  }\n\n\n  [EVENT('openSVGFilterPopup')](index) {\n    var currentProject = this.$selection.currentProject || { svgfilters: [] } \n\n    var svgfilter = currentProject.svgfilters[index];\n\n    this.emit(\"showSVGFilterPopup\", {\n        changeEvent: 'changeSVGFilterRealUpdate',\n        index,\n        preview: false,\n        filters: svgfilter.filters \n    });\n  }\n\n\n  [EVENT('changeSVGFilterRealUpdate')] (params) {\n    var project = this.$selection.currentProject\n\n    if (project) {\n      project.setSVGFilterValue(params.index, {\n        filters: params.filters\n      });\n  \n      this.emit('refreshSVGFilterAssets');\n      this.emit('refreshSVGArea');\n    }\n  }\n\n\n  [EVENT(\"add\")](filterType) {\n\n    if (filterType === 'svg') {\n\n      this.emit('add.assets.svgfilter', (index, id) => {\n        this.state.filters.push(this.makeFilter(filterType, {\n          value: id\n        }))\n\n        this.refresh();\n    \n        this.modifyFilter()\n\n\n        this.trigger('openSVGFilterPopup', index);\n\n      })\n    } else {\n\n      this.state.filters.push(this.makeFilter(filterType))\n\n      this.refresh();\n  \n      this.modifyFilter()\n    }\n\n  }  \n\n  [CLICK(\"$add\")]() {\n    var filterType = this.refs.$filterSelect.value;\n\n    this.trigger('add', filterType)\n  }\n\n  [CLICK(\"$filterList .filter-menu .del\")](e) {\n    var index = +e.$dt.attr(\"data-index\");\n    this.state.filters.splice(index, 1);\n\n    this.refresh();\n\n    this.modifyFilter()\n  }\n\n  [EVENT(\"changeDropShadowColor\")](key, color, params) {\n    var index = +params;\n\n    this.state.filters[index].reset({\n      color\n    });\n\n    this.modifyFilter();\n\n  }\n\n  [EVENT('changeRangeEditor')] (key, value, params) {\n    if (params) {\n      this.state.filters[+key].reset({ \n        [params]: value \n      });\n    } else {\n      this.state.filters[+key].reset({ \n        value \n      });\n    }\n    \n\n    this.modifyFilter();\n  }\n\n  [EVENT('refreshCanvas') + DEBOUNCE(1000) ] () {\n    this.load('$filterSelect')\n  }\n\n  [EVENT('refreshSVGArea') + DEBOUNCE(1000)] () {\n    this.load('$filterSelect');\n    this.load('$filterList');\n  }\n}\n","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { LOAD, INPUT, CLICK, FOCUS, BLUR } from \"../../../util/Event\";\nimport icon from \"../icon/icon\";\nimport SelectEditor from \"./SelectEditor\";\nimport { OBJECT_TO_CLASS, OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\n\nexport default class InputRangeEditor extends UIElement {\n\n    components() {\n        return {\n            SelectEditor\n        }\n    }\n\n    initState() {\n        var units = this.props.units || 'px,em,%';\n        var value = Length.parse(this.props.value || Length.px(0));\n        return {\n            removable: this.props.removable === 'true',\n            calc:  this.props.calc === 'true'  ? true : false,\n            label: this.props.label || '',\n            min: +this.props.min || 0,\n            max: +this.props.max || 100,\n            step: +this.props.step || 1,\n            key: this.props.key,\n            params: this.props.params || '',\n            layout: this.props.layout || '',\n            units,\n            type: (value.unit === 'calc' || value.unit === 'var') ? 'calc' : 'range',\n            value\n        }\n    }\n\n    template () {\n        return `<div class='small-editor' ref='$body'></div>`\n    }\n\n    [LOAD('$body')] () {\n\n        var { min, max, step, label, calc, type, removable, layout } = this.state\n\n        var value = +this.state.value.value.toString()\n\n        if (isNaN(value)) {\n            value = 0\n        }\n\n        var layoutClass = layout;\n\n        var realValue = (+value).toString();\n\n        return /*html*/`\n        <div ${OBJECT_TO_PROPERTY({\n            'data-selected-type': type,\n            'ref': '$range',\n            'class': OBJECT_TO_CLASS({\n                'input-range-editor': true,\n                'has-label': !!label,\n                'has-calc': calc,\n                'is-removable': removable,\n                [layoutClass] : true \n            })\n        })}>\n            ${label ? `<label>${label}</label>` : '' }\n            <div class='range-editor-type' data-type='range'>\n                <div class='area'>\n                    <input type='number' ref='$propertyNumber' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" />\n                    \n                    <SelectEditor ref='$unit' key='unit' value=\"${this.state.selectedUnit || this.state.value.unit}\" options=\"${this.state.units}\" onchange='changeUnit' />\n                    \n                </div>\n            </div>\n            <button type='button' class='remove' ref='$remove' title='Remove'>${icon.remove}</button>\n        </div>\n    `\n    }\n\n    getValue() {\n        return this.state.value.clone(); \n    }\n\n    setValue (value) {\n        this.setState({\n            value: Length.parse(value)\n        })\n    }\n\n    [FOCUS('$propertyNumber')] (e) {\n        this.refs.$range.addClass('focused');\n    }\n\n    [BLUR('$propertyNumber')] (e) {\n        this.refs.$range.removeClass('focused');\n    }\n\n\n    [CLICK('$remove')] (e) {\n        this.updateData({\n            value: ''\n        })\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n\n    initValue () {\n        if (this.state.value == '') {\n            this.state.value = new Length(0, this.children.$unit.getValue())\n        }   \n    }\n\n    [INPUT('$propertyNumber')] (e) {\n\n        var value = +this.getRef('$propertyNumber').value; \n        \n        this.initValue()\n\n        this.updateData({ \n            value: new Length(value, this.children.$unit.getValue())\n        });\n    }\n\n    [EVENT('changeUnit')] (key, value) {\n\n        this.initValue();\n\n        this.updateData({\n            value: this.state.value.toUnit(value)\n        })\n    }\n\n    [EVENT('changeVarType')] (key, unit) {\n        this.updateData({\n            value: new Length(this.refs.$calc.value, unit)\n        })\n    }\n}","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { LOAD, CLICK, POINTERSTART, MOVE, END, BIND, PREVENT, DOUBLECLICK, CHANGE } from \"../../../util/Event\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport RangeEditor from \"./RangeEditor\";\n\nimport SelectEditor from \"./SelectEditor\";\nimport InputRangeEditor from \"./InputRangeEditor\";\nimport { BackgroundImage } from \"../../../editor/css-property/BackgroundImage\";\nimport { editor } from \"../../../editor/editor\";\nimport { Gradient } from \"../../../editor/image-resource/Gradient\";\nimport icon from \"../icon/icon\";\nimport { clone } from \"../../../util/functions/func\";\n\nvar radialTypeList = [\n  'circle',\n  'circle closest-side',\n  'circle closest-corner',\n  'circle farthest-side',\n  'circle farthest-corner',\n  'ellipse',\n  'ellipse closest-side',\n  'ellipse closest-corner',\n  'ellipse farthest-side',\n  'ellipse farthest-corner'\n]\n\nvar imageTypeList = [\n  'static-gradient',\n  'linear-gradient',\n  'repeating-linear-gradient',\n  'radial-gradient',\n  'repeating-radial-gradient',\n  'conic-gradient',\n  'repeating-conic-gradient',\n  'image-resource'\n]\n\nvar iconList = {\n  'image-resource': icon.photo\n}\n\nvar hasRadialPosition = {\n  'radial-gradient': true,\n  'repeating-radial-gradient': true,\n  'conic-gradient': true,\n  'repeating-conic-gradient': true\n}\n\nvar presetPosition = {\n  top: [ '50%', '0%' ],\n  'top left': [ '0%', '0%' ],\n  'top right': [ '100%', '0%' ],\n  left: [ '0%', '50%' ],\n  right: [ '100%', '50%' ],\n  bottom: [ '50%', '100%' ],\n  'bottom left': [ '0%', '100%' ],\n  'bottom right': [ '100%', '100%' ]\n}\n\nexport default class GradientEditor extends UIElement  {\n\n  components() {\n    return {\n      InputRangeEditor,\n      RangeEditor,\n      SelectEditor\n    }\n  }\n\n  initState() {\n\n    return {\n      index: +(this.props.index || 0 ),\n      value: this.props.value, \n      image: BackgroundImage.parseImage(this.props.value || '') || { type: '', colorsteps: [] } \n    }\n  }\n\n  setValue (value) {\n    this.setState({\n      image: BackgroundImage.parseImage(value)\n    }, false)\n\n    this.refresh();\n    this.parent.trigger('changeTabType', this.state.image.type);\n  }\n\n  template() {\n\n    var { image } = this.state; \n\n    image = image || {} \n\n    var type = image.type || 'static-gradient'\n    \n    if (type === 'url') type = 'image-resource'\n\n\n    return /*html*/`\n        <div class='gradient-editor' data-selected-editor='${type}'>\n            <div class='gradient-preview'>\n              <div class='gradient-view' ref='$gradientView'></div>\n              <div class='drag-pointer' ref='$dragPosition'></div>\n              <div class='preset-position'>\n                <div data-value='top' title='top'>${icon.chevron_right}</div>\n                <div data-value='right' title='right'>${icon.chevron_right}</div>\n                <div data-value='left' title='left'>${icon.chevron_right}</div>\n                <div data-value='bottom' title='bottom'>${icon.chevron_right}</div>\n                <div data-value='top left' title='top left'>${icon.chevron_right}</div>\n                <div data-value='top right' title='top right'>${icon.chevron_right}</div>\n                <div data-value='bottom left' title='bottom left'>${icon.chevron_right}</div>\n                <div data-value='bottom right' title='bottom right'>${icon.chevron_right}</div>                \n              </div>\n              <div data-editor='image-loader'>\n                <input type='file' accept=\"image/*\" ref='$file' />\n              </div>              \n            </div>\n            <div class=\"picker-tab\">\n              <div class=\"picker-tab-list\" ref=\"$tab\">\n                ${imageTypeList.map(it => {\n                  return `<span class='picker-tab-item ${it}' data-editor='${it}'><span class='icon'>${iconList[it] || ''}</span></span>`\n                }).join('')}\n              </div>\n            </div>\n            <div class='gradient-steps' data-editor='gradient'>\n                <div class=\"hue-container\" ref=\"$back\"></div>            \n                <div class=\"hue\" ref=\"$steps\">\n                    <div class='step-list' ref=\"$stepList\" ></div>\n                </div>\n            </div>\n            <div class='tools' data-editor='tools'>\n              <label>Offset <input type='checkbox' ref='$cut' checked />  connected</label>\n              <InputRangeEditor ref='$range' calc=\"false\" key='length' onchange='changeColorStepOffset' />\n            </div>\n            <div class='sub-editor' ref='$subEditor'> \n              <div data-editor='angle'>\n                <RangeEditor label='Angle' ref='$angle' calc=\"false\" units=\"deg\" min=\"-720\" max=\"720\" key='angle' onchange='changeKeyValue' />\n              </div>\n              <div data-editor='centerX'>\n                <RangeEditor label='Center X' ref='$radialPositionX' calc=\"false\" value=\"50%\"  key='radialPositionX' onchange='changeKeyValue' />\n              </div>                \n              <div data-editor='centerY'>                      \n                <RangeEditor label='Center Y' ref='$radialPositionY' calc=\"false\" value=\"50%\" key='radialPositionY' onchange='changeKeyValue' />\n              </div>                \n              <div data-editor='radialType'>              \n                <SelectEditor label='Radial Type' ref='$radialType' value=\"\" options=\"${radialTypeList.join(',')}\" key='radialType' onchange='changeKeyValue' />\n              </div>\n\n            </div>            \n        </div>\n      `;\n  }\n\n  [CHANGE('$file')] (e) {\n    var project = this.$selection.currentProject;\n    if (project) {\n      [...e.target.files].forEach(item => {\n        this.emit('update.asset.image', item, (local) => {\n          this.trigger('setImageUrl', local);\n        });\n      })\n    }\n  }\n\n\n  [CLICK('$el .preset-position [data-value]')] (e) {\n    var type = e.$dt.attr('data-value')\n\n    if (presetPosition[type]) {\n      this.state.image.radialPosition = clone(presetPosition[type])\n      this.refresh();\n      this.updateData();\n    }\n\n  }\n\n  [DOUBLECLICK('$gradientView') + PREVENT] (e) {\n    this.state.image.radialPosition = ['50%', '50%']\n    this.refresh();\n    this.updateData();\n  }\n\n  [POINTERSTART('$gradientView') + MOVE('moveDragPosition')]  (e) {\n    var parent = this.refs.$dragPosition.parent();\n    this.containerRect = parent.rect();\n    this.startXY = e.xy; \n\n  }\n\n  moveDragPosition (dx, dy) {\n    var x = this.startXY.x + dx; \n    var y = this.startXY.y + dy; \n\n    if (this.containerRect.x > x) {\n      x = this.containerRect.x; \n    } else if (this.containerRect.x + this.containerRect.width < x) {\n      x = this.containerRect.x + this.containerRect.width; \n    }\n\n    if (this.containerRect.y > y) {\n      y = this.containerRect.y; \n    } else if (this.containerRect.y + this.containerRect.height < y) {\n      y = this.containerRect.y + this.containerRect.height; \n    }    \n\n    var left = Length.percent((x - this.containerRect.x ) / this.containerRect.width  * 100) \n    var top = Length.percent((y - this.containerRect.y ) / this.containerRect.height  * 100) \n\n    this.state.image.radialPosition = [ left, top]\n\n    this.bindData('$dragPosition');\n    this.bindData('$gradientView')    \n    this.children.$radialPositionX.setValue(left)\n    this.children.$radialPositionY.setValue(top)\n\n    this.updateData();\n  }\n\n  [CLICK('$tab .picker-tab-item')] (e) {\n    var type = e.$dt.attr('data-editor')\n    this.$el.attr('data-selected-editor', type);\n    this.parent.trigger('changeTabType', type);\n\n    var url = type === 'image-resource' ? this.state.image.url : this.state.url;\n    this.state.image = BackgroundImage.changeImageType({\n      type,\n      url,\n      colorsteps: this.state.image.colorsteps || [] ,   \n      angle: Length.parse(this.children.$angle.getValue()).value,\n      radialType: this.children.$radialType.getValue(),\n      radialPosition: [ \n        this.children.$radialPositionX.getValue(), \n        this.children.$radialPositionY.getValue() \n      ] \n    })\n    this.refresh();\n    this.updateData();\n    this.sendMessage();\n  }\n\n  sendMessage (type) {\n    var type = this.$el.attr('data-selected-editor');\n    if (type === 'linear-gradient' || type === 'repeating-linear-gradient') {\n      this.emit('addStatusBarMessage', '');\n    } else {\n      this.emit('addStatusBarMessage', 'Drag if you want to move center position');\n    }\n  }\n\n  [EVENT('changeKeyValue')] (key, value) {\n\n    if (key === 'angle') {\n      value = value.value; \n    } \n\n    this.state.image[key] = value;\n\n    if (key === 'radialPositionX' || key === 'radialPositionY') {\n      this.state.image['radialPosition'] = [\n        this.state.image.radialPositionX || '50%', \n        this.state.image.radialPositionY || '50%'\n      ] \n    }\n\n    this.bindData('$gradientView')\n\n    this.updateData();\n  }\n\n  [EVENT('changeColorStepOffset')] (key, value) {\n    if (this.currentStep) {\n      this.currentStep.percent = value.value;\n      this.state.image.sortColorStep();\n      this.refresh()\n      this.updateData();      \n    }\n  }\n\n  [CLICK('$back')] (e) {\n    \n    var rect = this.refs.$stepList.rect();\n    \n    var minX = rect.x;\n    var maxX = rect.right;\n\n    var x = e.xy.x \n\n    if (x < minX)  x = minX\n    else if (x > maxX) x = maxX\n    var percent = (x - minX) / rect.width * 100;\n\n    this.state.image.insertColorStep(percent);\n    this.state.image.sortColorStep()\n\n    this.refresh();\n    this.updateData();\n  }\n\n  [BIND('$el')] () {\n    var type = this.state.image.type;\n    if (type === 'url') {\n      type = 'image-resource'\n    }\n    this.parent.trigger('changeTabType', type);\n    return {\n      \"data-selected-editor\": type\n    }\n  }\n\n  [BIND('$stepList')] () {\n    return {\n      'data-selected-index': this.state.index.toString(),\n      'style': {\n        'background-image' : this.getLinearGradient()\n      }\n    }\n  }\n\n  [BIND('$gradientView')] () {\n\n    var type = this.state.image.type;\n    var size = 'auto';\n\n    if (type === 'url' || type === 'image-resource') {\n      size = 'cover'\n    }\n\n    return {\n      style: {\n        'background-image': this.state.image.toString(),\n        'background-size': size,\n        'background-repeat': 'no-repeat'\n      }\n    }\n  }\n\n  [BIND('$dragPosition')] () {\n    var left = '50%'\n    var top = '50%'\n\n    if (hasRadialPosition[this.state.image.type]) {\n      var [left, top] = this.state.image.radialPosition;\n    }\n\n    return {\n      style: {\n        left, top \n      }\n    }\n  }\n\n  [LOAD('$stepList')] () {\n    var colorsteps = this.state.image.colorsteps || [] \n    return colorsteps.map( (it, index) => {\n\n      var selected = this.$selection.isSelectedColorStep(it.id) ? 'selected' : '';\n\n      return /*html*/`\n      <div class='step ${selected}' data-id='${it.id}' style='left: ${it.percent}%;'>\n        <div class='color-view' style=\"background-color: ${it.color}\"></div>\n        <div class='arrow' style=\"background-color: ${it.color}\"></div>\n      </div>`\n    })\n  }\n\n  [CLICK('$cut')] () {\n    if (this.currentStep) {\n\n      this.currentStep.cut = this.refs.$cut.checked()\n\n      this.refresh()\n      this.updateData();      \n    } \n  }\n\n  removeStep(id) {\n\n    this.state.image.removeColorStep(id);\n\n    this.refresh();\n    this.updateData();          \n  }\n\n  selectStep(id) {\n    this.state.id = id; \n\n    this.$selection.selectColorStep(id);\n\n    if (this.state.image.colorsteps) {\n      this.currentStep = this.state.image.colorsteps.find( it => this.$selection.isSelectedColorStep(it.id))\n      this.refs.$cut.checked(this.currentStep.cut);\n      this.children.$range.setValue(Length.percent(this.currentStep.percent));\n      this.parent.trigger('selectColorStep', this.currentStep.color)    \n  \n    }\n\n    this.refresh();\n\n  }\n\n  [POINTERSTART('$stepList .step') + MOVE()] (e) {\n    var id = e.$dt.attr('data-id')\n\n    if (e.altKey) {\n      this.removeStep(id);\n      return false; \n    } else {\n\n      this.selectStep(id);\n\n      this.startXY = e.xy;\n\n      this.cachedStepListRect = this.refs.$stepList.rect();\n    }\n\n  }\n\n  getStepListRect () {\n    return this.cachedStepListRect;\n  }\n\n  move (dx, dy) {\n\n    var rect = this.getStepListRect()\n    \n    var minX = rect.x;\n    var maxX = rect.right;\n\n    var x = this.startXY.x + dx \n\n    if (x < minX)  x = minX\n    else if (x > maxX) x = maxX\n    var percent = (x - minX) / rect.width * 100;\n\n\n    this.currentStep.percent = percent;\n\n    this.children.$range.setValue(Length.percent(percent));    \n    this.state.image.sortColorStep();\n    this.refresh()\n\n    this.updateData();    \n  }\n\n\n  refresh() {\n    this.load();\n  }\n\n  getLinearGradient () {\n\n    var { image } = this.state; \n\n    return `linear-gradient(to right, ${Gradient.toColorString(image.colorsteps)})`;\n\n  }\n\n  [EVENT('setColorStepColor')] (color) {\n\n    if (this.state.image.type === 'static-gradient') {\n      this.state.image.colorsteps[0].color = color; \n      this.refresh()\n      this.updateData();      \n    } else {\n\n      if (this.currentStep) {\n        this.currentStep.color = color;\n        this.refresh()\n        this.updateData();\n      }\n    }\n\n  }\n\n\n  [EVENT('setImageUrl')] (url) {\n\n    if (this.state.image) {\n      this.state.url = url; \n      this.state.image.reset({ url });\n      this.refresh();\n      this.updateData();\n    }\n  }\n\n  updateData(data = {}) {\n    this.setState(data, false);\n    this.parent.trigger(this.props.onchange, this.state.image.toString());\n  }\n\n}\n","\nimport { Length } from \"../../../editor/unit/Length\";\nimport RangeEditor from \"./RangeEditor\";\n\nexport default class IterationCountEditor extends RangeEditor {\n\n    initState() {\n        var value = this.props.value\n\n        if (value === 'infinite') {\n            value = new Length(0, 'infinite')\n        } else {\n            value = Length.number(value.split('normal')[0])\n        }\n        var units = this.props.units || 'px,em,%';\n        \n        return {\n            ...super.initState(), \n            ...{\n                key: this.props.key,\n                params: this.props.params || '',\n                units,\n                value\n            }\n        }\n    }\n\n}","import { Property } from \"../items/Property\";\nimport { html, CSS_TO_STRING, clone } from \"../../util/functions/func\";\nimport { Length } from \"../unit/Length\";\n\nexport class Offset extends Property {\n  static parse(obj) {\n    return new Offset(obj);\n  }\n\n  getDefaultObject() {\n    return super.getDefaultObject({\n      itemType: \"offset\",\n      offset: Length.percent(0),\n      color: 'rgba(255, 255, 255, 1)',\n      properties: []\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      offset: this.json.offset + \"\",\n      color: this.json.color,\n      properties: this.json.properties.map(p => {\n        return clone(p)\n      })\n    }\n  }\n\n  convert(json) {\n    json = super.convert(json)\n\n    json.offset = Length.parse(json.offset);\n    return json ;\n  }\n\n  toCSSText() {\n    return `${this.json.offset} ${CSS_TO_STRING(this.toCSS())}`\n  }\n\n  createProperty(data = {}) {\n    return this.addProperty({\n      checked: true,\n      value: Length.px(0),\n      ...data\n    });\n  } \n\n  addProperty (property) {\n    this.json.properties.push(property);\n  }\n  \n  \n  removeProperty(removeIndex) {\n    this.json.properties.splice(removeIndex, 1);\n  }    \n\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n  \n  sortProperty(startIndex, targetIndex) {\n    this.sortItem(this.json.properties, startIndex, targetIndex);\n  }     \n\n\n  updateProperty(index, data = {}) {\n    Object.assign(this.json.properties[+index], { ... data } );\n  }\n\n  updatePropertyByKey(key, data = {}) {\n    var arr = this.json.properties;\n    var index = -1; \n    for(var i = 0, len = arr.length; i < len; i++) {\n      if (this.json.properties[i].key === key) {\n        index = i; \n        break; \n      }\n    }\n    \n    Object.assign(this.json.properties[+index], { ... data } );\n  }\n\n  toCSS() {\n    var obj = {}\n\n    this.json.properties.forEach(it => {\n      obj = { ...obj, ...it.toCSS() }\n    })\n\n    return obj;\n  }\n\n  toString() {\n    return this.toCSSText()\n  }\n}\n","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { INPUT, LOAD, CLICK } from \"../../../util/Event\";\nimport icon from \"../icon/icon\";\n\nexport default class VarEditor extends UIElement {\n\n    initState() {\n        var values = this.props.value.split(';').filter(it => it.trim()).map(it => {\n            let [key, value] = it.split(':')\n            key = key.replace('--', '')\n            return {key, value}\n        });\n\n        return {\n            hideLabel: this.props['hide-label'] == 'true' ? true : false, \n            params: this.props.params || '',\n            values\n        }\n    }\n\n    template() {\n        var labelClass = this.state.hideLabel ? 'hide' : '';\n        return `\n        <div class='var-editor var-list'>\n            <div class='label ${labelClass}' >\n                <label>${this.props.title || ''}</label>\n                <div class='tools'>\n                    <button type=\"button\" ref=\"$add\" title=\"add Var\">${icon.add}</button>\n                </div>\n            </div>\n            <div class='var-list' ref='$varList'></div>\n        </div>`;\n    }\n\n    [EVENT('add')] () {\n        this.state.values.push({\n            key: '',\n            value: '' \n        })\n\n        this.refresh();\n\n        this.updateData();\n    }\n\n    [CLICK('$add')] () {\n        this.trigger('add');\n    }\n\n    [LOAD('$varList')] () {\n        return this.state.values.map( (it, index) => {\n            return `\n                <div class='var-item' >\n                    <div>\n                        <input type=\"text\" data-type=\"key\" value=\"${it.key}\" data-index=\"${index}\"  placeholder=\"variable\" />\n                    </div>\n                    <div>\n                        <input type=\"text\" data-type=\"value\" value=\"${it.value}\" data-index=\"${index}\"  placeholder=\"value\" />\n                    </div>\n                    <div class=\"tools\">\n                        <button type=\"button\" class=\"del\" data-index=\"${index}\">\n                        ${icon.remove2}\n                        </button>\n                    </div>\n                </div>\n            `\n        })\n    }\n\n    [CLICK('$varList .del')] (e) {\n        var index = +e.$dt.attr('data-index')\n\n        this.state.values.splice(index, 1);\n\n        this.refresh();\n\n        this.updateData();\n    }\n\n    [INPUT('$varList input')] (e) {\n        var index = +e.$dt.attr('data-index')\n        var type = e.$dt.attr('data-type')\n\n        this.state.values[index][type] = e.$dt.value; \n\n        this.updateData()\n    }\n\n    updateData (data) {\n        var value = this.state.values.map(it => {\n            return `${it.key}:${it.value}`\n        }).join(';')\n\n        this.parent.trigger(this.props.onchange, value, this.props.params)\n    }\n\n}","import UIElement from \"../../../util/UIElement\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { LOAD, INPUT, CLICK } from \"../../../util/Event\";\nimport icon from \"../icon/icon\";\n\nexport default class NumberInputEditor extends UIElement {\n\n    initState() {\n        var value = Length.parse(this.props.value || Length.number(0));\n\n        value = value.toUnit('number');\n        return {\n            label: this.props.label || '',\n            min: +this.props.min || 0,\n            max: +this.props.max || 100,\n            step: +this.props.step || 1,\n            key: this.props.key,\n            params: this.props.params || '',\n            layout: this.props.layout || '',\n            value\n        }\n    }\n\n    template () {\n        return `<div class='small-editor' ref='$body'></div>`\n    }\n\n    [LOAD('$body')] () {\n\n        var { min, max, step, label, type, layout } = this.state\n\n        var value = +this.state.value.value.toString()\n\n        if (isNaN(value)) {\n            value = 0\n        }\n\n        var hasLabel = !!label ? 'has-label' : ''\n        var layoutClass = layout;\n\n        var realValue = (+value).toString();\n        \n        return `\n        <div class='number-input-editor ${hasLabel} ${layoutClass}' data-selected-type='${type}'>\n            ${label ? `<label>${label}</label>` : '' }\n            <div class='range-editor-type' data-type='range'>\n                <div class='area'>\n                    <input type='number' ref='$propertyNumber' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" />\n                </div>\n            </div>\n        </div>\n    `\n    }\n\n    getValue() {\n        return this.state.value; \n    }\n\n    setValue (value) {\n        this.setState({\n            value: Length.parse(value)\n        })\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n\n    [INPUT('$propertyNumber')] (e) {\n\n        var value = +this.getRef('$propertyNumber').value; \n\n        this.updateData({ \n            value: this.state.value.set(value)\n        });\n\n    }\n}","import icon from \"../icon/icon\";\nimport {\n  LOAD,\n  CLICK,\n  DRAGSTART,\n  DRAGOVER,\n  DROP,\n  PREVENT\n} from \"../../../util/Event\";\n\nimport { Transform } from \"../../../editor/css-property/Transform\";\nimport { editor } from \"../../../editor/editor\";\nimport UIElement, { EVENT } from \"../../../util/UIElement\";\nimport RangeEditor from \"./RangeEditor\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport NumberInputEditor from \"./NumberInputEditor\";\n\nvar transformList = [\n  'perspective',  \n  'rotate',\n  'rotateX',\n  'rotateY',\n  'rotateZ',\n  'rotate3d',    \n  'skewX',    \n  'skewY',   \n  'translate',\n  'translateX',  \n  'translateY',\n  'translateZ',\n  'translate3d',\n  'scale',\n  'scaleX',\n  'scaleY',\n  'scaleZ',\n  'scale3d',\n  'matrix',\n  'matrix3d',  \n];\n\nconst labels = {\n  'scale': [ 'X', 'Y'] ,\n  'translate' : ['X', 'Y'], \n  'translate3d': ['tx','ty', 'tz'],\n  'matrix': ['a','b','c','d','tx','ty'],\n  'matrix3d': [\n    'a1', 'b1', 'c1', 'd1', \n    'a2', 'b2', 'c2', 'd2', \n    'a3', 'b3', 'c3', 'd3', \n    'a4', 'b4', 'c4', 'd4'\n  ]\n}\n\nexport default class TransformEditor extends UIElement {\n\n  components() {\n    return {\n      NumberInputEditor,\n      RangeEditor\n    }\n  }\n\n  initState() {\n    return {\n      hideLabel: this.props['hide-label'] === 'true' ? true: false, \n      transforms: Transform.parseStyle(this.props.value)\n    }\n  }\n\n  template() {\n    var labelClass = this.state.hideLabel ? 'hide' : '' \n    return /*html*/`\n      <div class='transform-editor transform-list'>\n          <div class='label ${labelClass}' >\n              <label>Transform</label>\n              <div class='tools'>\n                <select ref=\"$transformSelect\">\n                  ${transformList.map(transform => {\n                    var label = this.$i18n('css.item.' + transform)\n                    return `<option value='${transform}'>${label}</option>`;\n                  }).join('')}\n                </select>\n                <button type=\"button\" ref=\"$add\" title=\"add Transform\">${icon.add}</button>\n              </div>\n          </div>\n          <div class='transform-list' ref='$transformList'></div>\n      </div>`;\n  }\n\n  getLabel(type, index) {\n    switch(type) {\n      case 'scale':\n      case 'translate':\n      case 'translate3d':        \n      case 'matrix':\n      case 'matrix3d': \n        return labels[type][index];\n      }\n    return ''\n  }\n\n  isMultiValue (type) {\n    switch(type) {\n      case 'translate3d':        \n      case 'matrix':\n      case 'matrix3d': \n        return true;\n      }\n    return false; \n  }\n\n  getRange(type) {\n\n    switch(type) {\n      case 'translateX': \n      case 'translateY': \n      case 'translateZ': \n      case 'translate':      \n      case 'translate3d':            \n        return { min: -1000, max : 1000, step: 1, units: 'px,%,em'}\n      case 'matrix':\n      case 'matrix3d':     \n        return { min: -100, max : 100, step: 0.01,units: 'number'}\n      case 'rotateX': \n      case 'rotateY': \n      case 'rotateZ': \n      case 'rotate':  \n      case 'skewY':\n      case 'skewX':            \n        return { min: -360, max : 360, step: 0.1, units: 'deg,turn,rad'}\n      case 'perspective':\n          return { min: 0, max : 10000, step: 1, units: 'px,%,em'}\n      case 'scale': \n      case 'scaleX': \n      case 'scaleY': \n        return { min: 0, max : 10, step: 0.1,units: 'number'}           \n    }\n\n\n    return { min: 0, max : 100, step : 1,units: 'px,%,em' }\n  }\n\n  makeOneTransformTemplate(type, transform, index) {\n    return /*html*/`\n      <div class=\"transform-item\" data-index=\"${index}\">\n        <div class=\"title\" draggable=\"true\" data-index=\"${index}\">\n          <label><span>${(+index)+1}</span> ${this.$i18n('css.item.' + type)}</label>\n          <div class=\"transform-menu\">\n            <button type=\"button\" class=\"del\" data-index=\"${index}\">\n              ${icon.remove2}\n            </button>\n          </div>\n        </div>\n        <div class=\"transform-ui ${type}\">\n          <div class='${type}'>\n          ${transform.value.map( (it, tindex) => {\n\n            var label = this.getLabel(type, tindex);\n            var {min, max, step, units} = this.getRange(type);\n\n            return /*html*/`\n              <div>\n                <RangeEditor \n                      ref='$range_${type}_${index}_${tindex}' \n                      min=\"${min}\" \n                      max=\"${max}\" \n                      step=\"${step}\" \n                      label=\"${label}\"\n                      key=\"${index}\" \n                      params='${tindex}' \n                      value=\"${it}\" \n                      units=\"${units}\" \n                      onchange=\"changeRangeEditor\" />\n              </div>`\n          }).join('')}   \n          </div>       \n        </div>\n      </div>\n    `;\n  }\n\n\n\n  makeMultiTransformTemplate(type, transform, index) {\n    return /*html*/`\n      <div class=\"transform-item\" data-index=\"${index}\">\n        <div class=\"title\" draggable=\"true\" data-index=\"${index}\">\n          <label><span>${(+index)+1}</span> ${this.$i18n('css.item.' + type)}</label>\n          <div class=\"transform-menu\">\n            <button type=\"button\" class=\"del\" data-index=\"${index}\">\n              ${icon.remove2}\n            </button>\n          </div>\n        </div>\n        <div class=\"transform-ui ${type}\">\n\n          ${type === 'translate3d' ? `\n            <pre>\n  1 | 0 | 0 | tx\n  0 | 1 | 0 | ty\t\n  0 | 0 | 1 | tz\t\n  0 | 0 | 0 | 1</pre>\n          `: ''}\n\n          ${type === 'matrix' ? `\n            <pre>\n  a | c | tx\t\n  b | d | ty\t\n  0 | 0 | 1</pre>\n          `: ''}    \n          \n          ${type === 'matrix3d' ? `\n            <pre>\n  a1 | a2 | a3 | a4\t\n  b1 | b2 | b3 | b4\t\n  c1 | c2 | c3 | c4\t\n  d1 | d2 | d3 | d4</pre>\n          `: ''}     \n          \n          <div class='${type}'>\n          ${transform.value.map( (it, tindex) => {\n\n            var label = this.getLabel(type, tindex);\n            var {min, max, step, units} = this.getRange(type);\n\n            return /*html*/`\n              <div>\n                <NumberInputEditor \n                      ref='$range_${type}_${index}_${tindex}' \n                      min=\"${min}\" \n                      max=\"${max}\" \n                      step=\"${step}\" \n                      label=\"${label}\"\n                      key=\"${index}\" \n                      params='${tindex}' \n                      value=\"${it}\" \n                      units=\"${units}\" \n                      onchange=\"changeRangeEditor\" />\n              </div>`\n          }).join('')}   \n          </div>       \n        </div>\n      </div>\n    `;\n  }\n\n  makeTransformTemplate(transform, index) {\n\n    if (this.isMultiValue(transform.type)) {\n\n      return this.makeMultiTransformTemplate(\n        transform.type,\n        transform,\n        index\n      );\n    } else {\n\n      return this.makeOneTransformTemplate(\n        transform.type,\n        transform,\n        index\n      );\n    }\n\n  }\n\n  [LOAD(\"$transformList\")]() {\n    return this.state.transforms.map((transform, index) => {\n      return this.makeTransformTemplate(transform, index.toString());\n    });\n  }\n\n  [DRAGSTART(\"$transformList .transform-item .title\")](e) {\n    this.startIndex = +e.$dt.attr(\"data-index\");\n  }\n\n  [DRAGOVER(\"$transformList .transform-item\") + PREVENT](e) {}\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n\n  sortTransform(startIndex, targetIndex) {\n      this.sortItem(this.state.transforms, startIndex, targetIndex);\n  }\n\n  [DROP(\"$transformList .transform-item\") + PREVENT](e) {\n    var targetIndex = +e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    this.sortTransform(this.startIndex, targetIndex);\n\n    this.refresh();\n\n    this.modifyTransform()\n  }\n\n  modifyTransform () {\n    var value = this.state.transforms.join(' ');\n\n    this.parent.trigger(this.props.onchange, value)\n  }\n\n  getDefaultValue (type) {\n\n    switch(type) {\n      case 'translateX': \n      case 'translateY': \n      case 'translateZ': \n        return [Length.px(0)]            \n      case 'rotateX': \n      case 'rotateY': \n      case 'rotateZ': \n      case 'rotate':  \n      case 'skewY':\n      case 'skewX':\n      case 'perspective':\n        return [Length.deg(0)]            \n      case 'translate': \n        return [Length.px(0),Length.px(0)]\n      case 'translate3d': \n        return [Length.px(0),Length.px(0), Length.px(0)]        \n      case 'scale': \n        return [Length.number(1),Length.number(1)]\n      case 'scaleX': \n      case 'scaleY': \n        return [Length.number(1)]\n      case 'matrix':\n        return [\n          Length.number(1),\n          Length.number(0),\n          Length.number(0),\n          Length.number(1),\n          Length.number(0),\n          Length.number(0)          \n        ]\n      case 'matrix3d':\n        return [\n          Length.number(1),\n          Length.number(0),\n          Length.number(0),\n          Length.number(0),\n\n          Length.number(0),\n          Length.number(1),\n          Length.number(0),\n          Length.number(0),\n\n          Length.number(0),\n          Length.number(0),\n          Length.number(1),\n          Length.number(0),\n          \n          Length.number(0),\n          Length.number(0),\n          Length.number(0), \n          Length.number(1)                   \n        ]        \n    }\n\n\n    return [Length.number(0)]\n  }\n\n  makeTransform(type, opt = {}) {\n\n    var value = this.getDefaultValue(type)\n\n    return Transform.parse({ ...opt, type, value });\n  }\n\n  [EVENT('add')] (transformType) { \n    this.state.transforms.push(this.makeTransform(transformType))\n\n    this.refresh();\n\n    this.modifyTransform()\n  }\n\n  [CLICK(\"$add\")]() {\n    var transformType = this.refs.$transformSelect.value;\n\n    this.trigger('add', transformType)\n  }\n\n  [CLICK(\"$transformList .transform-menu .del\")](e) {\n    var index = +e.$dt.attr(\"data-index\");\n    this.state.transforms.splice(index, 1);\n\n    this.refresh();\n\n    this.modifyTransform()\n  }\n\n  [EVENT('changeRangeEditor')] (key, value, params) {\n    if (params) {\n      this.state.transforms[+key].value[+params] = value; \n    } else {\n      this.state.transforms[+key].reset({ \n        value \n      });\n    }\n    \n\n    this.modifyTransform();\n  }\n}\n","import { CLICK, LOAD } from \"../../../util/Event\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport icon from \"../icon/icon\";\nimport UIElement, { EVENT } from \"../../../util/UIElement\";\nimport RangeEditor from \"./RangeEditor\";\n\n\nconst typeList = [\n  { key: \"transform-origin-x\", title: \"X\" },\n  { key: \"transform-origin-y\", title: \"Y\" },\n];\n\nconst keyList = typeList.map(it => it.key);\n\nconst origin = {\n  top: '50% 0%',\n  'top left': '0% 0%' ,\n  'top right': '100% 0%' ,\n  left: '0% 50%' ,\n  center: '50% 50%',\n  right: '100% 50%' ,\n  bottom: '50% 100%' ,\n  'bottom left': '0% 100%' ,\n  'bottom right': '100% 100%'\n}\n\nexport default class TransformOriginEditor extends UIElement {\n  components() {\n    return { \n      RangeEditor\n    }\n  }\n  initState() {\n\n    var arr = this.props.value.split(' ');\n\n    var obj = {\n      isAll: false,\n      'transform-origin': Length.percent(50),\n      'transform-origin-x': Length.percent(50),\n      'transform-origin-y': Length.percent(50)\n    }\n\n    if (this.props.value) {\n\n      if (arr.length === 1) {\n        obj['isAll'] = true; \n        obj['transform-origin'] = Length.parse(arr[0]);\n        obj['transform-origin-x'] = Length.parse(arr[0]);\n        obj['transform-origin-y'] = Length.parse(arr[0]);\n      } else if (arr.length == 2) {\n        obj['isAll'] = false;       \n        obj['transform-origin-x'] = Length.parse(arr[0]);\n        obj['transform-origin-y'] = Length.parse(arr[1]);\n      }\n    }\n\n\n    return obj\n  }\n\n  template() {\n    return /*html*/`\n      <div class='transform-origin-editor'>\n        <div class='direction' ref='$direction'>\n          <div class='pos' data-value='top'></div>\n          <div class='pos' data-value='top left'></div>\n          <div class='pos' data-value='top right'></div>\n          <div class='pos' data-value='bottom'></div>\n          <div class='pos' data-value='bottom left'></div>\n          <div class='pos' data-value='bottom right'></div>\n          <div class='pos' data-value='left'></div>\n          <div class='pos' data-value='right'></div>\n          <div class='pos' data-value='center'></div>\n        </div>\n        <div ref='$body'></div>\n      </div>\n    `\n  }\n\n  [CLICK('$direction .pos')] (e) {\n    var direct = e.$dt.attr('data-value');\n    \n\n    this.state.isAll = false; \n    var [x, y] = origin[direct].split(' ')\n    this.state['transform-origin-x'] = Length.parse(x);\n    this.state['transform-origin-y'] = Length.parse(y);\n    this.refresh();\n    this.modifyTransformOrigin();\n  }\n\n  [EVENT('changeTransformOrigin')] (key, value) {\n\n    if (key === 'transform-origin') {\n      keyList.forEach(type => {\n        this.children[`$${type}`].setValue(value.toString())\n      });\n    } \n\n    if (key === 'transform-origin-z') {\n      this.state[key] = value; \n    }\n\n    this.setTransformOrigin()\n  }\n\n  [LOAD('$body')] () {\n\n    var selectedValue = this.state.isAll ? 'all' : 'partitial'\n    var transformOrigin = this.state['transform-origin'];\n\n    return /*html*/`\n      <div class=\"transform-origin-item\">\n        <div class=\"radius-selector\" data-selected-value=\"${selectedValue}\" ref=\"$selector\">\n          <button type=\"button\" data-value=\"all\">${icon.border_all}</button>\n          <button type=\"button\" data-value=\"partitial\">\n            ${icon.border_inner}\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <RangeEditor ref='$all' key='transform-origin' value=\"${transformOrigin}\" onchange='changeTransformOrigin' />\n        </div>\n      </div>\n      <div class=\"full transform-origin-item\" ref=\"$partitialSetting\" >\n        <div class=\"radius-setting-box\" ref=\"$radiusSettingBox\">\n          ${typeList.map(it => {\n            return `\n              <div>\n                  <RangeEditor ref='$${it.key}' label='${it.title}' key='${it.key}' value=\"${this.state[it.key]}\" onchange='changeTransformOrigin' />\n              </div>  \n            `;\n          }).join('')}\n\n          <div>\n            <RangeEditor ref='$transform-origin-z' label='Z' key='transform-origin-z' value=\"${(this.state['transform-origin-z'] || \"\")}\" onchange='changeTransformOrigin' />\n          </div>  \n        </div>\n      </div>\n    `;\n  }\n\n  setTransformOrigin() {\n    var type = this.refs.$selector.attr(\"data-selected-value\");\n\n    if (type === \"all\") {\n      this.state.isAll = true; \n      this.state['transform-origin'] = this.children[`$all`].getValue();\n    } else {\n      this.state.isAll = false; \n      keyList.forEach(key => {\n        this.state[key] = this.children[`$${key}`].getValue();\n      });\n    }\n\n    this.modifyTransformOrigin();\n  }\n\n  modifyTransformOrigin () {\n    var value = '';\n\n    if (this.state.isAll) {\n      value = `${this.state['transform-origin']}`\n    } else {\n      value = `${this.state['transform-origin-x']} ${this.state['transform-origin-y']}`\n\n      if (this.state['transform-origin-z']) {\n        value = `${value} ${this.state['transform-origin-z']}`\n      }\n    }\n\n    this.parent.trigger(this.props.onchange, value);\n  }\n\n  [CLICK(\"$selector button\")](e) {\n    var type = e.$dt.attr(\"data-value\");\n    this.refs.$selector.attr(\"data-selected-value\", type);\n\n    if (type === \"all\") {\n      this.refs.$partitialSetting.hide();\n    } else {\n      this.refs.$partitialSetting.show(\"grid\");\n    }\n\n    this.setTransformOrigin();\n  }\n\n\n}\n","import { CLICK, LOAD } from \"../../../util/Event\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport icon from \"../icon/icon\";\nimport UIElement, { EVENT } from \"../../../util/UIElement\";\nimport RangeEditor from \"./RangeEditor\";\nimport { editor } from \"../../../editor/editor\";\n\n\nconst typeList = [\n  { key: \"perspective-origin-x\", title: \"X\" },\n  { key: \"perspective-origin-y\", title: \"Y\" },\n];\n\nconst keyList = typeList.map(it => it.key);\n\nconst origin = {\n  top: '50% 0%',\n  'top left': '0% 0%' ,\n  'top right': '100% 0%' ,\n  left: '0% 50%' ,\n  center: '50% 50%',\n  right: '100% 50%' ,\n  bottom: '50% 100%' ,\n  'bottom left': '0% 100%' ,\n  'bottom right': '100% 100%'\n}\nexport default class PerspectiveOriginEditor extends UIElement {\n  components() {\n    return { \n      RangeEditor\n    }\n  }\n  initState() {\n\n    var arr = this.props.value.split(' ');\n\n    var obj = {\n      isAll: true,\n      'perspective-origin': Length.px(0),\n      'perspective-origin-x': Length.px(0),\n      'perspective-origin-y': Length.px(0)      \n    }\n\n    if (this.props.value) {\n\n      if (arr.length === 1) {\n        obj['isAll'] = true; \n        obj['perspective-origin'] = Length.parse(arr[0]);\n        obj['perspective-origin-x'] = Length.parse(arr[0]);\n        obj['perspective-origin-y'] = Length.parse(arr[0]);\n      } else if (arr.length == 2) {\n        obj['isAll'] = false;       \n        obj['perspective-origin-x'] = Length.parse(arr[0]);\n        obj['perspective-origin-y'] = Length.parse(arr[1]);\n      }\n    }\n\n\n    return obj\n  }\n\n  template() {\n    return /*html*/`\n      <div class='perspective-origin-editor' ref='$body'>\n        <div class='direction' ref='$direction'>\n          <div class='pos' data-value='top'></div>\n          <div class='pos' data-value='top left'></div>\n          <div class='pos' data-value='top right'></div>\n          <div class='pos' data-value='bottom'></div>\n          <div class='pos' data-value='bottom left'></div>\n          <div class='pos' data-value='bottom right'></div>\n          <div class='pos' data-value='left'></div>\n          <div class='pos' data-value='right'></div>\n          <div class='pos' data-value='center'></div>\n        </div>\n        <div ref='$body'></div>\n      </div>\n    `\n  }\n\n\n  [CLICK('$direction .pos')] (e) {\n    var direct = e.$dt.attr('data-value');\n    \n    this.state.isAll = false; \n    var [x, y] = origin[direct].split(' ')\n    this.state['perspective-origin-x'] = Length.parse(x);\n    this.state['perspective-origin-y'] = Length.parse(y);\n    this.refresh();\n    this.modifyPerspectiveOrigin();\n  }  \n\n  [EVENT('changePerspectiveOrigin')] (key, value) {\n\n    if (key === 'perspective-origin') {\n      keyList.forEach(type => {\n        this.children[`$${type}`].setValue(value.toString())\n      });\n    }\n\n    this.setPerspectiveOrigin()\n  }\n\n  [LOAD('$body')] () {\n\n    var selectedValue = this.state.isAll ? 'all' : 'partitial'\n    var perspectiveOrigin = this.state['perspective-origin'];\n\n    return /*html*/`\n      <div class=\"property-item perspective-origin-item\">\n        <div class=\"radius-selector\" data-selected-value=\"${selectedValue}\" ref=\"$selector\">\n          <button type=\"button\" data-value=\"all\">${icon.border_all}</button>\n          <button type=\"button\" data-value=\"partitial\">\n            ${icon.border_inner}\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <RangeEditor ref='$all' key='perspective-origin' value=\"${perspectiveOrigin}\" onchange='changePerspectiveOrigin' />\n        </div>\n      </div>\n      <div\n        class=\"property-item full perspective-origin-item\"\n        ref=\"$partitialSetting\"\n        style=\"display: none;\"\n      >\n        <div class=\"radius-setting-box\" ref=\"$radiusSettingBox\">\n          ${typeList.map(it => {\n\n            var label = this.$i18n(it.title)\n\n            return /*html*/`\n              <div>\n                  <RangeEditor ref='$${it.key}' label='${label}' key='${it.key}' value=\"${this.state[it.key]}\" onchange='changePerspectiveOrigin' />\n              </div>  \n            `;\n          }).join('')}\n        </div>\n      </div>\n    `;\n  }\n\n  setPerspectiveOrigin() {\n    var type = this.refs.$selector.attr(\"data-selected-value\");\n\n    if (type === \"all\") {\n      this.state.isAll = true; \n      this.state['perspective-origin'] = this.children[`$all`].getValue();\n    } else {\n      this.state.isAll = false; \n      keyList.forEach(key => {\n        this.state[key] = this.children[`$${key}`].getValue();\n      });\n    }\n\n    this.modifyPerspectiveOrigin();\n  }\n\n  modifyPerspectiveOrigin () {\n    var value = '';\n\n    if (this.state.isAll) {\n      value = `${this.state['perspective-origin']}`\n    } else {\n      value = `${this.state['perspective-origin-x']} ${this.state['perspective-origin-y']}`\n    }\n\n    this.parent.trigger(this.props.onchange, value);\n  }\n\n  [CLICK(\"$selector button\")](e) {\n    var type = e.$dt.attr(\"data-value\");\n    this.refs.$selector.attr(\"data-selected-value\", type);\n\n    if (type === \"all\") {\n      this.refs.$partitialSetting.hide();\n    } else {\n      this.refs.$partitialSetting.show(\"grid\");\n    }\n\n    this.setPerspectiveOrigin();\n  }\n\n\n}\n","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { CLICK, LOAD } from \"../../../util/Event\";\n\nexport default class ClipPathEditor extends UIElement {\n\n    initState() {\n        return {\n            clippath: this.props.value\n        }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt);\n        this.modifyClipPath();\n    }\n\n    getValue () {\n        return this.state.clippath; \n    }\n\n    setValue (clippath) {\n        this.setState({clippath})\n    }\n\n    modifyClipPath() {\n        this.parent.trigger(this.props.onchange, this.state.clippath, this.props.params);\n    }\n\n    template() {\n        return /*html*/`\n            <div class='clip-path-editor'></div>\n        `\n    }\n\n    [LOAD()] () {\n        var clippath = this.state.clippath\n        return `\n        <div class='clippath-item'>\n            <div class='name'>${clippath}</div>\n        </div>\n        `\n    }\n\n    [CLICK()](e) {\n        this.viewClipPathPicker();\n    }\n\n\n    viewClipPathPicker() {\n        this.emit(\"showClipPathPopup\", {\n            changeEvent: 'changeClipPathEditor',\n            'clip-path': this.state.clippath\n        });\n    }\n\n    [EVENT('changeClipPathEditor')] (data) {\n\n        this.updateData({\n            clippath: data['clip-path']\n        })\n    }\n\n\n\n}","import { Length } from \"../unit/Length\";\nimport { Property } from \"../items/Property\";\nimport { convertMatches } from \"../../util/functions/parser\";\n\nexport class TextShadow extends Property {\n  static parse(obj) {\n    return new TextShadow(obj);\n  }\n\n  static parseStyle (str) {\n    var results = convertMatches(str);\n\n    var textShadows = results.str.split(\",\").filter(it => it.trim()).map(shadow => {\n      var values = shadow.split(\" \");\n\n      var colors = values\n        .filter(it => it.includes(\"@\"))\n        .map(it => {\n          return results.matches[+it.replace(\"@\", \"\")].color;\n        });\n\n      var numbers = values.filter(it => {\n        return !it.includes(\"@\");\n      });\n\n      return TextShadow.parse({\n        color: colors[0] || \"rgba(0, 0, 0, 1)\",\n        offsetX: Length.parse(numbers[0] || \"0px\"),\n        offsetY: Length.parse(numbers[1] || \"0px\"),\n        blurRadius: Length.parse(numbers[2] || \"0px\")\n      });\n    });\n\n    return textShadows;\n  }\n\n\n  static join (list) {\n    return list.map(it => TextShadow.parse(it)).join(', ');\n  }  \n\n  getDefaultObject() {\n    return super.getDefaultObject({\n      itemType: \"text-shadow\",\n      offsetX: Length.px(0),\n      offsetY: Length.px(0),\n      blurRadius: Length.px(0),\n      color: \"rgba(0, 0, 0, 1)\"\n    });\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      offsetX: this.json.offsetX + \"\",\n      offsetY: this.json.offsetY + \"\",\n      blurRadius: this.json.blurRadius + \"\",\n      color: this.json.color\n    }\n  }\n\n\n  convert(json) {\n\n    json = super.convert(json);\n\n    json.offsetX = Length.parse(json.offsetX);\n    json.offsetY = Length.parse(json.offsetY);\n    json.blurRadius = Length.parse(json.blurRadius);\n\n    return json \n  }\n\n\n  toCSS() {\n    return {\n      \"text-shadow\": this.toString()\n    };\n  }\n\n  toString() {\n    var json = this.json;\n\n    return `${json.offsetX} ${json.offsetY} ${json.blurRadius} ${json.color}`;\n  }\n}\n","import { CLICK, LOAD } from \"../../../util/Event\";\nimport UIElement, { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\nimport { TextShadow } from \"../../../editor/css-property/TextShadow\";\n\n\n\nexport default class TextShadowEditor extends UIElement {\n\n  initState() {\n    return {\n      hideLabel: this.props['hide-label'] === 'true' ? true : false, \n      selectedIndex: -1,\n      textShadows: TextShadow.parseStyle(this.props.value)\n    }\n  }\n\n  template() {\n\n    var labelClass = this.state.hideLabel ? 'hide' : ''; \n\n    return /*html*/`\n      <div class=\"text-shadow-editor\" >\n        <div class='label ${labelClass}' >\n            <label>${this.props.title||''}</label>        \n            <div class='tools'>\n              <button type=\"button\" ref=\"$add\" title=\"add Text Shadow\">${icon.add}</button>\n            </div>\n        </div>\n        <div class='text-shadow-list' ref='$shadowList'></div>\n      </div>\n    `;\n  }\n\n  [LOAD(\"$shadowList\")]() {\n  \n    var arr = this.state.textShadows.map((shadow, index) => {\n      return /*html*/`\n        <div class=\"shadow-item real\" data-index=\"${index}\">\n          <div class=\"color\">\n            <div class='color-view' style=\"background-color: ${shadow.color}\">\n            </div>\n          </div>\n          <div class=\"offset-x\">${shadow.offsetX}</div>\n          <div class=\"offset-y\">${shadow.offsetY}</div>\n          <div class=\"blur-radius\">${shadow.blurRadius}</div>\n          <div class=\"tools\">\n            <button type=\"button\" class=\"remove\" data-index=\"${index}\">\n              ${icon.remove2}\n            </button>\n          </div>\n        </div>\n      `;\n    });\n\n    if (arr.length) {\n      arr.push(`\n      <div class=\"shadow-item desc\">\n            <div class=\"color\"></div>\n            <div class=\"offset-x\">X</div>\n            <div class=\"offset-y\">Y</div>\n            <div class=\"blur-radius\">Blur</div>\n            <div class=\"tools\">\n            </div>\n          </div>\n      `);\n    }\n\n\n    return arr.join('');\n  }\n\n  [EVENT('refreshSelection')]() {\n    this.refresh();\n  }\n\n  modifyTextShadow () {\n    var value = this.state.textShadows.join(', ');\n\n    this.parent.trigger(this.props.onchange, value)\n  }\n\n\n  [EVENT('add')] () {\n    this.state.textShadows.push(new TextShadow())\n\n    this.refresh();\n\n    this.modifyTextShadow()\n  }\n\n  [CLICK(\"$add\")]() {\n    this.trigger('add');\n  }\n\n  [CLICK(\"$shadowList .remove\")](e) {\n    var index = +e.$dt.attr(\"data-index\");\n\n    this.state.textShadows.splice(index, 1);\n\n    this.refresh();\n\n    this.modifyTextShadow()\n  }\n\n  [CLICK(\"$shadowList .shadow-item.real > div:not(.tools)\")](e) {\n    var index = +e.$dt.closest('shadow-item').attr(\"data-index\");\n\n    var shadow = this.state.textShadows[index]\n\n   this.viewShadowPopup(shadow, index)\n  }\n\n  viewShadowPopup(shadow, index) {\n    this.setState({\n      selectedIndex: index\n    }, false)\n\n    this.viewTextShadowPropertyPopup(shadow);\n  }\n\n  viewTextShadowPropertyPopup(shadow) {\n    console.log(shadow);\n    this.emit(\"showTextShadowPropertyPopup\", {\n      changeEvent: 'changeTextShadowEditorPopup',\n      color: shadow.color,\n      offsetX: shadow.offsetX,\n      offsetY: shadow.offsetY,\n      blurRadius: shadow.blurRadius\n    }, {\n      id: this.id\n    });\n    \n  }\n\n  [EVENT(\"changeTextShadowEditorPopup\")](data, params) {\n    if (params.id === this.id) {\n      var shadow = this.state.textShadows[this.state.selectedIndex]\n\n      shadow.reset(data)\n  \n      this.refresh();\n  \n      this.modifyTextShadow();\n    }\n\n  }\n}\n","import { LOAD } from \"../../../util/Event\";\nimport UIElement, { EVENT } from \"../../../util/UIElement\";\nimport NumberRangeEditor from \"./NumberRangeEditor\";\nimport { isArray } from \"../../../util/functions/func\";\n\nexport default class StrokeDashArrayEditor extends UIElement {\n  components() {\n    return { \n      NumberRangeEditor\n    }\n  }\n  initState() {\n\n    var value = this.props.value || ' '\n    \n    value = value.split(' ').map(it => +it);\n\n    return {\n      value\n    }\n  }\n\n  template() {\n    return `<div class='stroke-dasharray-editor' ref='$body'></div>`\n  }\n\n  toStringValue () {\n    return this.state.value.join(' ');\n  }\n\n  getValue () {\n    return this.toStringValue()\n  }\n\n  setValue (value) {\n\n    if (isArray(value)) {\n\n    } else {\n      value = value.split(\" \").map(it => +it);\n    }\n\n    this.setState({\n      value\n    })\n\n  }\n\n  [LOAD('$body')] () {\n\n    return this.state.value.map( (it, index) =>  {\n      var num = index + 1; \n      return `\n        <div>\n          <NumberRangeEditor \n            ref='$${num}' \n            label='${num}' \n            key='${index}' \n            value=\"0\" \n            min=\"0\"\n            max=\"1000\"\n            step=\"1\"\n            calc=\"false\"\n            unit=\"number\" \n            onchange=\"changeRangeEditor\" \n          />\n        </div>\n      `\n    }).join(' ');\n  }\n\n  [EVENT('changeRangeEditor')] (key, value) {\n    var index = +key\n    this.state.value[index] = value \n\n    this.modifyStrokeDashArray();\n  }\n\n\n  modifyStrokeDashArray () {\n    this.parent.trigger(this.props.onchange, this.props.key,  this.toStringValue(), this.props.params);\n  }\n\n\n}\n","import UIElement from \"../../../util/UIElement\";\nimport { LOAD, INPUT, DEBOUNCE, CLICK } from \"../../../util/Event\";\nimport PathParser from \"../../../editor/parse/PathParser\";\n\nexport default class PathDataEditor extends UIElement {\n\n    \n\n    initState() { \n        var parser = new PathParser(this.props.value || '')\n        return {\n            parser\n        }\n    }\n\n    makeSegments () {\n        return this.refs.$data.$$('.segment').map($segment => {\n            var $command = $segment.$('.command');\n            var command = $command.attr('data-command');\n            \n            if (command === 'Z' && $command.attr('data-toggle') === 'false') {\n                return null; \n            }\n\n            var values = $segment.$$('.values input[type=number]').map(it => {\n                return +it.value; \n            })\n\n            return {\n                command,\n                values\n            }\n        }).filter(it => it);\n    }\n\n    updateData() {\n        var segments = this.makeSegments()\n\n        this.state.parser.resetSegments(segments);\n\n        this.modifyPathData();\n    }\n\n    modifyPathData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params);\n    }\n\n    setValue (value) {\n        this.setState({\n            parser: new PathParser(value)\n        })\n    }\n\n    getValue () {\n        return this.state.parser.joinPath();\n    }\n\n    template() {\n\n        return /*html*/`\n            <div class='path-data-editor'>\n                <div class='data' ref='$data'></div>\n            </div>\n        `\n    }\n\n    [LOAD('$data')] () {\n\n\n        var  segments = []\n        \n        this.state.parser.segments.forEach((it, index) => {\n\n            var s = {...it}\n\n            segments.push(s);\n            var next = this.state.parser.segments[index+1]\n            if (next && next.command === 'M') {\n                if (s.command !== 'Z') {\n                    segments.push({command: 'Z', toggle: false, values: []})\n                } else {\n                    s.toggle = true; \n                } \n            }      \n\n        });\n\n        var last = this.state.parser.segments[this.state.parser.segments.length-1];\n        if (last && last.command !== 'Z') {\n            segments.push({command: 'Z', toggle: false, values: [] })\n        }\n\n\n\n\n        var arr = segments.map(it => {\n            var cls = it.command === 'M' ? 'm' : '';\n\n            // 마지막 체크 \n            // Z 인지 체크 \n            // Z 토글 \n            // 유령 Z 를 만들어두고 토글하기 \n            return /*html*/`\n                <div class='segment ${cls}'>\n                    <div class='command' data-command='${it.command}' data-toggle=\"${it.toggle}\" title='Toggle'>${it.command}</div>\n                    <div class='values'>\n                        ${it.values.map(v => {\n                            return /*html*/`<input type=\"number\" value=\"${v}\" />`\n                        }).join('')}\n                    </div>\n                </div>\n            `\n        })\n\n        arr.unshift(/*html*/`\n            <div class='segment-empty'>\n                <div class='command'></div>\n                <div class='values'>\n                    <span>X</span>\n                    <span>Y</span>\n                </div>\n            </div>\n        `)\n\n        return arr; \n    }\n\n    [INPUT('$data input[type=number]') + DEBOUNCE(300)] (e) {\n        this.updateData();\n    }\n\n    [CLICK('$data .command[data-toggle]')] (e) {\n        var [command, toggle] = e.$dt.attrs('data-command', 'data-toggle');\n        if (command === 'Z') {\n            if (toggle !== 'false') {\n                toggle = 'false'; \n            } else {\n                toggle = 'true'\n            }\n\n            e.$dt.attr('data-toggle', toggle);\n\n            this.updateData();\n        }\n    }\n}","import UIElement from \"../../../util/UIElement\";\nimport { LOAD, INPUT, DEBOUNCE } from \"../../../util/Event\";\nimport PolygonParser from \"../../../editor/parse/PolygonParser\";\n\nexport default class PolygonDataEditor extends UIElement {\n\n    initState() { \n        var parser = new PolygonParser(this.props.value || '')\n        return {\n            parser\n        }\n    }\n\n    makeSegments () {\n        return this.refs.$data.$$('.segment').map($segment => {\n            var x = +$segment.$('[data-key=\"x\"]').value;\n            var y = +$segment.$('[data-key=\"y\"]').value;\n\n            return { x, y }\n        })\n    }\n\n    updateData() {\n        var segments = this.makeSegments()\n\n        this.state.parser.resetSegments(segments);\n\n        this.modifyPolygonData();\n    }\n\n    modifyPolygonData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params);\n    }\n\n    setValue (value) {\n        this.setState({\n            parser: new PolygonParser(value || '')\n        })\n    }\n\n    getValue () {\n        return this.state.parser.joinPoints();\n    }\n\n    template() {\n\n        return /*html*/`\n            <div class='polygon-data-editor'>\n                <div class='data' ref='$data'></div>\n            </div>\n        `\n    }\n\n    [LOAD('$data')] () {\n        return this.state.parser.segments.map(it => {\n            return /*html*/`\n                <div class='segment'>\n                    <div class='values'>\n                        <label>X <input type=\"number\" data-key=\"x\" value=\"${it.x}\" /></label>\n                        <label>Y <input type=\"number\" data-key=\"y\" value=\"${it.y}\" /></label>\n                    </div>\n                </div>\n            `\n        })\n    }\n\n    [INPUT('$data input[type=number]') + DEBOUNCE(300)] (e) {\n        this.updateData();\n    }\n}","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { LOAD, BIND } from \"../../../util/Event\";\nimport SelectEditor from \"./SelectEditor\";\nimport { editor } from \"../../../editor/editor\";\nimport RangeEditor from \"./RangeEditor\";\n\nconst i18n = editor.initI18n('offset.path.list.editor')\n\nexport default class OffsetPathListEditor extends UIElement {\n\n    components() {\n        return {\n            RangeEditor,\n            SelectEditor\n        }\n    }\n\n    initState() {\n\n        var [id, distance, rotateStatus, rotate ] = (this.props.value || '').split(',').map(it => it.trim())\n\n        return {id, distance: distance || '0%', rotateStatus: rotateStatus || 'auto', rotate: rotate || '0deg' }\n    }\n\n    updateData(opt = {}) {\n        this.setState(opt, false);\n        this.modifyOffsetPath();\n    }\n\n    getValue () {\n        return Object.keys(this.state).map(it => this.state[it]).join(','); \n    }\n\n    refresh() {\n        this.load();\n    }\n\n    setValue (value) {\n        var [id, distance, rotateStatus, rotate ] = (value || '').split(',').map(it => it.trim())\n        this.setState({\n            id, distance, rotateStatus, rotate\n        }, false)        \n        this.refresh();\n    }\n\n    modifyOffsetPath() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params);\n    }\n\n    template() {\n        return /*html*/`\n            <div class='offset-path-editor'></div>\n        `\n    }\n\n    getOptions () {\n        var artboard = this.$selection.currentArtboard;\n\n        var paths = {} \n        if (artboard) {\n            artboard\n            .allLayers\n              .filter(it => it.is('svg-path', 'svg-polygon'))\n              .filter(it => it['motion-based'])\n              .forEach(it => {\n                paths[it.id] = it \n              });    \n        }\n\n        return {\n            options: Object.keys(paths).map(id => `${id}:${paths[id].name}`).join(','),\n            paths\n        }\n    }\n\n    [LOAD()] () {\n        var obj = this.getOptions();\n        var options = ',' + obj.options;\n        var paths = obj.paths || {}\n\n        var { id, rotateStatus, rotate, distance} = this.state \n\n        return /*html*/`\n        <div>\n            <div class='offset-path-item'>\n                <SelectEditor ref='$path' label='${i18n('path')}' key=\"id\" value=\"${id}\" options=\"${options}\" onchange='changeRangeEditor' />\n            </div>\n            <div class='offset-path-item'>\n                <div>${i18n('totalLength')}: <span ref='$totalLength'>${paths[id] && paths[id].totalLength || 0}</span></div>\n            </div>\n            <div class='offset-path-item'>\n                <RangeEditor ref='$distance' label='${i18n('distance')}' min=\"0\" max=\"100\" value=\"${distance || '0%'}\" key='distance' unit=\"%,px\" onchange='changeRangeEditor' /> \n            </div>\n            <div class='offset-path-item'>\n                <SelectEditor ref='$status' label='${i18n('direction')}' key='rotateStatus' value=\"${rotateStatus}\" options=\"auto,auto angle,angle,reverse,element\" onchange='changeRangeEditor' /> \n            </div>\n            <div class='offset-path-item'>\n                <RangeEditor ref='$rotate' label='${i18n('rotate')}' min=\"0\" max=\"2000\" key='rotate' value='${rotate || '0deg'}' units=\"deg,turn\" onchange='changeRangeEditor' /> \n            </div>     \n        </div>           \n        `\n    }\n\n    [BIND('$totalLength')] () {\n        var { id} = this.state \n        var options = this.getOptions();\n\n        var layer = options.paths[id] || { totalLength : 0} \n        var totalLength = layer.totalLength || 0\n\n        return {\n            innerHTML: `<span>${totalLength}</span>`\n        }\n    }\n\n\n    [EVENT('changeRangeEditor')] (key, value) {\n        this.updateData({\n            [key]: value \n        })\n\n        this.bindData('$totalLength');\n\n    }\n\n\n\n}","import { STRING_TO_CSS } from \"../../util/functions/func\";\nimport Color from \"../../util/Color\";\n\nvar BorderStyles = {\n    \"none\": true,\n    \"hidden\": true,\n    \"dotted\": true,\n    \"dashed\": true,\n    \"solid\": true,\n    \"double\": true,\n    \"groove\": true,\n    \"ridge\": true,\n    \"inset\": true,\n    \"outset\": true\n}\n\nexport default class Border {\n    static parseStyle (str) {\n        return STRING_TO_CSS(str);\n    }\n\n    static parseValue (str) {\n        var style = ''; \n        var width = ''; \n        var color = ''; \n\n        str.split(' ').filter(it => it.trim()).forEach(value => {\n            if (BorderStyles[value]) {\n                style = value; \n            } else if (Color.isColor(value)) {\n                color = value; \n            } else {\n                width = value; \n            }\n        });\n\n        return {\n            style, color, width \n        }\n    }\n\n    static joinValue (obj) {\n        return `${obj.width} ${obj.style} ${obj.color}`\n    }\n\n    static join (obj) {\n\n        var arr = [\n            obj['border'] ? `border: ${obj['border']}` : '',\n            obj['border-top'] ? `border-top: ${obj['border-top']}` : '',\n            obj['border-left'] ? `border-left: ${obj['border-left']}` : '',\n            obj['border-right'] ? `border-right: ${obj['border-right']}` : '',\n            obj['border-bottom'] ? `border-bottom: ${obj['border-bottom']}` : '',\n        ].filter(it => it);\n\n        return arr.join(';');\n    }\n}","import { Length } from \"../../../editor/unit/Length\";\nimport UIElement, { EVENT } from \"../../../util/UIElement\";\nimport Border from \"../../../editor/css-property/Border\";\nimport RangeEditor from \"./RangeEditor\";\nimport SelectEditor from \"./SelectEditor\";\nimport ColorViewEditor from \"./ColorViewEditor\";\nimport InputRangeEditor from \"./InputRangeEditor\";\nimport ColorSingleEditor from \"./ColorSingleEditor\";\n\n\nconst borderStyleList = [\n  \"none\",\n  \"hidden\",\n  \"dotted\",\n  \"dashed\",\n  \"solid\",\n  \"double\",\n  \"groove\",\n  \"ridge\",\n  \"inset\",\n  \"outset\"\n].join(',');\n\n\n\nexport default class BorderValueEditor extends UIElement {\n \n  components() {\n    return {\n      InputRangeEditor,\n      RangeEditor,\n      SelectEditor,\n      ColorViewEditor,\n      ColorSingleEditor\n    }\n  }\n\n  initState() {\n\n    return {\n      value: Border.parseValue(this.props.value)\n    }\n  }\n\n  updateData(obj) {\n    this.setState(obj, false);\n    this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params);  \n  }\n\n  getValue() {\n    return Border.joinValue(this.state.value)\n  }\n\n  setValue(value) {\n    this.state.value = Border.parseValue(value);\n    this.refresh();\n  }\n\n  refresh () {\n\n    this.children.$width.setValue(this.state.value.width || Length.px(0))\n    this.children.$style.setValue(this.state.value.style || 'none')\n    this.children.$color.setValue(this.state.value.color || 'rgba(0, 0, 0, 1)')\n  }\n  \n\n  template() {\n    var {width, style, color} = this.state.value; \n    return /*html*/`\n      <div class=\"border-value-editor\">\n        <label>${this.props.label}</label>\n        <div class='editor-area'>\n          <InputRangeEditor ref='$width' min=\"0\" max=\"100\" step=\"1\" key='width' value=\"${width}\" onchange='changeKeyValue' />\n        </div>\n        <div class='editor-area'>\n          <SelectEditor ref='$style' key='style' options='${borderStyleList}' value=\"${style}\" onchange=\"changeKeyValue\" />\n        </div>\n        <div class='editor-area'>\n          <ColorSingleEditor ref='$color' key='color' value=\"${color|| 'rgba(0, 0, 0, 1)'}\"  onchange=\"changeKeyValue\" />\n        </div>\n\n      </div>\n    `;\n  }\n\n\n  [EVENT('changeKeyValue')] (key, v) {\n    var value = this.state.value;\n    value[key] = v; \n\n    this.updateData({ value })\n  }\n\n}\n","import { CLICK, LOAD } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport UIElement, { EVENT } from \"../../../util/UIElement\";\nimport BorderValueEditor from \"./BorderValueEditor\";\nimport Border from \"../../../editor/css-property/Border\";\n\nconst borderTypeList = [\"border\", \"border-top\", \"border-right\", \"border-bottom\", \"border-left\"]\nconst borderTypeTitle = {\n  \"border\":  'all', \n  \"border-top\": 'top', \n  \"border-right\": 'right', \n  \"border-bottom\": 'bottom', \n  \"border-left\": 'left'\n}\n\n\nexport default class BorderEditor extends UIElement {\n \n  components() {\n    return {\n      BorderValueEditor\n    }\n  }\n\n  initState() {\n\n    var borders = Border.parseStyle(this.props.value)\n    var direction = Object.keys(borders)[0] || 'border'\n\n    return {\n      direction,\n      borders\n    }\n  }\n\n  updateData(obj) {\n    this.setState(obj, false);\n    this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params);  \n  }\n\n  getValue() {\n    return Border.join(this.state.borders)\n  }\n\n  setValue(value) {\n    this.state.borders = Border.parseStyle(value);\n    this.refresh();\n  }\n\n  refresh () {\n    this.load();\n\n  }\n\n\n  [LOAD('$editorArea')] () {\n    return borderTypeList.map(type => {\n      var label = borderTypeTitle[type] || type; \n\n      label = this.$i18n('border.editor.' + label);\n      return /*html*/`\n      <div>\n        <BorderValueEditor ref='$${type}' label='${label}' key=\"${type}\" value=\"${this.state.borders[type]}\" onchange=\"changeKeyValue\" />\n      </div>\n      `\n    })\n  }\n\n  template() {\n    return /*html*/`\n      <div class=\"border-editor\">\n        <div class='header'>\n          <div></div>\n          <label>${this.$i18n('border.editor.width')}</label>\n          <label>${this.$i18n('border.editor.style')}</label>\n          <label>${this.$i18n('border.editor.color')}</label>\n        </div>\n        <div class='editor-area' ref='$editorArea'>\n\n        </div>\n      </div>\n    `;\n  }\n\n\n  [EVENT('changeKeyValue')] (key, value) {\n    var borders = this.state.borders;\n    borders[key] = value; \n\n    this.updateData({ borders })\n  }\n\n}\n","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { LOAD, CLICK } from \"../../../util/Event\";\nimport icon from \"../icon/icon\";\nimport ColorViewEditor from \"./ColorViewEditor\";\nimport RangeEditor from \"./RangeEditor\";\nimport BackgroundImageEditor from \"./BackgroundImageEditor\";\nimport FilterEditor from \"./FilterEditor\";\nimport BoxShadowEditor from \"./BoxShadowEditor\";\nimport VarEditor from \"./VarEditor\";\nimport TransformEditor from \"./TransformEditor\";\nimport TransformOriginEditor from \"./TransformOriginEditor\";\nimport PerspectiveOriginEditor from \"./PerspectiveOriginEditor\";\nimport { OBJECT_TO_CLASS, OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\nimport SelectEditor from \"./SelectEditor\";\nimport NumberRangeEditor from \"./NumberRangeEditor\";\nimport BorderRadiusEditor from \"./BorderRadiusEditor\";\nimport ClipPathEditor from \"./ClipPathEditor\";\nimport TextShadowEditor from \"./TextShadowEditor\";\nimport StrokeDashArrayEditor from \"./StrokeDashArrayEditor\";\nimport PathDataEditor from \"./PathDataEditor\";\nimport PolygonDataEditor from \"./PolygonDataEditor\";\nimport OffsetPathListEditor from \"./OffsetPathListEditor\";\nimport BorderEditor from \"./BorderEditor\";\nimport { editor } from \"../../../editor/editor\";\n\n\nconst blend_list = [\n  '',\n  \"normal\",\n  \"multiply\",\n  \"screen\",\n  \"overlay\",\n  \"darken\",\n  \"lighten\",\n  \"color-dodge\",\n  \"color-burn\",\n  \"hard-light\",\n  \"soft-light\",\n  \"difference\",\n  \"exclusion\",\n  \"hue\",\n  \"saturation\",\n  \"color\",\n  \"luminosity\"\n].join(',');\n\n\nexport default class CSSPropertyEditor extends UIElement {\n\n  components() {\n    return {\n      BorderEditor,\n      NumberRangeEditor,\n      SelectEditor,\n      TextShadowEditor,      \n      BoxShadowEditor,\n      FilterEditor,\n      ColorViewEditor,\n      RangeEditor,\n      StrokeDashArrayEditor,\n      BackgroundImageEditor,\n      TransformEditor,\n      TransformOriginEditor,\n      PerspectiveOriginEditor,\n      VarEditor,\n      BorderRadiusEditor,\n      ClipPathEditor,\n      PathDataEditor,\n      PolygonDataEditor,\n      OffsetPathListEditor\n    }\n  }\n\n  initState() {\n    return {\n      hideTitle: this.props['hide-title'] === 'true',\n      hideRefresh: this.props['hide-refresh'] === 'true',\n      properties: [] \n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.modifyProperty();\n  }\n\n  modifyProperty () {\n\n    this.parent.trigger(this.props.onchange, this.state.properties);\n  }\n\n\n  template() {\n    return /*html*/`\n      <div class='css-property-editor ${OBJECT_TO_CLASS({ \n        'hide-title': this.state.hideTitle, \n        'hide-refresh': this.state.hideRefresh \n      })}'>\n        <div class='title'>\n          <label>${this.$i18n('css.property.editor.properties')}</label>\n          <div class='tools'>\n            ${this.makePropertySelect()}\n            <button type=\"button\" ref='$addProperty'>${icon.add}</button>\n          </div>\n        </div>\n        <div class='input grid-1 css-property-list' ref='$property'></div>\n      </div>\n    `\n  }  \n\n  getPropertyDefaultValue (key) {\n\n      switch(key) {\n        case 'animation-timing-function':\n        case 'box-shadow':\n        case 'text-shadow':\n        case 'color':\n        case 'background-image':\n        case 'background-color':\n        case 'text-fill-color':\n        case 'text-stroke-color':\n        case 'filter':      \n        case 'backdrop-filter':      \n        case 'var':\n        case 'transform':          \n        case 'transform-origin':\n        case 'perspective-origin':\n          return Length.string('');          \n        case 'offset-distance': \n          return Length.percent(0);\n        case 'mix-blend-mode': \n          return 'normal';\n        case 'clip-path':\n          return '';\n        case 'opacity':\n          return 1; \n        default: \n          return Length.px(0);\n      }\n  }\n\n  [CLICK('$addProperty')] (e) {\n    var key = this.getRef('$propertySelect').value;\n\n\n    var searchItem = this.state.properties.find((it) => {\n      return it.key === key \n    })\n\n    if (searchItem) {\n      alert(`${key} is already added.`)\n      return; \n    }\n\n    var value = this.getPropertyDefaultValue(key)\n\n    var current = this.$selection.current;  \n\n    if (current) {\n      value = current[key]\n    }\n\n    this.state.properties.push({ key, value })\n\n    this.refresh();\n    this.modifyProperty();\n\n  }\n\n\n  makeIndivisualPropertyColorEditor (property, index) {\n\n    var key = property.key.split('-').join('');\n    return /*html*/`\n      <div class='property-editor'>\n        <ColorViewEditor ref='$${key}${index}' value=\"${property.value}\" key=\"${property.key}\" onChange=\"changeColorProperty\" />\n      </div>\n    `\n  }\n\n  makeCustomePropertyEditor (property, index) {\n    return /*html*/`\n      <div class='property-editor'>\n        <${property.editor} ${OBJECT_TO_PROPERTY({\n          onchange: 'changeSelect',\n          ref: `$customProperty${index}`,\n          key: property.key,\n          value: property.value\n        })} />\n      </div>\n    `\n  }\n\n  makeIndivisualPropertyEditor (property, index) {\n\n    if (property.key === 'background-image') {\n      return /*html*/`\n        <div class='property-editor'>\n          <BackgroundImageEditor ref='$backgroundImage${index}' key=\"${property.key}\" hide-title=\"${this.state.hideTitle}\" value=\"${property.value}\" onChange=\"changeBackgroundImageProperty\" />\n        </div>\n      `\n    } else if (property.key === 'filter') {\n      return /*html*/`\n        <div class='property-editor'>\n          <FilterEditor ref='$filter${index}' value=\"${property.value}\" onChange=\"changeFilterProperty\" />\n        </div>\n      `\n    } else if (property.key === 'backdrop-filter') {\n      return /*html*/`\n        <div class='property-editor'>\n          <FilterEditor ref='$backdropFilter${index}' value=\"${property.value}\" onChange=\"changeBackdropFilterProperty\" />\n        </div>\n      `      \n    } else if (property.key === 'box-shadow') {\n      return /*html*/`\n        <div class='property-editor'>\n          <BoxShadowEditor ref='$boxshadow${index}' value=\"${property.value}\" hide-label=\"false\" onChange=\"changeBoxShadowProperty\" />\n        </div>\n      `      \n    } else if (property.key === 'text-shadow') {\n      return /*html*/`\n        <div class='property-editor'>\n          <TextShadowEditor ref='$textshadow${index}' value=\"${property.value}\" hide-label=\"false\" onChange=\"changeTextShadowProperty\" />\n        </div>\n      `            \n    } else if (property.key === 'var') {\n      return `\n        <div class='property-editor'>\n          <VarEditor ref='$var${index}' value=\"${property.value}\" onChange=\"changeVar\" />\n        </div>\n      `       \n    } else if (property.key === 'transform') {\n      return `\n        <div class='property-editor'>\n          <TransformEditor ref='$transform${index}' value=\"${property.value}\" onChange=\"changeTransform\" />\n        </div>\n      `                  \n    } else if (property.key === 'transform-origin') {\n      return `\n        <div class='property-editor'>\n          <TransformOriginEditor ref='$transformOrigin${index}' value=\"${property.value}\" onChange=\"changeTransformOrigin\" />\n        </div>\n      `                  \n    } else if (property.key === 'perspective-origin') {\n      return `\n        <div class='property-editor'>\n          <PerspectiveOriginEditor ref='$perspectiveOrigin${index}' value=\"${property.value}\" onChange=\"changePerspectiveOrigin\" />\n        </div>\n      `               \n    } else if (property.key === 'fill-rule') {\n      return `\n        <div class='property-editor'>\n          <SelectEditor \n          ref='$fillRule${index}' \n          key='fill-rule' \n          icon=\"true\" \n          options=\"nonzero,evenodd\" \n          value=\"${property.value}\"\n          onchange=\"changeSelect\" />\n        </div>\n      `       \n    } else if (property.key === 'stroke-linecap') {\n      return `\n        <div class='property-editor'>\n          <SelectEditor \n          ref='$strokeLinecap${index}' \n          key='stroke-linecap' \n          icon=\"true\" \n          options=\"butt,round,square\" \n          value=\"${property.value}\"\n          onchange=\"changeSelect\" />\n        </div>\n      `       \n      \n    } else if (property.key === 'stroke-linejoin') {\n      return `\n        <div class='property-editor'>\n          <SelectEditor \n          ref='$strokeLinejoin${index}' \n          key='stroke-linejoin' \n          icon=\"true\" \n          options=\"miter,arcs,bevel,miter-clip,round\" \n          value=\"${property.value}\"\n          onchange=\"changeSelect\" />\n        </div>\n      `             \n    } else if (property.key === 'mix-blend-mode') {\n      return `\n        <div class='property-editor'>\n          <SelectEditor \n          ref='$mixBlendMode${index}' \n          key='mix-blend-mode' \n          icon=\"true\" \n          options=\"${blend_list}\" \n          value=\"${property.value}\"\n          onchange=\"changeSelect\" />\n        </div>\n      `   \n    } else if (property.key === 'stroke-dasharray') {\n      return `\n        <StrokeDashArrayEditor \n          ref='$strokeDashArray${index}' \n          key='stroke-dasharray'\n          value='${property.value}' \n          onchange='changeSelect' \n        />\n      `      \n    } else if (property.key === 'border-radius') {\n      return `\n        <BorderRadiusEditor \n          ref='$borderRadius${index}' \n          key='border-radius'\n          value='${property.value}' \n          onchange='changeBorderRadius' \n        />\n      `\n    } else if (property.key === 'border') {\n      return `\n        <BorderEditor \n          ref='$border${index}' \n          key='border'\n          value='${property.value}' \n          onchange='changeKeyValue' \n        />\n      `      \n    } else if (property.key === 'clip-path') {\n      return `\n        <ClipPathEditor \n          ref='$clipPath${index}' \n          key='clip-path'\n          value='${property.value}' \n          onchange='changeClipPath' \n        />\n      `      \n    } else if (property.key === 'd') {\n      return /*html*/`\n        <PathDataEditor ref='$pathData${index}' key='d' value='${property.value}' onchange='changeSelect' />\n      `            \n    } else if (property.key === 'points') {\n      return /*html*/`\n        <PolygonDataEditor ref='$polygonData${index}' key='points' value='${property.value}' onchange='changeSelect' />\n      `    \n    } else if (property.key === 'offset-path') {\n      return /*html*/`\n        <OffsetPathListEditor ref='$offsetPathList${index}' key='offset-path' value='${property.value}' onchange='changeSelect' />\n      `             \n    }\n\n    return `\n      <div class='property-editor'>\n        ???\n\n      </div>\n    `\n\n  }\n\n  [EVENT('changeKeyValue')] (key, value) {\n    this.modifyPropertyValue(key, value);\n  }\n\n\n  [EVENT('changeBorderRadius')] (value) {\n    this.modifyPropertyValue('border-radius', value);\n  }\n\n  [EVENT('changeClipPath')] (value) {\n    this.modifyPropertyValue('clip-path', value);\n  }  \n\n  [EVENT('changeColorProperty')] (key, color) {\n    this.modifyPropertyValue(key, color);\n  }  \n\n  [EVENT('changeBackgroundImageProperty')] (key, backgroundImage) {\n    this.modifyPropertyValue(key, backgroundImage);\n  }  \n\n  [EVENT('changeFilterProperty')] (filter) {\n    this.modifyPropertyValue('filter', filter);\n  }    \n\n  [EVENT('changeBackdropFilterProperty')] (filter) {\n    this.modifyPropertyValue('backdrop-filter', filter);\n  }      \n\n  [EVENT('changeBoxShadowProperty')] (boxshadow) {\n    this.modifyPropertyValue('box-shadow', boxshadow);\n  }   \n  [EVENT('changeTextShadowProperty')] (textShadow) {\n    this.modifyPropertyValue('text-shadow', textShadow);\n  }     \n  \n  [EVENT('changeVar')] (value) {\n    this.modifyPropertyValue('var', value);\n  }     \n\n  [EVENT('changeTransform')] (value) {\n    this.modifyPropertyValue('transform', value);\n  }       \n\n  [EVENT('changeTransformOrigin')] (value) {\n    this.modifyPropertyValue('transform-origin', value);\n  }         \n\n  [EVENT('changePerspectiveOrigin')] (value) {\n    this.modifyPropertyValue('perspective-origin', value);\n  }         \n\n  [EVENT('changeSelect')] (key, value) {\n    this.modifyPropertyValue(key, value);\n  }\n\n\n  makePropertyEditor (property, index) {\n\n    if (property.editor) {\n      return this.makeCustomePropertyEditor(property, index);\n    }\n\n    switch(property.key) {\n\n      case 'animation-timing-function':\n      case 'box-shadow':\n      case 'text-shadow':\n      case 'background-image':\n      case 'filter':\n      case 'backdrop-filter':\n      case 'var':\n      case 'transform':\n      case 'transform-origin':\n      case 'perspective-origin':\n      case 'mix-blend-mode':  \n      case 'border':\n      case 'border-radius':   \n      case 'clip-path':   \n      case 'fill-rule':\n      case 'stroke-linecap':\n      case 'stroke-linejoin':\n      case 'stroke-dasharray':\n      case 'd':\n      case 'points':\n      case 'offset-path':\n        return this.makeIndivisualPropertyEditor(property, index);\n      case 'color':\n      case 'background-color':\n      case 'text-fill-color':\n      case 'text-stroke-color':\n      case 'stroke':\n      case 'fill':\n        return this.makeIndivisualPropertyColorEditor(property, index);\n      case 'opacity':\n      case 'fill-opacity':        \n      case 'stroke-dashoffset':\n      case 'offset-distance':\n        return /*html*/`\n          <div class='property-editor'>\n            <NumberRangeEditor \n              ref='$opacity${index}' \n              key='${property.key}' \n              min=\"0\"\n              max=\"1\"\n              step=\"0.01\"\n              value=\"${property.value || 1}\"\n              selected-unit='number'\n              removable=\"true\"\n              onchange=\"changeRangeEditor\" />\n          </div>\n        `\n      // case 'rotate':\n      //   return /*html*/`\n      //     <div class='property-editor'>\n      //       <RangeEditor \n      //         ref='rangeEditor${index}' \n      //         key='${property.key}' \n      //         value='${property.value}'  \n      //         min=\"-2000\"\n      //         max=\"2000\"\n      //         units=\"deg\" \n      //         onChange=\"changeRangeEditor\" />\n      //     </div>\n      //   `\n      case 'left': \n      case 'margin-top': \n      case 'margin-bottom': \n      case 'margin-left': \n      case 'margin-right': \n      case 'padding-top': \n      case 'padding-bottom': \n      case 'padding-left': \n      case 'padding-right': \n\n      case 'font-size': \n      case 'font-stretch': \n      case 'width': \n      case 'height':   \n      case 'perspective':  \n      case 'offset-distance':\n      case 'text-stroke-width':\n      default: \n        return /*html*/`\n          <div class='property-editor'>\n            <RangeEditor ref='rangeEditor${index}' key='${property.key}' value='${property.value}' max=\"1000\" onChange=\"changeRangeEditor\" />\n          </div>\n        `\n    }\n\n  }\n\n  [EVENT('changeRangeEditor')] (key, value) {\n    this.modifyPropertyValue(key, value + \"\");\n  }\n\n  searchKey (key, callback) {\n    this.state.properties.filter(it => it.key === key).forEach(callback)\n  }\n\n  modifyPropertyValue (key, value) {\n\n    this.searchKey(key, (it) => {\n      it.value = value; \n    })\n    this.modifyProperty()    \n\n  }\n\n\n  makePropertySelect() {\n    return /*html*/`\n      <select class='property-select' ref='$propertySelect'>\n        <optgroup label='--'>\n          <option value='var'>var</option>\n        </optgroup>            \n        <optgroup label='Motion'>\n          <option value='offset-distance'>offset-distance</option>\n        </optgroup>      \n        <optgroup label='Size'>\n          <option value='x'>x</option>\n          <option value='y'>y</option>        \n          <option value='width'>width</option>\n          <option value='height'>height</option>\n        </optgroup>      \n        <optgroup label='Box Model'>\n          <option value='margin-left'>margin-left</option>\n          <option value='margin-right'>margin-right</option>\n          <option value='margin-bottom'>margin-bottom</option>\n          <option value='margin-top'>margin-top</option>\n          <option value='padding-left'>padding-left</option>\n          <option value='padding-right'>padding-right</option>\n          <option value='padding-bottom'>padding-bottom</option>\n          <option value='padding-top'>padding-top</option>       \n        </optgroup>\n        <optgroup label='Border'>\n          <option value='border'>border</option>\n          <option value='border-radius'>border-radius</option>\n        </optgroup>        \n        <optgroup label='Style'>\n          <option value='background-color'>background-color</option>\n          <option value='background-image'>background-image</option>\n          <option value='box-shadow'>box-shadow</option>\n          <option value='text-shadow'>text-shadow</option>\n          <option value='filter'>filter</option>      \n          <option value='backdrop-filter'>backdrop-filter</option>\n          <option value='mix-blend-mode'>mix-blend-mode</option>\n        </optgroup>            \n        <optgroup label='Transform'>\n          <option value='transform'>transform</option>\n          <option value='transform-origin'>transform-origin</option>\n          <option value='perspective'>perspective</option>\n          <option value='perspective-origin'>perspective-origin</option>\n        </optgroup>\n        <optgroup label='Font'>\n          <option value='font-size'>font-size</option>\n          <option value='font-weight'>font-weight</option>          \n          <option value='font-stretch'>font-stretch</option>\n        </optgroup>\n        <optgroup label='Animation'>\n          <option value='animation-timing-function'>timing-function</option>\n        </optgroup>        \n      </select>\n    `\n  }\n\n  [LOAD('$property')] () {\n    return this.state.properties.map( (it, index) => {\n      return /*html*/`\n        <div class='css-property-item'>\n          <div class='title'>\n            <label>${it.key}</label>\n            <div class='tools'>\n              <button type=\"button\" class='remove' data-index=\"${index}\">${icon.remove2}</button>\n            </div>\n          </div>\n          <div class='title-2'>\n            <div class='tools'>\n              <label><button type=\"button\" class='refresh' data-index=\"${index}\">${icon.refresh}</button> Refresh</label>\n            </div>\n          </div>\n          <div class='value-editor'>\n            ${this.makePropertyEditor(it, index)}\n          </div>\n        </div>\n      `\n    })\n  }\n\n  [EVENT(\"showCSSPropertyEditor\")](properties = []) {\n    this.setState({ properties });\n    this.refresh();\n  }\n\n  [CLICK('$property .remove')] (e) {\n    var index = +e.$dt.attr('data-index')\n\n    this.state.properties.splice(index, 1);\n    this.refresh();\n    this.modifyProperty();\n  }\n\n  [CLICK('$property .refresh')] (e) {\n    this.parent.trigger('refreshPropertyValue');\n  }  \n}\n","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { LOAD, POINTERSTART, MOVE, END, CLICK, IF, PREVENT } from \"../../../util/Event\";\nimport { Offset } from \"../../../editor/css-property/Offset\";\nimport Dom from \"../../../util/Dom\";\nimport { isUndefined } from \"../../../util/functions/func\";\nimport CSSPropertyEditor from \"./CSSPropertyEditor\";\nimport RangeEditor from \"./RangeEditor\";\nimport InputRangeEditor from \"./InputRangeEditor\";\n\n\nexport default class OffsetEditor extends UIElement {\n\n  components() {\n    return {\n      InputRangeEditor,\n      RangeEditor,\n      CSSPropertyEditor\n    }\n  }\n\n  initState() {\n    return {\n      offsets: []\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.modifyOffset();\n  }\n\n  modifyOffset () {\n    this.emit(\"changeOffsetEditor\", this.state);  \n  }\n\n  template() {\n    return /*html*/`\n    <div class='editor offset-editor' ref='$editor'>\n        ${this.templateForOffset()}\n        ${this.templateForOffsetInput()}\n        ${this.templateForProperty()}        \n    </div>`;\n  }\n\n\n\n  templateForOffsetInput () {\n    return /*html*/`\n      <div class='offset-input' >\n        <div class='title'>\n          <label>Offset</label>\n          <div class='tools'>\n            <InputRangeEditor \n              key='offset' \n              min='0' \n              max='100' \n              step=\"0.01\" \n              value=\"${Length.percent(0)}\" \n              ref='$offsetInput' \n              units=\"%\" \n              onchange='changeRangeEditor' \n            />\n          </div>\n        </div>\n      </div>\n    `\n  }\n\n  [EVENT('changeRangeEditor')] (key, value) {\n    var offset = this.state.offsets[this.selectedIndex];\n    if (offset) {\n      offset.offset = value.clone()\n      this.refresh();      \n      this.modifyOffset();      \n    }\n  }\n\n  templateForProperty() {\n    return /*html*/`<CSSPropertyEditor ref='$offsetPropertyEditor' hide-refresh=\"true\" onchange='changeCSSPropertyEditor' />`\n  }  \n\n  templateForOffset () {\n    return `<div class='offset' ref='$offset' data-selected-value=\"-1\"></div>`\n  }\n\n  makeOffset (offset, index) {\n    return `<div class='offset-item' style='left: ${offset.offset};' data-offset-index='${index.toString()}'></div>`\n  }\n\n\n  \n  selectItem(selectedIndex, isSelected = true) {\n    \n    if (isUndefined(selectedIndex)) {\n      selectedIndex = -1; \n      for(var i = 0, len = this.state.offsets.length; i < len; i++) {\n        if (this.state.offsets[i].selected) {\n          selectedIndex = i;\n          break; \n        }\n      }\n\n      if (selectedIndex === -1) {\n        selectedIndex = 0;\n      }  \n    }\n\n    this.getRef('$offset').attr('data-selected-value', selectedIndex);\n    this.selectedIndex = selectedIndex;\n\n    this.state.offsets.forEach( (it, index) => {\n      it.selected = index === selectedIndex;\n    });\n\n    var selectedList = this.state.offsets.filter(it => it.selected);\n    this.selectedOffsetItem = (selectedList.length) ? selectedList[0] : {} \n\n    this.refreshOffsetInput()\n  }  \n\n  refreshOffsetInput() {\n    var offset = this.state.offsets[this.selectedIndex];\n\n    if (offset) {\n      this.children.$offsetInput.setValue(offset.offset);\n    }\n  }\n\n  [LOAD('$offset')] () {\n    return this.state.offsets.map( (it, index) => {\n      return this.makeOffset(it, index);\n    })\n  }\n\n  isNotOffsetItem (e) {\n    return ! (Dom.create (e.target).hasClass('offset-item')) && !this.currentOffset\n  }\n\n  [CLICK('$offset') + IF('isNotOffsetItem') + PREVENT] (e) {\n    this.baseOffsetWidth = this.refs.$offset.width();\n    this.baseOffsetArea = this.refs.$offset.offset();\n    var currentX = e.xy.x;  \n\n    var newOffset = Length.percent((currentX - this.baseOffsetArea.left) / this.baseOffsetWidth * 100).round(100)\n\n    this.state.offsets.push(new Offset({\n      offset: newOffset\n    }))\n\n    this.selectItem(this.state.offsets.length-1, true)    \n    this.refresh();    \n    this.modifyOffset();\n\n  }\n\n\n\n  refreshOffsetProperty() {\n    this.emit('showCSSPropertyEditor', this.selectedOffsetItem.properties)\n  }\n  \n  [POINTERSTART('$offset .offset-item') + MOVE('moveOffset') + END('endOffset')] (e) {\n    this.baseOffsetWidth = this.refs.$offset.width();\n    this.baseOffsetArea = this.refs.$offset.offset();\n    this.currentOffsetleft =  Length.parse(e.$dt.css('left'))\n\n    this.currentOffset = e.$dt;\n    this.currentOffsetIndex = +e.$dt.attr('data-offset-index')\n    this.currentOffsetXY = e.xy;\n    this.baseOffsetMin = this.baseOffsetArea.left;\n    this.baseOffsetMax = this.baseOffsetArea.left + this.baseOffsetWidth;\n    this.isRemoveOffset = false; \n\n    if (e.altKey) {\n      this.isRemoveOffset = true; \n    } else {\n\n      this.selectItem(this.currentOffsetIndex, true)    \n      this.refreshOffsetInput()\n    }\n\n  }\n\n  moveOffset(dx, dy) {\n\n    if (this.isRemoveOffset) return; \n\n    var currentX = this.currentOffsetXY.x + dx \n\n    if (currentX < this.baseOffsetMin) {\n      currentX = this.baseOffsetMin;\n    } \n\n    if (currentX > this.baseOffsetMax) {\n      currentX = this.baseOffsetMax;\n    }\n\n    var newOffset = Length.percent((currentX - this.baseOffsetMin) / this.baseOffsetWidth * 100).round(100);\n\n\n    this.state.offsets[this.currentOffsetIndex].offset.set(newOffset.value)\n    this.currentOffset.css('left', newOffset)\n    this.refreshOffsetInput()\n    this.modifyOffset();\n  }\n\n  removeOffset (index) {\n    this.state.offsets.splice(index, 1);\n    this.selectItem(0);\n    this.refresh();    \n    this.modifyOffset();    \n  }\n\n  endOffset (dx, dy) {\n\n\n    if (this.isRemoveOffset) {\n      setTimeout( () => {\n        this.currentOffset = null; \n        this.removeOffset(this.currentOffsetIndex)\n      }, 10);\n\n    } else {\n\n      setTimeout(() => {\n        this.currentOffset = null;         \n        this.refreshOffsetInput();\n        this.refreshOffsetProperty();\n        this.modifyOffset();\n      }, 10);\n    }\n\n\n  }\n\n  refresh() {\n    this.load();\n    this.refreshOffsetProperty();\n\n  }\n\n  [EVENT(\"showOffsetEditor\")](data) {\n    this.setState(data);\n    this.selectItem()            \n    this.refresh();\n\n  }\n\n  [EVENT('changeCSSPropertyEditor')] (properties = []) {\n    var offset = this.state.offsets[this.selectedIndex];\n    if (offset) {\n      offset.properties = [...properties];\n    }\n    this.modifyOffset()\n  }\n}\n","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { LOAD, INPUT, CLICK } from \"../../../util/Event\";\n\nimport icon from \"../icon/icon\";\nimport SelectEditor from \"./SelectEditor\";\n\nexport default class SingleRangeEditor extends UIElement {\n\n    components() {\n        return {\n            SelectEditor\n        }\n    }\n\n    initState() {\n        var units = this.props.units || 'px,em,%';\n        var value = Length.parse(this.props.value || Length.px(0));\n        return {\n            removable: this.props.removable === 'true',\n            calc:  this.props.calc === 'false'  ? false : true,\n            label: this.props.label || '',\n            min: +this.props.min || 0,\n            max: +this.props.max || 100,\n            step: +this.props.step || 1,\n            key: this.props.key,\n            params: this.props.params || '',\n            units,\n            type: (value.unit === 'calc' || value.unit === 'var') ? 'calc' : 'range',\n            value\n        }\n    }\n\n    template () {\n        return `<div class='small-editor' ref='$body'></div>`\n    }\n\n    [LOAD('$body')] () {\n\n        var { min, max, step, label, calc, type, removable } = this.state\n\n        var value = +this.state.value.value.toString()\n\n        if (isNaN(value)) {\n            value = 0\n        }\n\n        var hasLabel = !!label ? 'has-label' : ''\n        var hasCalc = calc ? 'has-calc' : '';\n        var isRemovable = removable ? 'is-removable' : '';\n\n        var realValue = (+value).toString();\n        \n        return `\n        <div class='range-editor ${hasLabel} ${hasCalc} ${isRemovable}' data-selected-type='${type}' ref='$range'>\n            ${label ? `<label>${label}</label>` : '' }\n            <button type='button' class='type-button' ref='$toggleType'>${icon.autorenew}</button>\n            <div class='range-editor-type' data-type='range'>\n                <div class='area'>\n                    <input type='range' ref='$property' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" />\n                    <input type='number' ref='$propertyNumber' value=\"${realValue}\" min=\"${min}\" max=\"${max}\" step=\"${step}\" />\n                    <label>${this.props['selected-unit'] || this.state.units[0] || this.state.value.unit}</label>\n                </div>\n            </div>\n            <div class='range-editor-type' data-type='calc'>\n                <div class='area'>\n                    <SelectEditor ref='$varType' key='varType' value=\"${this.state.value.unit}\" options=\"calc,var\" onchange='changeVarType' />\n                    <input type='text' ref='$calc' value='${this.state.value}' />\n                </div>\n            </div>\n            <button type='button' class='remove' ref='$remove'>${icon.close}</button>\n        </div>\n    `\n    }\n\n    getValue() {\n        return this.state.value; \n    }\n\n    setValue (value) {\n        this.setState({\n            value: Length.parse(value)\n        })\n    }\n\n    [CLICK('$toggleType')] (e) {\n\n        var type = this.state.type === 'calc' ? 'range' : 'calc';\n        var value = '' \n        if (type === 'calc') {\n            value = Length.calc(this.refs.$calc.value) \n        } else {\n            var value = this.getRef('$propertyNumber').value; \n            var unit = this.children.$unit.getValue();\n            value = new Length(value, unit) \n        }\n\n        this.updateData({\n            type, value \n        }) \n\n        this.refs.$range.attr('data-selected-type', type);\n    }\n\n    [CLICK('$remove')] (e) {\n        this.updateData({\n            value: ''\n        })\n    }\n\n    [INPUT('$calc')] () {\n        this.updateData({ \n            value: new Length(this.refs.$calc.value, this.children.$varType.getValue()) \n        });\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n\n    updateCalc () {\n        this.refs.$calc.val(this.state.value);\n    }\n\n    [INPUT('$propertyNumber')] (e) {\n\n        var value = +this.getRef('$propertyNumber').value; \n        this.getRef('$property').val(value);\n\n        this.updateData({ \n            value: this.state.value.set(value)\n        });\n\n        this.updateCalc()\n    }\n\n\n    [INPUT('$property')] (e) {\n        var value = +this.getRef('$property').value; \n        this.getRef('$propertyNumber').val(value);\n\n        if (this.state.value === '') {\n            this.state.value = new Length(0, this.children.$unit.getValue())\n        }\n\n        this.updateData({ \n            value: this.state.value.set(value)\n        });\n\n        this.updateCalc()\n    }\n\n    [EVENT('changeUnit')] (key, value) {\n        this.updateData({\n            value: this.state.value.toUnit(value)\n        })\n\n        this.updateCalc()\n    }\n\n    [EVENT('changeVarType')] (key, unit) {\n        this.updateData({\n            value: new Length(this.refs.$calc.value, unit)\n        })\n    }\n}","import UIElement, { EVENT } from \"../../../../util/UIElement\";\n\nimport { isUndefined } from \"../../../../util/functions/func\";\nimport { Length } from \"../../../../editor/unit/Length\";\nimport { POINTERSTART, MOVE, END, BIND } from \"../../../../util/Event\";\nimport RangeEditor from \"../RangeEditor\";\n\nexport default class CircleEditor extends UIElement {\n\n    components () {\n        return {\n            RangeEditor\n        }\n    }\n\n    parseValue (str = '50%') {\n        var radius = new Length('', 'closest-side'), position = ''; \n        str = str || '50%'\n        if (str.includes('at')) {\n            [ radius, position ] = str.split('at').map(it => it.trim());\n        }  else {\n            position = str.trim(); \n        }\n\n        var [x, y] = position.split(' ')\n\n        if (isUndefined(y)) {\n            y = x; \n        }\n\n        x = Length.parse(x)\n        y = Length.parse(y)\n\n        return {\n            radius, x, y\n        }\n    }\n\n    initState() {\n        return this.parseValue(this.props.value)\n    }\n\n    template() {\n        return /*html*/`\n        <div class='clip-path-editor circle-editor'>\n            <RangeEditor \n                ref='$range' \n                label='Radius' \n                key='radius' \n                value='${this.state.radius}' \n                min=\"0\" \n                max=\"100\" \n                step=\"0.1\" \n                units=\"%,closest-side,farthest-side\" \n                onchange='changeRangeEditor' \n            />\n            <div class='drag-area' ref='$area'>\n                <div class='drag-pointer' ref='$pointer' style='left: ${this.state.x};top: ${this.state.y};'></div>\n                <div class='clip-area circle' ref='$clipArea'></div>\n            </div>\n        </div>\n    `\n    }\n\n\n    [BIND('$clipArea')] () {\n        return {\n            style : {\n                'clip-path' : `${this.props.key}(${this.toClipPathValueString()})`\n            }\n        }\n    }    \n\n    [POINTERSTART('$area') + MOVE() + END()] (e) {\n\n        this.areaRect = this.refs.$area.rect(); \n        this.startXY = e.xy; \n    }\n\n    move (dx, dy) {\n        var x = this.startXY.x + dx;\n        var y = this.startXY.y + dy;  \n\n        if (this.areaRect.x > x) {\n            x = this.areaRect.x; \n        } else if (this.areaRect.right < x) {\n            x = this.areaRect.right; \n        }\n\n        if (this.areaRect.y > y) {\n            y = this.areaRect.y; \n        } else if (this.areaRect.bottom < y) {\n            y = this.areaRect.bottom; \n        }        \n\n        var left = Length.percent((x - this.areaRect.x) / this.areaRect.width * 100).round(1)\n        var top = Length.percent((y - this.areaRect.y) / this.areaRect.height * 100).round(1)\n\n        this.refs.$pointer.css({\n            left, top \n        })\n\n        this.updateData({\n            x: left,\n            y: top\n        })\n\n\n        this.bindData('$clipArea')\n    }\n\n    toClipPathValueString () {\n\n        var {x,y,radius} = this.state;\n\n        var results = `${x} ${y}`\n\n        var radiusString = radius + '';\n\n        if (radiusString.includes('closest-side')) {\n            radiusString = 'closest-side'\n        } else if (radiusString.includes('farthest-side')) {\n            radiusString = 'farthest-side'\n        }\n\n        return radius ? `${radiusString} at ${results}` :  `${results}`;\n    }\n\n    updateData (data) {\n        this.setState(data)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)\n    }\n\n    [EVENT('changeRangeEditor')] (key, value) {\n\n        if (key === 'radius') {\n            var radius = value; \n            var tempValue = value.unit + '';\n\n            if (tempValue.includes('closest-side')) {\n                radius = new Length('', 'closest-side')\n            }  else if (tempValue.includes('farthest-side')) {\n                radius = new Length('', 'farthest-side')\n            }\n\n            this.updateData({\n                radius\n            })\n        }\n    }\n}","import UIElement from \"../../../util/UIElement\";\nimport { BIND, INPUT } from \"../../../util/Event\";\n\nexport default class TextEditor extends UIElement {\n\n    initState() {\n        var value = this.props.value;\n\n        return {\n            label: this.props.label || '',\n            value\n        }\n    }\n\n    template() {\n        var { label } = this.state; \n        var hasLabel = !!label ? 'has-label' : ''\n        return /*html*/`\n            <div class='text-editor ${hasLabel}'>\n                ${label ? `<label>${label}</label>` : '' }\n                <input type='text' ref='$text' />\n            </div>\n        `\n    }\n\n    getValue () {\n        return this.refs.$options.value; \n    }\n\n    [BIND('$text')] () {\n        return {\n            'value': this.state.value\n        }\n    }\n\n    [INPUT('$text')] () {\n        this.updateData({\n            value: this.refs.$text.value \n        })\n    }\n\n\n    updateData (data) {\n        this.setState(data)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n}","import UIElement from \"../../../util/UIElement\";\nimport { LOAD, INPUT, BIND } from \"../../../util/Event\";\n\n\nexport default class InputArrayEditor extends UIElement {\n\n    initState() {\n        var values = this.props.values.split(' ').map(it => +it)\n        return {\n            values,\n            column: this.props.column\n        }\n    }\n\n    template () {\n        return `<div class='small-editor input-array-editor' ref='$body' ></div>`\n    }\n\n    [BIND('$body')] () {\n        return {\n\n            cssText : `\n                display: grid;\n                grid-template-columns: repeat(${this.state.column}, 1fr);\n                grid-column-gap: 2px;\n                grid-row-gap: 2px;\n            `\n        }\n    }\n\n    [LOAD('$body')] () {\n\n        var { values } = this.state\n\n        \n        return values.map( (value, index) => {\n            return `\n                <div class='number-editor'>\n                    <input type=\"number\" value=\"${value}\" step=\"0.01\" data-index=\"${index}\" />\n                </div>\n            `\n        })\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.values, this.props.params)\n    }\n\n    [INPUT('$body input')] (e) {\n\n        var $el = e.$dt;\n        var index = +$el.attr('data-index')\n        var value = +$el.value\n\n        this.state.values[index] = value; \n\n        this.updateData();\n\n    }\n}","import { Property } from \"../../items/Property\";\nimport { uuidShort } from \"../../../util/functions/math\";\nimport { SVGFilterClassName } from \"../SVGFilter\";\nimport { clone, isString } from \"../../../util/functions/func\";\n\nconst  Primitive = 'SourceGraphic,SourceAlpha,BackgroundImage,BackgroundAlpha,FillPaint,StrokePaint'.split(',')\n\nconst DEFAULT_ATTRIBUTES = {\n  xChannelSelector: true,\n  yChannelSelector: true  \n}\n\nexport class BaseSVGFilter extends Property {\n\n  static parse (obj) {\n    var FilterClass = SVGFilterClassName[obj.type];\n  \n    return new FilterClass(obj);\n  }  \n\n  hasLight () {\n    return false; \n  }\n\n  isLight () {\n    return false; \n  }\n\n  isSource () {\n    return false; \n  }\n\n  getDefaultObject(obj = {}) {\n    var id  = uuidShort()\n    return super.getDefaultObject({ \n      itemType: \"svgfilter\", \n      id,\n      in: [],\n      bound: { x: 100, y: 100, targetX: 0, targetY: 0 },\n      connected: [],\n      ...obj \n    });\n  }\n\n  getInCount () {\n    return 0; \n  }\n\n  setIn  (index, target) {\n    this.json.in[index] = {id: target.id, type: target.type}; \n  }\n\n  setConnected (target ) {\n\n    var f = this.json.connected.filter(c => c.id === target.id);\n\n    if (f.length === 0) {\n      this.json.connected.push({id: target.id });\n    }\n\n  }  \n\n  convert(json) {\n\n\n    if (isString(json.in)) {\n      json.in = JSON.parse(json.in);\n    }\n    if (isString(json.bound)) {\n      json.bound = JSON.parse(json.bound);  \n    }\n\n    if (isString(json.connected)) {\n      json.connected = JSON.parse(json.connected);  \n    }\n\n    \n    return json; \n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      id: this.json.id,\n      in: clone(this.json.in),\n      bound: clone(this.json.bound),\n      connected: clone(this.json.connected)\n    }\n  }\n\n  getDefaultAttribute () {\n    var list = [] \n\n    if (this.json.connected.length) {\n      list.push(`result=\"${this.json.id}result\"`)\n    }\n\n    Object.keys(DEFAULT_ATTRIBUTES).filter(key => {\n      return !!this.json[key]\n    }).forEach(key => {\n      list.push(`${key}=\"${this.json[key]}\"`)\n    })\n\n    return list.join(' ') + ' ' + this.getSourceInAttribute();\n  }\n\n  hasInIndex () {\n    return false; \n  }\n\n  getSourceInAttribute (inList) {\n    return (inList || this.json.in).map((it, index) => {\n\n      if (!it) return '';\n\n      var indexString = index === 0 ? '' : (index + 1) + '' \n\n      if (!this.hasInIndex()) {\n        indexString = ''; \n      }\n\n      if (Primitive.includes(it.type)) {\n        return `in${indexString}=\"${it.type}\"`\n      }\n      return `in${indexString}=\"${it.id}result\"`\n    }).join(' ')\n  }\n\n\n  toString() {\n    var { type , value } = this.json; \n    return `<fe${type} value=\"${value}\" ${this.getDefaultAttribute()} />`;\n  }\n}\n\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"../../unit/Length\";\n\n\nexport class RotaMatrixSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"RotaMatrix\",\n      hueRotate: RotaMatrixSVGFilter.spec.hueRotate.defaultValue\n    });\n  }\n\n  convert(json) {\n    json.hueRotate = Length.parse(json.hueRotate);\n    return json \n  }\n\n  toString() {\n    var {id, hueRotate} = this.json \n    return /*html*/`\n      <feColorMatrix type=\"hueRotate\" result=\"romatrix-${id}\"  values=\"${hueRotate}\"/>\n      <feColorMatrix type=\"matrix\" in=\"romatrix-${id}\" in2=\"SourceGraphic\"  ${this.getDefaultAttribute()} values=\"-1 2 -3 0 -.5 2 1 0 0 0 0 3 1 0 0 0 0 1 1 0\"/>\n    `;\n  }\n}\n\n\nRotaMatrixSVGFilter.spec = {\n  hueRotate: {\n    title: \"hue-rotate\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 360,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\n\nexport class MergeSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Merge\"\n    });\n  }\n\n  getInCount() { return 3 }  \n\n\n  getDefaultAttribute () {\n    var list = [] \n\n    if (this.json.connected.length) {\n      list.push(`result=\"${this.json.id}result\"`)\n    }\n\n    return list.join(' ');\n  }  \n\n  toString() {\n    var { in: inList } = this.json; \n    return /*html*/`\n    <feMerge  ${this.getDefaultAttribute()} >\n      ${inList.map(it => {\n        return `<feMergeNode ${this.getSourceInAttribute([it])} />`\n      }).join('')}\n    </feMerge>`;\n  }\n}\n\n\nMergeSVGFilter.spec = {\n\n};\n\n\n","import {BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"../../unit/Length\";\n\nexport class CompositeSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Composite\",\n      operator: CompositeSVGFilter.spec.operator.defaultValue,\n      k1: CompositeSVGFilter.spec.k1.defaultValue,\n      k2: CompositeSVGFilter.spec.k2.defaultValue,\n      k3: CompositeSVGFilter.spec.k3.defaultValue,\n      k4: CompositeSVGFilter.spec.k4.defaultValue\n    });\n  }\n\n  getInCount() { return 2 }  \n\n  toString() {\n    var { operator, k1, k2, k3, k4 } = this.json; \n\n    var kNumbers = '' \n\n    if (operator === 'arithmetic') {\n      kNumbers = ` k1=\"${k1}\" k2=\"${k2}\" k3=\"${k3}\" k4=\"${k4}\" `\n    }\n\n    return `<feComposite operator=\"${operator}\" ${kNumbers}  ${this.getDefaultAttribute()} />`;\n  }\n\n\n  hasInIndex () {\n    return true; \n  }\n}\n\n\nCompositeSVGFilter.spec = {  \n  operator: {\n    title: \"operator\",\n    inputType: \"select\",\n    options: \"over,in,out,atop,xor,arithmetic\",\n    defaultValue: \"over\"\n  },\n  k1: {\n    title: \"k1\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  },    \n  k2: {\n    title: \"k2\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  },    \n  \n  k3: {\n    title: \"k3\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  },    \n  \n  k4: {\n    title: \"k4\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  }\n};\n\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"../../unit/Length\";\n\nexport class MorphologySVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Morphology\",\n      operator: MorphologySVGFilter.spec.operator.defaultValue,\n      radius: MorphologySVGFilter.spec.radius.defaultValue\n    });\n  }\n  getInCount() { return 1 }    \n\n  toString() {\n    var { operator, radius } = this.json; \n    return `<feMorphology operator=\"${operator}\" radius=\"${radius}\"  ${this.getDefaultAttribute()} />`;\n  }\n}\n\n\nMorphologySVGFilter.spec = {\n  operator: {\n    title: \"Operator\",\n    inputType: \"select\",\n    options: 'erode,dilate',\n    defaultValue: 'erode'\n  },\n  radius: {\n    title: \"Radius\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"../../unit/Length\";\nimport { OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\n\nexport class TurbulenceSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Turbulence\",\n      filterType: TurbulenceSVGFilter.spec.filterType.defaultValue,\n      baseFrequency: TurbulenceSVGFilter.spec.baseFrequency.defaultValue,\n      numOctaves: TurbulenceSVGFilter.spec.numOctaves.defaultValue,\n      seed: TurbulenceSVGFilter.spec.seed.defaultValue\n    });\n  }\n\n  convert (obj) {\n    obj.baseFrequency = Length.parse(obj.baseFrequency)\n    obj.numOctaves = Length.parse(obj.numOctaves)\n    obj.seed = Length.parse(obj.seed)\n    return obj; \n  }\n\n  toString() {\n    var { filterType, baseFrequency, numOctaves, seed } = this.json; \n\n    return /*html*/`<feTurbulence ${OBJECT_TO_PROPERTY({\n      type: filterType,\n      baseFrequency,\n      numOctaves, \n      seed\n    })}   ${this.getDefaultAttribute()} />`;\n  }\n}\n\nTurbulenceSVGFilter.spec = {\n  filterType: {\n    title: \"Type\",\n    inputType: \"select\",\n    options: \"fractalNoise,turbulence\",\n    defaultValue: \"turbulence\"\n  },\n  baseFrequency: {\n    title: 'Frequency',\n    inputType: 'number-range',\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  },\n  numOctaves: {\n    title: 'Octaves',\n    inputType: 'number-range',\n    min: 1,\n    max: 10,\n    step: 1,\n    defaultValue: Length.number(1)\n  },\n  seed: {\n    title: 'Seed',\n    inputType: 'number-range',\n    min: 0,\n    max: 10000,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n  \n};\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"../../unit/Length\";\n\n\nexport class DisplacementMapSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"DisplacementMap\",\n      scale: DisplacementMapSVGFilter.spec.scale.defaultValue\n    });\n  }\n\n  getInCount() { return 2 }  \n\n  convert (obj) {\n    obj.scale = Length.parse(obj.scale)\n    return obj; \n  }  \n\n  toString() {\n    var { scale } = this.json; \n\n    var scaleOption = scale.value ? `scale=\"${scale}\"` : '';  \n\n    return `<feDisplacementMap ${scaleOption}  ${this.getDefaultAttribute()} />`;\n  }\n\n\n  hasInIndex () {\n    return true; \n  }\n}\n\nDisplacementMapSVGFilter.spec = {\n  scale: {\n    title: 'scale',\n    inputType: 'number-range',\n    min: 0,\n    max: 5000,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\n\nexport class ColorMatrixSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"ColorMatrix\",\n      values: ColorMatrixSVGFilter.spec.values.defaultValue,\n    });\n  }\n\n\n  getInCount() { return 1 }\n  toString() {\n    var { values } = this.json; \n\n    var valueString = values.join(' ') \n\n    return /*html*/`<feColorMatrix type=\"matrix\" values=\"${valueString}\"  ${this.getDefaultAttribute()} />`;\n  }\n}\n\nColorMatrixSVGFilter.spec = {\n  values: {\n    title: 'values',\n    inputType: 'color-matrix',\n    column: 5,\n    defaultValue: [\n      1, 0, 0, 0, 0,\n      0, 1, 0, 0, 0,\n      0, 0, 1, 0, 0,\n      0, 0, 0, 1, 0\n    ]\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\n\n\nexport class ConvolveMatrixSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"ConvolveMatrix\",\n      kernelMatrix: ConvolveMatrixSVGFilter.spec.kernelMatrix.defaultValue,\n    });\n  }\n\n\n  getInCount() { return 1 }\n\n  toString() {\n    var { kernelMatrix } = this.json; \n\n    var valueString = kernelMatrix.join(' ')\n\n    return /*html*/`<feConvolveMatrix kernelMatrix=\"${valueString}\"  ${this.getDefaultAttribute()} />`;\n  }\n}\n\nConvolveMatrixSVGFilter.spec = {\n\n  kernelMatrix: {\n    title: 'kernelMatrix',\n    inputType: 'input-array',\n    column: 3,\n    defaultValue: [\n      1, 0, 0,\n      0, 1, 0,\n      0, 0, 1\n    ]\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"../../unit/Length\";\n\n\nexport class GaussianBlurSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"GaussianBlur\",\n      stdDeviationX: GaussianBlurSVGFilter.spec.stdDeviationX.defaultValue,\n      stdDeviationY: GaussianBlurSVGFilter.spec.stdDeviationY.defaultValue,\n      edgeMode: GaussianBlurSVGFilter.spec.edgeMode.defaultValue\n    });\n  }\n\n\n  getInCount() { return 1 }  \n\n\n  convert (obj) {\n    obj.stdDeviationX = Length.parse(obj.stdDeviationX)\n    obj.stdDeviationY = Length.parse(obj.stdDeviationY)\n    return obj; \n  }\n\n  toString() {\n    var { stdDeviationX, stdDeviationY, edgeMode } = this.json; \n\n    var stdDeviation = `${stdDeviationX} ${stdDeviationY}`\n    if (stdDeviationX === stdDeviationY) {\n      stdDeviation = stdDeviationX;\n    }     \n\n    return `<feGaussianBlur  stdDeviation=\"${stdDeviation}\" edgeMode=\"${edgeMode}\"  ${this.getDefaultAttribute()} />`;\n  }\n}\n\nGaussianBlurSVGFilter.spec = {\n  stdDeviationX: {\n    title: \"X\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  stdDeviationY: {\n    title: \"Y\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  edgeMode: {\n    title: \"edge\",\n    inputType: \"select\",\n    options: \"none,duplicate,wrap\",\n    defaultValue: \"none\"\n  }\n};\n\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"../../unit/Length\";\nimport { OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\n\nexport class FloodSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Flood\",\n      x: FloodSVGFilter.spec.x.defaultValue,\n      y: FloodSVGFilter.spec.y.defaultValue,\n      width: FloodSVGFilter.spec.width.defaultValue,\n      height: FloodSVGFilter.spec.height.defaultValue,\n      color: FloodSVGFilter.spec.color.defaultValue,\n      opacity: FloodSVGFilter.spec.opacity.defaultValue\n    });\n  }\n\n  convert (json) {\n\n    json.x = Length.parse(json.x);\n    json.y = Length.parse(json.y);\n    json.width = Length.parse(json.width);\n    json.height = Length.parse(json.height);\n\n    return json; \n  }\n\n  toString() {\n\n    const {opacity, color, x, y, width, height} = this.json;\n\n    return `<feFlood ${OBJECT_TO_PROPERTY({\n      x, y, width, height\n    })} flood-opacity=\"${opacity}\" flood-color=\"${color}\" ${this.getDefaultAttribute()} />`;\n  }\n}\n\nFloodSVGFilter.spec = {\n  \n  x: {\n    title: \"X\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  y: {\n    title: \"Y\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  width: {\n    title: \"width\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  height: {\n    title: \"height\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },        \n  opacity: {\n    title: \"opacity\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  },\n\n  color: {\n    title: \"color\",\n    inputType: \"color\",\n    defaultValue: 'rgba(0, 0, 0, 1)'\n  }\n};\n\n\n","import {BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\n\nexport class ComponentTransferSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"ComponentTransfer\",\n      r: ComponentTransferSVGFilter.spec.r.defaultValue,\n      g: ComponentTransferSVGFilter.spec.g.defaultValue,\n      b: ComponentTransferSVGFilter.spec.b.defaultValue,\n      a: ComponentTransferSVGFilter.spec.a.defaultValue,\n    });\n  }\n\n  getInCount() { return 1 }  \n\n  parse (value) {\n    var [type, ...values] = value.split(' ')\n\n    if (type === 'table' || type === 'discrete') {\n      return {type, tableValues: values.join(' ')}\n    } if (type === 'linear') {\n      var [slop, intercept] = values; \n      return {type, slop, intercept}\n    } else if (type === 'gamma') {\n      var [amplitude, exponent, offset] = values; \n      return {type, amplitude, exponent, offset}\n    }\n\n    return {type}\n}\n\n  toString() {\n    var { r, g, b, a } = this.json;\n    \n    r = this.parse(r);\n    g = this.parse(g);\n    b = this.parse(b);\n    a = this.parse(a);\n\n    return /*html*/`<feComponentTransfer ${this.getDefaultAttribute()} >\n      ${r && `<feFuncR ${OBJECT_TO_PROPERTY(r)} />`}\n      ${g && `<feFuncG ${OBJECT_TO_PROPERTY(g)} />`}\n      ${b && `<feFuncB ${OBJECT_TO_PROPERTY(b)} />`}\n      ${a && `<feFuncA ${OBJECT_TO_PROPERTY(a)} />`}\n    </feComponentTransfe>`;\n  }\n}\n\n\nComponentTransferSVGFilter.spec = {\n  r: {\n    title: \"R\",\n    inputType: \"FuncFilter\",\n    defaultValue: \"identity\"\n  },  \n  g: {\n    title: \"G\",\n    inputType: \"FuncFilter\",\n    defaultValue: \"identity\"\n  },  \n  b: {\n    title: \"B\",\n    inputType: \"FuncFilter\",\n    defaultValue: \"identity\"\n  },  \n  a: {\n    title: \"A\",\n    inputType: \"FuncFilter\",\n    defaultValue: \"identity\"\n  }\n};\n\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\nimport { Length } from \"../../unit/Length\";\n\n\nexport class DistantLightSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"DistantLight\",\n      azimuth: DistantLightSVGFilter.spec.azimuth.defaultValue,      \n      elevation: DistantLightSVGFilter.spec.elevation.defaultValue\n    });\n  }\n\n  isLight() {\n    return true; \n  }\n\n\n  // toString() {\n  //   var { azimuth, elevation } = this.json; \n\n  //   return /*html*/`<feDistantLight ${OBJECT_TO_PROPERTY({\n  //     azimuth, elevation\n  //   })}  ${this.getDefaultAttribute()} />`;\n  // }\n\n\n  toString() {\n    return '';\n  }\n\n  toLightString() {\n    var { azimuth, elevation } = this.json; \n\n    return /*html*/`<feDistantLight ${OBJECT_TO_PROPERTY({\n      azimuth, elevation\n    })} />`;\n  }\n}\n\nDistantLightSVGFilter.spec = {\n \n  azimuth: {\n    title: \"azimuth\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  elevation: {\n    title: \"elevation\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\nimport { Length } from \"../../unit/Length\";\n\n\nexport class PointLightSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"PointLight\",\n      x: PointLightSVGFilter.spec.x.defaultValue,      \n      y: PointLightSVGFilter.spec.y.defaultValue,      \n      z: PointLightSVGFilter.spec.z.defaultValue\n    });\n  }\n\n  isLight() {\n    return true; \n  }\n\n\n  // toString() {\n  //   var { x, y, z } = this.json; \n\n  //   return /*html*/`<fePointLight ${OBJECT_TO_PROPERTY({\n  //     x, y, z\n  //   })}  ${this.getDefaultAttribute()} />`;\n  // }\n\n\n  toString() {\n    return '';\n  }\n\n  toLightString() {\n    var { x, y, z } = this.json; \n\n    return /*html*/`<fePointLight ${OBJECT_TO_PROPERTY({\n      x, y, z\n    })} />`;\n  }\n}\n\nPointLightSVGFilter.spec = {\n  x: {\n    title: \"x\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  y: {\n    title: \"y\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  z: {\n    title: \"z\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\nimport { Length } from \"../../unit/Length\";\n\n\nexport class SpotLightSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"SpotLight\",\n      x: SpotLightSVGFilter.spec.x.defaultValue,      \n      y: SpotLightSVGFilter.spec.x.defaultValue,      \n      z: SpotLightSVGFilter.spec.x.defaultValue,      \n      pointsAtX: SpotLightSVGFilter.spec.pointsAtX.defaultValue,      \n      pointsAtY: SpotLightSVGFilter.spec.pointsAtY.defaultValue,      \n      pointsAtZ: SpotLightSVGFilter.spec.pointsAtZ.defaultValue,      \n      specularExponent: SpotLightSVGFilter.spec.specularExponent.defaultValue,\n      limitingConeAngle: SpotLightSVGFilter.spec.limitingConeAngle.defaultValue\n    });\n  }\n\n\n  isLight() {\n    return true; \n  }\n\n  // toString() {\n  //   var { x, y, z, pointsAtX, pointsAtY, pointsAtZ, specularExponent, limitingConeAngle } = this.json; \n\n  //   return /*html*/`<feSpotLight ${OBJECT_TO_PROPERTY({\n  //     x, y, z, pointsAtX, pointsAtY, pointsAtZ, specularExponent, limitingConeAngle\n  //   })}  ${this.getDefaultAttribute()} />`;\n  // }\n\n  toString() { }\n\n  toLightString() {\n    var { x, y, z, pointsAtX, pointsAtY, pointsAtZ, specularExponent, limitingConeAngle } = this.json; \n\n    return /*html*/`<feSpotLight ${OBJECT_TO_PROPERTY({\n      x, y, z, pointsAtX, pointsAtY, pointsAtZ, specularExponent, limitingConeAngle\n    })} />`;\n  }  \n}\n\nSpotLightSVGFilter.spec = {\n \n  x: {\n    title: \"x\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  y: {\n    title: \"y\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  z: {\n    title: \"z\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  pointsAtX: {\n    title: \"pointsAtX\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  pointsAtY: {\n    title: \"pointsAtY\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  pointsAtZ: {\n    title: \"pointsAtZ\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },    \n  specularExponent: {\n    title: \"specularExponent\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  },      \n  limitingConeAngle: {\n    title: \"limitingConeAngle\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\nimport { Length } from \"../../unit/Length\";\n\n\nexport class DiffuseLightingSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"DiffuseLighting\",\n      surfaceScale: DiffuseLightingSVGFilter.spec.surfaceScale.defaultValue,      \n      lightingColor: DiffuseLightingSVGFilter.spec.lightingColor.defaultValue,      \n      diffuseConstant: DiffuseLightingSVGFilter.spec.diffuseConstant.defaultValue,\n      lightInfo: '' \n    });\n  }\n  toCloneObject () {\n    return {\n      ...super.toCloneObject(),\n      surfaceScale: this.json.surfaceScale,      \n      lightingColor: this.json.lightingColor,      \n      diffuseConstant: this.json.diffuseConstant,\n      lightInfo: this.json.lightInfo\n    }\n  }  \n\n  hasLight() {\n    return true; \n  }\n\n\n  getInCount() { return 1 }  \n\n\n  toString() {\n    var { surfaceScale, diffuseConstant, lightingColor } = this.json; \n\n    return /*html*/`<feDiffuseLighting ${OBJECT_TO_PROPERTY({\n      surfaceScale,\n      diffuseConstant,\n      'lighting-color': lightingColor\n    })}  ${this.getDefaultAttribute()} >\n      ${this.json.lightInfo}\n    </feDiffuseLighting>`;\n  }\n}\n\nDiffuseLightingSVGFilter.spec = {\n  surfaceScale: {\n    title: \"surfaceScale\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  },\n  diffuseConstant: {\n    title: \"diffuseConstant\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  },  \n \n  lightingColor: {\n    title: \"Lighting Color\",\n    inputType: \"color\",\n    defaultValue: 'rgba(0, 0, 0, 1)'\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\nimport { Length } from \"../../unit/Length\";\n\n\nexport class SpecularLightingSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"SpecularLighting\",\n      surfaceScale: SpecularLightingSVGFilter.spec.surfaceScale.defaultValue,      \n      lightingColor: SpecularLightingSVGFilter.spec.lightingColor.defaultValue,      \n      specularConstant: SpecularLightingSVGFilter.spec.specularConstant.defaultValue,      \n      specularExponent: SpecularLightingSVGFilter.spec.specularExponent.defaultValue,\n      lightInfo: ''\n    });\n  }\n  \n  toCloneObject () {\n    return {\n      ...super.toCloneObject(),\n      surfaceScale: this.json.surfaceScale,      \n      lightingColor: this.json.lightingColor,      \n      specularConstant: this.json.specularConstant,\n      specularExponent: this.json.specularExponent,\n      lightInfo: ''\n    }\n  }\n\n  hasLight() {\n    return true; \n  }\n\n  getInCount() { return 1 }  \n\n  toString() {\n    var { surfaceScale, specularConstant, specularExponent, lightingColor } = this.json; \n\n    return /*html*/`<feSpecularLighting ${OBJECT_TO_PROPERTY({\n      surfaceScale,\n      specularConstant, \n      specularExponent,\n      'lighting-color': lightingColor\n    })}  ${this.getDefaultAttribute()} >\n      ${this.json.lightInfo}\n    </feSpecularLighting>`;\n  }\n\n  getSourceInAttribute () {\n    return '';\n  }\n}\n\nSpecularLightingSVGFilter.spec = {\n  surfaceScale: {\n    title: \"surfaceScale\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  },\n  specularConstant: {\n    title: \"Constant\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  },  \n  specularExponent: {\n    title: 'Exponent',\n    inputType: \"number-range\",\n    min: 0,\n    max: 100,\n    step: 1,\n    defaultValue: Length.number(1)\n  },  \n \n  lightingColor: {\n    title: \"Lighting Color\",\n    inputType: \"color\",\n    defaultValue: 'rgba(0, 0, 0, 1)'\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"../../unit/Length\";\nimport { OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\n\nexport class OffsetSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Offset\",\n      dx: OffsetSVGFilter.spec.dx.defaultValue,\n      dy: OffsetSVGFilter.spec.dy.defaultValue\n    });\n  }\n\n  getInCount() { return 1 }    \n\n  toString() {\n    var {dx, dy } = this.json; \n    return /*html*/`<feOffset \n      ${OBJECT_TO_PROPERTY({\n        dx, dy \n      })}  ${this.getDefaultAttribute()} />`;\n  }\n}\n\n\nOffsetSVGFilter.spec = {\n  dx: {\n    title: \"dx\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  dy: {\n    title: \"dy\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\nimport { blend_list } from \"../../util/Resource\";\n \nexport class BlendSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Blend\",\n      mode: BlendSVGFilter.spec.mode.defaultValue\n    });\n  }\n\n  getInCount() { return 2 }\n\n\n\n  toString() {\n    var { mode } = this.json; \n\n    return /*html*/`<feBlend ${OBJECT_TO_PROPERTY({\n      mode\n    })} ${this.getDefaultAttribute()} />`;\n  }\n\n  hasInIndex () {\n    return true; \n  }\n}\n\n\n\nBlendSVGFilter.spec = {\n  mode: {\n    title: 'mode',\n    inputType: 'select',\n    options: blend_list,\n    defaultValue: 'normal'\n  }\n};\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nexport class SourceSVGFilter extends BaseSVGFilter {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      type: 'Source',\n      ...obj\n    });\n  }\n  \n  isSource() {\n    return true; \n  }\n  toString() {\n    return '';\n  }\n}\n","import { SourceSVGFilter } from \"./SourceSVGFilter\";\nexport class SourceGraphicSVGFilter extends SourceSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'SourceGraphic'\n    });\n  }\n}","import { SourceSVGFilter } from \"./SourceSVGFilter\";\nexport class SourceAlphaSVGFilter extends SourceSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'SourceAlpha'\n    });\n  }\n}\n","import { SourceSVGFilter } from \"./SourceSVGFilter\";\nexport class BackgroundImageSVGFilter extends SourceSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'BackgroundImage'\n    });\n  }\n}\n","import { SourceSVGFilter } from \"./SourceSVGFilter\";\nexport class BackgroundAlphaSVGFilter extends SourceSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'BackgroundAlpha'\n    });\n  }\n}\n","import { SourceSVGFilter } from \"./SourceSVGFilter\";\nexport class FillPaintSVGFilter extends SourceSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'FillPaint'\n    });\n  }\n}\n","import { SourceSVGFilter } from \"./SourceSVGFilter\";\nexport class StrokePaintSVGFilter extends SourceSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: 'StrokePaint'\n    });\n  }\n}\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\nimport { Length } from \"../../unit/Length\";\n\n\nexport class DropShadowSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"DropShadow\",\n      dx: DropShadowSVGFilter.spec.dx.defaultValue,      \n      dy: DropShadowSVGFilter.spec.dy.defaultValue,\n      stdDeviation: DropShadowSVGFilter.spec.stdDeviation.defaultValue,\n      color: DropShadowSVGFilter.spec.color.defaultValue,\n      opacity: DropShadowSVGFilter.spec.opacity.defaultValue,\n    });\n  }\n\n  getInCount() {\n    return 1; \n  }\n\n  toString() {\n    var { dx, dy, stdDeviation, color, opacity } = this.json; \n\n    return /*html*/`<feDropShadow ${OBJECT_TO_PROPERTY({\n      dx, dy, stdDeviation, 'flood-color': color, 'flood-opacity': opacity\n    })}  ${this.getDefaultAttribute()} />`;\n  }\n}\n\nDropShadowSVGFilter.spec = {\n \n  dx: {\n    title: \"dx\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },\n  dy: {\n    title: \"dy\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },        \n  stdDeviation: {\n    title: \"stdDeviation\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 0.1,\n    defaultValue: Length.number(0)\n  },  \n  opacity: {\n    title: \"opacity\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(1)\n  },\n\n  color: {\n    title: \"color\",\n    inputType: \"color\",\n    defaultValue: 'rgba(0, 0, 0, 1)'\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"../../unit/Length\";\n\nexport class SaturateSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Saturate\",\n      values: SaturateSVGFilter.spec.values.defaultValue,\n    });\n  }\n\n  getInCount() { return 1 }\n\n  toString() {\n    var { values } = this.json; \n\n    return /*html*/`<feColorMatrix type=\"saturate\" values=\"${values}\"  ${this.getDefaultAttribute()} />`;\n  }\n}\n\nSaturateSVGFilter.spec = {\n  values: {\n    title: \"values\",\n    inputType: \"number-range\",\n    min: -1,\n    max: 1,\n    step: 0.01,\n    defaultValue: Length.number(0)\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"../../unit/Length\";\n\nexport class HueRotateSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"HueRotate\",\n      values: HueRotateSVGFilter.spec.values.defaultValue,\n    });\n  }\n\n  getInCount() { return 1 }\n  \n  toString() {\n    var { values } = this.json;\n\n    return /*html*/`<feColorMatrix type=\"hueRotate\" values=\"${values}\"  ${this.getDefaultAttribute()} />`;\n  }\n}\n\nHueRotateSVGFilter.spec = {\n  values: {\n    title: \"values\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 360,\n    step: 0.1,\n    defaultValue: Length.number(0)\n  }\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\n\nexport class LuminanceAlphaSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"LuminanceAlpha\"\n    });\n  }\n\n  getInCount() { return 1 }\n  \n  toString() {\n\n    return /*html*/`<feColorMatrix type=\"luminanceToAlpha\" ${this.getDefaultAttribute()} />`;\n  }\n}\n\nLuminanceAlphaSVGFilter.spec = {\n\n};\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"../../unit/Length\";\nimport { OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\n\nexport class TileSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Tile\",\n      x: TileSVGFilter.spec.x.defaultValue,\n      y: TileSVGFilter.spec.y.defaultValue,\n      width: TileSVGFilter.spec.width.defaultValue,\n      height: TileSVGFilter.spec.height.defaultValue\n    });\n  }\n\n  getInCount() {\n    return 1; \n  }\n\n  convert (json) {\n\n    json.x = Length.parse(json.x);\n    json.y = Length.parse(json.y);\n    json.width = Length.parse(json.width);\n    json.height = Length.parse(json.height);\n\n    return json; \n  }\n\n  toString() {\n\n    const {x, y, width, height} = this.json;\n\n    return `<feTile ${OBJECT_TO_PROPERTY({\n      x, y, width, height\n    })} ${this.getDefaultAttribute()} />`;\n  }\n}\n\nTileSVGFilter.spec = {\n  \n  x: {\n    title: \"X\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  y: {\n    title: \"Y\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  width: {\n    title: \"width\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  height: {\n    title: \"height\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  }\n};\n\n\n","import { BaseSVGFilter } from \"./BaseSVGFilter\";\nimport { Length } from \"../../unit/Length\";\nimport { OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\n\nexport class ImageSVGFilter extends BaseSVGFilter {\n  getDefaultObject() {\n    return super.getDefaultObject({\n      type: \"Image\",\n      x: ImageSVGFilter.spec.x.defaultValue,\n      y: ImageSVGFilter.spec.y.defaultValue,\n      width: ImageSVGFilter.spec.width.defaultValue,\n      height: ImageSVGFilter.spec.height.defaultValue,\n      src: ImageSVGFilter.spec.src.defaultValue,\n      alignment: ImageSVGFilter.spec.alignment.defaultValue,\n      scaleing: ImageSVGFilter.spec.scaleing.defaultValue\n    });\n  }\n\n  convert (json) {\n\n    json.x = Length.parse(json.x);\n    json.y = Length.parse(json.y);\n    json.width = Length.parse(json.width);\n    json.height = Length.parse(json.height);\n\n    return json; \n  }\n\n  toString() {\n\n    const {src, x, y, width, height, alignment, scaleing} = this.json;\n\n    return `<feImage ${OBJECT_TO_PROPERTY({\n      x, y, width, height, \n      'xlink:href': src,\n      preserveAspectRatio:`${alignment} ${scaleing}`\n    })} ${this.getDefaultAttribute()} />`;\n  }\n}\n\nImageSVGFilter.spec = {\n  \n  x: {\n    title: \"X\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  y: {\n    title: \"Y\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  width: {\n    title: \"width\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },  \n  height: {\n    title: \"height\",\n    inputType: \"number-range\",\n    min: 0,\n    max: 1000,\n    step: 1,\n    defaultValue: Length.number(0)\n  },        \n  alignment: {\n    title: \"alignment\",\n    inputType: \"select\",\n    options: \"xMinYMin,xMidYMin,xMaxYMin,xMinYMid,xMidYMid,xMaxYMid,xMinYMax,xMidYMax,xMaxYMax\",\n    defaultValue: \"xMidYMid\"\n  },\n  scaleing: {\n    title: \"scaleing\",\n    inputType: \"select\",\n    options: \"meet,slice\",\n    defaultValue: \"meet\"\n  },\n  src: {\n    title: \"Image\",\n    inputType: \"ImageSelectEditor\",\n    defaultValue: ''\n  }\n};\n\n\n","import { Property } from \"../items/Property\";\nimport { RotaMatrixSVGFilter } from \"./svg-filter/RotaMatrixSVGFilter\";\nimport { MergeSVGFilter } from \"./svg-filter/MergeSVGFilter\";\nimport { CompositeSVGFilter } from \"./svg-filter/CompositeSVGFilter\";\nimport { MorphologySVGFilter } from \"./svg-filter/MorphologySVGFilter\";\nimport { TurbulenceSVGFilter } from \"./svg-filter/TurbulenceSVGFilter\";\nimport { DisplacementMapSVGFilter } from \"./svg-filter/DisplacementMapSVGFilter\";\nimport { ColorMatrixSVGFilter } from \"./svg-filter/ColorMatrixSVGFilter\";\nimport { ConvolveMatrixSVGFilter } from \"./svg-filter/ConvolveMatrixSVGFilter\";\nimport { GaussianBlurSVGFilter } from \"./svg-filter/GaussianBlurSVGFilter\";\nimport { FloodSVGFilter } from \"./svg-filter/FloodSVGFilter\";\nimport { ComponentTransferSVGFilter } from \"./svg-filter/ComponentTransferSVGFilter\";\nimport { DistantLightSVGFilter } from \"./svg-filter/DistantLightSVGFilter\";\nimport { PointLightSVGFilter } from \"./svg-filter/PointLightSVGFilter\";\nimport { SpotLightSVGFilter } from \"./svg-filter/SpotLightSVGFilter\";\nimport { DiffuseLightingSVGFilter } from \"./svg-filter/DiffuseLightingSVGFilter\";\nimport { SpecularLightingSVGFilter } from \"./svg-filter/SpecularLightingSVGFilter\";\nimport { OffsetSVGFilter } from \"./svg-filter/OffsetSVGFilter\";\nimport { BlendSVGFilter } from \"./svg-filter/BlendSVGFilter\";\nimport { SourceGraphicSVGFilter } from \"./svg-filter/SourceGraphicSVGFilter\";\nimport { SourceAlphaSVGFilter } from \"./svg-filter/SourceAlphaSVGFilter\";\nimport { BackgroundImageSVGFilter } from \"./svg-filter/BackgroundImageSVGFilter\";\nimport { BackgroundAlphaSVGFilter } from \"./svg-filter/BackgroundAlphaSVGFilter\";\nimport { FillPaintSVGFilter } from \"./svg-filter/FillPaintSVGFilter\";\nimport { StrokePaintSVGFilter } from \"./svg-filter/StrokePaintSVGFilter\";\nimport { DropShadowSVGFilter } from \"./svg-filter/DropShadowSVGFilter\";\nimport { SaturateSVGFilter } from \"./svg-filter/SaturateSVGFilter\";\nimport { HueRotateSVGFilter } from \"./svg-filter/HueRotateSVGFilter\";\nimport { LuminanceAlphaSVGFilter } from \"./svg-filter/LuminanceAlphaSVGFilter\";\nimport { TileSVGFilter } from \"./svg-filter/TileSVGFilter\";\nimport { ImageSVGFilter } from \"./svg-filter/ImageSVGFilter\";\n\nconst SVG_FILTER_COMMON_ATTRIBUTES = [\n  'result'\n]\n\n\nexport class SVGFilter extends Property {\n\n  static parse (obj) {\n    var FilterClass = SVGFilterClassName[obj.type];\n  \n    return new FilterClass(obj);\n  }  \n\n\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({ \n      itemType: \"svgfilter\", \n      result: '',\n      ...obj \n    });\n  }\n\n  getDefaultAttribute () {\n    return SVG_FILTER_COMMON_ATTRIBUTES.map(key => {\n      return `${key}=\"${this.json[key]}\"`\n    }).join(' ')\n  }\n\n  toString() {\n    var { type , value } = this.json; \n    return `<fe${type} value=\"${value}\" ${this.getDefaultAttribute()} />`;\n  }\n}\n\n\nexport const SVGFilterClassName = {\n  Image: ImageSVGFilter,\n  Tile: TileSVGFilter,\n  Saturate: SaturateSVGFilter,\n  HueRotate: HueRotateSVGFilter,\n  LuminanceAlpha: LuminanceAlphaSVGFilter,\n  DropShadow: DropShadowSVGFilter,\n  SourceGraphic: SourceGraphicSVGFilter,\n  SourceAlpha: SourceAlphaSVGFilter,\n  BackgroundImage: BackgroundImageSVGFilter,\n  BackgroundAlpha: BackgroundAlphaSVGFilter,\n  FillPaint: FillPaintSVGFilter,\n  StrokePaint: StrokePaintSVGFilter,\n  ComponentTransfer: ComponentTransferSVGFilter,\n  DistantLight: DistantLightSVGFilter,\n  PointLight: PointLightSVGFilter,\n  SpotLight: SpotLightSVGFilter,\n  DiffuseLighting: DiffuseLightingSVGFilter,\n  SpecularLighting: SpecularLightingSVGFilter,\n  Blend: BlendSVGFilter,\n  Offset: OffsetSVGFilter,\n  RotaMatrix: RotaMatrixSVGFilter,\n  GaussianBlur: GaussianBlurSVGFilter,\n  Flood: FloodSVGFilter,\n  Merge: MergeSVGFilter,\n  Composite: CompositeSVGFilter,\n  Morphology: MorphologySVGFilter,\n  Turbulence: TurbulenceSVGFilter,\n  DisplacementMap: DisplacementMapSVGFilter,\n  ColorMatrix: ColorMatrixSVGFilter,\n  ConvolveMatrix: ConvolveMatrixSVGFilter,\n};\n\nexport const SVGFilterSpecList = {\n  Image: ImageSVGFilter.spec,\n  Tile: TileSVGFilter.spec,\n  DropShadow: DropShadowSVGFilter.spec,\n  Saturate: SaturateSVGFilter.spec,\n  HueRotate: HueRotateSVGFilter.spec,\n  LuminanceAlpha: LuminanceAlphaSVGFilter.spec,  \n  Offset: OffsetSVGFilter.spec,\n  ComponentTransfer: ComponentTransferSVGFilter.spec,\n  SpecularLighting: SpecularLightingSVGFilter.spec,\n  SpotLight: SpotLightSVGFilter.spec,\n  PointLight: PointLightSVGFilter.spec,\n  DistantLight:DistantLightSVGFilter.spec,  \n  DiffuseLighting: DiffuseLightingSVGFilter.spec,\n  Blend: BlendSVGFilter.spec,\n  RotaMatrix: RotaMatrixSVGFilter.spec,\n  Merge: MergeSVGFilter.spec,\n  GaussianBlur: GaussianBlurSVGFilter.spec,\n  Flood: FloodSVGFilter.spec,\n  Morphology: MorphologySVGFilter.spec,\n  Composite: CompositeSVGFilter.spec,\n  Turbulence: TurbulenceSVGFilter.spec,\n  DisplacementMap: DisplacementMapSVGFilter.spec,\n  ColorMatrix: ColorMatrixSVGFilter.spec,\n  ConvolveMatrix: ConvolveMatrixSVGFilter.spec\n}; \n","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { LOAD } from \"../../../util/Event\";\nimport SelectEditor from \"./SelectEditor\";\nimport TextEditor from \"./TextEditor\";\nimport NumberRangeEditor from \"./NumberRangeEditor\";\n\nexport default class FuncFilterEditor extends UIElement {\n\n    components() {\n        return {\n            TextEditor,\n            NumberRangeEditor,     \n            SelectEditor\n        }\n    }\n\n    initState() {\n       \n        return {\n            label: this.props.label || '',\n            ...this.parse(this.props.value)\n        }\n    }\n\n    parse (value) {\n        var [type, ...values] = value.split(' ')\n\n        if (type === 'linear') {\n            var [slop, intercept] = values; \n        } else if (type === 'gamma') {\n            var [amplitude, exponent, offset] = values; \n        }\n\n        return {\n            type, \n            values,\n            slop,\n            intercept,\n            amplitude, \n            exponent, \n            offset\n        }\n    }\n\n    template () {\n        return /*html*/`<div class='small-editor func-filter' ref='$body'></div>`\n    }\n\n    [LOAD('$body')] () {\n\n        var { type,label } = this.state\n\n        var hasLabel = !!label ? 'has-label' : ''\n\n        return /*html*/`\n        <SelectEditor label=\"${label}\" key=\"type\" value=\"${this.state.type}\" options=\"identity,table,discrete,linear,gamma\" onchange=\"changeType\" />\n        <div class='func-filter-editor ${hasLabel}' ref='$container' data-selected-type='${type}'>\n            ${label ? `<label></label>` : '' }\n            <div data-type='identity'>\n            </div>\n            <div data-type='table'>\n                <TextEditor label='tableValues' ref='$values' key='values' value=\"${this.state.values.join(' ')}\" onchange=\"changeValues\" />\n            </div>\n            <div data-type='linear'>\n                ${['slop', 'intercept'].map(it => {\n                    return /*html*/`\n                        <div>\n                            <NumberRangeEditor label='${it}' ref='$${it}' key='${it}' value=\"${this.state[it]}\" onchange=\"changeLinear\" />\n                        </div>                    \n                    `\n                }).join('')}\n            </div>\n            <div data-type='gamma'>\n                ${['amplitude', 'exponent', 'offset'].map(it => {\n                    return /*html*/`\n                        <div>\n                            <NumberRangeEditor label='${it}' ref='$${it}' key='${it}' value=\"${this.state[it]}\" onchange=\"changeGamma\" />\n                        </div>                    \n                    `\n                }).join('')}            \n            </div>                                                \n        </div>\n    `\n    }\n\n    [EVENT('changeType')] (key, type) {\n        this.updateData({type});        \n        this.refresh();\n    }\n\n    getValue() {\n        switch(this.state.type) {\n        case 'table':\n        case 'discrete':\n            return [this.state.type, ...this.state.values].join(' ')\n        case 'linear':\n            return [this.state.type, this.state.slop, this.state.intercept].join(' ')\n        case 'gamma':\n            return [this.state.type, this.state.amplitude, this.state.exponent, this.state.offset].join(' ')\n        }\n\n        return 'identity'\n    }\n\n    setValue (value) {\n        this.setState({\n            ...this.parse(value)\n        })\n    }\n\n    [EVENT('changeValues')] (key, value) {\n        \n        this.updateData({\n            [key]: value.split(' ') \n        })\n    }    \n\n    [EVENT('changeLinear')] (key, value) {\n        this.updateData({\n            [key]: value \n        })\n    }\n\n    [EVENT('changeGamma')] (key, value) {\n        this.updateData({\n            [key]: value \n        })\n    }    \n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params)\n    }\n}","import red from \"./red\";\nimport green from \"./green\";\nimport blue from \"./blue\";\nimport yellow from \"./yellow\";\nimport magenta from \"./magenta\";\nimport cyan from \"./cyan\";\nimport alpha from \"./alpha\";\nimport BlueMagenta2 from \"./BlueMagenta2\";\nimport BlueShadowMagentHightlight from \"./BlueShadowMagentHightlight\";\nimport darken from \"./darken\";\nimport ElimBlue from \"./ElimBlue\";\nimport GrayOnDark from \"./GrayOnDark\";\nimport GrayOnLight from \"./GrayOnLight\";\nimport GrayOnMid from \"./GrayOnMid\";\nimport HardGreen from \"./HardGreen\";\nimport HardYellow from \"./HardYellow\";\nimport IdenticalRedOverlay from \"./IdenticalRedOverlay\";\nimport lighten from \"./lighten\";\nimport lime from \"./lime\";\nimport NoGreenMagenta from \"./NoGreenMagenta\";\nimport NoGreenRed from \"./NoGreenRed\";\nimport peachy from \"./peachy\";\nimport RedOverlay from \"./RedOverlay\";\nimport YesGreenColorizedMagenta from \"./YesGreenColorizedMagenta\";\n\n\nexport default {\n    red,\n    green,\n    blue,\n    yellow,\n    magenta,\n    cyan,\n    alpha,\n    BlueMagenta2,\n    BlueShadowMagentHightlight,\n    darken,\n    ElimBlue,\n    GrayOnDark,\n    GrayOnLight,\n    GrayOnMid,\n    HardGreen,\n    HardYellow,\n    IdenticalRedOverlay,\n    lighten,\n    lime,\n    NoGreenMagenta,\n    NoGreenRed,\n    peachy,\n    RedOverlay,\n    YesGreenColorizedMagenta\n}","export default `\n1   0   0   0   0\n0   0   0   0   0\n0   0   0   0   0\n0   0   0   1   0\n`","export default `\n0   0   0   0   0\n0   1   0   0   0\n0   0   0   0   0\n0   0   0   1   0 \n`","export default `\n0   0   0   0   0\n0   0   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   1   0   0   0\n0   0   0   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   0   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n`","export default `\n0   0   0   0   0\n0   1   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   1   0   0   0\n0   0   1   0   0\n0   0   0   .5  0 \n`","export default `\n1   0   0   0   0\n0   0   0   0   0\n0   0   1  .5   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   0   0   0   0\n0   0   1   1   0\n0   0   0   1   0 \n`","export default `\n.5   0   0   0   0\n0  .5   0   0   0\n0   0  .5   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   1   0   0   0\n0   0   1   0   0\n0   0   -2   1   0 \n`","export  default `\n0   0   1   0   0\n0   0   1   0   0\n0   0   1   0   0\n0   0   0   1   0  \n`","export  default `\n1   0   0   0   0\n1   0   0   0   0\n1   0   0   0   0\n0   0   0   1   0 \n`","export  default `\n0   1   0   0   0\n0   1   0   0   0\n0   1   0   0   0\n0   0   0   1   0 \n`","export  default `\n1   0   0   0   0\n0   1   0   1   0\n0   0   1   0   0\n0   0   0   1   0 \n`","export  default `\n1   0   0   1   0\n0   1   0   1   0\n0   0   1   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   0   0   0   0\n0   0   0   0   0\n0   0   0   1   0 \n`","export default `\n1.5   0   0   0   0\n0   1.5   0   0   0\n0   0   1.5   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   2   0   0   0\n0   0   0  .5   0\n0   0   0   1   0 \n`","export default `\n1   1   0   0   0\n0   0   0   0   0\n0   1   1   0   0\n0   0   0   1   0 \n`","export default `\n1   1   0   0   0\n0   0   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0  .5   0   0   0\n0   0   0  .5   0\n0   0   0   1   0 \n`","export default `\n1   0   0   0   0\n0   0   0   0   0\n0   0   1  -1   0\n0   0   0   1   0 \n`","export default `\n1   1   0   0   0\n0   1   0   0   0\n0   1   1   0   0\n0   0   0   1   0 \n`","import UIElement from \"../../../util/UIElement\";\nimport { LOAD, INPUT, BIND, CLICK } from \"../../../util/Event\";\nimport colormatrix from \"./colormatrix\";\nimport { normalize } from \"../../../util/functions/math\";\n\n\n\nconst COLUMN = 6; \n\nconst sampleList = Object.keys(colormatrix).map(it => {\n    return {title: it, values: colormatrix[it] }    \n})\n\nexport default class ColorMatrixEditor extends UIElement {\n\n    initState() {\n        return {\n            values: normalize(this.props.values)\n        }\n    }\n\n    template () {\n        return /*html*/`\n            <div class='small-editor color-matrix-editor' >\n                <div ref='$body'></div>\n                <div class='title'> Mix Color Template </div>\n                <div class='color-matrix-template' ref='$sample'></div>\n            </div>\n        `\n    }\n\n    [BIND('$body')] () {\n        return {\n\n            cssText : `\n                display: grid;\n                grid-template-columns: repeat(${COLUMN}, 1fr);\n                grid-column-gap: 2px;\n                grid-row-gap: 2px;\n                text-align: center; \n            `\n        }\n    }\n\n    [LOAD('$sample')] () {\n        return sampleList.map((it, index) =>  {\n            return  /*html*/`<div class='sample-item' title='${it.title}' data-index=\"${index}\">${it.title}</div>`\n        })\n    }\n\n    [CLICK('$sample .sample-item')] (e) {\n        var index = +e.$dt.attr('data-index')\n        var sample = sampleList[index]\n\n        this.updateData({\n            values: normalize(sample.values)\n        })\n\n        this.load('$body');\n    }\n\n    [LOAD('$body')] () {\n\n        var { values } = this.state\n\n        var text = [ 'R', 'G', 'B', 'A']\n\n        var a = values.map( (value, index) => {\n            var h = '' \n            if (index % (COLUMN - 1) === 0) {\n                h = `<div>${text[Math.floor(index/(COLUMN-1))]}</div>`\n            }\n            var result = `\n                ${h}\n                <div class='number-editor'>\n                    <input type=\"number\" value=\"${value}\" step=\"0.01\" data-index=\"${index}\" />\n                </div>\n            `\n\n            return result; \n        })\n\n        var header = `\n            <div></div>\n            <div>R</div>\n            <div>G</div>\n            <div>B</div>\n            <div>A</div>\n            <div>M</div>\n        `\n\n        return header + a;  \n    }\n\n    updateData (data) {\n        this.setState(data, false)\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.values, this.props.params)\n    }\n\n    [INPUT('$body input')] (e) {\n\n        var $el = e.$dt;\n        var index = +$el.attr('data-index')\n        var value = +$el.value\n\n        this.state.values[index] = value; \n\n        this.updateData();\n\n    }\n}","import grayscale from \"./grayscale\";\nimport shadow from \"./shadow\";\nimport innerShadow from \"./inner-shadow\";\nimport stroke from \"./stroke\";\nimport dancingStroke from \"./dancing-stroke\";\n\nexport default {\n    dancingStroke,\n    stroke,\n    grayscale,\n    shadow,\n    innerShadow\n}","export default [\n\n    { \n        type: 'SourceAlpha', \n        id: 'strokeSource', \n        bound: { x: 100, y : 100 }, \n        connected: [{\n            id: 'morphology'\n        }]\n    },\n\n\n    {\n        type: 'Morphology',\n        id: 'morphology',\n        operator: 'dilate',\n        radius: '3 3',\n        bound: { x: 100, y: 200},\n        in: [\n            {id: 'strokeSource' }\n        ],\n        connected: [\n            {id: 'composite'}\n        ]\n    },\n\n\n    {\n        type: 'Flood',\n        id: 'flood',\n        bound: { x: 100, y: 200},\n        color: '#30597E',\n        opacity: 1,\n        connected: [\n            {id: 'composite'}\n        ]\n    },\n\n\n    {\n        type: 'Composite',\n        id: 'composite',\n        bound: { x: 400, y: 150 },\n        in: [ \n            {id: 'flood'}, \n            {id: 'morphology'} \n        ] ,\n        operator: 'in',\n        connected: [{\n            id: 'composite2'\n        }]        \n    },\n\n\n    { \n        type: 'SourceAlpha', \n        id: 'strokeSourceAlpha2', \n        bound: { x: 400, y : 200 }, \n        connected: [{\n            id: 'composite2'\n        }]\n    },    \n\n    {\n        type: 'Composite',\n        id: 'composite2',\n        bound: { x: 400, y: 150 },\n        in: [ \n            {id: 'composite'}, \n            {id: 'strokeSourceAlpha2'} \n        ] ,\n        operator: 'out',\n        connected: [{\n            id: 'displacementMap'\n        }]        \n    },    \n\n\n\n    { \n        type: 'Turbulence', \n        id: 'turbulence', \n        filterType: 'fractalNoise',\n        baseFrequency: '0.01 0.02',\n        numOctaves: 1, \n        seed: 0,\n        stitchTiles: 'stitch',\n        bound: { x: 400, y : 200 }, \n        connected: [{\n            id: 'displacementMap'\n        }]\n    },\n\n\n    { \n        type: 'DisplacementMap', \n        id: 'displacementMap', \n        scale: 17,\n        xChannelSelector: 'A',\n        yChannelSelector: 'A',\n        bound: { x: 400, y : 200 }, \n        in: [\n            {id: 'composite2'},\n            {id: 'turbulence'}\n        ],\n        connected: [{\n            id: 'merge'\n        }]\n    },\n\n    { \n        type: 'SourceGraphic', \n        id: 'strokeSourceGraphic', \n        bound: { x: 400, y : 200 }, \n        connected: [{\n            id: 'merge'\n        }]\n    },\n\n    {\n        type: 'Merge',\n        id: 'merge',\n        bound: { x: 500, y: 150 },\n        in: [ {id: 'strokeSourceGraphic'}, {id: 'displacementMap'}]\n    }\n\n]","export default [\n\n    { \n        type: 'SourceAlpha', \n        id: 'strokeSource', \n        bound: { x: 100, y : 100 }, \n        connected: [{\n            id: 'morphology'\n        }]\n    },\n\n\n    {\n        type: 'Morphology',\n        id: 'morphology',\n        operator: 'dilate',\n        radius: '3 3',\n        bound: { x: 100, y: 200},\n        in: [\n            {id: 'strokeSource' }\n        ],\n        connected: [\n            {id: 'composite'}\n        ]\n    },\n\n\n    {\n        type: 'Flood',\n        id: 'flood',\n        bound: { x: 100, y: 200},\n        color: '#30597E',\n        opacity: 1,\n        connected: [\n            {id: 'composite'}\n        ]\n    },\n\n\n    {\n        type: 'Composite',\n        id: 'composite',\n        bound: { x: 400, y: 150 },\n        in: [ \n            {id: 'flood'}, \n            {id: 'morphology'} \n        ] ,\n        operator: 'in',\n        connected: [{\n            id: 'merge'\n        }]        \n    },\n\n    { \n        type: 'SourceGraphic', \n        id: 'strokeSourceGraphic', \n        bound: { x: 400, y : 200 }, \n        connected: [{\n            id: 'merge'\n        }]\n    },\n\n    {\n        type: 'Merge',\n        id: 'merge',\n        bound: { x: 500, y: 150 },\n        in: [ {id: 'composite'}, {id: 'strokeSourceGraphic'}]\n    }\n\n]","export default [{\n    type: 'Saturate',\n    values: '0'\n}]","export default [\n\n    { \n        type: 'SourceAlpha', \n        id: 'shadowSource', \n        bound: { x: 100, y : 100 }, \n        connected: [{\n            id: 'offset'\n        }]\n    },\n\n    {\n        type: 'Offset', \n        id: 'offset', \n        bound: { x: 200, y : 100 }, \n        dx: 10, \n        dy: 10, \n        in: [{id: 'shadowSource'} ],\n        connected: [\n            {id: 'blur'}\n        ]\n    },\n\n    {\n        type: 'GaussianBlur',\n        id: 'blur',\n        bound: { x: 300, y: 100 },\n        stdDeviationX: 5,\n        stdDeviationY: 5, \n        in: [{id: 'offset'}],\n        connected: [{\n            id: 'composite'\n        }]\n    },\n\n    {\n        type: 'Flood',\n        id: 'flood',\n        bound: { x: 100, y: 200},\n        color: 'black',\n        opacity: 0.7,\n        connected: [\n            {id: 'composite'}\n        ]\n    },\n\n    {\n        type: 'Composite',\n        id: 'composite',\n        bound: { x: 400, y: 150 },\n        in: [ \n            {id: 'flood'}, \n            {id: 'blur'} \n        ] ,\n        operator: 'in',\n        connected: [{\n            id: 'merge'\n        }]        \n    },\n\n\n    { \n        type: 'SourceAlpha', \n        id: 'shadowSource2', \n        bound: { x: 400, y : 200 }, \n        connected: [{\n            id: 'merge'\n        }]\n    },\n\n    {\n        type: 'Merge',\n        id: 'merge',\n        bound: { x: 500, y: 150 },\n        in: [ {id: 'composite'}, {id: 'shadowSource2'}]\n    }\n\n]","export default [\n\n    {\n        type: 'Flood',\n        id: 'flood',\n        bound: { x: 100, y: 200},\n        color: 'black',\n        opacity: 1,\n        connected: [\n            {id: 'composite1'}\n        ]\n    },\n\n\n    { \n        type: 'SourceAlpha', \n        id: 'shadowSource', \n        bound: { x: 100, y : 100 }, \n        connected: [{\n            id: 'composite1'\n        }]\n    },\n\n    {\n        type: 'Composite',\n        id: 'composite1',\n        bound: { x: 200, y: 150 },\n        in: [ \n            {id: 'flood'}, \n            {id: 'shadowSource'}\n        ] ,\n        operator: 'out',\n        connected: [{\n            id: 'offset'\n        }]        \n    },\n\n    {\n        type: 'Offset', \n        id: 'offset', \n        bound: { x: 300, y : 150 }, \n        dx: 4, \n        dy: 4, \n        in: [\n            {id: 'composite1'}\n        ],\n        connected: [\n            {id: 'blur'}\n        ]\n    },\n\n\n    {\n        type: 'GaussianBlur',\n        id: 'blur',\n        bound: { x: 400, y: 150 },\n        stdDeviationX: 4,\n        stdDeviationY: 4, \n        edge: 'none',\n        in: [\n            {id: 'offset'} \n        ],\n        connected: [{\n            id: 'composite2'\n        }]\n    },\n\n\n\n    { \n        type: 'SourceAlpha', \n        id: 'shadowSource2', \n        bound: { x: 400, y : 250 }, \n        connected: [{\n            id: 'composite2'\n        }]\n    },\n\n\n    {\n        type: 'Composite',\n        id: 'composite2',\n        bound: { x: 500, y: 150 },\n        in: [ \n            {id: 'blur'}, \n            {id: 'shadowSource2'}\n        ] ,\n        operator: 'out',\n        connected: [{\n            id: 'merge'\n        }]        \n    },    \n\n\n\n    { \n        type: 'SourceGraphic', \n        id: 'shadowSource3', \n        bound: { x: 500, y : 250 }, \n        connected: [{\n            id: 'merge'\n        }]\n    },    \n\n    {\n        type: 'Merge',\n        id: 'merge',\n        bound: { x: 600, y: 150 },\n        in: [ \n            {id: 'composite2'}, \n            {id: 'shadowSource3'}\n        ]\n    }\n\n]","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { LOAD, CLICK, CHANGE } from \"../../../util/Event\";\n\nexport default class ImageSelectEditor extends UIElement {\n\n    initState() {\n        return {\n            value: this.props.value\n        }\n    }\n\n    template() {\n        return /*html*/`\n            <div class='image-select-editor' ref='$body'></div>\n        `\n    }\n\n    getValue () {\n        return this.state.value; \n    }\n\n    setValue (value) {\n        this.setState({ value })\n    }\n\n    [LOAD('$body')] () {\n        return /*html*/`\n            <div class='preview-container'>\n                <img src=\"${this.state.value}\" />\n                <input type='file' ref='$file' accept=\"image/*\" />\n            </div>\n            <div class='select-container'>\n                <button type=\"button\" ref='$select'>Select a image</button>\n            <div>\n        `\n    }\n\n    [CHANGE('$file')] (e) {\n\n        var files = [...e.target.files];\n        \n        if (files.length) {\n            this.emit('update.asset.image', files[0], local => {\n                this.trigger('changeImageSelectEditor', local);\n            });\n        }\n\n    }\n\n    [CLICK('$select')] () {\n        \n        this.emit('showImageSelectPopup', {\n            context: this, \n            changeEvent: 'changeImageSelectEditor',\n            value: this.state.value \n        })\n    }\n\n    [EVENT('changeImageSelectEditor')] (value) {\n        this.updateData({ value })\n        this.refresh();\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n}","import { isFunction, clone, OBJECT_TO_CLASS, mapjoin, keyMap, keyMapJoin, OBJECT_TO_PROPERTY, repeat } from \"../../../util/functions/func\";\nimport icon from \"../icon/icon\";\nimport {\n  LOAD,\n  CLICK,\n  POINTERSTART,\n  MOVE,\n  END,\n  DRAGOVER,\n  PREVENT,\n  DROP,\n  DRAGSTART\n} from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport UIElement, { EVENT } from \"../../../util/UIElement\";\nimport RangeEditor from \"./RangeEditor\";\nimport ColorViewEditor from \"./ColorViewEditor\";\n\nimport SelectEditor from \"./SelectEditor\";\nimport TextEditor from \"./TextEditor\";\nimport NumberRangeEditor from \"./NumberRangeEditor\";\nimport InputArrayEditor from \"./InputArrayEditor\";\nimport { SVGFilter, SVGFilterSpecList } from \"../../../editor/svg-property/SVGFilter\";\nimport FuncFilterEditor from \"./FuncFilterEditor\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport Dom from \"../../../util/Dom\";\nimport PathStringManager from \"../../../editor/parse/PathStringManager\";\nimport ColorMatrixEditor from \"./ColorMatrixEditor\";\nimport svgFilterPreset from \"./svg-filter-preset\";\nimport ImageSelectEditor from \"./ImageSelectEditor\";\n\nconst i18n = editor.initI18n('svg.filter.editor');\n\nconst filterTypes = [\n  {label: 'GRAPHIC REFERENCES', items : [\n    {label: 'Source Graphic', value:\"SourceGraphic\"},\n    {label: 'Source Alpha', value:\"SourceAlpha\"},\n    {label: 'Background Image', value:\"BackgroundImage\"},\n    {label: 'Background Alpha', value:\"BackgroundAlpha\"},\n    {label: 'Fill Paint', value:\"FillPaint\"},                \n    {label: 'Stroke Paint', value:\"StrokePaint\"},\n  ]},\n  {label: 'SOURCES', items : [\n    {label: 'Flood', value:\"Flood\"},\n    {label: 'Turbulence', value:\"Turbulence\"},\n    {label: 'Image', value:\"Image\"}\n  ]},  \n  {label: 'MODIFIER', items : [\n    {label: 'Color Matrix', value:\"ColorMatrix\"},\n    {label: 'Saturate', value:\"Saturate\"},\n    {label: 'HueRotate', value:\"HueRotate\"},\n    {label: 'LuminanceToAlpha', value:\"LuminanceAlpha\"},\n    {label: 'Drop Shadow', value:\"DropShadow\"},\n    {label: 'Morphology', value:\"Morphology\"},\n    {label: 'Convolve Matrix', value:\"ConvolveMatrix\"},\n    {label: 'Offset', value:\"Offset\"},\n    {label: 'Gaussian Blur', value:\"GaussianBlur\"},\n    {label: 'Tile', value:\"Tile\"}\n  ]},    \n  {label: 'LIGHTING', items : [\n    {label: 'Specular Lighting', value:\"SpecularLighting\"},\n    {label: 'Diffuse Lighting', value:\"DiffuseLighting\"},\n    {label: 'Point Light', value:\"PointLight\"},\n    {label: 'Spot Light', value:\"SpotLight\"},\n    {label: 'Distant Light', value:\"DistantLight\"}\n  ]},     \n  {label: 'COMBINERS', items : [\n    {label: 'Blend', value:\"Blend\"},\n    {label: 'Composite', value:\"Composite\"},\n    {label: 'Merge', value:\"Merge\"},\n    {label: 'DisplacementMap', value:\"DisplacementMap\"}\n  ]},        \n]\n\nconst SVGFilterTemplateList = [\n  {\n    label: 'Template', items : [\n      {label: 'Grayscale', value: 'grayscale'},\n      {label: 'Shadow', value: 'shadow'},\n      {label: 'Inner Shadow', value: 'innerShadow'},      \n      {label: 'Stroke', value: 'stroke'},\n      {label: 'Dancing Stroke', value: 'dancingStroke'}\n    ]\n  }\n]\n\nconst makeFilterSelect = () => {\n  return /*html*/`\n\n  <div class='filter-item-list' ref=\"$filterSelect\">\n\n    ${mapjoin(filterTypes, f => {\n      return /*html*/`\n        <div class='group' label=\"${i18n(f.label)}\">\n          ${mapjoin(f.items, i => {\n            return /*html*/ ` <div class='item' draggable=\"true\" value=\"${i.value}\">${getIcon(i.value)} ${i18n(i.label)}</div>`\n          })}\n        </div>\n      `\n    })}\n  </div>\n  `\n}\n\n\nconst makeFilterTemplateSelect = () => {\n  return /*html*/`\n\n  <div class='filter-item-list' ref=\"$filterTemplateSelect\">\n\n    ${mapjoin(SVGFilterTemplateList, f => {\n      return /*html*/`\n        <div class='group' label=\"${i18n(f.label)}\">\n          ${mapjoin(f.items, i => {\n            return /*html*/ ` <div class='item' draggable=\"true\" value=\"${i.value}\">${i18n(i.label)}</div>`\n          })}\n        </div>\n      `\n    })}\n  </div>\n  `\n}\n\n\nfunction getIcon(type) {\n  switch(type) {\n  case 'SpecularLighting': return icon.specular;\n  case 'DiffuseLighting': return icon.diffuse;\n  case 'SourceGraphic': \n  case 'SourceAlpha': \n    return icon.image;\n  case 'BackgroundImage':\n  case 'BackgroundAlpha':\n    return icon.outline_image;\n  case 'Flood': return icon.palette;\n  case 'Image': return icon.landscape;\n  case 'GaussianBlur': return icon.blur;\n  case 'ColorMatrix': return icon.blur_linear;\n  case 'Turbulence': return icon.waves;\n  case 'Saturate': return icon.vintage;\n  case 'HueRotate': return icon.looks;\n  case 'LuminanceAlpha': return icon.opacity;\n  case 'DropShadow': return icon.shadow;\n  case 'Morphology': return icon.broken_image;\n  case 'ConvolveMatrix': return icon.camera_roll;\n  case 'Offset': return icon.transform;\n  case 'Tile': return icon.view_comfy;\n  case 'Blend': return icon.gradient;\n  case 'Composite': return icon.merge;\n  case 'Merge': return icon.settings_input_component;\n  case 'DisplacementMap': return icon.texture;\n  }\n\n  return ''; \n}\n\n\nfunction getSourceTypeString(type) {\n  switch(type) {\n  case 'SourceGraphic': \n  case 'SourceAlpha': \n  case 'BackgroundImage':\n  case 'BackgroundAlpha':\n  case 'FillPaint':\n  case 'StrokePaint':\n    return 'graphic';    \n\n  case 'Flood': \n  case 'Turbulence':   \n  case 'Image': \n    return 'source';\n  case 'GaussianBlur': \n  case 'ColorMatrix': \n  case 'Saturate': \n  case 'HueRotate': \n  case 'LuminanceAlpha': \n  case 'DropShadow': \n  case 'Morphology': \n  case 'ConvolveMatrix': \n  case 'Offset': \n  case 'Tile': \n    return 'modifier';    \n  case 'SpecularLighting':\n  case 'DiffuseLighting':\n  case 'SpotLight':\n  case 'PointLight':\n  case 'DistantLight':\n    return 'lighting';            \n  case 'Blend': \n  case 'Composite': \n  case 'Merge': \n  case 'DisplacementMap': \n    return 'combiner';\n  }\n\n  return ''; \n}\n\n\nconst width = 40; \nconst half_height = 20; \n\nconst connectedXAxis = {\n  \"1\" : [ width + 5 ]\n}\n\nconst connectedYAxis = {\n  \"1\" : [ half_height ]\n}\n\nconst inXAxis = {\n  \"1\": [ -7 ] ,\n  \"2\": [ -7] ,\n  \"3\": [ -7] ,  \n  \"4\": [ -7] ,    \n  \"5\": [ -7]  \n}\n\nlet inYAxis = {\n  \"1\": [0] ,\n  \"2\": [-7, 7] ,\n  \"3\": [-14, 0, 14] ,  \n  \"4\": [-21, -7, 7, 21] ,    \n  \"5\": [-28, -14, 0, 14, 28]\n}\n\nObject.keys(inYAxis).forEach(len => {\n  inYAxis[len] = inYAxis[len].map(it => it + half_height)\n})\n\n\n\nexport default class SVGFilterEditor extends UIElement {\n\n  components() {\n    return {\n      ColorMatrixEditor,\n      InputArrayEditor,\n      NumberRangeEditor,\n      RangeEditor,\n      ColorViewEditor,\n      SelectEditor,\n      TextEditor,\n      FuncFilterEditor,\n      ImageSelectEditor\n    }\n  }\n\n  initState() {\n    var filters = this.parseFilter(this.props.value || [])\n\n    return {\n      filters,\n      selectedIndex: -1,\n      selectedFilter: null\n    }\n  }\n\n\n\n  template() {\n    return /*html*/`\n      <div class='svg-filter-editor filter-list'>\n        <div class='left'>\n          <div class=\"tab number-tab\" data-selected-value=\"1\" ref=\"$tab\">\n            <div class=\"tab-header full\" ref=\"$header\">\n              <div class=\"tab-item\" data-value=\"1\" title='Item'>\n                <label class='icon'>${i18n('tab.filter')}</label>\n              </div>\n              <div class=\"tab-item\" data-value=\"2\" title=\"Preset\">\n                <label class='icon'>${i18n('tab.preset')}</label>\n              </div>\n              <div class=\"tab-item\" data-value=\"3\" title=\"Asset\">\n                <label class='icon'>${i18n('tab.asset')}</label>\n              </div>\n            </div>\n            <div class=\"tab-body\">\n              <div class=\"tab-content\" data-value=\"1\">\n                ${makeFilterSelect()}\n              </div>\n              <div class=\"tab-content\" data-value=\"2\">\n                ${makeFilterTemplateSelect()}\n              </div>\n                     \n            </div>\n          </div>\n        </div>\n        <div  class='center'>\n          <div class='graph'>\n            <div class='drag-line-panel' ref='$dragLinePanel'></div>          \n            <div class='connected-line-panel' ref='$connectedLinePanel'></div>\n            <div class='graph-panel' ref='$graphPanel' droppable=\"true\"></div>\n          </div>\n        </div>\n        <div class='right'>\n          <div class='filter-list' ref='$filterList'></div>\n        </div>\n      </div>`;\n  }\n\n\n  [CLICK(\"$header .tab-item:not(.empty-item)\")](e) {\n    this.refs.$tab.attr(\n      \"data-selected-value\",\n      e.$dt.attr(\"data-value\")\n    );\n  }  \n\n  [DRAGSTART('$filterSelect .item')] (e) {\n    var filter = e.$dt.attr('value');\n\n    e.dataTransfer.setData('filter/type', filter);\n  }\n\n  [DRAGOVER('$connectedLinePanel') + PREVENT] () {}\n  [DROP('$connectedLinePanel') + PREVENT] (e) {\n\n    var offset  = {x: e.offsetX, y: e.offsetY  }\n\n    var filterType = e.dataTransfer.getData('filter/type')\n\n    this.makeFilterNode(filterType, { bound: offset })\n  }\n\n  makeFilterNode  (filterType, opt = {}) {\n    this.state.filters.push(this.makeFilter(filterType, opt))\n    this.state.selectedIndex = this.state.filters.length - 1; \n    this.state.selectedFilter = this.state.filters[this.state.selectedIndex]; \n\n    this.refresh();\n\n    this.modifyFilter()    \n  }\n\n  applyTemplate  (templateType) {\n\n    var template = svgFilterPreset[templateType]\n\n    if (template) {\n      this.setState({\n        selectedIndex: -1,\n        selectedFilter: null,\n        filters: this.parseFilter(template)\n      }, false)\n\n      this.refresh()\n\n      this.modifyFilter()    \n    }\n\n  }\n\n  getSpec(filterType) {\n    return SVGFilterSpecList[filterType];\n  }\n\n  makeFilterEditorTemplate (s, filter, key) {\n\n    var objectId = `${filter.type}${key}${this.state.selectedIndex}${Date.now()}`\n\n\n    if (s.inputType === 'color-matrix') {\n      return /*html*/`\n        <div>\n          <ColorMatrixEditor \n            ref='$colorMatrix${objectId}' \n            label=\"${s.title}\"\n            key=\"${key}\"       \n            column='${s.column}' \n            values='${filter[key].join(' ')}' \n            onchange=\"changeRangeEditor\"\n          />\n        </div>\n        `\n    } else if (s.inputType === 'input-array') {\n      return /*html*/`\n        <div>\n          <InputArrayEditor \n            ref='$inputArray${objectId}' \n            label=\"${s.title}\"\n            key=\"${key}\"       \n            column-label=\"R,G,B,A,M\",\n            row-label=\"R,G,B,A\",\n            column='${s.column}' \n            values='${filter[key].join(' ')}' \n            onchange=\"changeRangeEditor\"\n          />\n        </div>\n        `\n\n    } else if (s.inputType === 'select') {\n\n      var options = s.options\n\n      if (isFunction(s.options)){\n        options = s.options(this.state.filters)\n      }\n\n      return /*html*/`\n        <div>\n          <SelectEditor \n            ref='$select${objectId}' \n            label=\"${s.title}\"\n            options='${options}' \n            key=\"${key}\"\n            value='${filter[key].toString()}' \n            onchange=\"changeRangeEditor\"             \n          />\n        </div>\n        `\n    } else if (s.inputType === 'text') {\n      return /*html*/`\n        <div>\n          <TextEditor \n            ref='$text${objectId}' \n            label=\"${s.title}\"\n            key=\"${key}\"\n            value='${filter[key].toString()}' \n            onchange=\"changeTextEditor\"\n          />\n        </div>\n        `\n    } else if (s.inputType === 'number-range') {  \n      return /*html*/` \n        <div>\n          <NumberRangeEditor \n            ref='$numberrange${objectId}' \n            label=\"${s.title}\" \n            min=\"${s.min}\"\n            max=\"${s.max}\"\n            step=\"${s.step}\"\n            key=\"${key}\" \n            value=\"${filter[key].toString()}\" \n            onchange=\"changeRangeEditor\" \n          />\n        </div>\n      `\n    } else if (s.inputType === 'color') {\n      return /*html*/`\n        <div>\n          <ColorViewEditor \n            ref='$colorview${objectId}' \n            label=\"${s.title}\" \n            key=\"${key}\"\n            value=\"${filter[key].toString()}\" \n            onchange=\"changeSVGFilterColorViewEditor\" \n          />\n        </div>\n      `\n    } else if (s.inputType === 'FuncFilter') {\n      return /*html*/`\n        <div>\n          <FuncFilterEditor \n            ref='$funcFilter${objectId}' \n            label=\"${s.title}\" \n            key=\"${key}\"\n            value=\"${filter[key].toString()}\" \n            onchange=\"changeFuncFilterEditor\" \n          />\n        </div>\n      `  \n    } else if (s.inputType === 'ImageSelectEditor') {\n      return /*html*/`\n        <div>\n          <ImageSelectEditor \n            ref='$imageSelect${objectId}' \n            label=\"${s.title}\" \n            key=\"${key}\"\n            value=\"${filter[key].toString()}\" \n            onchange=\"changeRangeEditor\" \n          />\n        </div>\n      `            \n    }\n\n    return /*html*/`\n      <div>\n        <RangeEditor \n          ref='$range${objectId}' \n          layout='block' \n          calc='false' \n          label=\"${s.title}\" \n          min=\"${s.min}\"\n          max=\"${s.max}\"\n          step=\"${s.step}\"\n          key=\"${key}\" \n          value=\"${filter[key].toString()}\" \n          units=\"${s.units.join(',')}\" \n          onchange=\"changeRangeEditor\" \n        />\n      </div>\n    `\n  }\n\n  makeOneFilterTemplate(spec, filter) {\n  return /*html*/`\n    <div class=\"filter-item\">\n      <div class=\"title\">\n        <label>${filter.type}</label>\n        <div class=\"filter-menu\">\n          <button type=\"button\" class=\"del\">${icon.remove}</button>\n        </div>\n      </div>\n      <div class=\"filter-ui\">\n        ${keyMapJoin(spec, (key, value) => {\n          return this.makeFilterEditorTemplate(value, filter, key);\n        })}\n\n      </div>\n    </div>\n  `;\n  }\n\n  makeFilterTemplate(filter) {\n    return this.makeOneFilterTemplate(\n      this.getSpec(filter.type),\n      filter\n    );\n  }\n\n  [LOAD(\"$filterList\")]() {\n\n    if (this.state.selectedFilter  && this.state.selectedFilter.isSource() === false) {\n      return this.makeFilterTemplate(this.state.selectedFilter);\n    }\n\n    return '';\n  }\n\n  modifyFilter () {\n\n    this.state.filters.forEach(f => {\n      if (f.isLight() && f.connected.length) {\n        f.connected.forEach(c => {\n          this.state.filters.filter(s => s.id === c.id).forEach(lightManager => {\n            lightManager.reset({\n              lightInfo: f.toLightString()\n            })\n          })\n        })\n      }\n    })\n\n    this.parent.trigger(this.props.onchange, this.props.key, this.state.filters)\n  }\n\n  parseFilter (list = []) {\n    return list.map(it => SVGFilter.parse(it))\n  }\n\n  makeFilter(type, opt = {}) {\n    return SVGFilter.parse({ ...opt, type });\n  }\n\n\n  [CLICK(\"$filterSelect .item[value]\")](e) {\n    var filterType = e.$dt.attr('value');\n\n    this.makeFilterNode(filterType);\n  }\n\n  [CLICK(\"$filterTemplateSelect .item[value]\")](e) {\n    var templateType = e.$dt.attr('value');\n\n    this.applyTemplate(templateType);\n  }\n\n\n  [CLICK(\"$filterList .filter-menu .del\")](e) {\n    this.removeFilter(this.state.selectedFilter.id);\n  }\n\n  [LOAD('$graphPanel')] () {\n    return this.makeGraphPanel();\n  }\n\n  selectFilter (index) {\n    this.setState({\n      selectedIndex: index,\n      selectedFilter: this.state.filters[index]\n    }, false)\n    this.load('$filterList')\n  }\n\n  [POINTERSTART('$graphPanel .filter-node') + MOVE()  + END()] (e) {\n    this.$target = e.$dt;\n    this.$point = null; \n    this.pointType = 'object';\n    this.pointIndex = 0; \n    var rect = this.refs.$graphPanel.rect();\n    this.rect = rect;  \n\n    var index = +this.$target.attr('data-index');    \n    this.selectFilter(index);\n    this.$target.onlyOneClass('selected');\n\n    var  pointer = Dom.create(e.target);\n\n    if (pointer.hasClass('out')) {\n      this.$point = pointer;\n      this.pointType = 'out';\n      this.pointIndex = 0; \n    } else if (pointer.hasClass('in')) {\n      this.$point = pointer;\n      this.pointType = 'in'; \n      this.pointIndex = +pointer.attr('data-index');      \n    } else {\n      var filter = this.state.selectedFilter\n      this.startXY = clone(filter.bound);\n    }\n\n    if (this.pointType === 'in' || this.pointType === 'out') {\n      var inRect = pointer.rect()\n      var x = inRect.x - rect.x;\n      var y = inRect.y - rect.y;\n\n      var centerX = x + inRect.width/2;\n      var centerY = y + inRect.height/2;\n\n      this.startXY = {x: centerX, y: centerY };\n    }\n\n    this.startXY.dx = 0\n    this.startXY.dy = 0; \n\n    this.load('$dragLinePanel');\n\n  }\n\n  [LOAD('$dragLinePanel')] () {\n    if (this.pointType === 'in' || this.pointType === 'out') {\n      var {x, y, dx, dy } = this.startXY;\n      return /*html*/`\n      <svg>\n        <path ${OBJECT_TO_PROPERTY({\n          'class': 'drag-line',\n          'fill': 'transparent',\n          'stroke-width': 1,\n          d: `M${x},${y}L${x + dx},${y + dy}Z`\n        })} />\n      </svg>\n      `\n    } else {\n      return ''; \n    }\n  }\n\n  makeConnectedPath (points) {\n\n    var manager = new PathStringManager();\n\n    var first = points[0];\n    var last = points[points.length-1]\n\n    if (!first) return '';\n    if (!last) return '';\n\n    var dist = Math.abs(first.x - last.x)/2;\n\n    manager\n    .M(first)\n    .C({x: first.x + dist, y: first.y}, {x: last.x - dist, y: last.y}, last)\n\n    return manager.d;\n  }\n\n  createPath (sourceItem, connectedInfo) {\n    \n    if (connectedInfo.path) {\n      return connectedInfo.path; \n    }\n\n    var sourceX = sourceItem.bound.x + connectedXAxis['1'][0]; \n    var sourceY = sourceItem.bound.y + connectedYAxis['1'][0]; \n\n    var target = this.state.filters.map((it, index) => {\n      return {it, index}\n    }).find(it => {\n      if (!it) return false; \n      if (!it.it) return false;       \n      return it && it.it.id === connectedInfo.id\n    });\n\n\n    var len = `${target.it.getInCount()}`;\n    var source = target.it.in.map((it, index) => {\n      return { it, index}\n    }) .find((it) => {\n      if (!it) return false; \n      if (!it.it) return false; \n      return it.it.id === sourceItem.id\n    });\n    \n    if (!source) {\n      return [] \n    }\n\n    var index = source.index;\n    var targetX = target.it.bound.x + inXAxis[len][0];\n    var targetY = target.it.bound.y + inYAxis[len][index];    \n\n    return [{x: sourceX, y: sourceY}, {x: targetX, y: targetY}]\n  }\n\n  [LOAD('$connectedLinePanel')] () {\n\n    return /*html*/`\n      <svg>\n        ${this.state.filters.map(it => {\n          return it.connected.map(connectedItem => {\n\n            var path = this.createPath(it, connectedItem);\n            var sourceType = getSourceTypeString(it.type);\n\n            return /*html*/`\n              <path ${OBJECT_TO_PROPERTY({\n                'class': 'connected-line',\n                'data-source-type': sourceType,\n                d: this.makeConnectedPath(path)\n              })} />\n\n              ${path.length && /*html*/`\n                <circle ${OBJECT_TO_PROPERTY({\n                  'data-source-type': sourceType,\n                  'data-target-id': connectedItem.id,\n                  'data-source-id': it.id,\n                  'class': 'connected-remove-circle',\n                  'cx': (path[0].x + path[1].x) / 2 ,\n                  'cy': (path[0].y + path[1].y) / 2,\n                })} />\n              `}\n              \n            `\n          }).join('');\n        }).join('')}\n      </svg>\n    `\n  }\n\n  [CLICK('$connectedLinePanel .connected-remove-circle')] (e) {\n    var  [tid, sid] = e.$dt.attrs('data-target-id', 'data-source-id');\n\n    var filters = this.state.filters; \n    filters.filter(it => it.id === sid).forEach(it => {\n      it.connected = it.connected.filter(c => c.id != tid);\n    });\n\n    filters.filter(it => it.id === tid).forEach(it => {\n      it.in = it.in.map(inObject => {\n        if (inObject && inObject.id ==  sid) {\n          return null; \n        }\n\n        return inObject; \n      })\n    });\n\n    this.refresh();\n\n    this.modifyFilter();    \n  }\n\n  getCenterXY ($target) {\n    var inRect = $target.rect()\n    var x = inRect.x - this.rect.x;\n    var y = inRect.y - this.rect.y;\n\n    var centerX = x + inRect.width/2;\n    var centerY = y + inRect.height/2;\n\n    return {x: centerX, y: centerY}\n  }\n\n  end (dx, dy) {\n\n    if (this.pointType === 'in'|| this.pointType === 'out') {\n\n      this.startXY.dx = dx; \n      this.startXY.dy = dy; \n      var filter = this.state.selectedFilter;\n\n      var e = this.$config.get('bodyEvent')      \n\n      var $target = Dom.create(e.target);\n      var $targetNode = $target.closest('filter-node');\n      \n      if (this.pointType === 'out') {\n\n        if ($target.hasClass('in')) {\n          var targetFilter = this.state.filters[+$targetNode.attr('data-index')]\n          if (targetFilter) {\n\n            if (!targetFilter.hasLight() && filter.isLight()) {\n              // light 계열은 lighting 에만 갈 수 있음.  \n            } else {\n              var targetIndex = +$target.attr('data-index');\n              if (!targetFilter.in[targetIndex]) {\n                targetFilter.setIn(targetIndex, filter);\n                filter.setConnected(targetFilter)\n              }\n\n            }\n\n          }\n        }\n      } else if (this.pointType === 'in') {\n        if ($target.hasClass('out'))  {        \n          var targetFilter = this.state.filters[+$targetNode.attr('data-index')]\n          if (targetFilter) {\n\n            if (filter.hasLight() && !targetFilter.isLight()) {\n              // lighting  는 light 와  연결된다. \n            } else {\n              if (!filter.in[this.pointIndex]) {\n                filter.setIn(this.pointIndex, targetFilter);\n                targetFilter.setConnected(filter)\n              }\n\n            }\n                      \n          }\n        }\n      }\n\n      this.pointType = '';\n  \n    }\n\n    this.load('$dragLinePanel');\n    this.load('$connectedLinePanel');\n\n    this.modifyFilter();    \n  }\n\n  move (dx, dy) {\n\n\n    var filter = this.state.selectedFilter;\n    if (filter) {\n      this.startXY.dx = dx; \n      this.startXY.dy = dy; \n\n      if (this.pointType === 'in') {\n        this.load('$dragLinePanel')\n      } else if (this.pointType === 'out') {\n        this.load('$dragLinePanel')\n      } else {\n\n        filter.reset({\n          bound: { x: this.startXY.x + dx, y : this.startXY.y + dy }\n        })\n  \n        this.$target.css({\n          left: Length.px(filter.bound.x),\n          top: Length.px(filter.bound.y),\n        })\n        \n        this.load('$connectedLinePanel');\n      }\n\n    }\n\n  }\n\n  makeGraphPanel() {\n\n    return this.state.filters.map((it, index) => {\n\n      return /*html*/`\n        <div class='filter-node ${OBJECT_TO_CLASS({\n          'selected': index ===  this.state.selectedIndex\n        })}' data-type=\"${it.type}\" data-index=\"${index}\" data-filter-id=\"${it.id}\" style='left: ${it.bound.x}px;top: ${it.bound.y}px;'>\n          <div class='label'>${i18n(it.type)}</div>\n          <div class='remove'>${icon.close}</div>\n          <div class='preview' data-source-type=\"${getSourceTypeString(it.type)}\" data-filter-type='${it.type}'>${getIcon(it.type)}</div>\n          <div class='in-list'>\n            ${repeat(it.getInCount()).map((itIn, inIndex) => {\n              return /*html*/`<div class='in' data-index='${inIndex}'></div>`\n            }).join('')}\n          </div>\n          \n          <div class='out' data-index=\"0\">${icon.chevron_right}</div>\n          ${it.hasLight() ? /*html*/`<div class='light'  data-index=\"0\"></div>` : ''}\n        </div>\n      `\n    })\n  }\n\n  [EVENT('changeSVGFilterColorViewEditor')] (key, color, params) {\n    this.trigger('changeRangeEditor', key, color, params)\n  }\n\n\n  [EVENT('changeFuncFilterEditor')] (key, value) {\n    var filter =  this.state.selectedFilter;\n    if (filter) {\n      filter.reset({\n        [key]: value\n      })\n    }\n  \n    this.modifyFilter();\n  }    \n\n  [EVENT('changeRangeEditor')] (key, value) {\n    var filter =  this.state.selectedFilter;\n    if (filter) {\n      filter.reset({\n        [key]: value\n      })\n    }\n  \n    this.modifyFilter();\n  }  \n\n  [EVENT('changeTextEditor')] (key, value) {\n    var filter =  this.state.selectedFilter;\n    if (filter) {\n      filter.reset({\n        [key]: value\n      })\n    }\n  \n    this.modifyFilter();\n  }\n\n  removeFilter (id) {\n\n    var filters  = this.state.filters.filter(it => it.id != id);\n    filters.forEach(it => {\n      it.connected = it.connected.filter(c => c.id != id);\n      it.in = it.in.filter(c => c.id != id);\n    })\n\n    if (this.state.selectedFilter.id === id) {\n      this.state.selectedFilter = null; \n      this.state.selectedIndex = -1; \n    }\n\n    this.setState({\n      filters\n    })\n\n    this.modifyFilter();\n  }\n\n  [CLICK('$graphPanel .filter-node .remove')] (e) {\n    var $target = e.$dt.closest('filter-node');\n    var index = +$target.attr('data-index');\n    var f = this.state.filters[index]\n\n    this.removeFilter(f.id);\n  }\n}\n","import UIElement from \"../../../util/UIElement\";\nimport { LOAD, BIND, CLICK } from \"../../../util/Event\";\nimport icon from \"../icon/icon\";\n\nexport default class IconListViewEditor extends UIElement {\n\n    initState() {\n        return {\n            value: this.props.value\n        }\n    }\n\n    template() {\n        return `<div class='select-editor list-view-editor' ref='$body'></div>`\n    }\n\n    [BIND('$body')] () {\n        return {\n            'data-column': this.props.column || 1  \n        }\n    }\n\n    [LOAD('$body')] () {\n        return Object.keys(icon).map(key => {\n            var html = icon[key]\n            var selected = key === this.state.value ? 'selected' : ''\n\n            return `<div class='list-view-item ${selected}'  data-key='${key}'>${html}</div>`\n        })\n    }\n\n    getValue () {\n        return this.state.value; \n    }\n\n    setValue (value) {\n        this.state.value = value; \n        this.refresh()\n    }\n\n    [CLICK('$body .list-view-item')] (e) {\n        var key = e.$dt.attr('data-key');\n\n        e.$dt.onlyOneClass('selected')\n\n        this.updateData({\n            value: key\n        })\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n}","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { CLICK } from \"../../../util/Event\";\nimport IconListViewEditor from \"./IconListViewEditor\";\n\nexport default class SVGClipPathEditor extends UIElement {\n\n  components() {\n    return {\n      IconListViewEditor\n    }\n  }\n\n  initState() {\n    return {\n      fit: !!this.props.value.fit,\n      icon: this.props.value.icon || ''\n    }\n  }\n\n  template() {\n\n    var checked = this.state.fit ? 'checked=\"checked\"' : ''\n\n    return `\n      <div class='svg-clip-path-editor clippath-list'>\n          <div class='label' >\n              <label>${this.props.title || ''}</label>\n              <div class='tools'>\n              </div>\n          </div>\n          <div>\n            <label>Fit to size <input type='checkbox' ref='$fit' ${checked}  /> </label>\n          </div>\n          <div>\n            <IconListViewEditor ref='$svg' key='svg' value=\"${this.state.icon}\" column=\"6\" onchange='changeClipPath' />\n          </div>\n      </div>`;\n  }\n\n  updateData (data = {}) {\n    this.setState(data, false)\n\n    this.modifyClipPath()\n  }\n\n  [CLICK('$fit')] () {\n    \n    this.updateData({ \n      fit : this.refs.$fit.checked()\n    })\n  }\n\n  [EVENT('changeClipPath')] (key, icon) {\n    this.updateData({ icon })\n  }\n  \n  modifyClipPath () {\n    var {icon ,fit } = this.state\n    this.parent.trigger(this.props.onchange, this.props.key, {icon, fit} )\n  }\n\n}\n","import { CLICK, LOAD } from \"../../../util/Event\";\nimport icon from \"../icon/icon\";\nimport UIElement, { EVENT } from \"../../../util/UIElement\";\nimport RangeEditor from \"./RangeEditor\";\nimport { DirectionLength } from \"../../../editor/unit/DirectionLength\";\n\nconst typeList = [\n  { key: \"top\", title: \"Top\" },\n  { key: \"right\", title: \"Right\" },\n  { key: \"bottom\", title: \"Bottom\" },\n  { key: \"left\", title: \"Left\" }\n];\n\nexport default class DirectionEditor extends UIElement {\n  components() {\n    return {\n      RangeEditor\n    }\n  }\n  initState() {\n\n    var [count, top, right, bottom, left] = DirectionLength.parse(this.props.value)\n\n    return {\n      isAll: count === 1,\n      all: top.clone(),\n      top: top.clone(),\n      right: right.clone(),\n      bottom: bottom.clone(),\n      left: left.clone()\n    }\n  }\n\n  template() {\n    return `<div class='direction-editor' ref='$body'></div>`\n  }\n\n  [EVENT('changeBorderRadius')] (key, value) {\n\n    if (key === 'all') {\n      typeList.forEach(it => {\n        this.state[it.key] = value.clone();\n        this.children[`$${it.key}`].setValue(value.clone())\n      })\n    }\n\n    this.updateData({\n      [key]: value\n    })\n  }\n\n  [LOAD('$body')] () {\n\n    var selectedValue = this.state.isAll ? 'all' : 'partitial'\n    var direction = this.state.all;\n    var display = selectedValue === 'all' ? 'display:none' : 'display:block';\n\n    return /*html*/`\n      <div class=\"property-item direction-item\">\n        <div class=\"radius-selector\" data-selected-value=\"${selectedValue}\" ref=\"$selector\">\n          <button type=\"button\" data-value=\"all\">${icon.border_all}</button>\n          <button type=\"button\" data-value=\"partitial\">\n            ${icon.border_inner}\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <RangeEditor ref='$all' key='all' value=\"${direction}\" onchange='changeBorderRadius' />\n        </div>\n      </div>\n      <div\n        class=\"property-item full direction-item\"\n        ref=\"$partitialSetting\"\n        style=\"${display}\"\n      >\n        <div class=\"radius-setting-box\">\n          ${typeList.map(it => {\n            var value = this.state[it.key]\n            return /*html*/`\n              <div>\n                  <RangeEditor ref='$${it.key}' label='${it.title}' key='${it.key}' value=\"${value}\" onchange='changeBorderRadius' />\n              </div>  \n            `;\n          }).join('')}\n        </div>\n      </div>\n    `;\n  }\n\n  updateData (opt = {}) {\n    this.setState(opt, false);\n\n    var value = [];\n\n    if (this.state.isAll) {\n      value = [1, this.state.all,this.state.all,this.state.all,this.state.all]\n    } else {\n      value = [4, this.state.top,this.state.right,this.state.bottom,this.state.left]\n    }\n\n    this.parent.trigger(this.props.onchange, value);\n  }\n\n  [CLICK(\"$selector button\")](e) {\n    var type = e.$dt.attr(\"data-value\");\n    this.refs.$selector.attr(\"data-selected-value\", type);\n\n    if (type === \"all\") {\n      this.refs.$partitialSetting.hide();\n    } else {\n      this.refs.$partitialSetting.show(\"grid\");\n    }\n\n    this.updateData({\n      isAll: type === 'all'\n    });\n  }\n\n\n}\n","import UIElement from \"../../../util/UIElement\";\nimport ColorPickerUI from \"../../../colorpicker/index\";\n\nexport default class EmbedColorPicker extends UIElement {\n  afterRender() {\n\n    var defaultColor = \"rgba(0, 0, 0, 1)\";\n\n    this.colorPicker = ColorPickerUI.create({\n      type: \"sketch\",\n      position: \"inline\",\n      container: this.refs.$color.el,\n      color: this.props.value || defaultColor,\n      onChange: c => {\n        this.changeColor(c);\n      }\n    });\n  }\n\n  initState() {\n    return {\n      color: 'rgba(0, 0, 0, 1)'\n    }\n  }\n\n  template() {\n    return `<div ref=\"$color\"></div>`;\n  }\n\n  changeColor(color) {\n    this.parent.trigger(this.props.onchange, color);\n  }\n\n  setValue (color) {\n    this.colorPicker.initColorWithoutChangeEvent(color);\n  }\n\n  refresh() {\n    this.colorPicker.initColorWithoutChangeEvent(this.state.color);\n  }\n\n}\n","import UIElement from \"../../../util/UIElement\";\nimport { LOAD, CLICK } from \"../../../util/Event\";\nimport icon from \"../icon/icon\";\n\nexport default class SelectIconEditor extends UIElement {\n\n    initState() {\n        var splitChar = this.props.split || ',';\n        var options = (this.props.options || '').split(splitChar).map(it => it.trim());\n        var icons = (this.props.icons || '').split(splitChar).map(it => it.trim());\n\n        var value = this.props.value || '';\n\n        return {\n            label: this.props.label || '',\n            options, icons, value\n        }\n    }\n\n    template() {\n        var { label } = this.state; \n        var hasLabel = !!label ? 'has-label' : ''\n        return /*html*/`\n            <div class='select-icon-editor ${hasLabel}'>\n                ${label ? `<label>${label}</label>` : '' }\n                <div class='items' ref='$options'></div>\n            </div>\n        `\n    }\n\n    [CLICK('$close')] () {\n        this.updateData({\n            value: ''\n        })\n        this.refresh();\n    }\n\n    getValue () {\n        return this.state.value || ''; \n    }\n\n    setValue (value) {\n        this.state.value = value + ''; \n\n        var $selectedItem = this.refs.$options.$(`[data-value=\"${this.state.value}\"]`)\n\n        if ($selectedItem) {\n            $selectedItem.onlyOneClass('selected');\n        }\n    }\n\n    refresh(reload = false) {\n\n        if (reload) {\n            var $selectedItem = this.refs.$options.$(`[data-value=\"${this.state.value}\"]`)\n\n            if ($selectedItem) {\n                $selectedItem.onlyOneClass('selected');\n            }\n        } else {\n            this.load();\n        }\n\n    }\n\n    [LOAD('$options')] () {\n        return this.state.options.map((it, index) => {\n\n            var selected = it === this.state.value ? 'selected' : '' \n            var value = it; \n\n            if (it === '') {\n                var label = icon.close\n            } else {\n                var iconKey = this.state.icons[index];\n\n                var label = icon[iconKey] || iconKey || it; \n            }\n            \n            return `<div class='select-icon-item ${selected}' data-value=\"${value}\" title='${value}'>${label}</div>`\n        })\n    }\n\n    [CLICK('$options .select-icon-item')] (e) {\n\n        var value = e.$dt.attr('data-value')\n\n        e.$dt.onlyOneClass('selected');\n\n        this.updateData({\n            value\n        })\n    }\n\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.props.params)\n    }\n}","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { CLICK, BIND, LOAD } from \"../../../util/Event\";\nimport { SVGFill } from \"../../../editor/svg-property/SVGFill\";\n\nexport default class FillSingleEditor extends UIElement {\n\n    initState() { \n        return {\n            index: this.props.index,\n            label: this.props.label,            \n            image: SVGFill.parseImage(this.props.image || 'transparent')\n        }\n    }\n\n    get fillId () {\n        return this.id + 'fill';\n    }    \n\n    updateData(opt = {}) {\n        this.setState(opt, false);\n        this.modifyValue(opt);\n    }\n\n    modifyValue(value) {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue(), this.state.index);\n    }\n\n    getValue () {\n        return this.state.image.toString()\n    }\n\n    setValue (value) {\n        this.setState({\n            image: SVGFill.parseImage(value) \n        })\n    }\n\n    [BIND('$fillView')] () {\n\n        var image = this.state.image; \n\n        if (!image) return {innerHTML: ''}; \n\n        return {\n            innerHTML: image.toSVGString(this.fillId)\n        }\n    }\n\n    [BIND('$fillColor')] () {\n\n        var image = this.state.image; \n\n        if (!image) return {fill: 'transparent'}; \n\n        return {\n            fill: image.toFillValue(this.fillId)\n        }\n    }\n\n    [BIND('$colors')] () {\n        var image = this.state.image; \n\n        if (!image) return {fill: 'transparent'}; \n\n        var colors = image.type != 'url' ?  `${image.colorsteps[0].color}` : 'transparent'\n\n        if (image.type.includes('linear') || image.type.includes('radial') ) {\n            colors = image.colorsteps.map(it => {\n                return /*html*/`<span class='color' style='background-color: ${it.color}' title='${it.color}'></span>`\n            }).join('')\n        }\n\n        return {\n            innerHTML: `<div> ${colors} </div>`\n        }\n    }\n\n    template() {\n        var { label, removable } = this.state;\n        var hasLabel = !!label ? 'has-label' : ''\n\n        return /*html*/`\n            <div class='fill-single-editor ${hasLabel}'>\n                ${label ? `<label>${label}</label>` : '' }            \n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n\n                        <svg class='color-view' ref='$miniView'>\n                            <defs ref='$fillView'></defs>\n                            <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" ref='$fillColor' fill='url(#${this.fillId})' />\n                        </svg>\n                    </div>\n                </div>\n                <div class='colors' ref='$colors'></div>\n            </div>\n        `\n    }\n\n\n    [CLICK(\"$preview\")](e) {\n        this.viewGradientPopup();\n    }\n\n    viewGradientPopup() {\n\n        this.emit(\"showFillPickerPopup\", {\n            instance: this,\n            changeEvent: 'changeFillSingle',\n            image: this.state.image \n        });\n    }\n\n    [EVENT('changeFillSingle')] (image, params) {\n        this.updateData({ image: SVGFill.parseImage(image) })\n\n        this.refresh();\n      }\n}","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { LOAD, CLICK, POINTERSTART, MOVE, END, BIND, PREVENT, DOUBLECLICK, CHANGE } from \"../../../util/Event\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport RangeEditor from \"./RangeEditor\";\n\nimport SelectEditor from \"./SelectEditor\";\nimport InputRangeEditor from \"./InputRangeEditor\";\nimport { editor } from \"../../../editor/editor\";\nimport { Gradient } from \"../../../editor/image-resource/Gradient\";\nimport icon from \"../icon/icon\";\nimport { SVGFill } from \"../../../editor/svg-property/SVGFill\";\nimport { SVGStaticGradient } from \"../../../editor/image-resource/SVGStaticGradient\";\nimport { isUndefined } from \"../../../util/functions/func\";\nimport SelectIconEditor from \"./SelectIconEditor\";\n\nconst imageTypeList = [\n  'static-gradient',\n  'linear-gradient',\n  'radial-gradient',\n  'image-resource'\n]\n\nconst iconList = {\n  'image-resource': icon.photo\n}\n\n\nconst presetPosition = {\n  top: { x1: '0%', y1: '100%', x2: '0%', y2: '0%'},\n  'top left': { x1: '100%', y1: '100%', x2: '0%', y2: '0%'},\n  'top right': { x1: '0%', y1: '100%', x2: '100%', y2: '0%'},\n  left: { x1: '100%', y1: '0%', x2: '0%', y2: '0%'},\n  right: { x1: '0%', y1: '0%', x2: '100%', y2: '0%'},\n  bottom: { x1: '0%', y1: '0%', x2: '0%', y2: '100%'},\n  'bottom left': { x1: '100%', y1: '0%', x2: '0%', y2: '100%'},\n  'bottom right': { x1: '0%', y1: '0%', x2: '100%', y2: '100%'}\n}\n\nconst props = [\n  'x1', 'y1', 'x2', 'y2', \n  'cx', 'cy', 'r', \n  'fx', 'fy', 'fr', \n  'spreadMethod',  \n  'patternUnits', 'patternWidth', 'patternHeight',\n  'imageX', 'imageY', 'imageWidth', 'imageHeight'\n]\n\nconst rangeEditorList = [\n  'x1', 'y1', 'x2', 'y2', \n  'cx', 'cy', 'r', \n  'fx', 'fy', 'fr', \n  'patternWidth', 'patternHeight',\n  'imageX', 'imageY', 'imageWidth', 'imageHeight'\n]\n\nconst i18n = editor.initI18n('fill.editor')\n\nexport default class FillEditor extends UIElement  {\n\n  components() {\n    return {\n      InputRangeEditor,\n      RangeEditor,\n      SelectIconEditor,\n      SelectEditor\n    }\n  }\n\n  initState() {\n    return {\n      cachedRect: null,\n      index: +(this.props.index || 0 ),\n      value: this.props.value, \n      image: SVGFill.parseImage(this.props.value || 'transparent') || SVGStaticGradient.create()\n    }\n  }\n\n  setValue (value) {\n    this.setState({\n      cachedRect: null,\n      image: SVGFill.parseImage(value)\n    }, false)\n\n    this.refresh();\n    this.parent.trigger('changeTabType', this.state.image.type);\n  }\n\n  template() {\n\n    var { image } = this.state; \n\n    image = image || {} \n\n    var type = image.type || 'static-gradient'\n    \n    if (type === 'url') type = 'image-resource'\n\n\n    return /*html*/`\n        <div class='fill-editor' data-selected-editor='${type}'>\n            <div class='gradient-preview'>\n              <div class='gradient-view' ref='$gradientView'>\n                <div class='drag-pointer' ref='$dragPosition'></div>\n              </div>\n              <svg class='pointer-draw' ref='$pointerDrawArea'>\n                <line data-type='line' ref='$line' />\n                <circle r='5' data-type='start' ref='$startPoint' />\n                <circle r='5' data-type='end' ref='$endPoint' />\n                <circle r='5' data-type='center' ref='$centerPoint' />\n                <circle r='5' data-type='f' ref='$fPoint' />\n              </svg>              \n              <div class='preset-position'>\n                <div data-value='top' title='top'>${icon.chevron_right}</div>\n                <div data-value='right' title='right'>${icon.chevron_right}</div>\n                <div data-value='left' title='left'>${icon.chevron_right}</div>\n                <div data-value='bottom' title='bottom'>${icon.chevron_right}</div>\n                <div data-value='top left' title='top left'>${icon.chevron_right}</div>\n                <div data-value='top right' title='top right'>${icon.chevron_right}</div>\n                <div data-value='bottom left' title='bottom left'>${icon.chevron_right}</div>\n                <div data-value='bottom right' title='bottom right'>${icon.chevron_right}</div>                \n              </div>\n              <div data-editor='image-loader'>\n                <input type='file' accept=\"image/*\" ref='$file' />\n              </div>              \n            </div>\n            <div class=\"picker-tab\">\n              <div class=\"picker-tab-list\" ref=\"$tab\">\n                ${imageTypeList.map(it => {\n                  return `<span class='picker-tab-item ${it}' data-editor='${it}'><span class='icon'>${iconList[it] || ''}</span></span>`\n                }).join('')}\n              </div>\n            </div>\n            <div class='gradient-steps' data-editor='gradient'>\n                <div class=\"hue-container\" ref=\"$back\"></div>            \n                <div class=\"hue\" ref=\"$steps\">\n                    <div class='step-list' ref=\"$stepList\" ></div>\n                </div>\n            </div>\n            <div class='tools' data-editor='tools'>\n              <RangeEditor label='Offset' ref='$range' key='length' onchange='changeColorStepOffset' />\n            </div>\n            <div class='sub-editor' ref='$subEditor'> \n                <div data-editor='spreadMethod'>\n                  <SelectIconEditor label='Spread' ref='$spreadMethod' value=\"pad\" options='pad,reflect,repeat' key='spreadMethod' onchange='changeKeyValue' />\n                </div>  \n                <div data-editor='patternUnits'>\n                  <SelectEditor label='Pattern' ref='$patternUnits' options='userSpaceOnUse' key='patternUnits' onchange='changeKeyValue' />\n                </div>                  \n                ${rangeEditorList.map(field => {\n                  return /*html*/`\n                    <div data-editor='${field}'>\n                      <RangeEditor label='${field}' ref='$${field}' value=\"${this.getImageFieldValue(image, field)}\" key='${field}' onchange='changeKeyValue' />\n                    </div>\n                  `\n                }).join('')}\n                                                                                                                                \n            </div>            \n        </div>\n      `;\n  }\n\n  getImageFieldValue(image, field) {\n    var value = image[field]\n\n    if (isUndefined(value)) {\n      switch(field) {\n      case 'cx':\n      case 'cy':\n      case 'r':        \n      case 'fx':\n      case 'fy':        \n        return '50%'    \n      case 'x1':\n      case 'y1': \n      case 'y2': \n      case 'fr':\n      case 'imageX':\n      case 'imageY':\n        return '0%';\n      case 'x2':\n      case 'patternWidth':\n      case 'patternHeight':\n      case 'imageWidth':\n      case 'imageHeight':        \n        return '100%';    \n      }\n    }\n\n    return value; \n  }\n\n  [CHANGE('$file')] (e) {\n    var project = this.$selection.currentProject;\n    if (project) {\n      [...e.target.files].forEach(item => {\n        this.emit('update.asset.image', item, (local) => {\n          this.trigger('setImageUrl', local);\n        });\n      })\n    }\n  }\n\n\n  [CLICK('$el .preset-position [data-value]')] (e) {\n    var type = e.$dt.attr('data-value')\n\n    if (presetPosition[type]) {\n      this.state.image.reset(presetPosition[type])\n      this.refresh();\n      this.refreshFieldValue();\n      this.updateData();\n    }\n\n  }\n\n  refreshFieldValue() {\n    this.children.$x1.setValue(this.state.image.x1)\n    this.children.$y1.setValue(this.state.image.y1)\n    this.children.$x2.setValue(this.state.image.x2)\n    this.children.$y2.setValue(this.state.image.y2)\n\n    this.children.$cx.setValue(this.state.image.cx)\n    this.children.$cy.setValue(this.state.image.cy)\n    this.children.$r.setValue(this.state.image.r)\n\n    this.children.$fx.setValue(this.state.image.fx)\n    this.children.$fy.setValue(this.state.image.fy)\n    this.children.$fr.setValue(this.state.image.fr)  \n    \n    this.children.$spreadMethod.setValue(this.state.image.spreadMethod);\n    this.children.$patternUnits.setValue(this.state.image.patternUnits);\n    this.children.$patternWidth.setValue(this.state.image.patternWidth);\n    this.children.$patternHeight.setValue(this.state.image.patternHeight);\n    this.children.$imageX.setValue(this.state.image.imageX);\n    this.children.$imageY.setValue(this.state.image.imageY);\n    this.children.$imageWidth.setValue(this.state.image.imageWidth);        \n    this.children.$imagenHeight.setValue(this.state.image.imageHeight);\n  }\n\n  getDrawAreaRect () {\n    return {width: 198, height: 150};\n  }\n\n  getFieldValue(field) {\n    return Length.parse(this.getImageFieldValue(this.state.image, field));\n  }\n\n  [BIND('$line')] () {\n    var {width, height} = this.getDrawAreaRect()\n\n    var x1 = this.getFieldValue('x1').toPx(width)\n    var y1 = this.getFieldValue('y1').toPx(height)\n    var x2 = this.getFieldValue('x2').toPx(width)\n    var y2 = this.getFieldValue('y2').toPx(height)    \n\n    return { x1, y1, x2, y2 }\n  }\n\n\n  [BIND('$startPoint')] () {\n    var {width, height} = this.getDrawAreaRect()\n\n    var cx = this.getFieldValue('x1').toPx(width)\n    var cy = this.getFieldValue('y1').toPx(height)\n\n    return { cx, cy }\n  }  \n\n  [BIND('$endPoint')] () {\n    var {width, height} = this.getDrawAreaRect()\n\n    var cx = this.getFieldValue('x2').toPx(width)\n    var cy = this.getFieldValue('y2').toPx(height)\n\n    return { cx, cy }\n  }  \n\n  [BIND('$centerPoint')] () {\n    var {width, height} = this.getDrawAreaRect()\n\n    var cx = this.getFieldValue('cx').toPx(width)\n    var cy = this.getFieldValue('cy').toPx(height)\n\n    return { cx, cy }\n  }  \n\n  [BIND('$fPoint')] () {\n    var {width, height} = this.getDrawAreaRect()\n\n    var cx = this.getFieldValue('fx').toPx(width)\n    var cy = this.getFieldValue('fy').toPx(height)\n\n\n    return { cx, cy }\n  }    \n\n  [POINTERSTART('$pointerDrawArea circle[data-type]') + MOVE('moveDragPointer')]  (e) {\n    this.containerRect = this.refs.$pointerDrawArea.rect();\n    this.startXY = e.xy; \n    this.type = e.$dt.attr('data-type');\n    this.state.cachedRect = null; \n  }\n\n  getRectRate (rect, x, y) {\n\n    var {width, height, x:rx, y: ry } = rect\n\n    if (rx > x) {\n      x = rx; \n    } else if (rx + width < x) {\n      x = rx + width; \n    }\n\n    if (ry > y) {\n      y = ry; \n    } else if (ry + height < y) {\n      y = ry + height; \n    }    \n\n    var left = Length.percent((x - rx ) / width  * 100) \n    var top = Length.percent((y - ry ) / height  * 100) \n\n    return {left, top}\n  }\n\n  moveDragPointer (dx, dy) {\n    var x = this.startXY.x + dx; \n    var y = this.startXY.y + dy; \n\n    var {left, top } = this.getRectRate(this.containerRect, x, y);\n\n    if (this.type == 'start') {\n      this.state.image.reset({ x1: left, y1: top })\n      this.children.$x1.setValue(left)\n      this.children.$y1.setValue(top)            \n\n      this.bindData('$startPoint')\n      this.bindData('$line')\n\n    } else if (this.type == 'end') {\n      this.state.image.reset({ x2: left, y2: top })\n      this.children.$x2.setValue(left)\n      this.children.$y2.setValue(top)      \n      this.bindData('$endPoint')\n      this.bindData('$line')      \n    } else if (this.type == 'center') {\n      this.state.image.reset({ cx: left, cy: top })\n      this.children.$cx.setValue(left)\n      this.children.$cy.setValue(top)      \n      this.bindData('$centerPoint')\n    } else if (this.type == 'f') {\n      this.state.image.reset({ fx: left, fy: top })            \n      this.children.$fx.setValue(left)\n      this.children.$fy.setValue(top)      \n      this.bindData('$fPoint')      \n    }\n\n    this.bindData('$gradientView')    \n\n\n    this.updateData();\n  }\n\n  [CLICK('$tab .picker-tab-item')] (e) {\n    var type = e.$dt.attr('data-editor')\n    this.$el.attr('data-selected-editor', type);\n    this.parent.trigger('changeTabType', type);\n\n    var url = type === 'image-resource' ? this.state.image.url : this.state.url;\n    var opt = {}\n    \n    props.forEach(it => {\n      opt[it] = this.children[`$${it}`].getValue()\n    })\n\n    this.state.image = SVGFill.changeImageType({\n      type,\n      url,\n      colorsteps: this.state.image.colorsteps || [] ,   \n      ...opt\n    })\n    this.refresh();\n    this.updateData();\n    this.sendMessage();\n  }\n\n  sendMessage (type) {\n    var type = this.$el.attr('data-selected-editor');\n    if (type === 'linear-gradient') {\n      this.emit('addStatusBarMessage', '');\n    } else if (type === 'url' || type === 'image-resource') {\n      this.emit('addStatusBarMessage', i18n('message.click.image'));\n    } else {\n      this.emit('addStatusBarMessage', i18n('message.drag.position'));\n    }\n  }\n\n  [EVENT('changeKeyValue')] (key, value) {\n\n    this.state.image.reset({\n      [key]: value\n    })\n\n    this.bindData('$gradientView')\n    this.bindData('$line')\n    this.bindData('$startPoint')\n    this.bindData('$endPoint')\n    this.bindData('$centerPoint')\n    this.bindData('$fPoint')\n\n    this.updateData();\n  }\n\n  [EVENT('changeColorStepOffset')] (key, value) {\n    if (this.currentStep) {\n      this.currentStep.percent = value.value;\n      this.state.image.sortColorStep();\n      this.refresh()\n      this.updateData();      \n    }\n  }\n\n  [CLICK('$back')] (e) {\n    \n    var rect = this.refs.$stepList.rect();\n    \n    var minX = rect.x;\n    var maxX = rect.right;\n\n    var x = e.xy.x \n\n    if (x < minX)  x = minX\n    else if (x > maxX) x = maxX\n    var percent = (x - minX) / rect.width * 100;\n\n    this.state.image.insertColorStep(percent);\n    this.state.image.sortColorStep()\n\n    this.refresh();\n    this.updateData();\n  }\n\n  [BIND('$el')] () {\n    var type = this.state.image.type;\n    if (type === 'url') {\n      type = 'image-resource'\n    }\n    this.parent.trigger('changeTabType', type);\n    return {\n      \"data-selected-editor\": type\n    }\n  }\n\n  [BIND('$stepList')] () {\n    return {\n      'data-selected-index': this.state.index.toString(),\n      'style': {\n        'background-image' : this.getLinearGradient()\n      }\n    }\n  }\n\n  get fillId () {\n    return this.id + 'fill';\n  }\n\n  [BIND('$gradientView')] () {\n    return {\n      innerHTML : /*html*/`\n        <svg x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">\n          <defs>\n            ${this.state.image.toSVGString(this.fillId)}\n          </defs>\n          <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"${this.state.image.toFillValue(this.fillId)}\" />\n        </svg>\n      `\n    }\n  }\n\n  [LOAD('$stepList')] () {\n    var colorsteps = this.state.image.colorsteps || [] \n    return colorsteps.map( (it, index) => {\n\n      var selected = this.$selection.isSelectedColorStep(it.id) ? 'selected' : '';\n\n      return /*html*/`\n      <div class='step ${selected}' data-id='${it.id}' style='left: ${it.percent}%;'>\n        <div class='color-view' style=\"background-color: ${it.color}\"></div>\n        <div class='arrow' style=\"background-color: ${it.color}\"></div>\n      </div>`\n    })\n  }\n\n\n  removeStep(id) {\n\n    this.state.image.removeColorStep(id);\n\n    this.refresh();\n    this.updateData();          \n  }\n\n  selectStep(id) {\n    this.state.id = id; \n\n    this.$selection.selectColorStep(id);\n\n    if (this.state.image.colorsteps) {\n      this.currentStep = this.state.image.colorsteps.find( it => this.$selection.isSelectedColorStep(it.id))\n      this.children.$range.setValue(Length.percent(this.currentStep.percent));\n      this.parent.trigger('selectColorStep', this.currentStep.color)    \n  \n    }\n\n    this.refresh();\n\n  }\n\n  [POINTERSTART('$stepList .step') + MOVE()] (e) {\n    var id = e.$dt.attr('data-id')\n\n    if (e.altKey) {\n      this.removeStep(id);\n      return false; \n    } else {\n\n      this.selectStep(id);\n\n      this.startXY = e.xy;\n\n      this.cachedStepListRect = this.refs.$stepList.rect();\n    }\n\n  }\n\n  getStepListRect () {\n    return this.cachedStepListRect;\n  }\n\n  move (dx, dy) {\n\n    var rect = this.getStepListRect()\n    \n    var minX = rect.x;\n    var maxX = rect.right;\n\n    var x = this.startXY.x + dx \n\n    if (x < minX)  x = minX\n    else if (x > maxX) x = maxX\n    var percent = (x - minX) / rect.width * 100;\n\n\n    this.currentStep.percent = percent;\n\n    this.children.$range.setValue(Length.percent(percent));    \n    this.state.image.sortColorStep();\n    this.refresh()\n\n    this.updateData();    \n  }\n\n\n  refresh() {\n    this.load();\n  }\n\n  getLinearGradient () {\n\n    var { image } = this.state; \n\n    return `linear-gradient(to right, ${Gradient.toColorString(image.colorsteps)})`;\n\n  }\n\n  [EVENT('setColorStepColor')] (color) {\n\n    if (this.state.image.type === 'static-gradient') {\n      this.state.image.setColor(color)\n      this.refresh()\n      this.updateData();      \n    } else {\n\n      if (this.currentStep) {\n        this.currentStep.color = color;\n        this.refresh()\n        this.updateData();\n      }\n    }\n\n  }\n\n\n  [EVENT('setImageUrl')] (url) {\n\n    if (this.state.image) {\n      this.state.url = url; \n      this.state.image.reset({ url });\n      this.refresh();\n      this.updateData();\n    }\n  }\n\n  updateData(data = {}) {\n    this.setState(data, false);\n    this.parent.trigger(this.props.onchange, this.state.image.toString());\n  }\n\n}\n","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { LOAD, CHANGE, BIND, DEBOUNCE, CLICK } from \"../../../util/Event\";\nimport icon from \"../icon/icon\";\nimport { editor } from \"../../../editor/editor\";\n\nconst i18n = editor.initI18n('svgfilter.select.editor')\nexport default class SVGFilterSelectEditor extends UIElement {\n\n    initState() {\n        var value = this.props.value;\n\n        return {\n            options: [],\n            label: this.props.label || '',\n            value\n        }\n    }\n\n    template() {\n        var { label } = this.state; \n        var hasLabel = !!label ? 'has-label' : ''\n        return /*html*/`\n            <div class='svg-filter-select-editor ${hasLabel}'>\n                ${label ? `<label>${label}</label>` : '' }\n                <select ref='$options'></select>\n                <button type='button' class='open thin' ref='$open' title='Open SVG Filter Editor'>${icon.fullscreen}</button>\n                <button type='button' class='remove thin' ref='$remove' title='Remove'>${icon.remove}</button>\n            </div>\n        `\n    }\n\n\n    [CLICK('$remove')] (e) {\n        this.updateData({\n            value: ''\n        })\n    }\n\n    [CLICK('$open')] (e) {\n        var value = this.state.value;\n\n        if (value.includes('id')) {\n            var currentProject = this.$selection.currentProject\n            var index = currentProject.getSVGFilterIndex(value)\n\n            if (index > -1) {\n                this.trigger('openSVGFilterPopup', index);\n            }\n        }\n    }\n\n    getValue () {\n        return this.state.value; \n    }\n\n    setValue (value) {\n        this.setState({ value })\n    }\n\n    refresh(reload = false) {\n        this.load();\n    }\n\n    [BIND('$options')] () {\n        return {\n            'data-count': this.state.options.length.toString()\n        }\n    }\n\n    [LOAD('$options')] () {\n\n\n\n        var current = this.$selection.currentProject;\n        var options = '' \n        \n        if (current) {\n          options = current.svgfilters.map(it => it.id)\n          options = options.length ? ',' + options.join(',') : '';\n        }\n\n        options += ',-,new';\n\n        options = options.split(',');\n\n        var arr = options.map(it => {\n\n\n            var value = it; \n            var label = it; \n\n            if (value.includes(\":\")) {\n                var [value, label] = value.split(':')\n            }\n\n            if (label === '') {\n                label = this.props['none-value'] ? this.props['none-value'] : ''\n            } else if (label === '-') {\n                label = '----------'\n                value = ''; \n            }\n            var selected = value === this.state.value ? 'selected' : '' \n            return `<option ${selected} value=\"${value}\">${label}</option>`\n        })\n\n        return arr; \n    }\n\n    setOptions (options = '') {\n        this.setState({ \n            options: options.split(this.state.splitChar).map(it => it.trim()) \n        })\n    }\n\n    sendMessage (type) {\n        if (type === 'new') {\n            this.emit('addStatusBarMessage', i18n('message.create'));\n        } else if (type === '-') {\n            this.emit('addStatusBarMessage', i18n('message.select'));\n        } else {\n            this.emit('addStatusBarMessage', '');\n        }\n    }\n\n    [CHANGE('$options')] () {\n\n        var value = this.refs.$options.value \n\n        if (value == 'new') {\n\n            this.emit('add.assets.svgfilter', (index, id) => {\n                this.updateData({ value: id })\n        \n                this.refresh();\n        \n                this.trigger('openSVGFilterPopup', index);\n        \n              })\n        } else if (value === '-') {\n            \n        } else {\n            this.updateData({ value })\n        }\n \n    }\n\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n\n    [EVENT('refreshSVGArea') + DEBOUNCE(1000)] () {\n        this.load('$options')\n    }\n\n\n    [EVENT('openSVGFilterPopup')](index) {\n        this.emit('refreshSVGFilterAssets');\n        this.emit('refreshSVGArea');\n        var currentProject = this.$selection.currentProject || { svgfilters: [] } \n    \n        var svgfilter = currentProject.svgfilters[index];\n    \n        this.emit(\"showSVGFilterPopup\", {\n            changeEvent: 'changeSVGFilterEditorRealUpdate',\n            preview: false,\n            index,\n            filters: svgfilter.filters \n        });\n    }\n    \n    \n    [EVENT('changeSVGFilterEditorRealUpdate')] (params) {\n        var project = this.$selection.currentProject\n    \n        if (project) {\n            project.setSVGFilterValue(params.index, {\n                filters: params.filters\n            });\n        \n            this.emit('refreshSVGFilterAssets');\n            this.emit('refreshSVGArea');\n        }\n    }    \n}","import UIElement from \"../../../util/UIElement\";\nimport { BIND, INPUT } from \"../../../util/Event\";\nimport { Length } from \"../../../editor/unit/Length\";\n\nexport default class TextAreaEditor extends UIElement {\n\n    initState() {\n        var value = this.props.value;\n\n        return {\n            label: this.props.label || '',\n            height: Length.px(100),\n            value\n        }\n    }\n\n    template() {\n        var { label, height, value } = this.state; \n        var hasLabel = !!label ? 'has-label' : ''\n        return /*html*/`\n            <div class='text-editor ${hasLabel}'>\n                ${label ? `<label>${label}</label>` : '' }\n                <textarea ref='$text' style='height:${height}'>${value}</textarea>\n            </div>\n        `\n    }\n\n    getValue () {\n        return this.refs.$options.value; \n    }\n\n    setValue (value, height) {\n        this.setState({ value }, false)\n\n        if (height) {\n            this.setState({ height }, false)\n        }\n        this.refresh();        \n    }\n\n    [BIND('$text')] () {\n        return {\n            'text': this.state.value || '',\n            style: {\n                height: this.state.height \n            }\n        }\n    }\n\n    [INPUT('$text')] () {\n        this.updateData({\n            value: this.refs.$text.value \n        })\n    }\n\n\n    updateData (data) {\n        this.setState(data)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.state.value, this.props.params)\n    }\n}","import BackgroundImageEditor from \"./BackgroundImageEditor\";\nimport BoxShadowEditor from \"./BoxShadowEditor\";\nimport BorderRadiusEditor from \"./BorderRadiusEditor\";\nimport ColorSingleEditor from \"./ColorSingleEditor\";\nimport ColorViewEditor from \"./ColorViewEditor\";\nimport CubicBezierEditor from \"./CubicBezierEditor\";\n// import FillPopup from \"../popup/FillPopup\";\nimport FilterEditor from \"./FilterEditor\";\nimport GradientEditor from \"./GradientEditor\";\nimport IterationCountEditor from \"./IterationCountEditor\";\nimport OffsetEditor from \"./OffsetEditor\";\nimport CSSPropertyEditor from \"./CSSPropertyEditor\";\nimport PerspectiveOriginEditor from \"./PerspectiveOriginEditor\";\nimport RangeEditor from \"./RangeEditor\";\nimport SelectEditor from \"./SelectEditor\";\nimport SingleRangeEditor from \"./SingleRangeEditor\";\nimport TextShadowEditor from \"./TextShadowEditor\";\nimport TransformEditor from \"./TransformEditor\";\nimport TransformOriginEditor from \"./TransformOriginEditor\";\nimport VarEditor from \"./VarEditor\";\nimport CircleEditor from \"./clip-path/CircleEditor\";\nimport SVGFilterEditor from \"./SVGFilterEditor\";\nimport TextEditor from \"./TextEditor\";\nimport NumberRangeEditor from \"./NumberRangeEditor\";\nimport SVGClipPathEditor from \"./SVGClipPathEditor\";\nimport DirectionEditor from \"./DirectionEditor\";\nimport InputArrayEditor from \"./InputArrayEditor\";\nimport IconListViewEditor from \"./IconListViewEditor\";\nimport EmbedColorPicker from \"./EmbedColorPicker\";\nimport ImageSelectEditor from \"./ImageSelectEditor\";\nimport SelectIconEditor from \"./SelectIconEditor\";\nimport InputRangeEditor from \"./InputRangeEditor\";\nimport StrokeDashArrayEditor from \"./StrokeDashArrayEditor\";\nimport PathDataEditor from \"./PathDataEditor\";\nimport PolygonDataEditor from \"./PolygonDataEditor\";\nimport OffsetPathListEditor from \"./OffsetPathListEditor\";\nimport BackgroundPositionEditor from \"./BackgroundPositionEditor\";\nimport GradientSingleEditor from \"./GradientSingleEditor\";\nimport BorderEditor from \"./BorderEditor\";\nimport BorderValueEditor from \"./BorderValueEditor\";\nimport FillSingleEditor from \"./FillSingleEditor\";\nimport FillEditor from \"./FillEditor\";\nimport SVGFilterSelectEditor from \"./SVGFilterSelectEditor\";\nimport FuncFilterEditor from \"./FuncFilterEditor\";\nimport ColorMatrixEditor from \"./ColorMatrixEditor\";\nimport TextAreaEditor from \"./TextAreaEditor\";\nimport FlexLayoutEditor from \"./FlexLayoutEditor\";\n\nexport default {\n    FlexLayoutEditor,\n    TextAreaEditor,\n    ColorMatrixEditor,\n    FuncFilterEditor,\n    SVGFilterSelectEditor,\n    FillEditor,\n    FillSingleEditor,\n    BorderEditor,\n    BorderValueEditor,\n    GradientSingleEditor,\n    BackgroundPositionEditor,\n    OffsetPathListEditor,\n    PolygonDataEditor,\n    PathDataEditor,\n    StrokeDashArrayEditor,\n    InputRangeEditor,\n    SelectIconEditor,\n    ImageSelectEditor,\n    EmbedColorPicker,\n    IconListViewEditor,\n    InputArrayEditor,\n    DirectionEditor,\n    SVGClipPathEditor,\n    NumberRangeEditor,\n    TextEditor,\n    SVGFilterEditor,\n    CircleEditor,\n    BackgroundImageEditor,\n    BoxShadowEditor,\n    BorderRadiusEditor,\n    ColorSingleEditor,\n    ColorViewEditor,\n    CubicBezierEditor,\n    // FillPopup,\n    FilterEditor,\n    GradientEditor,\n    IterationCountEditor,\n    OffsetEditor,\n    CSSPropertyEditor,\n    PerspectiveOriginEditor,\n    RangeEditor,\n    SelectEditor,\n    SingleRangeEditor,\n    TextShadowEditor,\n    TransformEditor,\n    TransformOriginEditor,\n    VarEditor\n    \n}","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { LOAD } from \"../../../util/Event\";\nimport { CSS_TO_STRING, STRING_TO_CSS } from \"../../../util/functions/func\";\nimport SelectIconEditor from \"./SelectIconEditor\";\n\nexport default class FlexLayoutEditor extends UIElement {\n\n    components() {\n        return {\n            SelectIconEditor,\n        }\n    }\n\n    initState() {\n        return {\n            ...STRING_TO_CSS(this.props.value),\n        }\n    }\n\n    setValue (value) {\n        this.setState({\n            ...STRING_TO_CSS(this.props.value),\n        })\n    }\n\n    getValue () {\n        return CSS_TO_STRING(this.state)\n    }\n\n    modifyData() {\n        this.parent.trigger(this.props.onchange, this.props.key, this.getValue())\n    }\n\n    [LOAD('$body')] () {\n        return /*html*/`\n            <div class='flex-layout-item'>\n                <div class='label'><label>direction</label></div>\n                <SelectIconEditor \n                    key='flex-direction'\n                    value=\"${this.state['flex-direction']}\"\n                    options=\"row,column,row-reverse,column-reverse\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>wrap</label></div>\n                <SelectIconEditor \n                    key='flex-wrap'\n                    value=\"${this.state['flex-wrap']}\"\n                    options=\"nowrap,wrap,wrap-reverse\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>justify content</label></div>\n                <SelectIconEditor \n                    key='justify-content'\n                    value=\"${this.state['justify-content']}\"\n                    options=\"flex-start,flex-end,center,space-between,space-around\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>align-items</label></div>\n                <SelectIconEditor \n                    key='align-items'\n                    value=\"${this.state['align-items']}\"\n                    options=\"flex-start,flex-end,center,baseline,stretch\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>align-content</label></div>\n                <SelectIconEditor \n                    key='align-content'\n                    value=\"${this.state['align-content']}\"\n                    options=\"flex-start,flex-end,center,space-between,space-around,stretch\"\n                    onchange='changeKeyValue'\n                />\n            </div>    \n        `\n    }\n\n    template () {\n        return /*html*/`\n            <div class='flex-layout-editor' ref='$body' ></div>\n        `\n    }\n\n\n    [EVENT('changeKeyValue')] (key, value, params) {\n\n        this.setState({\n            [key]: value\n        }, false)\n\n        this.modifyData();\n    }\n}","import { CLICK, PREVENT, STOP } from \"../../../util/Event\";\nimport UIElement from \"../../../util/UIElement\";\n\nimport propertyEditor from \"../property-editor\";\nimport { editor } from \"../../../editor/editor\";\nimport Dom from \"../../../util/Dom\";\n\n\nexport default class BaseProperty extends UIElement {\n\n  components() {\n    return propertyEditor\n  }\n\n  onToggleShow() {}\n\n  template() {\n    return /*html*/`\n        <div class='property ${this.getClassName()} ${this.isFirstShow() ?  'show' : '' }'>\n            ${this.isHideHeader() ? ''\n            : /*html*/`\n            <div class='property-title' ref=\"$title\">\n                <label> ${this.hasKeyframe() ? `<span class='add-timeline-property' data-property='${this.getKeyframeProperty()}'></span>` : ''} <span ref='$propertyTitle'>${this.getTitle()}</span></label>\n                <span class=\"tools\">${this.getTools()}</span>\n            </div>`\n            }\n            <div class='property-body'>${this.getBody()}</div>\n            ${ this.getFooter() ? `<div class='property-footer'>${this.getFooter()}</div>` : ''}\n        </div>\n        `;\n  }\n\n  setTitle (title) {\n    this.refs.$propertyTitle.text(title);\n  }\n\n  hasKeyframe () {\n    return false;\n  }\n    \n  isHideHeader() {\n    return false;\n  }\n\n  isFirstShow () {\n    return true\n  }\n\n  getClassName() {\n    return '';\n  }\n  getTitle() {\n    return '';\n  }\n  getTools() {\n    return '';\n  }\n  getBody() {\n    return '';\n  }\n\n  getFooter() {\n    return ''; \n  }\n\n  [CLICK(\"$title label\")](e) {\n    var $dom = e.$dt.parent();\n\n    var isAddProperty = Dom.create(e.target).hasClass('add-timeline-property')\n\n    if ($dom.hasClass(\"property-title\") && isAddProperty === false) {\n      this.$el.toggleClass(\"show\");\n      this.onToggleShow();\n    }\n  }\n\n  [CLICK(\"$title .icon\")](e) {\n    var $dom = e.$dt.parent();\n\n    if ($dom.hasClass(\"property-title\")) {\n      this.$el.toggleClass(\"show\");\n      this.onToggleShow();\n    }\n  }\n\n  [CLICK('$el .property-body .add-timeline-property') + PREVENT + STOP] (e) {\n    var property = e.$dt.attr('data-property')\n    var editor = e.$dt.attr('data-editor')\n\n    this.emit('add.timeline.current.property', { property, editor })\n  }\n\n  [CLICK('$el .property-title .add-timeline-property') + PREVENT + STOP] (e) {\n    var property = e.$dt.attr('data-property')\n    var editor = e.$dt.attr('data-editor')\n\n    this.emit('add.timeline.current.property', { property, editor })\n  }  \n\n  isPropertyShow() {\n    return this.$el.hasClass(\"show\");\n  }\n\n  toggle(isShow) {\n    this.$el.toggle(isShow);\n  }\n\n  hide() {\n    this.$el.hide();\n  }\n\n  show() {\n    this.$el.show();\n  }\n\n  onShowTitle(isShow) {\n\n  }\n\n  refreshShowIsNot (type = '', isRefresh = true ) {\n\n    var current = this.$selection.current;\n    if (current) {\n      if (type.includes(current.itemType)) {\n        this.hide();\n      } else {\n        this.show();\n\n        if (isRefresh) this.refresh();\n      }\n    } else {\n      \n    }\n  }\n\n  refreshShow (type, isRefresh = true) {\n\n    var current = this.$selection.current;\n    if (current) {\n      if (type.includes(current.itemType)) {\n        this.show();\n        if (isRefresh) this.refresh();\n      } else {\n        this.hide();\n      }\n    } else {\n      \n    } \n  }\n\n\n  startInputEditing (input) {\n    if (!input) return; \n    input.attr('contenteditable', true);\n\n    input.css({\n      'background-color': 'white',\n      'outline': '1px auto black',\n      'color': 'black',\n    })\n\n    input.focus();\n  }\n\n  endInputEditing (input, callback) {\n    if (!input) return;     \n    input.attr('contenteditable', false);\n    input.css({\n      'background-color': null,\n      'outline': null,\n      'color': null,\n    })\n\n    var index = input.attr('data-index');\n\n    callback && callback (index, input.text().trim())\n\n    input.blur();\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { DEBOUNCE } from \"../../../util/Event\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport { blend_list } from \"../../../editor/util/Resource\";\n\nconst blendI18n = editor.initI18n('blend')\n\nexport default class BackgroundColorProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('background.color.property.title');\n  }\n\n  getBlendList () {\n    return blend_list.split(',').map(it => {\n      return `${it}:${blendI18n(it)}`\n    }).join(',');\n  }\n\n  getBody() {\n    return /*html*/`\n        <div class='property-item animation-property-item'>\n          <span class='add-timeline-property' data-property='background-color'></span>\n          <ColorViewEditor ref='$color' label=\"${this.$i18n('background.color.property.color')}\" key='background-color' onchange=\"changeColor\" />\n        </div>\n\n        <div class='property-item animation-property-item'>\n          <span class='add-timeline-property' data-property='z-index'></span>\n          <NumberRangeEditor \n            ref='$zIndex' \n            key='z-index' \n            label='${this.$i18n('background.color.property.zindex')}'\n            min=\"-1\"\n            max=\"100000\"\n            step=\"1\"\n            onchange=\"changeSelect\" />\n        </div>\n\n        <div class='property-item animation-property-item'>\n          <span class='add-timeline-property' data-property='opacity'></span>\n          <NumberRangeEditor \n            ref='$opacity' \n            key='opacity' \n            label='${this.$i18n('background.color.property.opacity')}'\n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            onchange=\"changeSelect\" />\n        </div>        \n        \n        <div class='property-item animation-property-item'>\n          <span class='add-timeline-property' data-property='mix-blend-mode'></span>\n          <SelectEditor \n            label='${this.$i18n('background.color.property.blend')}'\n            ref='$mixBlend' \n            removable='true'\n            key='mix-blend-mode' \n            icon=\"true\" \n            options=\"${this.getBlendList()}\" \n            onchange=\"changeSelect\" />\n        </div>        \n      `;\n  }  \n\n  refresh () {\n    var current = this.$selection.current; \n\n    if (current) {\n      this.children.$color.setValue(current['background-color'] || 'rgba(0, 0, 0, 1)')\n      this.children.$zIndex.setValue(current['z-index'] || 0)\n      this.children.$opacity.setValue(current.opacity || '1')\n      this.children.$mixBlend.setValue(current['mix-blend-mode'])\n    }\n  }\n\n\n  [EVENT('changeSelect')] (key, value) {\n       this.$selection.reset({\n        [key]: value\n      })\n \n    this.emit(\"refreshSelectionStyleView\");\n  }\n\n  [EVENT('changeColor')] (key, color) {\n    this.trigger('changeSelect', key, color);\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShowIsNot('project');\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { LOAD, DEBOUNCE } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\n\n\nexport default class BorderRadiusProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('border.radius.property.title');  \n  }\n\n\n  hasKeyframe () {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'border-radius'\n  }\n\n  getBody() {\n    return /*html*/`<div class=\"property-item full border-radius-item\" ref='$body'></div>`;\n  }\n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {}; \n    var value = current['border-radius'] || ''\n\n    return /*html*/`\n      <BorderRadiusEditor ref='$1' value='${value}' onchange='changeBorderRadius' />\n    `\n  }\n\n\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n\n    this.refreshShowIsNot('artboard')\n\n  }  \n\n  [EVENT('changeBorderRadius')] (value) {\n\n    this.$selection.reset({\n      'border-radius': value \n    })\n\n    this.emit(\"refreshSelectionStyleView\");\n  }\n\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\n\n\nimport RangeEditor from \"../property-editor/RangeEditor\";\nimport SelectEditor from \"../property-editor/SelectEditor\";\n\n\nexport default class SizeProperty extends BaseProperty {\n  components() {\n    return {\n      RangeEditor,\n      SelectEditor\n    }\n  }\n\n  getTitle() {\n    return this.$i18n('size.property.title');\n  }\n\n  [EVENT('refreshSelection', 'refreshRect')]() {\n    this.refreshShowIsNot('project');\n  }\n\n  refresh() {\n    var current = this.$selection.current;\n    if (current) {\n      this.children.$width.setValue(current.width);\n      this.children.$height.setValue(current.height);\n    }\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='property-item animation-property-item'>\n        <span class='add-timeline-property' data-property='width'></span>\n        <RangeEditor ref='$width' label='${this.$i18n('size.property.width')}' key='width' min=\"0\" max='3000' onchange='changRangeEditor' />\n      </div>\n      <div class='property-item animation-property-item'>\n        <span class='add-timeline-property' data-property='height'></span>      \n        <RangeEditor ref='$height' label='${this.$i18n('size.property.height')}' key='height' min=\"0\" max='3000' onchange='changRangeEditor' />\n      </div>      \n    `;\n  }\n\n  [EVENT('changRangeEditor')] (key, value) {\n\n    this.$selection.reset({\n      [key]: value\n    })\n\n    this.$selection.reselect();\n\n    this.emit('refreshSelectionStyleView');\n    this.emit('refreshSelectionTool');\n    // this.emit('setSize')\n\n    // this.emit('change.property', key)    \n\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { LOAD, DEBOUNCE, CLICK } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\n\n\nexport default class BoxShadowProperty extends BaseProperty {\n\n  getTitle () {\n    return this.$i18n('boxshadow.property.title');\n  }\n\n  getBody() {\n    return `\n      <div class=\"full box-shadow-item\" ref=\"$shadowList\"></div>\n    `;\n  }\n\n  hasKeyframe() {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'box-shadow'\n  }\n\n\n  [LOAD(\"$shadowList\")]() {\n    var current = this.$selection.current || {};\n    return `\n      <BoxShadowEditor ref='$boxshadow' value=\"${current['box-shadow'] || ''}\" hide-label=\"true\" onChange=\"changeBoxShadow\" />\n    `\n  }\n\n\n  getTools() {\n    return `<button type=\"button\" ref='$add'>${icon.add}</button>`\n  }\n\n  [CLICK('$add')] () {\n    this.children.$boxshadow.trigger('add');\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n\n    this.refreshShowIsNot('artboard')\n\n  }  \n\n  [EVENT(\"changeBoxShadow\")](boxshadow) {\n\n    this.$selection.reset({ \n      'box-shadow': boxshadow\n    })\n\n    this.emit(\"refreshSelectionStyleView\");\n\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { INPUT, LOAD, DEBOUNCE } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { EVENT } from \"../../../util/UIElement\";\n\n\n\nconst fields = [\"margin\", \"padding\"];\nlet styleKeys = [];\nfields.forEach(field => {\n  styleKeys.push(...[\"-top\", \"-bottom\", \"-left\", \"-right\"].map(it => field + it));\n});\n\nexport default class BoxModelProperty extends BaseProperty {\n  getTitle() {\n    return \"Box Model\";\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShow('text');\n  }\n\n  getBody() {\n    return `<div class=\"property-item box-model-item\" ref=\"$boxModelItem\"></div>`;\n  }\n\n  templateInput(key, current) {\n\n    var value = current[key] || Length.px(0)\n\n    return `<input type=\"number\" ref=\"$${key}\" value=\"${value.value}\" />`;\n  }\n\n  [LOAD(\"$boxModelItem\")]() {\n    var current = this.$selection.current;\n\n    if (!current) return '';\n\n    return `\n      <div>\n        <div class=\"margin\">\n          <div data-value=\"top\">\n            ${this.templateInput(\"margin-top\", current)}\n          </div>\n          <div data-value=\"bottom\">\n            ${this.templateInput(\"margin-bottom\", current)}\n          </div>\n          <div data-value=\"left\">\n            ${this.templateInput(\"margin-left\", current)}\n          </div>\n          <div data-value=\"right\">\n            ${this.templateInput(\"margin-right\", current)}\n          </div>\n        </div>\n        <div class=\"padding\">\n          <div data-value=\"top\">\n            ${this.templateInput(\"padding-top\", current)}\n          </div>\n          <div data-value=\"bottom\">\n            ${this.templateInput(\"padding-bottom\", current)}\n          </div>\n          <div data-value=\"left\">\n            ${this.templateInput(\"padding-left\", current)}\n          </div>\n          <div data-value=\"right\">\n            ${this.templateInput(\"padding-right\", current)}\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  [INPUT(\"$boxModelItem input\")](e) {\n    this.resetBoxModel();\n  }\n\n  resetBoxModel() {\n    var data = {};\n\n    styleKeys.forEach(key => {\n      data[key] = Length.px(this.getRef(\"$\", key).value);\n    });\n\n    var current = this.$selection.current;\n\n    if (current) {\n      current.reset(data);\n\n      this.emit(\"refreshElement\", current);\n    }\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { INPUT, BIND, DEBOUNCE } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\n\nimport { EVENT } from \"../../../util/UIElement\";\n\n\n\nexport default class ContentProperty extends BaseProperty {\n  getTitle() {\n    return \"Content\";\n  }\n\n\n  [EVENT('refreshSelection', 'refreshContent') + DEBOUNCE(100)]() {\n\n    this.refreshShowIsNot('artboard');\n\n  }  \n\n  getBody() {\n    return `\n      <div class=\"property-item content-item\">\n        <textarea ref=\"$contentItem\"></textarea>\n      </div>\n    `;\n  }\n\n  [BIND(\"$contentItem\")]() {\n    var current = this.$selection.current;\n\n    if (!current) return '';\n\n    return {\n      value: current.content || \"\"\n    };\n  }\n\n  [INPUT(\"$contentItem\")](e) {\n    this.setContent();\n  }\n\n  setContent() {\n    var current = this.$selection.current;\n    if (current) {\n      var data = {\n        content: this.refs.$contentItem.value\n      }\n      current.reset(data);\n      this.emit('refreshCanvas', {id: current.id, content: data.content, itemType: current.itemType });\n    }\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport { DEBOUNCE } from \"../../../util/Event\";\n\nconst i18n = editor.initI18n('font.property')\n\nexport default class FontProperty extends BaseProperty {\n\n  getTitle() {\n    return i18n('title');\n  }\n\n  getClassName() {\n    return 'item'\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShow(['text'])\n  }\n\n  refresh() {\n    \n    var current = this.$selection.current;\n\n    if (current) {\n      this.children.$color.setValue(current['color'] || 'rgba(0, 0, 0, 1)')\n      this.children.$size.setValue(current['font-size'])      \n      this.children.$stretch.setValue(current['font-stretch'] || '0%')      \n      this.children.$style.setValue(current['font-style'])\n      this.children.$family.setValue(current['font-family'])\n    }    \n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='property-item animation-property-item'>\n        <span class='add-timeline-property' data-property='color'></span>\n        <ColorViewEditor ref='$color' label='${i18n('color')}' key='color' onchange=\"changeColor\" />\n      </div>      \n      <div class='property-item animation-property-item'>\n        <span class='add-timeline-property' data-property='font-size'></span>\n        <RangeEditor \n          ref='$size' \n          label='${i18n('size')}' \n          key=\"font-size\" \n          removable=\"true\" \n          onchange=\"changeRangeEditor\" />\n      </div>\n      <div class='property-item animation-property-item'>\n        <span class='add-timeline-property' data-property='font-stretch'></span>\n        <RangeEditor \n          ref='$stretch' \n          label='${i18n('stretch')}' \n          key=\"font-stretch\" \n          removable=\"true\" \n          units='%',\n          onchange=\"changeRangeEditor\" />\n      </div>      \n \n      <div class='property-item animation-property-item'>\n        <span class='add-timeline-property' data-property='font-weight'></span>\n        <NumberRangeEditor \n          ref='$weightRange' \n          label='${i18n('weight')}' \n          key='font-weight' \n          removable=\"true\"\n          value=\"400\" \n          min=\"100\"\n          max=\"900\"\n          step=\"1\"\n          calc=\"false\"\n          unit=\"number\" \n          onchange=\"changeRangeEditor\" \n          />\n      </div>              \n      <div class='property-item'>\n        <SelectIconEditor \n          ref='$style' \n          label='${i18n('style')}' \n          key=\"font-style\" \n          options=\"normal,italic\" \n          icons='I,I'\n          onchange=\"changeRangeEditor\" />\n      </div>      \n\n      <div class='property-item'>\n        <SelectEditor \n          ref='$family' \n          icon=\"true\"\n          label='${i18n('family')}' \n          key=\"font-family\" \n          options=\",serif,sans-serif,monospace,cursive,fantasy,system-ui\" \n          onchange=\"changeRangeEditor\" \n        />\n      </div> \n         \n    `;\n  }\n\n\n  [EVENT('changeColor')] (key, color) {\n    this.trigger('changeRangeEditor', key, color);\n  }\n\n  [EVENT('changeRangeEditor')] (key, value) {\n\n    this.$selection.reset({ \n      [key]: value\n    })\n\n    this.emit(\"refreshSelectionStyleView\");\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { LOAD, DEBOUNCE, CLICK } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\n\n\nexport default class TextShadowProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('text.shadow.property.title')\n  }\n\n  getBody() {\n    return `\n      <div class=\"full text-shadow-item\" ref=\"$shadowList\"></div>\n    `;\n  }\n\n  hasKeyframe() {\n    return true\n  }\n\n  getKeyframeProperty () {\n    return 'text-shadow'\n  }\n\n  getTools() {\n    return `<button type=\"button\" ref='$add'>${icon.add}</button>`\n  }\n\n  [CLICK('$add')] () {\n    this.children.$textshadow.trigger('add');\n  }  \n  \n  [LOAD(\"$shadowList\")]() {\n    var current = this.$selection.current || {};\n    return /*html*/`\n      <TextShadowEditor ref='$textshadow' value=\"${current['text-shadow'] || ''}\" hide-label=\"true\" onChange=\"changeTextShadow\" />\n    `\n  }\n\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n\n    this.refreshShow('text');\n\n  }  \n\n  [EVENT(\"changeTextShadow\")](textshadow) {\n\n    this.$selection.reset({ \n      'text-shadow': textshadow\n    })\n\n    this.emit(\"refreshSelectionStyleView\");\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport { DEBOUNCE } from \"../../../util/Event\";\n\nconst i18n = editor.initI18n('text.property')\n\nexport default class TextProperty extends BaseProperty {\n\n  getTitle() {\n    return i18n('title');\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShow(['text']);\n  }\n\n  refresh() {\n   // TODO: 데이타 로드를 어떻게 해야할까? \n    var current = this.$selection.current;\n    if (current) {\n      this.children.$align.setValue(current['text-align']);\n      this.children.$transform.setValue(current['text-transform']);\n      this.children.$decoration.setValue(current['text-decoration']);            \n    }\n\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"property-item\">\n        <SelectIconEditor \n          ref='$align' \n          label='${i18n('align')}' \n          key='text-align' \n          value='left' \n          options=\"left,center,right,justify\" \n          icons=\"align_left,align_center,align_right,align_justify\" \n          onchange='changeTextValue' />        \n      </div>        \n      <div class=\"property-item\">\n        <SelectIconEditor \n          ref='$transform' \n          label='${i18n('transform')}' \n          key='text-transform' \n          options=\"uppercase,lowercase,capitalize\"\n          icons='A,a,Aa'\n          onchange='changeTextValue' />                \n      </div>        \n      <div class=\"property-item\">\n        <SelectIconEditor \n          ref='$decoration' \n          label='${i18n('decoration')}' \n          key='text-decoration' \n          options=\"none,underline,overline,line-through\" \n          icons=\"A,U,O,S\"\n          onchange='changeTextValue' />        \n      </div>                    \n    `\n  }\n\n  [EVENT('changeTextValue')] (key, value) {\n\n    this.$selection.reset({ \n      [key]: value\n    })\n\n    this.emit(\"refreshSelectionStyleView\");\n  }\n\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { DEBOUNCE } from \"../../../util/Event\";\n\nconst i18n = editor.initI18n('font.spacing.property')\n\nexport default class FontSpacingProperty extends BaseProperty {\n\n  getTitle() {\n    return i18n('title');\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShow('text');\n  }\n\n  refresh() {\n    \n    var current = this.$selection.current;\n\n    if (current) {\n      this.children.$lineHeight.setValue(current['line-height'] || Length.number(1))\n      this.children.$letter.setValue(current['letter-spacing'] || '0px')      \n      this.children.$word.setValue(current['word-spacing'] || '0px')\n      this.children.$indent.setValue(current['text-indent'] || '0px')\n    }\n  }\n\n  getBody() {\n    return /*html*/`\n\n    <div class='property-item'>\n      <RangeEditor \n        ref='$lineHeight' \n        label='${i18n('lineHeight')}' \n        removable=\"true\" \n        key=\"line-height\" \n        units=\",px,%,em\"\n        onchange=\"changeRangeEditor\" />\n    </div>       \n      <div class=\"property-item font-item\">\n        <RangeEditor ref='$letter' label='${i18n('letterSpacing')}' removable='true' key=\"letter-spacing\" onchange=\"changeRangeEditor\" />\n      </div>\n\n      <div class=\"property-item font-item\">\n        <RangeEditor ref='$word' label='${i18n('wordSpacing')}' removable='true' key=\"word-spacing\" onchange=\"changeRangeEditor\" />\n      </div>\n\n      <div class=\"property-item font-item\">\n        <RangeEditor ref='$indent' label='${i18n('indent')}' removable='true' key=\"text-indent\" onchange=\"changeRangeEditor\" />\n      </div>      \n    `;\n  }\n\n  [EVENT('changeRangeEditor')] (key, value) {\n\n    if (value.unit === '') {\n      value = Length.number(value.value)\n    }\n\n    this.$selection.reset({ \n      [key]: value\n    })\n\n    this.emit(\"refreshSelectionStyleView\");\n  }\n\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { CLICK, CHANGE, LOAD } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport { Position } from \"../../../editor/unit/Length\";\nimport icon from \"../icon/icon\";\n\nimport { EVENT } from \"../../../util/UIElement\";\n\nconst typeList = [\n  { key: \"top\", title: \"Top\" },\n  { key: \"bottom\", title: \"Bottom\" },\n  { key: \"left\", title: \"Left\" },\n  { key: \"right\", title: \"Right\" }\n];\n\nconst keyList = typeList.map(it => it.key);\n\n\nconst names = {\n  image: \"Image\",\n  \"static-gradient\": \"Static\",\n  \"linear-gradient\": \"Linear\",\n  \"repeating-linear-gradient\": `${icon.repeat} Linear`,\n  \"radial-gradient\": \"Radial\",\n  \"repeating-radial-gradient\": `${icon.repeat} Radial`,\n  \"conic-gradient\": \"Conic\",\n  \"repeating-conic-gradient\": `${icon.repeat} Conic`\n};\n\nconst types = {\n  image: \"image\",\n  \"static-gradient\": \"gradient\",\n  \"linear-gradient\": \"gradient\",\n  \"repeating-linear-gradient\": \"gradient\",\n  \"radial-gradient\": \"gradient\",\n  \"repeating-radial-gradient\": \"gradient\",\n  \"conic-gradient\": \"gradient\",\n  \"repeating-conic-gradient\": \"gradient\"\n};\n\n\n\nexport default class BorderImageProperty extends BaseProperty {\n\n  getTitle() {\n    return \"Border Image\";\n  }\n\n  [EVENT('refreshSelection', )] () {\n    this.refresh()\n  }\n\n  getTools() {\n    var current = this.$selection.current || {} \n\n    var appliedBorderImage = current.appliedBorderImage || false \n\n    return `\n      <label><input type='checkbox' ${appliedBorderImage ? 'checked' : ''} ref='$apply' /> Apply</label>\n    `\n  }\n\n  [CLICK('$apply')] () {\n    var current = this.$selection.current;\n    if (!current) return;\n\n    var applyBorderImage = this.refs.$apply.checked()\n\n    current.reset({applyBorderImage});\n\n    this.emit(\"refreshElement\", current);\n\n  }\n\n\n  getColorStepList(image) {\n    switch (image.type) {\n      case \"static-gradient\":\n      case \"linear-gradient\":\n      case \"repeating-linear-gradient\":\n      case \"radial-gradient\":\n      case \"repeating-radial-gradient\":\n      case \"conic-gradient\":\n      case \"repeating-conic-gradient\":\n        return this.getColorStepString(image.colorsteps);\n    }\n\n    return '';\n  }\n\n  getColorStepString(colorsteps) {\n    return colorsteps\n      .map(step => {\n        return `<div class='step' data-colorstep-id=\"${\n          step.id\n        }\" data-selected='${step.selected}' style='background-color:${step.color};'></div>`;\n      })\n      .join('');\n  }\n\n  [LOAD('$borderImageView')] () {\n    var current  = this.$selection.current || {borderImage: { image: {}}} ;\n    var borderImage = current.borderImage;\n    \n    var backgroundTypeName = borderImage.type ?  names[borderImage.type] : '';\n\n    const imageCSS = `background-image: ${borderImage.image.toString()}; background-size: cover;`;    \n    return ` \n      <div class='preview' ref=\"$preview\">\n        <div class='mini-view'>\n          <div class='color-view'  style=\"${imageCSS}\" ref=\"$miniView\"></div>\n        </div>\n      </div> \n      <div class='fill-info'>\n        <div class='gradient-info'>\n          <div class='fill-title' ref=\"$fillTitle\">${backgroundTypeName}</div>\n          <div class='colorsteps' ref=\"$colorsteps\">\n            ${this.getColorStepList(borderImage.image)}\n          </div>\n        </div>\n      </div>\n    `\n  }\n\n  [EVENT('changeBorderImage')] (key, value) {\n\n    if (key === 'border-image-slice') {\n      keyList.forEach(type => {\n        this.children[`$${type}Slice`].setValue(value)\n      });\n    }\n\n    this.setBorderImageProperty()\n  }\n\n  getBody() {\n\n    var current  = this.$selection.current || {borderImage: { image: {}}} ;\n  \n\n    return `\n      <div class=\"property-item border-image-item\" ref='$borderImageView'></div>    \n      <div class=\"property-item border-slice-item\">\n        <div class=\"slice-selector\" data-selected-value=\"all\" ref=\"$selector\">\n          <button type=\"button\" data-value=\"all\">${icon.border_all}</button>\n          <button type=\"button\" data-value=\"partitial\">\n            ${icon.border_inner}\n          </button>\n        </div>\n        <div class=\"slice-value\">\n          <RangeEditor ref='$allSlice' key='border-image-slice' onchange='changeBorderImage' />\n        </div>\n      </div>\n      <div\n        class=\"property-item border-slice-item full has-list\"\n        ref=\"$partitialSetting\"\n        style=\"display: none;\"\n      >\n        <div class=\"slice-setting-box\" ref=\"$sliceSettingBox\">\n          ${typeList.map(it => {\n            return `\n              <div>\n                <label class='title'>${it.title}</label>\n              </div>\n              <div>\n                <RangeEditor ref='$${it.key}Slice' label='Slice' key='border-image-slice-${it.key}' onchange='changeBorderImage' /> \n              </div>  \n              <div>\n                <RangeEditor ref='$${it.key}Width' label='Width' key='border-image-width-${it.key}' onchange='changeBorderImage' /> \n              </div>                \n            `;\n          }).join('')}\n        </div>\n      </div>\n    `;\n  }\n\n\n  [CHANGE(\"$sliceSettingBox select\")](e) {\n    this.setBorderImageProperty();\n  }\n\n  [CLICK('$borderImageView .preview')] () {\n    this.viewFillPopup(this.refs.$preview, '');\n  }\n\n  [CLICK(\"$borderImageView .colorsteps .step\")](e) {\n\n    this.refs.$colorsteps.$(`[data-selected=\"true\"]`).removeAttr('data-selected')\n    var selectColorStepId = e.$dt.attr(\"data-colorstep-id\");\n    e.$dt.attr('data-selected', true);\n    var $preview = e.$dt.closest(\"border-image-item\").$(\".preview\");\n    this.viewFillPopup($preview, selectColorStepId);\n  }\n\n\n  getFillData(borderImage) {\n    let data = {\n      type: borderImage.type\n    };\n\n    switch (data.type) {\n      case \"image\":\n        data.url = borderImage.image ? borderImage.image.url : \"\";\n        break;\n      default:\n        if (borderImage.image) {\n          const image = borderImage.image;\n\n          data.type = image.type;\n          data.colorsteps = [...image.colorsteps];\n          data.angle = image.angle;\n          data.radialType = image.radialType || \"ellipse\";\n          data.radialPosition = image.radialPosition || Position.CENTER;\n        } else {\n          data.colorsteps = [];\n          data.angle = 0;\n          data.radialType = \"ellipse\";\n          data.radialPosition = Position.CENTER;\n        }\n\n        break;\n    }\n\n    return data;\n  }\n\n\n  viewFillPopup($preview, selectColorStepId) {\n\n    var current = this.$selection.current;\n\n    if (!current) return;\n\n    this.emit(\"showFillPopup\", {\n      changeEvent: 'changeBorderImageFillPopup',\n      ...this.getFillData(current.borderImage),\n      selectColorStepId,\n      refresh: true\n    });\n  }\n\n  viewChangeImage(data) {\n    var current = this.$selection.current;\n    if (!current) return; \n\n    var borderImage = current.borderImage;\n\n    if (!borderImage) return;\n    var $el = this.getRef(\"$miniView\");\n    if ($el && borderImage.image) {\n      $el.css({\n        'background-image': borderImage.image.toString(),\n        \"background-size\": \"cover\"\n      });\n    }\n\n    var $el = this.getRef(\"$fillTitle\");\n    if ($el) {\n      $el.html(names[\"image\"]);\n    }\n\n    var $el = this.getRef(\"$colorsteps\", this.selectedIndex);\n    if ($el) {\n      $el.empty();\n    }\n  }\n\n  setImage(data) {\n\n    var current = this.$selection.current;\n    if (!current) return; \n\n    current.borderImage.setImageUrl(data);\n\n    this.viewChangeImage(data);\n\n    this.emit(\"refreshElement\", current);\n  }\n\n  viewChangeGradient(data) {\n    var current = this.$selection.current;\n    if (!current) return; \n\n    var borderImage = current.borderImage;\n\n    if (!borderImage) return;\n    var $el = this.getRef(\"$miniView\");\n    if ($el) {\n      $el.css({\n        'background-image': borderImage.image.toString(),\n        \"background-size\": \"cover\"\n      });      \n    }\n\n    var $el = this.getRef(\"$fillTitle\");\n    if ($el) {\n      $el.html(names[data.type]);\n    }\n\n    var $el = this.getRef(\"$colorsteps\", this.selectedIndex);\n    if ($el) {\n      $el.html(this.getColorStepString(data.colorsteps));\n    }\n  }\n\n\n  setGradient(data) {\n\n    var current = this.$selection.current;\n    if (!current) return; \n  \n\n    current.borderImage.setGradient(data);   \n\n    this.viewChangeGradient(data);\n\n    this.emit(\"refreshElement\", current);\n\n  }\n\n  [EVENT(\"changeBorderImageFillPopup\")](data) {\n    switch (data.type) {\n      case \"image\":\n        this.setImage(data);\n        break;\n      default:\n        this.setGradient(data);\n        break;\n    }\n  }\n\n  setBorderImageProperty() {\n    var current = this.$selection.current;\n    if (!current) return;\n    var borderImage = current.borderImage;\n\n    var type = this.refs.$selector.attr(\"data-selected-value\");\n\n    if (type === \"all\") {\n      var len = this.children.$allSlice.getValue()\n      borderImage.reset({\n        slice: {\n          top: len.clone(),\n          right: len.clone(),\n          bottom: len.clone(),\n          left: len.clone()\n        }\n      })\n\n    } else {\n      keyList.forEach(type => {\n        borderImage.slice[type] = this.children[`$${type}Slice`].getValue()\n        borderImage.width[type] = this.children[`$${type}Width`].getValue()\n      });\n    }\n\n    this.emit(\"refreshElement\", current);\n  }\n\n  [CLICK(\"$selector button\")](e) {\n    var type = e.$dt.attr(\"data-value\");\n    this.refs.$selector.attr(\"data-selected-value\", type);\n\n    if (type === \"all\") {\n      this.refs.$partitialSetting.hide();\n    } else {\n      this.refs.$partitialSetting.show(\"grid\");\n    }\n\n    this.setBorderImageProperty();\n  }\n\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\n\nimport { DEBOUNCE } from \"../../../util/Event\";\n\nconst outlineStyleLit = [\n  'auto',\n  \"none\",\n  \"dotted\",\n  \"dashed\",\n  \"solid\",\n  \"double\",\n  \"groove\",\n  \"ridge\",\n  \"inset\",\n  \"outset\"\n];\n\n\nexport default class OutlineProperty extends BaseProperty {\n\n  getTitle() {\n    return \"Outline\";\n  }\n\n  isFirstShow() {\n    return false;\n  }\n\n  afterRender() {\n    this.refresh();\n  }\n\n\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n\n    this.refreshShow('layer')\n\n  }  \n\n  getBody() {\n    return /*html*/`\n      <div class=\"property-item\">\n        <RangeEditor ref='$width' label='Width' min=\"0\" max=\"0\" value=\"0px\" key='width' onchange='changeOutlineValue' />\n      </div>\n      <div class=\"property-item\">\n        <SelectEditor ref='$style' label='Style' key='style' value=\"none\" options=\"${outlineStyleLit}\" onchange='changeOutlineValue' />        \n      </div>        \n      <div class=\"property-item\">        \n        <ColorViewEditor ref='$color' key='color', onChange=\"changeOutlineColor\" />\n      </div> \n    `;\n  }\n\n  updateData (opt) {\n    this.setState(opt);\n\n    this.refreshOutlineInfo()\n  }\n\n  [EVENT('changeOutlineColor')] (key, color) {\n    this.updateData({\n      [key]: color\n    })\n  }\n\n  [EVENT('changeOutlineValue')] (key, value) {\n    this.updateData({\n      [key]: value\n    })\n  }\n\n\n  refreshOutlineInfo() {\n\n    var current = this.$selection.current;\n\n    if (current) {\n      current.setOutline(this.state);\n\n      this.emit('refreshElement', current);\n    }\n  }\n\n}\n","import BaseProperty from \"./BaseProperty\";\nimport {\n  LOAD,\n  CLICK,\n  DROP,\n  DRAGSTART,\n  PREVENT,\n  DRAGOVER,\n  DEBOUNCE\n} from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\nimport { getPredefinedCubicBezier } from \"../../../util/functions/bezier\";\n\nconst i18n = editor.initI18n('animation.property');\n\nexport default class AnimationProperty extends BaseProperty {\n  getTitle() {\n    return i18n('title');\n  }\n  getBody() {\n    return /*html*/`<div class='animation-list' ref='$animationList'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n        <button type=\"button\" ref=\"$add\" title=\"add Fill\">${icon.add}</button>\n    `;\n  }\n\n  [LOAD(\"$animationList\")]() {\n    var current = this.$selection.current;\n\n    if (!current) return '';\n\n    return current.animations.map((it, index) => {\n\n      const selectedClass = it.selected ? \"selected\" : \"\";\n\n      if (it.selected) {\n        this.selectedIndex = index;\n      }\n\n      return /*html*/`\n      <div class='animation-group-item'>\n        <div class='animation-item ${selectedClass}' data-index='${index}' ref=\"animationIndex${index}\" draggable='true' >\n            <div class='timing preview' data-index='${index}' ref='$preview${index}'>\n              <canvas class='item-canvas' ref='$itemCanvas${index}' width=\"30px\" height=\"30px\"></canvas>\n            </div>\n            <div class='name'>\n              <div class='title' ref=\"animationName${index}\">\n                ${it.name ? it.name : `&lt; ${i18n('select a keyframe')} &gt;`}\n              </div>\n              <div class='labels'>\n                <label class='count' title='${i18n('iteration.count')}'><small>${it.iterationCount}</small></label>\n                <label class='delay' title='${i18n('delay')}'><small>${it.delay}</small></label>\n                <label class='duration' title='${i18n('duration')}'><small>${it.duration}</small></label>\n                <label class='direction' title='${i18n('direction')}'><small>${it.direction}</small></label>\n                <label class='fill-mode' title='${i18n('fill.mode')}'><small>${it.fillMode}</small></label>\n                <label class='play-state' title='${i18n('play.state')}' data-index='${index}' data-play-state-selected-value=\"${it.playState}\">\n                  <small data-play-state-value='running'>${icon.play}</small>\n                  <small data-play-state-value='paused'>${icon.pause}</small>\n                </label>\n              </div>\n            </div>\n            <div class='tools'>\n                <button type=\"button\" class=\"del\" data-index=\"${index}\">\n                  ${icon.remove2}\n                </button>\n            </div>\n        </div>\n      </div>        \n      `;\n    });\n  }\n\n  drawBezierCanvas($canvas, currentBezier) {\n\n    currentBezier = getPredefinedCubicBezier(currentBezier)\n\n    $canvas.update(() => {\n        var width = $canvas.width();\n        var height = $canvas.height();\n        var context = $canvas.context();\n\n        context.lineWidth = 2;\n        context.strokeStyle = 'white';\n\n        context.beginPath();\n        context.moveTo(0,height);   \n        context.bezierCurveTo( \n            currentBezier[0] * width, \n            currentBezier[1] == 0 ? height : (1 - currentBezier[1]) * height, \n            currentBezier[2] * width, \n            currentBezier[3] == 1 ? 0 : (1 - currentBezier[3] ) * height, \n            width, \n            0\n        );\n        context.stroke();\n    })\n}\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShowIsNot('project');\n    this.emit(\"hideAnimationPropertyPopup\");\n  }\n\n  refresh() {\n    this.load();\n    this.refreshTimingFunctionCanvas()\n  }\n\n  refreshTimingFunctionCanvas() {\n    var current = this.$selection.current;\n\n    if (!current) return;\n\n    current.animations.forEach( (it, index) => {\n      var $canvas = this.getRef('$itemCanvas', index);\n      this.drawBezierCanvas($canvas, it.timingFunction);\n    })\n  }\n\n  [CLICK(\"$add\")](e) {\n    var current = this.$selection.current;\n\n    if (current) {\n      current.createAnimation({\n        name: null\n      });\n      this.emit(\"refreshElement\", current);\n    }\n\n    this.refresh();\n\n    this.emit('refreshInspector');\n  }\n\n  [DRAGSTART(\"$animationList .animation-item\")](e) {\n    this.startIndex = +e.$dt.attr(\"data-index\");\n  }\n\n  \n  [DRAGOVER(\"$animationList .animation-item\") + PREVENT](e) {}\n\n  [DROP(\"$animationList .animation-item\") + PREVENT](e) {\n    var targetIndex = +e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    this.selectItem(this.startIndex, true);\n    current.sortAnimation(this.startIndex, targetIndex);\n\n    this.emit(\"refreshElement\", current);\n\n    this.refresh();\n\n    \n    this.viewAnimationPicker(this.getRef('$preview', this.selectedIndex));\n  }\n\n  getCurrentAnimation() {\n    return this.current.animations[this.selectedIndex];\n  }\n\n  [CLICK(\"$animationList .tools .del\")](e) {\n    var removeIndex = e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    current.removeAnimation(removeIndex);\n\n    this.emit(\"refreshElement\", current);\n\n    this.refresh();\n  \n  }\n\n  [CLICK('$animationList .play-state')] (e) {\n    var index = +e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return; \n\n    var animation = current.animations[index]\n    if (animation) {\n      animation.togglePlayState();\n\n      e.$dt.attr('data-play-state-selected-value', animation.playState)\n\n      this.emit(\"refreshElement\", current);\n    }\n  }\n\n  \n  selectItem(selectedIndex, isSelected = true) {\n    if (isSelected) {\n      this.refs[`animationIndex${selectedIndex}`].addClass(\"selected\");\n    } else {\n      this.refs[`animationIndex${selectedIndex}`].removeClass(\"selected\");\n    }\n\n    if (this.current) {\n      this.current.animations.forEach((it, index) => {\n        it.selected = index === selectedIndex;\n      });\n    }\n  }\n\n  viewAnimationPicker($preview) {\n    if (typeof this.selectedIndex === \"number\") {\n      this.selectItem(this.selectedIndex, false);\n    }\n\n    this.selectedIndex = +$preview.attr(\"data-index\");\n    this.selectItem(this.selectedIndex, true);\n    this.current = this.$selection.current;\n\n    if (!this.current) return;\n    this.currentAnimation = this.current.animations[\n      this.selectedIndex\n    ];\n\n    this.viewAnimationPropertyPopup();\n  }\n\n  viewAnimationPropertyPopup(position) {\n    this.current = this.$selection.current;\n\n    if (!this.current) return;\n    this.currentAnimation = this.current.animations[\n      this.selectedIndex\n    ];\n\n    const back = this.currentAnimation;\n\n   \n    const name = back.name\n    const direction = back.direction\n    const duration = back.duration\n    const timingFunction = back.timingFunction\n    const delay = back.delay\n    const iterationCount = back.iterationCount\n    const playState = back.playState\n    const fillMode = back.fillMode\n\n    this.emit(\"showAnimationPropertyPopup\", {\n      name,\n      position,\n      direction,\n      duration,\n      timingFunction,\n      delay,\n      iterationCount,\n      playState,\n      fillMode\n    });\n  }\n\n  [CLICK(\"$animationList .preview\")](e) {\n    this.viewAnimationPicker(e.$dt);\n  }\n\n  getRef(...args) {\n    return this.refs[args.join(\"\")];\n  }\n\n  refreshAnimationPropertyInfo(image, data) {\n    if (data.name) {\n      var $element = this.getRef(`animationName`, this.selectedIndex);\n      $element.text(data.name);\n    } else if (data.width || data.height || data.size) {\n      var $element = this.getRef(`size`, this.selectedIndex);\n\n      switch (image.size) {\n        case \"contain\":\n        case \"cover\":\n          var text = image.size;\n          break;\n        default:\n          var text = `${image.width}/${image.height}`;\n          break;\n      }\n      $element.text(text);\n    } else if (data.repeat) {\n      var $element = this.getRef(`repeat`, this.selectedIndex);\n      $element.text(data.repeat);\n    } else if (data.timingFunction) {\n      this.drawBezierCanvas(this.getRef('$itemCanvas', this.selectedIndex), data.timingFunction);\n    }\n  }\n\n  [EVENT(\"changeAnimationPropertyPopup\")](data) {\n    if (this.currentAnimation) {\n      this.currentAnimation.reset({ ...data });\n\n      if (this.current) {\n        this.emit(\"refreshElement\", this.current);        \n        this.refresh();\n\n      }\n    }\n  }\n}\n","import { Property } from \"../items/Property\";\nimport { Offset } from \"./Offset\";\n\nimport { reverseMatches, convertMatches } from \"../../util/functions/parser\";\nimport { Length } from \"../unit/Length\";\n\nexport class Keyframe extends Property {\n  static parse(obj) {\n    return new Keyframe(obj);\n  }\n\n\n  /**\n   * \n   * keyframe: {keyframeName} {offset} {property} {value} | ......\n   * \n   * @param {} style \n   */\n  static parseStyle (style) {\n    var keyframes = []\n    var keyframeKeys = {} \n\n    if (style['keyframe']) {\n      var results = convertMatches(style[\"keyframe\"]);\n\n      results.str.split('|').map(it => it.trim()).forEach( (frameInfo, index) => {\n        var [ name, offset, property, ...values ] = frameInfo.split(' ')\n        var propertyValue = values.join(' ');\n\n        if (!keyframeKeys[name]) {\n          keyframeKeys[name] = new Keyframe({\n            name\n          })\n          \n          keyframes[index] = name; \n        }\n\n        var filteredOffset = keyframeKeys[name].offsets.filter(it => {\n          return it.offset.equals(Length.parse(offset))\n        })\n\n        var offsetObj = null;\n        if (filteredOffset.length) {\n          offsetObj = filteredOffset[0]\n        } else {\n          offsetObj = new Offset({\n            offset: Length.parse(offset)\n          })\n\n          keyframeKeys[name].offsets.push(offsetObj)\n        }\n\n        offsetObj.addProperty({ \n          key: property, \n          value: reverseMatches(propertyValue, results.matches)\n        })\n\n      })\n    }\n\n    return keyframes.map(name => {\n\n      keyframeKeys[name].offsets.forEach(offset => {\n        var vars = [] \n        var properties = [] \n        offset.properties.forEach(p => {\n          if (p.key.includes('--')) {\n            vars.push(p);\n          } else {\n            properties.push(p);\n          }\n        })\n\n        let varValue = vars.map(it => `${it.key}:${it.value}`).join(';')\n\n        if (vars.length) {\n          properties.push({ key: 'var', value: varValue })\n        }\n\n        offset.properties = properties\n      })\n\n      return keyframeKeys[name]\n    });\n  }\n\n  getDefaultObject() {\n    return super.getDefaultObject({\n      itemType: \"keyframe\",\n      name: 'sample',\n      selectedType: 'list',\n      offsets: []\n    });\n  }\n\n  toCloneObject() {\n    var {name, selectedType, offsets} = this.json; \n    return {\n      ...super.toCloneObject(),\n      name,\n      selectedType,\n      offsets: offsets.map(offset => offset.clone())\n    }\n  }\n\n  isMultiStyle (key) {\n    switch (key) {\n    case 'background-image': \n    case 'var':\n      return true;\n    }\n\n    return false;\n  }\n\n  getMultiStyleString (p) {\n    switch(p.key) {\n      case 'background-image': \n\n        return p.value.toString() + ';';\n      case 'var':\n        var value = (p.value + '').split(';').map(str => {\n          return `--` + str; \n        }).join(';')\n        return value + ';';\n    }\n\n\n    return p.value.toString() + ';'; \n  }\n\n\n  toOffsetString (it) {\n\n    var tabString = '      '\n\n    return `${it.offset.toString()} {\n${tabString}${it.properties.map(p => {\n  if (this.isMultiStyle(p.key)) {\n    return this.getMultiStyleString(p)\n  } else {\n    var value = (p.value || '').toString();\n\n    if (value) {\n\n      var key = p.key; \n\n      if (key === 'x') key = 'left';\n      else if (key === 'y') key = 'top';\n\n      return `${key}: ${value};`\n    } else {\n      return '';\n    }\n  }\n}).join('').replace(/\\;/g, ';\\n' + tabString).trim()}\n  }`\n  }  \n\n\n  toOffsetText () {\n\n    var offsets = this.json.offsets.map(it => {\n      return it\n    });\n    \n    offsets.sort((a, b) => {\n      return a.offset.value > b.offset.value ? 1 : -1; \n    })\n\n\n    return  offsets.map(it => {\n      if (it.properties.length === 0) return ''\n      return this.toOffsetString(it);\n    }).join('\\n')\n  }  \n\n  toCSSText () {\n\n    var offsets = this.json.offsets.map(it => {\n      return it\n    });\n    \n    offsets.sort((a, b) => {\n      return a.offset.value > b.offset.value ? 1 : -1; \n    })\n\n\n    return `\n@keyframes ${this.json.name} {\n\n  ${this.toOffsetText()}\n\n}\n`\n  }\n\n  \n  createOffset(data = {}) {\n    return this.addOffset(\n      new Offset({\n        checked: true,\n        ...data\n      })\n    );\n\n  } \n\n  addOffset (offset) {\n    this.json.offsets.push(offset);\n  }\n  \n  \n  removeOffset(removeIndex) {\n    this.json.offsets.splice(removeIndex, 1);\n  }    \n\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n  \n  sortOffset(startIndex, targetIndex) {\n    this.sortItem(this.json.offsets, startIndex, targetIndex);\n  }     \n\n\n  updateOffset(index, data = {}) {\n    this.json.offsets[+index].reset(data);\n  }        \n\n\n  toCSS() {\n    return {};\n  }\n\n  toString() {\n    return this.toCSSText()\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport icon from \"../icon/icon\";\nimport {\n  LOAD,\n  CLICK,\n  PREVENT,\n  DEBOUNCE\n} from \"../../../util/Event\";\n\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\n\nimport { Keyframe } from \"../../../editor/css-property/Keyframe\";\n\nexport default class KeyFrameProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('keyframe.property.title');\n  }\n  getBody() {\n    return `<div class='keyframe-list' ref='$keyframeList'></div>`;\n  }\n\n  getTools() {\n    return `\n      <button type=\"button\" ref=\"$add\" title=\"add Filter\">${icon.add}</button>\n    `;\n  }\n\n  makeProperty (property) {\n    var key = property.key\n    if (key === 'x') key = 'left';\n    else if (key === 'y') key = 'top';\n\n    return /*html*/`\n      <div class='offset-property-item'>\n        <label>${key}:</label>\n        <div class='value'>${property.value}</div>\n      </div>\n    `\n  }\n\n  makeOffset (offset) {\n    return /*html*/`\n      <div class='offset'>\n        <label>${offset.offset}</label>\n        <div class='properties'>\n          ${offset.properties.map(p => {\n            return this.makeProperty (p);\n          }).join('')}\n        </div>        \n      </div>\n    `    \n  }\n\n  makeKeyframeTemplate (keyframe, index) {\n    index = index.toString()\n    return /*html*/`\n      <div class='keyframe-item' data-selected-value='${keyframe.selectedType}' ref='$keyframeIndex${index}' data-index='${index}'>\n        <div class='title'>\n          <div class='name'>${keyframe.name}</div>\n          <div class='tools'>\n            <div class='group'>\n              <button type=\"button\" data-type='list'>${icon.list}</button>\n              <button type=\"button\" data-type='code'>${icon.code}</button>\n            </div>\n            <button type=\"button\" class=\"del\" data-index=\"${index}\">${icon.remove2}</button>\n          </div>\n        </div>\n        <div class='offset-list'>\n          <div class='container'>\n            ${keyframe.offsets.map(o => {\n              return /*html*/`\n              <div class='offset' style='left: ${o.offset}; background-color: ${o.color}'></div>\n              `\n            }).join('')}\n          </div>\n        </div>\n        <div class='keyframe-code' data-type='list'>\n          ${keyframe.offsets.map(offset => {\n            return this.makeOffset(offset);\n          }).join('')}\n        </div>\n        <div class='keyframe-code' data-type='code'>\n          <pre>${keyframe.toString().trim()}</pre>\n        </div>        \n      </div>\n    `\n  }\n\n  [CLICK('$keyframeList .keyframe-item .title .group button[data-type]')] (e) {\n    var $keyframeItem = e.$dt.closest('keyframe-item');\n    var index  = +$keyframeItem.attr('data-index');\n    var type = e.$dt.attr('data-type');\n\n    var current = this.$selection.currentProject;\n    if (!current) return;\n\n    var currentKeyframe = current.keyframes[index];\n\n    if (currentKeyframe) {\n      currentKeyframe.reset({\n        selectedType: type\n      });\n    }\n\n    $keyframeItem.attr('data-selected-value', type)\n\n  }\n\n  [CLICK('$keyframeList .keyframe-item .offset-list')] (e) {\n    var index  = +e.$dt.closest('keyframe-item').attr('data-index');\n\n    var current = this.$selection.currentProject;\n    if (!current) return;\n\n\n    this.viewKeyframePicker(index);\n\n  }\n\n  [CLICK('$keyframeList .del') + PREVENT] (e) {\n    var removeIndex = e.$dt.attr(\"data-index\");\n    var current = this.$selection.currentProject;\n    if (!current) return;\n\n    current.removeKeyframe(removeIndex);\n\n    this.emit('refreshStyleView', current);\n\n    this.refresh();\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)] () {\n    this.refreshShowIsNot('project');\n  }\n\n\n  [LOAD(\"$keyframeList\")]() {\n    var current = this.$selection.currentProject;\n\n    if (!current) return '';\n\n    var keyframes = current.keyframe ? Keyframe.parseStyle(current) : current.keyframes;\n\n    current.keyframe = ''\n    current.keyframes = keyframes;\n\n    return keyframes.map((keyframe, index) => {\n      return this.makeKeyframeTemplate(keyframe, index);\n    });\n  }\n\n  [CLICK(\"$add\")]() {\n\n    var current = this.$selection.currentProject;\n    if (current) {\n      current.createKeyframe();\n      this.refresh();\n      this.emit('refreshStyleView', current, true);\n    } else {\n      alert('Please select a project.')\n    }\n\n  }\n\n  viewKeyframePicker(index) {\n    if (typeof this.selectedIndex === \"number\") {\n      this.selectItem(this.selectedIndex, false);\n    }\n\n    this.selectedIndex = +index;\n    this.selectItem(this.selectedIndex, true);\n    this.current = this.$selection.currentProject;\n\n    if (!this.current) return;\n    this.currentKeyframe = this.current.keyframes[\n      this.selectedIndex\n    ];\n\n    this.viewKeyframePropertyPopup();\n  }\n\n\n  \n  selectItem(selectedIndex, isSelected = true) {\n    if (isSelected) {\n      this.getRef('$keyframeIndex', selectedIndex).addClass(\"selected\");\n    } else {\n      this.getRef('$keyframeIndex', selectedIndex).removeClass(\"selected\");\n    }\n\n    if (this.current) {\n      this.current.keyframes.forEach((it, index) => {\n        it.selected = index === selectedIndex;\n      });\n    }\n  }  \n\n  viewKeyframePropertyPopup(position) {\n    this.current = this.$selection.currentProject;\n\n    if (!this.current) return;\n    this.currentKeyframe = this.current.keyframes[\n      this.selectedIndex\n    ];\n\n    const back = this.currentKeyframe;\n\n    const name = back.name\n    const offsets = back.offsets\n\n    this.emit(\"showKeyframePopup\", {\n      position,\n      name, \n      offsets\n    });\n  }\n\n  [EVENT('changeKeyframePopup')] (data) {\n    var project = this.$selection.currentProject;\n\n    if (!project) return;\n    this.currentKeyframe = project.keyframes[\n      this.selectedIndex\n    ];\n\n    if (this.currentKeyframe) {\n      this.currentKeyframe.reset(data);\n    }\n\n    this.refresh();\n    this.emit('refreshStyleView', project);\n  }\n\n}\n","import BaseProperty from \"./BaseProperty\";\nimport {\n  LOAD, DEBOUNCE, CLICK\n} from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\n\n\nexport default class BackgroundImageProperty extends BaseProperty {\n\n  \n  getTitle() {\n    return this.$i18n('background.image.property.title');\n  }\n\n  hasKeyframe () {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'background-image';\n  }\n\n  getClassName() {\n    return 'background-image'\n  }\n\n  getBody() {\n    return `\n      <div class='full' ref='$property'></div>\n    `;\n  }\n\n\n  getTools() {\n    return `<button type=\"button\" ref='$add'>${icon.add}</button>`\n  }\n\n  [CLICK('$add')] () {\n    this.children.$backgroundImageEditor.trigger('add');\n  }  \n\n  [LOAD('$property')] () {\n    var current = this.$selection.current || {}; \n    var value = current['background-image'] || ''\n\n    return /*html*/`<BackgroundImageEditor \n              ref='$backgroundImageEditor' \n              key='background-image'\n              value='${value}' \n              hide-label=\"true\"\n              onchange='changeBackgroundImage' \n            />`\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShowIsNot('project');\n  }\n\n  [EVENT('changeBackgroundImage') + DEBOUNCE(10)] (key, value) {\n    var current = this.$selection.current;\n    if (current) {\n      current.reset({\n        [key]: value \n      })\n\n      this.emit(\"refreshElement\", current);\n    }\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport {\n  LOAD, CLICK, DEBOUNCE,\n} from \"../../../util/Event\";\n\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\n\n\nvar filterList = [\n  \"blur\",\n  \"grayscale\",\n  \"hue-rotate\",\n  \"invert\",\n  \"brightness\",\n  \"contrast\",\n  \"drop-shadow\",\n  \"opacity\",\n  \"saturate\",\n  \"sepia\",\n  'svg',\n];\n\nexport default class FilterProperty extends BaseProperty {\n\n  getTitle () {\n    return this.$i18n('filter.property.title');\n  }\n\n\n  hasKeyframe () {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'filter';\n  }\n\n\n  getBody() {\n    return `<div class='full filter-property' ref='$body'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n      <select ref=\"$filterSelect\">      \n      </select>\n      <button type=\"button\" ref=\"$add\" title=\"add Filter\">${icon.add}</button>\n    `\n  }\n  \n\n  [CLICK(\"$add\")]() {\n    var filterType = this.refs.$filterSelect.value;\n\n    this.children.$filterEditor.trigger('add', filterType)\n  }\n\n  [LOAD('$filterSelect')] () {\n    var list = filterList.map(it => { \n      return {title: it, value: it}\n    })\n\n    var svgFilterList = this.getSVGFilterList()\n\n    var totalList = []\n\n    if (svgFilterList.length) {\n      totalList = [\n        ...list,\n        { title: '-------' , value: ''},\n        ...svgFilterList\n      ]\n    } else {\n      totalList = [\n        ...list\n      ]\n    }\n\n    return totalList.map(it => {\n      var {title, value} = it;\n      \n      return `<option value='${value}'>${title}</option>`\n    })\n  }\n\n\n  getSVGFilterList () {\n     \n    var current = this.$selection.currentProject;\n    var arr = [] \n\n    if (current) {\n      arr = current.svgfilters\n        .map(it => {\n          var id = it.id; \n          return {\n            title : `svg - #${id}`,\n            value: id\n          }\n        })\n    }\n\n    return arr\n  }  \n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {} \n    var value = current.filter;\n\n    return /*html*/`<FilterEditor ref='$filterEditor' value='${value}' hide-label='true' onchange='changeFilterEditor' />`\n  }\n\n  [EVENT('changeFilterEditor')] (filter) {\n\n    this.$selection.reset({ filter })\n\n    this.emit(\"refreshSelectionStyleView\");\n\n  }\n\n  [EVENT('refreshCanvas') + DEBOUNCE(1000) ] () {\n    \n    this.load('$filterSelect')\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)] () {\n    this.refreshShowIsNot('project')\n  }\n\n  [EVENT('refreshSVGArea') + DEBOUNCE(1000)] () {\n    this.load('$filterSelect');\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { LOAD, DEBOUNCE } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport { CSS_TO_STRING, TAG_TO_STRING } from \"../../../util/functions/func\";\n\nconst i18n = editor.initI18n('code.view.property');\n\nexport default class CodeViewProperty extends BaseProperty {\n  getTitle() {\n    return i18n('title');\n  }\n\n  [EVENT(\n    'refreshSelectionStyleView', \n    'refreshStyleView',\n    'refreshSelection',\n    'refreshSVGArea'\n  ) + DEBOUNCE(100) ]() {\n    this.refreshShowIsNot();\n  }\n\n  getBody() {\n    return `\n      <div class=\"property-item code-view-item\" ref='$body'></div>\n    `;\n  }\n\n  filterKeyName (str) {\n    return str.split(';').filter(it => it.trim()).map(it => {\n      it = it.trim();\n      var [key, value] = it.split(':')\n\n      return `<strong>${key}</strong>:${value};\\n` \n    }).join('').trim()\n  }\n\n  modifyNewLine (str) {\n    return str.replace(/;/gi, \";\\n\").trim()\n  }\n\n  [LOAD('$body')] () {\n\n    var currentProject = this.$selection.currentProject;\n    var keyframeCode = currentProject ? currentProject.toKeyframeString() : ''\n    var rootVariable = currentProject ? CSS_TO_STRING(currentProject.toRootVariableCSS()) : ''\n    var svgCode = currentProject ? currentProject.toSVGString() : '';\n\n    rootVariable = this.filterKeyName(rootVariable.trim());\n    keyframeCode = this.modifyNewLine(keyframeCode.trim());\n    svgCode = svgCode.replace(/\\</g, '&lt;').replace(/\\>/g, '&gt;') \n\n    var current = this.$selection.current;\n    var cssCode = current ? TAG_TO_STRING(current.toExport()) : ''\n    var nestedCssCode = current ?  current.toNestedCSS().map(it => {\n      var cssText = it.cssText ? it.cssText : CSS_TO_STRING(it.css)\n      return `${it.selector} { \n${this.filterKeyName(TAG_TO_STRING(cssText))}\n}`\n    }) : []\n    var svgPropertyCode = current ? TAG_TO_STRING(current.toExportSVGCode()) : '' \n    var selectorCode = current ? current.selectors : [];\n\n    cssCode = this.filterKeyName(cssCode.trim())\n    // svgPropertyCode = this.filterKeyName(svgPropertyCode.trim())\n\n\n    return /*html*/`\n      <div class=''>\n       \n        ${cssCode ? \n          /*html*/`<div>\n          <pre title='CSS'>${cssCode}</pre>\n          </div>` : ''\n        }\n        \n        ${nestedCssCode.map(it => {\n          return /*html*/`<div>\n          <pre title='CSS'>${it}</pre>\n          </div>`\n        }).join('')}\n\n        ${svgPropertyCode ? \n          /*html*/`<div>\n          <pre title='SVG'>${svgPropertyCode}</pre>\n          </div>` : ''\n        }        \n\n        ${selectorCode.length ? \n          /*html*/`<div>\n            ${selectorCode.map(selector => {\n              return `<pre title='${selector.selector}'>${selector.toPropertyString()}</pre>`\n            }).join('')}\n            \n          </div>` : ''\n        }\n\n        ${keyframeCode ?         \n          /*html*/`<div>\n          <pre title='${i18n('keyframe')}'>${keyframeCode}</pre>\n        </div>` : ''}\n        ${rootVariable ? \n          /*html*/`<div>\n          <label>:root</label>\n          <pre>${rootVariable}</pre>\n          </div>` : ''\n        }\n        ${svgCode ? \n          /*html*/`<div>\n            <pre title='SVG'>${svgCode}</pre>\n          </div>` : ''\n        }\n\n      </div>\n    `\n\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport {\n  LOAD, DEBOUNCE, CLICK,\n} from \"../../../util/Event\";\n\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\n\n\n\nvar filterList = [\n  \"blur\",\n  \"grayscale\",\n  \"hue-rotate\",\n  \"invert\",\n  \"brightness\",\n  \"contrast\",\n  \"drop-shadow\",\n  \"opacity\",\n  \"saturate\",\n  \"sepia\",\n  'svg',\n];\n\nexport default class BackdropFilterProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('backdrop.filter.property.title');\n  }\n\n\n  hasKeyframe () {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'backdrop-filter';\n  }\n\n\n  getBody() {\n    return /*html*/`<div class='full filter-property' ref='$body'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n      <select ref=\"$filterSelect\"></select>\n      <button type=\"button\" ref=\"$add\" title=\"add Filter\">${icon.add}</button>\n    `\n  }\n  \n\n  [CLICK(\"$add\")]() {\n    var filterType = this.refs.$filterSelect.value;\n\n    this.children.$filterEditor.trigger('add', filterType)\n  }\n\n  [LOAD('$filterSelect')] () {\n    var list = filterList.map(it => { \n      return {title: it, value: it}\n    })\n\n    var svgFilterList = this.getSVGFilterList()\n\n    var totalList = []\n\n    if (svgFilterList.length) {\n      totalList = [\n        ...list,\n        { title: '-------' , value: ''},\n        ...svgFilterList\n      ]\n    } else {\n      totalList = [\n        ...list\n      ]\n    }\n\n    return totalList.map(it => {\n      var {title, value} = it;\n      \n      return `<option value='${value}'>${title}</option>`\n    })\n  }\n\n\n  getSVGFilterList () {\n     \n    var current = this.$selection.currentProject;\n    var arr = [] \n\n    if (current) {\n      arr = current.svgfilters\n        .map(it => {\n          return {\n            title : `svg - #${it.id}`,\n            value: it.id\n          }\n        })\n    }\n\n    return arr\n  }  \n\n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {} \n    var value = current['backdrop-filter'];\n\n    return /*html*/`<FilterEditor ref='$filterEditor' value='${value}' hide-label=\"true\" onchange='changeFilterEditor' />`\n  }\n\n  [EVENT('changeFilterEditor')] (filter) {\n\n    this.$selection.reset({ \n      'backdrop-filter' : filter \n    })\n\n    this.emit(\"refreshSelectionStyleView\");\n\n  }\n\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)] () {\n    this.refreshShowIsNot(['project', 'artboard'])\n  }  \n\n  [EVENT('refreshCanvas') + DEBOUNCE(1000) ] () {\n    \n    this.load('$filterSelect')\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport {\n  LOAD, CLICK, DEBOUNCE\n} from \"../../../util/Event\";\n\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\n\nexport default class VariableProperty extends BaseProperty {\n\n  getTitle() {\n    return 'Variables';\n  }\n\n  getClassName() {\n    return 'item'\n  }\n\n  getBody() {\n    return `<div class='property-item full var-property' ref='$body'></div>`;\n  }\n\n  getTools() {\n    return `<button type=\"button\" ref='$add'>${icon.add}</button>`\n  }\n\n  [CLICK('$add')] () {\n    this.children.$varEditor.trigger('add');\n  }    \n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {} \n    var value = current.variable || '';\n\n    return `<VarEditor ref='$varEditor' value='${value}' hide-label=\"true\" onchange='changeVarEditor' />`\n  }\n\n  [EVENT('changeVarEditor')] (variable) {\n    var current = this.$selection.current; \n\n    if (current) {\n      current.reset({ variable })\n      this.emit('refreshElement');\n    }\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)] () {\n    this.refreshShowIsNot()\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport {\n  LOAD, CLICK, DEBOUNCE,\n} from \"../../../util/Event\";\n\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\n\nexport default class RootVariableProperty extends BaseProperty {\n\n  getTitle() {\n    return 'Root Variables';\n  }\n\n  getClassName() {\n    return 'item'\n  }\n\n  getBody() {\n    return `<div class='property-item full var-property' ref='$body'></div>`;\n  }\n\n\n  getTools() {\n    return `<button type=\"button\" ref='$add'>${icon.add}</button>`\n  }\n\n  [CLICK('$add')] () {\n    this.children.$varEditor.trigger('add');\n  }      \n\n  [LOAD('$body')] () {\n    var current = this.$selection.currentProject || {} \n    var value = current.rootVariable || '';\n\n    return `<VarEditor ref='$varEditor' value='${value}' hide-label=\"true\" onchange='changeVarEditor' />`\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)] () {\n    this.refreshShow('artboard');\n  }\n\n\n  [EVENT('changeVarEditor')] (rootVariable) {\n    var current = this.$selection.currentProject; \n\n    if (current) {\n      current.reset({ rootVariable })\n      this.emit('refreshStyleView', current);\n    }\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport {\n  LOAD, DEBOUNCE, CLICK,\n} from \"../../../util/Event\";\n\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\nimport { Transform } from \"../../../editor/css-property/Transform\";\n\n\n\nvar transformList = [\n\n  'rotate',\n  'rotateX',\n  'rotateY',\n  'rotateZ',\n  'rotate3d',    \n  'skewX',    \n  'skewY',   \n  'translate',\n  'translateX',  \n  'translateY',\n  'translateZ',\n  'translate3d',\n  'perspective',    \n  'scale',\n  'scaleX',\n  'scaleY',\n  'scaleZ',\n  'scale3d',\n  'matrix',\n  'matrix3d',  \n];\n\nconst i18n = editor.initI18n('transform.property');\n\nexport default class TransformProperty extends BaseProperty {\n\n  getTitle() {\n    return i18n('title')\n  }\n\n  getBody() {\n    return `<div class='full transform-property' ref='$body'></div>`;\n  }\n\n  hasKeyframe() {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'transform'\n  }\n\n  getTools() {\n    return /*html*/`\n      <select ref=\"$transformSelect\">\n      ${transformList.map(transform => {\n        var label = this.$i18n('css.item.' + transform)\n        return `<option value='${transform}'>${label}</option>`;\n      }).join('')}\n      </select>\n      <button type=\"button\" ref=\"$add\" title=\"add Filter\">${icon.add}</button>\n    `\n  }\n  \n\n  [CLICK(\"$add\")]() {\n    var transformType = this.refs.$transformSelect.value;\n\n    this.children.$transformEditor.trigger('add', transformType)\n  }\n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {} \n    var value = current.transform;\n\n    return /*html*/`<TransformEditor ref='$transformEditor' value='${value}' hide-label=\"true\" onchange='changeTransformEditor' />`\n  }\n\n  [EVENT('changeTransformEditor')] (transform) {\n\n    this.$selection.reset({ \n      transform\n    })\n\n    this.$selection.each(item => {\n      item.reset({\n        transform: Transform.replaceAll(item.transform, transform)\n      })\n    })\n\n    this.emit(\"refreshSelectionStyleView\");\n\n  }\n\n  [EVENT('refreshSelection', 'refreshSelectionStyleView', 'refreshStyleView') + DEBOUNCE(100)] () {\n    this.refreshShowIsNot(['project', 'artboard']);\n  }\n\n  \n}\n","import BaseProperty from \"./BaseProperty\";\nimport icon from \"../icon/icon\";\nimport {\n  LOAD,\n  CLICK,\n  PREVENT,\n  DEBOUNCE\n} from \"../../../util/Event\";\n\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport { ClipPath } from \"../../../editor/css-property/ClipPath\";\n\n\nvar clipPathList = [\n  'circle',\n  'ellipse',\n  'inset',\n  'polygon',\n  'path',\n  'svg'\n];\n\n\nexport default class ClipPathProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('clippath.property.title');\n  }\n\n  hasKeyframe () {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'clip-path';\n  }\n\n\n  getClassName() {\n    return 'clip-path-property'\n  }\n\n  getBody() {\n    return /*html*/`<div class='clip-path-list' ref='$clippathList'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n      <select ref=\"$clipPathSelect\">      \n        ${clipPathList.map(it => {\n          return `<option value='${it}'>${it}</option>`\n        }).join('')}\n      </select>\n      <button type=\"button\" ref=\"$add\" title=\"add Clip Path\">${icon.add}</button>\n    `;\n  }\n\n  makeClipPathTemplate (clippath) {\n    return /*html*/`\n      <div class='clippath-item'>\n        <div class='title'>\n          <div class='name'>${clippath}</div>\n          <div class='tools'>\n              <button type=\"button\" class=\"del\">\n                ${icon.remove2}\n              </button>\n          </div>\n        </div>\n      </div>\n    `\n  }\n\n  [CLICK('$clippathList .clippath-item')] (e) {\n    var current = this.$selection.current;\n    if (!current) return;\n\n\n    this.viewClipPathPicker();\n\n  }\n\n  [CLICK('$clippathList .del') + PREVENT] (e) {\n    var current = this.$selection.current;\n    if (!current) return;\n\n    current['clip-path'] = '';\n\n    this.refresh();\n    \n    this.emit(\"refreshElement\", current);\n    this.emit('hideClipPathPopup');    \n  }\n\n  [EVENT('refreshSelection', 'refreshSelectionStyleView') + DEBOUNCE(100)] () {\n    this.refreshShowIsNot(['project', 'artboard']);\n  }\n\n\n  [LOAD(\"$clippathList\")]() {\n    var current = this.$selection.current;\n    if (!current) return '';\n    if (!current['clip-path']) return ''\n\n    return this.makeClipPathTemplate(current['clip-path']);\n  }\n\n  [CLICK(\"$add\")]() {\n\n    var current = this.$selection.current;\n\n    if (!current) return ;\n    if (current['clip-path']) {\n      alert('clip-path is already exists.');\n      return; \n    }\n\n    if (current) {\n      current['clip-path'] = this.refs.$clipPathSelect.value;\n\n      this.emit(\"refreshElement\", current);\n    }\n\n    this.refresh();\n  }\n\n  viewClipPathPicker() {\n    var current = this.$selection.current;\n    if (!current) return;\n\n    var obj = ClipPath.parseStyle(current['clip-path'])\n\n    switch(obj.type) {\n    case 'path':\n      var d = obj.value.trim()\n      var mode = d ? 'modify' : 'draw'\n\n      this.emit('showPathEditor', mode, {\n        changeEvent: 'updateClipPathString',\n        current,\n        d,\n        box: 'box',\n        screenX: current.screenX,\n        screenY: current.screenY,\n        screenWidth: current.screenWidth,\n        screenHeight: current.screenHeight,\n      }) \n      break; \n    case 'svg':\n      // TODO: clip art 선택하기 \n      break; \n    default: \n      this.emit(\"showClipPathPopup\", {\n        'clip-path': current['clip-path']\n      });      \n      break; \n    }\n\n\n  }\n\n  [EVENT('updateClipPathString')] (data) {\n    var current = this.$selection.current;\n\n    if (!current) return;\n\n    current.reset({\n      'clip-path': `path(${data.d})`\n    }); \n\n    this.refresh();\n    this.emit(\"refreshElement\", current);\n  }\n\n  [EVENT('changeClipPathPopup')] (data) {\n    var current = this.$selection.current;\n\n    if (!current) return;\n\n    current.reset(data); \n\n    this.refresh();\n    this.emit(\"refreshElement\", current);\n  }\n\n}\n","import BaseProperty from \"./BaseProperty\";\nimport {\n  LOAD,\n  CLICK,\n  DROP,\n  DRAGSTART,\n  PREVENT,\n  DRAGOVER\n} from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\n\n\nimport icon from \"../icon/icon\";\nimport { getPredefinedCubicBezier } from \"../../../util/functions/bezier\";\n\nexport default class TransitionProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('transition.property.title');\n  }\n\n  getBody() {\n    return /*html*/`<div class='transition-list' ref='$transitionList'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n        <button type=\"button\" ref=\"$add\" title=\"add Transition\">${icon.add}</button>\n    `;\n  }\n\n  [LOAD(\"$transitionList\")]() {\n    var current = this.$selection.current;\n\n    if (!current) return '';\n\n    return current.transitions.map((it, index) => {\n\n      const selectedClass = it.selected ? \"selected\" : \"\";\n\n      if (it.selected) {\n        this.selectedIndex = index;\n      }\n\n      return /*html*/`\n      <div class='transition-group-item'>\n        <div class='transition-item ${selectedClass}' data-index='${index}' ref=\"transitionIndex${index}\" draggable='true' >\n            <div class='timing preview' data-index='${index}' ref='$preview${index}'>\n              <canvas class='item-canvas' ref='$itemCanvas${index}' width=\"30px\" height=\"30px\"></canvas>\n            </div>\n            <div class='name'>\n              <div class='labels'>\n                <label class='property' title='Property'>${it.property}</label>                              \n                <label class='duration' title='Duration'><small>Duration: ${it.duration}</small></label>\n                <label class='delay' title='Delay'><small>Delay: ${it.delay}</small></label>                \n              </div>\n            </div>\n            <div class='tools'>\n                <button type=\"button\" class=\"del\" data-index=\"${index}\">\n                  ${icon.remove2}\n                </button>\n            </div>\n        </div>\n      </div>        \n      `;\n    });\n  }\n\n  drawBezierCanvas($canvas, currentBezier) {\n\n    currentBezier = getPredefinedCubicBezier(currentBezier)\n\n    $canvas.update(() => {\n        var width = $canvas.width();\n        var height = $canvas.height();\n        var context = $canvas.context();\n\n        context.lineWidth = 2;\n        context.strokeStyle = 'white';\n\n        // Draw bezier curve\n        context.beginPath();\n        context.moveTo(0,height);   // 0, 0\n        context.bezierCurveTo( \n            currentBezier[0] * width, \n            currentBezier[1] == 0 ? height : (1 - currentBezier[1]) * height, \n            currentBezier[2] * width, \n            currentBezier[3] == 1 ? 0 : (1 - currentBezier[3] ) * height, \n            width, \n            0\n        );\n        context.stroke();\n    })\n}\n\n  [EVENT('refreshSelection')]() {\n    this.refreshShowIsNot();\n    this.emit(\"hideTransitionPropertyPopup\"); \n  }\n\n  refresh() {\n    this.load();\n    this.refreshTimingFunctionCanvas()\n  }\n\n  refreshTimingFunctionCanvas() {\n    var current = this.$selection.current;\n\n    if (!current) return;\n\n    current.transitions.forEach( (it, index) => {\n      var $canvas = this.getRef('$itemCanvas', index);\n      this.drawBezierCanvas($canvas, it.timingFunction);\n    })\n  }\n\n  [CLICK(\"$add\")](e) {\n    var current = this.$selection.current;\n\n    if (current) {\n      current.createTransition();\n      this.emit('refreshElement', current);\n    }\n\n    this.refresh();\n\n  }\n\n  [DRAGSTART(\"$transitionList .transition-item\")](e) {\n    this.startIndex = +e.$dt.attr(\"data-index\");\n  }\n\n  // drop 이벤트를 걸 때 dragover 가 같이 선언되어 있어야 한다.\n  [DRAGOVER(\"$transitionList .transition-item\") + PREVENT](e) {}\n\n  [DROP(\"$transitionList .transition-item\") + PREVENT](e) {\n    var targetIndex = +e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    this.selectItem(this.startIndex, true);\n    current.sortTransition(this.startIndex, targetIndex);\n\n    this.emit('refreshElement', current);\n\n    this.refresh();\n\n    // startIndex 가 target 이랑 바뀌면\n    // startIndex 객체는 selected 르 true 로 설정하고\n    // refresh 될 때 selectedIndex 가 설정 되고\n    // viewTransitionPicker 를 호출할 $preview 가 필요하네 ?\n    this.viewTransitionPicker(this.getRef('$preview', this.selectedIndex));\n  }\n\n  getCurrentTransition() {\n    return this.current.transitions[this.selectedIndex];\n  }\n\n  [CLICK(\"$transitionList .tools .del\")](e) {\n    var removeIndex = e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    current.removeTransition(removeIndex);\n\n    this.emit('refreshElement', current);\n\n    this.refresh();\n  \n  }\n\n  [CLICK('$transitionList .play-state')] (e) {\n    var index = +e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return; \n\n    var transition = current.transitions[index]\n    if (transition) {\n      transition.togglePlayState();\n\n      e.$dt.attr('data-play-state-selected-value', transition.playState)\n\n      this.emit('refreshElement', current);\n    }\n  }\n\n  // 객체를 선택하는 괜찮은 패턴이 어딘가에 있을 텐데......\n  // 언제까지 selected 를 설정해야하는가?\n  selectItem(selectedIndex, isSelected = true) {\n    if (isSelected) {\n      this.refs[`transitionIndex${selectedIndex}`].addClass(\"selected\");\n    } else {\n      this.refs[`transitionIndex${selectedIndex}`].removeClass(\"selected\");\n    }\n\n    if (this.current) {\n      this.current.transitions.forEach((it, index) => {\n        it.selected = index === selectedIndex;\n      });\n    }\n  }\n\n  viewTransitionPicker($preview) {\n    if (typeof this.selectedIndex === \"number\") {\n      this.selectItem(this.selectedIndex, false);\n    }\n\n    this.selectedIndex = +$preview.attr(\"data-index\");\n    this.selectItem(this.selectedIndex, true);\n    this.current = this.$selection.current;\n\n    if (!this.current) return;\n    this.currentTransition = this.current.transitions[\n      this.selectedIndex\n    ];\n\n    this.viewTransitionPropertyPopup();\n  }\n\n  viewTransitionPropertyPopup(position) {\n    this.current = this.$selection.current;\n\n    if (!this.current) return;\n    this.currentTransition = this.current.transitions[\n      this.selectedIndex\n    ];\n\n    const back = this.currentTransition;\n\n   \n    const property = back.property\n    const duration = back.duration\n    const timingFunction = back.timingFunction\n    const delay = back.delay\n\n    this.emit(\"showTransitionPropertyPopup\", {\n      property,\n      duration,\n      timingFunction,\n      delay\n    });\n  }\n\n  [CLICK(\"$transitionList .preview\")](e) {\n    this.viewTransitionPicker(e.$dt);\n  }\n\n  getRef(...args) {\n    return this.refs[args.join(\"\")];\n  }\n\n  [EVENT(\"changeTransitionPropertyPopup\")](data) {\n    if (this.currentTransition) {\n      this.currentTransition.reset({ ...data });\n\n      if (this.current) {\n        this.emit('refreshElement', this.current);        \n\n        // 리스트 업데이트 \n        this.refresh();\n      }\n    }\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { LOAD, DEBOUNCE } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\n\nimport { EVENT } from \"../../../util/UIElement\";\n\n\nimport { CSS_TO_STRING } from \"../../../util/functions/func\";\n\nexport default class ComputedCodeViewProperty extends BaseProperty {\n  getTitle() {\n    return \"Computed CodeView\";\n  } \n\n  [EVENT(\n    \n    'refreshSelection',\n  ) + DEBOUNCE(100)]() {\n    this.refresh();\n  }\n\n\n  isHideHeader() {\n    return true;\n  }  \n\n  [EVENT('refreshComputedStyleCode')] (css) {\n    this.setState({ css })\n  }\n\n  getBody() {\n    return `\n      <div class=\"property-item code-view-item\" ref='$body'></div>\n    `;\n  }\n\n  filterKeyName (str) {\n    return str.split(';').filter(it => it.trim()).map(it => {\n      it = it.trim();\n      var [key, value] = it.split(':')\n\n      return `<strong>${key}</strong>:${value};\\n` \n    }).join('').trim()\n  }\n\n  modifyNewLine (str) {\n    return str.replace(/;/gi, \";\\n\")\n  }\n\n  [LOAD('$body')] () {\n    var current = this.$selection.current;\n\n    var currentExport = (current) ? current.toExport().replace(/;/gi, \";\\n\") : ''\n\n    var cssCode = this.state.css ? CSS_TO_STRING(this.state.css) : currentExport\n    var keyframeCode = current ? current.toKeyframeString() : ''\n\n    cssCode = this.filterKeyName(cssCode.trim())\n    keyframeCode = this.modifyNewLine(keyframeCode.trim());\n\n    return `\n      <div class=''>\n        ${keyframeCode ?         \n          `<div>\n          <pre title=\"Keyframe\">${keyframeCode}</pre>\n        </div>` : ''}\n\n        ${cssCode ? \n          `<div>\n          <pre title=\"CSS\">${cssCode}</pre>\n          </div>` : ''\n        }\n\n      </div>\n    `\n\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { LOAD, CLICK, DEBOUNCE } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\n\nimport icon from \"../icon/icon\";\n\n\nexport default class PerspectiveOriginProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('perspective.origin.property.title')\n  }\n\n  hasKeyframe () {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'perspective-origin'\n  }\n\n  getTools() {\n    return /*html*/`\n        <button type=\"button\" class=\"remove\" ref='$remove'>${icon.remove}</button>\n    `\n  }\n\n  [CLICK('$remove')] () {\n    this.trigger('changePerspectiveOrigin', '');\n  }  \n\n  getBody() {\n    return /*html*/`\n      <div class=\"property-item full perspective-origin-item\" ref='$body'></div>\n    `;\n  }\n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {}; \n    var value = current['perspective-origin'] || ''\n\n    return /*html*/`<PerspectiveOriginEditor \n              ref='$1' \n              value='${value}' \n              onchange='changePerspectiveOrigin' \n            />`\n  }\n\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShowIsNot('project');\n  }\n\n  [EVENT('changePerspectiveOrigin')] (value) {\n\n    this.$selection.reset({ \n      'perspective-origin': value \n    })\n\n    this.emit(\"refreshSelectionStyleView\");\n  }\n\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { LOAD, CLICK, DEBOUNCE } from \"../../../util/Event\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\n\nexport default class PerspectiveProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('perspective.property.title')\n  }\n\n  hasKeyframe() {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'perspective'\n  }\n\n  getTools() {\n    return /*html*/`\n        <button type=\"button\" class=\"remove\" ref='$remove'>${icon.remove}</button>\n    `\n  }\n\n\n  [CLICK('$remove')] () {\n    this.trigger('changePerspective', 'perspective', '');\n  }  \n\n\n  getBody() {\n    return `<div class='property-item' ref='$perspective'></div>`;\n  }  \n\n  [LOAD(\"$perspective\")]() {\n    var current = this.$selection.current || {};\n\n    var perspective = current['perspective'] || ''\n    return /*html*/`\n        <RangeEditor ref='$1' key='perspective' value=\"${perspective}\" max=\"2000px\" onchange=\"changePerspective\" />\n    `;\n  }\n\n  [EVENT('changePerspective')] (key, value) {\n\n    this.$selection.reset({ \n      [key]: value\n    })\n\n    this.emit(\"refreshSelectionStyleView\");\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShowIsNot('project');\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { LOAD, CLICK, DEBOUNCE } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\n\nimport icon from \"../icon/icon\";\n\n\nexport default class TransformOriginProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('transform.origin.property.title');  \n  }\n\n  getTools() {\n    return `\n        <button type=\"button\" class=\"remove\" ref='$remove'>${icon.remove}</button>\n    `\n  }\n\n  hasKeyframe () {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'transform-origin'\n  }  \n\n  [CLICK('$remove')] () {\n    this.trigger('changeTransformOrigin', '');\n  }\n\n  getBody() {\n    return `\n      <div class=\"property-item full transform-origin-item\" ref='$body'></div>\n    `;\n  }\n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {}; \n    var value = current['transform-origin'] || ''\n\n    return /*html*/`<TransformOriginEditor ref='$1' value='${value}' onchange='changeTransformOrigin' />`\n  }\n\n\n  [EVENT('refreshSelection', 'refreshSelectionStyleView') + DEBOUNCE(100)]() {\n    this.refreshShowIsNot(['project', 'artboard']);\n  }\n\n  [EVENT('changeTransformOrigin')] (value) {\n\n    this.$selection.reset({ \n      'transform-origin': value \n    })\n\n    this.emit(\"refreshSelectionStyleView\");\n  }\n\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { LOAD, DEBOUNCE } from \"../../../util/Event\";\nimport { EVENT } from \"../../../util/UIElement\";\n\n\nconst clip_list = [\n  '',\n  \"padding-box\",\n  \"border-box\",\n  \"content-box\",\n  \"text\"\n];\n\nexport default class BackgroundClipProperty extends BaseProperty {\n  \n  getTitle() {\n    return \"Background Clip\";\n  }\n\n  isFirstShow() {\n    return false; \n  }\n\n  getTools() {\n    return `<div ref='$backgroundClip' style='padding-top: 3px;'></div>`;\n  }  \n\n  [LOAD(\"$backgroundClip\")]() {\n    var current = this.$selection.current || {};\n\n    var clip = current['background-clip'] || ''\n    return /*html*/`<SelectEditor ref='$1' key='background-clip' icon=\"true\" value=\"${clip}\" options=\",paddinb-box,border-box,content-box,text\" onchange=\"changeSelect\" />`;\n  }\n\n  [EVENT('changeSelect')] (key, value) {\n    var current = this.$selection.current;\n\n    if (current) {\n      current.reset({\n        [key]: value\n      })\n\n      this.emit(\"refreshElement\", current);\n    }\n  }\n\n\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n\n    this.refreshShowIsNot('artboard')\n\n  }  \n}\n","import BaseProperty from \"./BaseProperty\";\nimport icon from \"../icon/icon\";\nimport {\n  LOAD,\n  CLICK,\n  DRAGSTART,\n  DRAGOVER,\n  DROP,\n  PREVENT,\n  DEBOUNCE,\n  STOP\n} from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\n\nimport { Selector } from \"../../../editor/css-property/Selector\";\n\nconst i18n = editor.initI18n('selector.property')\n\nconst selectorList = [\n  '',   // custom \n  ':hover',\n  ':active',\n  ':before',\n  ':after',\n  ':first-child',\n  ':last-child',\n  ':link',\n  ':active',\n  ':focus'\n].join(',')\n\nexport default class SelectorProperty extends BaseProperty {\n\n  getTitle() {\n    return i18n('title');\n  }\n  getBody() {\n    return `<div class='selector-list' ref='$selectorList'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n      <div style='display:inline-block;'>\n        <SelectEditor ref='$select' key='selector' icon=\"true\" key-value-char=';' none-value=\"selector\" options=\"${selectorList}\" />\n      </div>\n      <button type=\"button\" ref=\"$add\" title=\"add Selector\">${icon.add}</button>\n    `;\n  }\n\n  makeSelectorTemplate (selector, index) {\n    index = index.toString()\n    return /*html*/`\n      <div class='selector-item' draggable='true' ref='$selectorIndex${index}' data-index='${index}'>\n        <div class='title'>\n          <div class='name'>\n            <span>${selector.selector || `&lt;${i18n('none')}&gt;`}</span>\n          </div>\n          <div class='tools'>\n              <button type=\"button\" class=\"del\" data-index=\"${index}\">${icon.remove2}</button>\n          </div>\n        </div>\n      </div>\n    `\n  }\n\n  [CLICK('$selectorList .selector-item .name')] (e) {\n    var index  = +e.$dt.closest('selector-item').attr('data-index');\n\n    var current = this.$selection.current;\n    if (!current) return;\n\n\n    this.viewSelectorPicker(index);\n\n  }\n\n  [CLICK('$selectorList .selector-item .del') + PREVENT + STOP] (e) {\n    var removeIndex = e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    current.removeSelector(removeIndex);\n\n    this.emit('refreshElement', current);\n\n    this.refresh();\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)] () {\n    this.refreshShowIsNot('project');    \n  }\n\n\n  [LOAD(\"$selectorList\")]() {\n    var current = this.$selection.current;\n\n    if (!current) return '';\n\n    var selectors = current.selector ? Selector.parseStyle(current) : current.selectors;\n\n    current.selector = ''\n    current.selectors = selectors;\n\n    return selectors.map((selector, index) => {\n      return this.makeSelectorTemplate(selector, index);\n    });\n  }\n\n  // selector-item 을 통째로  dragstart 를 걸어버리니깐\n  // 다른 ui 를 핸들링 할 수가 없어서\n  // title  에만 dragstart 거는 걸로 ok ?\n  [DRAGSTART(\"$selectorList .selector-item .title\")](e) {\n    this.startIndex = +e.$dt.attr(\"data-index\");\n  }\n\n  // drop 이벤트를 걸 때 dragover 가 같이 선언되어 있어야 한다.\n  [DRAGOVER(\"$selectorList .selector-item\") + PREVENT](e) {}\n\n  [DROP(\"$selectorList .selector-item\") + PREVENT](e) {\n    var targetIndex = +e.$dt.attr(\"data-index\");\n    var current = this.$selection.current;\n    if (!current) return;\n\n    current.sortSelector(this.startIndex, targetIndex);\n\n    this.emit('refreshElement', current);\n\n    this.refresh();\n  }\n\n  [CLICK(\"$add\")]() {\n\n    var current = this.$selection.current;\n    if (current) {\n\n      current.createSelector({\n        selector: this.children.$select.getValue()\n      });\n\n      this.emit('refreshElement', current);\n    }\n\n    this.refresh();\n  }\n\n  viewSelectorPicker(index) {\n    if (typeof this.selectedIndex === \"number\") {\n      this.selectItem(this.selectedIndex, false);\n    }\n\n    this.selectedIndex = +index;\n    this.selectItem(this.selectedIndex, true);\n    this.current = this.$selection.current;\n\n    if (!this.current) return;\n    this.currentSelector = this.current.selectors[\n      this.selectedIndex\n    ];\n\n    this.viewSelectorPropertyPopup();\n  }\n\n\n  // 객체를 선택하는 괜찮은 패턴이 어딘가에 있을 텐데......\n  // 언제까지 selected 를 설정해야하는가?\n  selectItem(selectedIndex, isSelected = true) {\n    if (isSelected) {\n      this.getRef('$selectorIndex', selectedIndex).addClass(\"selected\");\n    } else {\n      this.getRef('$selectorIndex', selectedIndex).removeClass(\"selected\");\n    }\n\n    if (this.current) {\n      this.current.selectors.forEach((it, index) => {\n        it.selected = index === selectedIndex;\n      });\n    }\n  }  \n\n  viewSelectorPropertyPopup(position) {\n    this.current = this.$selection.current;\n\n    if (!this.current) return;\n    this.currentSelector = this.current.selectors[\n      this.selectedIndex\n    ];\n\n    const back = this.currentSelector;\n\n    const selector = back.selector\n    const properties = back.properties\n\n    this.emit(\"showSelectorPopup\", {\n      position,\n      selector, \n      properties\n    });\n  }\n\n  [EVENT('changeSelectorPopup')] (data) {\n    this.current = this.$selection.current;\n\n    if (!this.current) return;\n    this.currentselector = this.current.selectors[\n      this.selectedIndex\n    ];\n\n    if (this.currentSelector) {\n      this.currentSelector.reset(data);\n    }\n\n    this.refresh();\n    this.emit('refreshElement', this.current);\n  }\n\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { LOAD, DEBOUNCE } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\n\n\nexport default class PositionProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('position.property.title');\n  }\n\n  [EVENT('refreshSelection', 'refreshRect') + DEBOUNCE(100)]() {\n\n    this.refreshShowIsNot('artboard')\n\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"position-item\" ref=\"$positionItem\"></div>\n    `;\n  }\n\n  [LOAD(\"$positionItem\")]() {\n    var current = this.$selection.current;\n    if (!current) return '';\n\n    return /*html*/`\n      <!--\n      <div class='property-item'>\n        <SelectIconEditor ref='$position' icon=\"true\" key='position' value='${current.position}' options='absolute,relative,fixed,static' onchange=\"changRangeEditor\" />\n      </div>    -->\n      <div class='property-item animation-property-item'>\n        <span class='add-timeline-property' data-property='x'></span>\n        <RangeEditor ref='$x' label='X' key='x' value='${current.x}' min=\"-1000\" max='1000' onchange='changRangeEditor' />\n      </div>\n      <div class='property-item animation-property-item'>\n        <span class='add-timeline-property' data-property='y'></span>\n        <RangeEditor ref='$y' label='Y' key='y' value='${current.y}' min=\"-1000\" max='1000' onchange='changRangeEditor' />\n      </div>\n    `;\n  }\n\n\n  [EVENT('changRangeEditor')] (key, value) {\n\n    this.$selection.reset({\n      [key]: value\n    })\n\n    this.emit('refreshSelectionStyleView');\n    // this.emit('change.property', key)        \n  }\n}\n","import { AssetItem } from \"./AssetItem\";\nimport { editor } from \"../editor\";\n\nexport class Project extends AssetItem {\n  getDefaultTitle() {\n    return \"New Project\";\n  }\n\n  get isAbsolute  (){\n    return false;\n  }  \n\n\n  toRootVariableCSS () {\n    var obj = {}\n    this.json.rootVariable.split(';').filter(it => it.trim()).forEach(it => {\n      var [key, value] = it.split(':')\n\n      obj[`--${key}`] = value; \n    })\n\n    return obj;\n  }  \n\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: \"project\",\n      name: 'new Project',\n      description: '',\n      rootVariable: '',            \n      ...obj\n    });\n  }\n\n  toCloneObject() {\n    var { name, description, rootVariable } = this.json;\n    return {\n      ...super.toCloneObject(),\n      name,\n      description, \n      rootVariable\n    }\n  }\n\n  get artboards () {\n    return this.json.layers || [];\n  }\n\n  get html () {\n    return this.artboards.map(it => it.html).join('\\n\\n');\n  }\n}\n\neditor.registerComponent('project', Project);\n","import { SVGFilter } from \"../svg-property/SVGFilter\";\nimport { clone } from \"../../util/functions/func\";\nimport { Item } from \"./Item\";\nimport { Keyframe } from \"../css-property/Keyframe\";\n\nexport class AssetItem extends Item {\n\n  getDefaultObject(obj = {}) { \n    return super.getDefaultObject({\n      colors: [],\n      gradients: [],\n      svgfilters: [],\n      svgimages: [],\n      keyframes: [],      \n      images: [],     //  { id: xxxx, url : '' }\n      ...obj\n    });\n  }\n\n\n  addKeyframe(keyframe) {\n    this.json.keyframes.push(keyframe);\n    return keyframe;\n  }     \n\n\n  createKeyframe(data = {}) {\n    return this.addKeyframe(\n      new Keyframe({\n        checked: true,\n        ...data\n      })\n    );\n  }    \n  \n\n  removeKeyframe(removeIndex) {\n    this.removePropertyList(this.json.keyframes, removeIndex);\n  }    \n\n\n  sortItem(arr, startIndex, targetIndex) {\n    arr.splice(\n      targetIndex + (startIndex < targetIndex ? -1 : 0),\n      0,\n      ...arr.splice(startIndex, 1)\n    );\n  }\n\n  sortKeyframe(startIndex, targetIndex) {\n    this.sortItem(this.json.keyframes, startIndex, targetIndex);\n  }    \n\n\n  updateKeyframe(index, data = {}) {\n    this.json.keyframes[+index].reset(data);\n  }      \n\n\n/**\n   * `@keyframes` 문자열만 따로 생성 \n   */\n  toKeyframeString (isAnimate = false) {\n    return this.json.keyframes\n              .map(keyframe => keyframe.toString(isAnimate))\n              .join('\\n\\n')\n  }  \n\n\n  // 모든 Assets 은  JSON 포맷만가진다. 따로 문자열화 하지 않는다. \n  // {color, name, variable}\n  // {gradient,name,variable}\n  // {filters: [],id,name}\n  // {mimeType, original(data or url), local, name}\n\n  // 파싱은 \n  // var asset = AssetParser.parse(data);\n  // asset.color, name, variable \n\n\n  copyPropertyList(arr, index) {\n    var copyObject = {...arr[index]};\n    arr.splice(index, 0, copyObject);\n  }\n \n  toSVGString () {\n\n    var filterString = this.json.svgfilters.map(svgfilter => {\n\n      var filters = svgfilter.filters.map(filter => {\n        return SVGFilter.parse(filter);\n      })\n\n      return /*html*/`<filter id='${svgfilter.id}'>\n  ${filters.join('\\n')}\n</filter>\n`\n\n    }).join('\\n\\n')\n\n    return filterString\n  }\n\n  toCloneObject() {\n    var json = this.json; \n    return {\n      ...super.toCloneObject(),\n      colors: clone(json.colors),\n      gradients: clone(json.gradients),\n      svgfilters: clone(json.svgfilters),\n      svgimages: clone(json.svgimages),\n      images: clone(json.images),\n      keyframes: json.keyframes.map(keyframe => keyframe.clone()),      \n    }\n  }\n\n\n  removePropertyList(arr, removeIndex) {\n    arr.splice(removeIndex, 1);\n  }  \n\n  /* color assets manage */ \n\n  removeColor(removeIndex) {\n    this.removePropertyList(this.json.colors, removeIndex);\n  }      \n\n\n  copyColor(index) {\n    this.copyPropertyList(this.json.colors, index);\n  }        \n\n  sortColor(startIndex, targetIndex) {\n    this.sortItem(this.json.colors, startIndex, targetIndex);\n  }    \n\n  setColorValue(index, value = {}) {\n    this.json.colors[index] = {...this.json.colors[index], ...value}\n  }\n\n  getColor (name) {\n    return this.json.colors.filter(item => item.name === name)[0];\n  }\n\n  addColor (obj) {\n    this.json.colors.push(obj);\n    return obj; \n  }\n\n  createColor(data = {}) {\n    return this.addColor(data)\n  }  \n\n\n  /* image assets manage */ \n\n  removeImage(removeIndex) {\n    this.removePropertyList(this.json.images, removeIndex);\n  }      \n\n\n  copyImage(index) {\n    this.copyPropertyList(this.json.images, index);\n  }        \n\n  sortImage(startIndex, targetIndex) {\n    this.sortItem(this.json.images, startIndex, targetIndex);\n  }    \n\n\n  setImageValue(index, value = {}) {\n    this.json.images[index] = {...this.json.images[index], ...value}\n  }  \n\n  addImage(obj) {\n    this.json.images.push(obj)\n    return obj; \n  }\n\n  createImage(data = {}) {\n    return this.addImage(data)\n  }  \n\n  /* color assets manage */ \n\n\n  removeGradient(removeIndex) {\n    this.removePropertyList(this.json.gradients, removeIndex);\n  }      \n\n\n  copyGradient(index) {\n    this.copyPropertyList(this.json.gradients, index);\n  }        \n\n  sortGradient(startIndex, targetIndex) {\n    this.sortItem(this.json.gradients, startIndex, targetIndex);\n  }    \n\n  setGradientValue(index, value) {\n    this.json.gradients[index] = {...this.json.gradients[index], ...value}\n  }\n\n  getGradient (name) {\n    return this.json.gradients.filter(item => item.name === name)[0]\n  }\n\n  addGradient(obj = {}) {\n    this.json.gradients.push(obj)\n    return obj; \n  }\n\n  createGradient(data = {}) {\n    return this.addGradient(data)\n  }  \n\n\n  /* svg filters  */\n\n  getSVGFilterIndex (id) {\n\n    var filter = this.json.svgfilters.map( (it, index) => {\n      return { id: it.id, index }\n    }).filter(it => {\n      return it.id === id \n    })[0];\n\n    return filter ? filter.index : -1;\n  }\n\n  removeSVGFilter(removeIndex) {\n    this.removePropertyList(this.json.svgfilters, removeIndex);\n  }      \n\n\n  copySVGFilter(index) {\n    this.copyPropertyList(this.json.svgfilters, index);    \n  }        \n\n  sortSVGFilter(startIndex, targetIndex) {\n    this.sortItem(this.json.svgfilters, startIndex, targetIndex);\n  }    \n\n  setSVGFilterValue(index, value) {\n    this.json.svgfilters[index] = {...this.json.svgfilters[index], ...value}\n  }\n\n  addSVGFilter(obj = {}) {\n    this.json.svgfilters.push(obj)\n    var index = this.json.svgfilters.length - 1;\n    return index; \n  }\n\n  createSVGFilter(data = {}) {\n    return this.addSVGFilter(data)\n  }  \n\n \n\n  /* svg clip-path images   */\n\n  getSVGImageIndex (id) {\n\n    var filter = this.json.svgimages.map( (it, index) => {\n      return { id: it.id, index }\n    }).filter(it => {\n      return it.id === id \n    })[0];\n\n    return filter ? filter.index : -1;\n  }\n\n  removeSVGImage(removeIndex) {\n    this.removePropertyList(this.json.svgimages, removeIndex);\n  }      \n\n\n  copySVGImage(index) {\n    this.copyPropertyList(this.json.svgimages, index);    \n  }        \n\n  sortSVGImage(startIndex, targetIndex) {\n    this.sortItem(this.json.svgimages, startIndex, targetIndex);\n  }    \n\n  setSVGImageValue(index, value) {\n    this.json.svgimages[index] = {...this.json.svgimages[index], ...value}\n  }\n\n  addSVGImage(obj = {}) {\n    this.json.svgimages.push(obj)\n    var index = this.json.svgimages.length - 1;\n    return index; \n  }\n\n  createSVGImage(data = {}) {\n    return this.addSVGImage(data)\n  }   \n}\n","import BaseProperty from \"./BaseProperty\";\nimport { LOAD, CLICK, KEYUP, KEY, PREVENT, STOP, FOCUSOUT, DOUBLECLICK, VDOM, KEYDOWN } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport icon from \"../icon/icon\";\nimport { Project } from \"../../../editor/items/Project\";\n\nimport { EVENT } from \"../../../util/UIElement\";\n\n\nexport default class ProjectProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('project.property.title');\n  }\n\n  getClassName() {\n    return 'full';\n  }\n\n  getTools() {\n    return `\n      <button type='button' ref='$add' title=\"Add a project\">${icon.add}</button>\n    `\n  }\n\n  [CLICK('$add')] () {\n    this.emit('addProject');\n  }\n\n  getBody() {\n    return `\n      <div class=\"project-list\" ref=\"$projectList\"></div>\n    `;\n  }\n\n  [LOAD(\"$projectList\") + VDOM]() {\n    var projects = editor.projects || [];\n    \n\n    return projects.map( (project, index) => {\n      var selected = project === this.$selection.currentProject ? 'selected' : '';\n      return /*html*/`\n        <div class='project-item ${selected}'>\n          <div class='detail'>\n            <label data-index='${index}'>${project.name || 'New Project'}</label>\n            <div class=\"tools\">\n              <button type=\"button\" class=\"remove\" data-index=\"${index}\" title='Remove'>${icon.remove2}</button>\n            </div>\n          </div>\n        </div>\n      `\n    })\n  }\n\n\n  [DOUBLECLICK('$projectList .project-item')] (e) {\n    this.startInputEditing(e.$dt.$('label'))\n  }\n\n  modifyDoneInputEditing (input) {\n    this.endInputEditing(input, (index, text) => {\n\n      var project = editor.projects[index]\n      if (project) {\n        project.reset({\n          name: text\n        })\n      }\n    });    \n  }\n\n  [KEYDOWN('$projectList .project-item label') + KEY('Enter') + PREVENT + STOP] (e) {\n    this.modifyDoneInputEditing(e.$dt);\n    return false;\n  }\n\n  [FOCUSOUT('$projectList .project-item label') + PREVENT  + STOP ] (e) {\n    this.modifyDoneInputEditing(e.$dt);\n  }\n\n\n\n  selectProject (project) {\n\n    if (project) {\n      this.$selection.selectProject(project)\n\n      if (project.artboards.length) {\n        this.$selection.selectArtboard(project.artboards[0])\n        this.$selection.select();\n      }\n    }\n\n    // this.refresh()       \n    this.emit('refreshAllSelectProject');    \n  }\n\n  [CLICK('$projectList .project-item label')] (e) {\n    var index = +e.$dt.attr('data-index')\n\n    this.selectProject(editor.projects[index])\n  }\n\n\n  [CLICK('$projectList .project-item .remove')] (e) {\n    var index = +e.$dt.attr('data-index')\n\n    editor.projects.splice(index);\n\n    var project = editor.projects[index] || editor.projects[index - 1];\n\n    this.selectProject(project);\n  }\n\n  [EVENT('refreshProjectList')] () {\n    this.refresh();\n  }\n\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { LOAD, CLICK, DOUBLECLICK, FOCUSOUT, KEY, PREVENT, STOP, VDOM, KEYDOWN } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport icon from \"../icon/icon\";\nimport { EVENT } from \"../../../util/UIElement\";\n\nexport default class ArtBoardProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('artboard.property.title');\n  }\n\n  getClassName() {\n    return 'full'\n  }\n\n  getTools() {\n    return `\n      <button type='button' ref='$add' title=\"Add a artboard\">${icon.add}</button>\n    `\n  }\n\n  getBody() {\n    return `\n      <div class=\"artboard-list\" ref=\"$artboardList\"></div>\n    `;\n  }\n\n  [LOAD(\"$artboardList\") + VDOM]() {\n\n    var project = this.$selection.currentProject;    \n    if (!project) return ''\n\n    return project.artboards.map( (artboard, index) => {\n      var selected = artboard === this.$selection.currentArtboard ? 'selected' : ''\n      return /*html*/`\n        <div class='artboard-item ${selected}'>\n          <div class='preview'>${icon.doc}</div>\n          <div class='detail'>\n            <label data-index='${index}'>${artboard.name}</label>\n            <div class=\"tools\">\n              <button type=\"button\" class=\"remove\" data-index=\"${index}\" title='Remove'>${icon.remove2}</button>\n            </div>\n          </div>\n        </div>\n      `\n    })\n  }\n\n\n  [DOUBLECLICK('$artboardList .artboard-item')] (e) {\n    this.startInputEditing(e.$dt.$('label'))\n  }\n\n  modifyDoneInputEditing (input) {\n    this.endInputEditing(input, (index, text) => {\n\n      var project = this.$selection.currentProject\n      if (project) {\n        var artboard = project.artboards[index]\n  \n        if (artboard) {\n          artboard.reset({\n            name: text\n          })\n          this.emit('refreshArtBoardName', artboard.id, text);\n        }\n      }\n    });    \n  }\n\n  [KEYDOWN('$artboardList .artboard-item label') + KEY('Enter') + PREVENT + STOP] (e) {\n    this.modifyDoneInputEditing(e.$dt);\n  }\n\n  [FOCUSOUT('$artboardList .artboard-item label') + PREVENT  + STOP ] (e) {\n    this.modifyDoneInputEditing(e.$dt);\n  }\n\n  selectArtboard(artboard) {\n\n    if (artboard) {\n      this.$selection.selectArtboard(artboard)      \n      this.$selection.select(artboard)\n    }\n\n    this.emit('refreshAllSelectArtBoard');\n  }\n\n  [CLICK('$add')] (e) {\n    this.emit('addArtBoard');\n  }\n\n  [CLICK('$artboardList .artboard-item .remove')] (e) {\n    var project = this.$selection.currentProject\n    if (project) {\n      var index = +e.$dt.attr('data-index')\n\n      project.artboards.splice(index);\n\n      var artboard = project.artboards[index] || project.artboards[index - 1];\n\n      this.selectArtboard(artboard);\n    }\n  }\n\n  [CLICK('$artboardList .artboard-item label')] (e) {\n    var project = this.$selection.currentProject\n    if (project) {\n      var $item = e.$dt.closest('artboard-item');\n      $item.onlyOneClass('selected');\n\n      var index = +e.$dt.attr('data-index')\n\n      var artboard = project.artboards[index]\n\n      this.selectArtboard(artboard);\n    }\n  }\n\n  [EVENT('refreshArtBoardList')] () {\n    this.refresh();\n  }\n\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { LOAD, CLICK, DOUBLECLICK, KEYUP, KEY, PREVENT, STOP, FOCUSOUT, VDOM, DRAGSTART, KEYDOWN, DRAGOVER, DROP, DRAG, BIND, DRAGEND } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport icon from \"../icon/icon\";\nimport { EVENT } from \"../../../util/UIElement\";\n\nimport { Layer } from \"../../../editor/items/Layer\";\nimport Color from \"../../../util/Color\";\nimport { Length } from \"../../../editor/unit/Length\";\n\n\nexport default class LayerTreeProperty extends BaseProperty {\n  getTitle() {\n    return `<span>${icon.account_tree}</span> ${this.$i18n('layer.tree.property.title')}`;\n  }\n\n  getClassName() {\n    return 'full'\n  }\n\n  initState() {\n    return {\n      hideDragPointer: true,\n      lastDragOverPosition: 0,\n      lastDragOverOffset: 0,\n      rootRect: { top: 0 },\n      itemRect: { height: 0 }\n    }\n  }\n\n  getTools() {\n    return /*html*/`\n      <button type='button' ref='$add' title=\"Add a layer\">${icon.add}</button>\n    `\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"layer-list\" ref=\"$layerList\"></div>\n      <div class='drag-point' ref='$dragPointer'></div>\n    `;\n  }\n\n  [BIND('$dragPointer')] () {\n\n\n    var offset = this.state.lastDragOverOffset \n    var dist = this.state.itemRect.height/3; \n    var bound = {} \n\n    if (this.state.lastDragOverOffset < dist) {\n      offset = 0;\n\n      var top = this.state.lastDragOverPosition + offset - this.state.rootRect.top\n\n      bound = {\n        top: Length.px(top),\n        height: '1px',\n        width: '100%',\n        left: '0px'\n      }\n\n      this.state.lastDragOverItemDirection = 'before';\n    } else if (this.state.lastDragOverOffset > this.state.itemRect.height - dist) {\n      offset = this.state.itemRect.height; \n\n      var top = this.state.lastDragOverPosition + offset - this.state.rootRect.top\n\n      bound = {\n        top: Length.px(top),\n        height: '1px',\n        width: '100%',\n        left: '0px'\n      }            \n      this.state.lastDragOverItemDirection = 'after';      \n    } else {\n      offset = 0; \n\n      var top = this.state.lastDragOverPosition + offset - this.state.rootRect.top\n\n      bound = {\n        top: Length.px(top),\n        height: Length.px(this.state.itemRect.height),\n        width: '100%',\n        left: '0px'\n      }      \n      this.state.lastDragOverItemDirection = 'self';      \n    }\n\n    \n\n    return {\n      style: {\n        position: 'absolute',\n        ...bound,\n        'display': this.state.hideDragPointer ? 'none':  'block',\n        'border': '1px solid blue',\n        'pointer-events': 'none'\n      }\n    }\n  }\n\n  getIcon (item) {\n    // return '';\n\n    switch(item.itemType) {\n    case 'circle': \n      return icon.circle;\n    case 'image': return icon.photo;\n    case 'text': \n    case 'svg-textpath':\n      return icon.title;\n\n    case 'cube' : \n      return icon.cube;\n    case 'svg-path': \n    case 'svg-polygon': \n      var rate = item.width.value === 0 ? 0 : (24/item.width.value);    \n      var strokeWidth = rate > 1 ? 1: 1/(rate === 0 ? 1 : rate);       \n\n      switch (item.itemType) {\n      case 'svg-path': \n        return `<svg viewBox=\"0 0 ${item.width.value} ${item.height.value}\"><path d=\"${item.d}\" stroke-width=\"${strokeWidth}\" /></svg>`;\n      case 'svg-polygon': \n        return `<svg viewBox=\"0 0 ${item.width.value} ${item.height.value}\"><polygon points=\"${item.points}\" stroke-width=\"${strokeWidth}\" /></svg>`;\n      }\n\n    default: \n      return icon.rect\n    }\n  }\n\n  makeLayerList (parentObject, depth = 0) {\n    if (!parentObject.layers) return '';\n\n    return parentObject.layers.map( (layer, index) => {\n\n      var selected = this.$selection.check(layer) ? 'selected' : '';\n      var name = layer.name; \n\n      if (layer.is('text')) {\n        name = layer.text || layer.name \n      }\n      return /*html*/`        \n      <div class='layer-item ${selected}' data-depth=\"${depth}\" data-layer-id='${layer.id}' draggable=\"true\">\n        <div class='detail'>\n          <label> \n            <span class='icon' data-item-type=\"${layer.itemType}\">${this.getIcon(layer)}</span> \n            <span class='name'>${name}</span>\n          </label>\n          <div class=\"tools\">\n            <button type=\"button\" class=\"lock\" data-lock=\"${layer.lock}\" title='Lock'>${layer.lock ? icon.lock : icon.lock_open}</button>\n            <button type=\"button\" class=\"visible\" data-visible=\"${layer.visible}\" title='Visible'>${icon.visible}</button>\n            <button type=\"button\" class=\"copy\" title='Copy'>${icon.copy}</button>\n            <button type=\"button\" class=\"remove\" title='Remove'>${icon.remove2}</button>\n          </div>\n        </div>\n      </div>\n\n      ${this.makeLayerList(layer, depth+1)}\n    `\n    }).join('')\n  }\n\n  [EVENT('refreshContent')] (arr) {\n    this.refresh();\n  }\n\n  [LOAD(\"$layerList\") + VDOM]() {\n\n    var artboard = this.$selection.currentArtboard;\n    if (!artboard) return ''\n\n    return this.makeLayerList(artboard, 0)\n  }\n\n  [DRAGSTART('$layerList .layer-item')] (e) {\n    var layerId = e.$dt.attr('data-layer-id');\n    e.dataTransfer.setData('layer/id', layerId);\n    this.state.rootRect = this.refs.$layerList.rect()\n    this.state.itemRect = e.$dt.rect();\n    this.setState({\n      hideDragPointer: false \n    }, false)\n\n    this.bindData('$dragPointer');\n  }\n\n  [DRAGEND('$layerList .layer-item')] (e) {\n    this.setState({\n      hideDragPointer: true \n    }, false)\n\n    this.bindData('$dragPointer');\n  }\n\n  [DRAGOVER('$layerList .layer-item') + PREVENT] (e) {\n    var targetLayerId = e.$dt.attr('data-layer-id') \n    // console.log({targetLayerId, x: e.offsetX, y: e.offsetY});\n\n    this.state.lastDragOverItemId = targetLayerId;\n    this.state.lastDragOverPosition = e.$dt.rect().top;\n    this.state.lastDragOverOffset = e.offsetY;\n\n    this.bindData('$dragPointer')\n\n  }\n  [DROP('$layerList .layer-item')] (e) {\n    var targetLayerId = e.$dt.attr('data-layer-id')\n    var sourceLayerId = e.dataTransfer.getData('layer/id');\n\n    if (targetLayerId === sourceLayerId) return; \n    var artboard = this.$selection.currentArtboard\n\n    if (artboard) {\n      var targetItem = artboard.searchById(targetLayerId);\n      var sourceItem = artboard.searchById(sourceLayerId);\n\n      if (targetItem.hasParent(sourceItem.id)) return; \n\n      targetItem.add(sourceItem, this.state.lastDragOverItemDirection);\n\n      this.$selection.select(sourceItem);\n\n      this.setState({\n        hideDragPointer: true \n      })\n\n      this.emit('refreshAllSelectArtBoard')      \n\n    }\n  }\n\n  [DOUBLECLICK('$layerList .layer-item')] (e) {\n    this.startInputEditing(e.$dt.$('.name'))\n  }\n\n\n\n  modifyDoneInputEditing (input) {\n    this.endInputEditing(input, (index, text) => {\n\n\n      var id = input.closest('layer-item').attr('data-layer-id');\n\n      var artboard = this.$selection.currentArtboard;\n      if (artboard) {\n        var item = artboard.searchById(id)\n        if (item) {\n          item.reset({\n            name: text\n          })\n        }\n  \n      }\n\n\n    });    \n  }\n\n  [KEYDOWN('$layerList .layer-item .name') + KEY('Enter') + PREVENT + STOP] (e) {\n    this.modifyDoneInputEditing(e.$dt);\n  }\n\n  [FOCUSOUT('$layerList .layer-item .name') + PREVENT  + STOP ] (e) {\n    this.modifyDoneInputEditing(e.$dt);\n  }\n\n  selectLayer(layer) {\n\n    if (layer) {\n      this.$selection.select(layer)\n    }\n\n    this.refresh()\n    this.emit('refreshSelection');\n  }\n\n  addLayer (layer) {\n    if (layer) {\n      this.$selection.select(layer);\n\n      this.emit('refreshAllSelectArtBoard')\n    }\n  }\n\n  [CLICK('$add')] (e) {\n    var artboard = this.$selection.currentArtboard;\n    if (artboard) {\n      var layer = artboard.add(new Layer({\n        'background-color': Color.random(),\n        width: Length.px(200),\n        height: Length.px(100)\n      }))\n\n      this.addLayer(layer);\n    }\n  }\n\n  [CLICK('$layerList .layer-item .remove')] (e) {\n    var artboard = this.$selection.currentArtboard\n    if (artboard) {\n      var $item = e.$dt.closest('layer-item')\n      var id = $item.attr('data-layer-id');\n\n      var item = artboard.searchById(id);\n      if (item) item.remove();\n\n      this.emit('refreshAllSelectArtBoard');\n      \n    }\n  }\n\n\n  [CLICK('$layerList .layer-item label')] (e) {\n    var artboard = this.$selection.currentArtboard\n    if (artboard) {\n\n      var $item = e.$dt.closest('layer-item')\n      $item.onlyOneClass('selected');\n\n      var id = $item.attr('data-layer-id');\n      var item = artboard.searchById(id);\n      this.$selection.select(item)\n\n      this.emit('refreshSelection');      \n\n    }\n  }\n\n  [CLICK('$layerList .layer-item .visible')] (e) {\n    var artboard = this.$selection.currentArtboard\n    if (artboard) {\n      var $item = e.$dt.closest('layer-item')\n      var id = $item.attr('data-layer-id');\n\n      var item = artboard.searchById(id);      \n      item.toggle('visible')\n      e.$dt.attr('data-visible', item.visible);\n\n      this.emit('refreshElement', item);\n    }\n  }\n\n\n  [CLICK('$layerList .layer-item .lock')] (e) {\n    var artboard = this.$selection.currentArtboard\n    if (artboard) {\n      var $item = e.$dt.closest('layer-item')\n      var id = $item.attr('data-layer-id');\n\n      var item = artboard.searchById(id);\n      item.toggle('lock')\n      e.$dt.attr('data-lock', item.lock);\n\n      this.emit('refreshElement', item);\n    }\n  }\n\n\n  [CLICK('$layerList .layer-item .copy')] (e) {\n    var artboard = this.$selection.currentArtboard\n    if (artboard) {\n      var $item = e.$dt.closest('layer-item')\n      var id = $item.attr('data-layer-id');\n\n      var obj = artboard.searchById(id)\n      var copyObject = obj.copy();\n\n      this.$selection.select(copyObject);\n      this.refresh();\n      this.emit('refreshElement');\n    }\n  }\n\n  [EVENT('emptySelection')] () {\n    this.refs.$layerList.$$('.selected').forEach(it => {\n      it.removeClass('selected')\n    })\n  }\n\n  [EVENT('changeSelection')] () {\n    if (this.refs.$layerList) {    \n      this.refs.$layerList.$$('.selected').forEach(it => {\n        it.removeClass('selected')\n      })\n\n      var selector = this.$selection.items.map(it => {\n        return `[data-layer-id=\"${it.id}\"]`\n      }).join(',')\n\n      if (selector) {\n        this.refs.$layerList.$$(selector).forEach(it => {\n\n          it.addClass('selected')\n\n          var item = this.$selection.itemKeys[it.attr('data-layer-id')]\n          if (item.is('svg-path', 'svg-polygon') ) {\n            it.$('.icon').html(this.getIcon(item));\n          }\n\n        })\n      }\n\n\n    }\n\n  }  \n\n  [EVENT('refreshSelection', 'refreshStylePosition', 'refreshSelectionStyleView', 'refreshCanvasForPartial')] () {\n    \n    this.trigger('changeSelection')\n  }\n\n  [EVENT('refreshLayerTreeView')] () {\n    this.refresh();\n  }\n\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { LOAD, DEBOUNCE, VDOM, CLICK } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\n\n\nimport SelectEditor from \"../property-editor/SelectEditor\";\nimport { Length } from \"../../../editor/unit/Length\";\n\nexport default class ArtBoardSizeProperty extends BaseProperty {\n\n  getClassName() {\n    return 'artboard-size-list'\n  }\n\n  [EVENT('refreshSelection')] () {\n    this.refreshShow('artboard');\n  }\n\n  initState() {\n    return {\n      selectedIndex: 0,\n      sizeList: [\n        {\n          category: 'Web', \n          groups: [\n            { group: 'Landscape', devices: [\n              { device: 'Web Small', size: '1024x600' },\n              { device: 'Web Medium', size: '1280x800' },\n              { device: 'Web Large', size: '1440x900' },\n              { device: 'Web X Large', size: '1920x1200' },\n            ]},\n            {\n              group: 'Portrait', devices: [\n                { device: 'Web Small', size: '600x1024' },\n                { device: 'Web Medium', size: '800x1280' },\n                { device: 'Web Large', size: '900x1440' },\n                { device: 'Web X Large', size: '1200x1920' },\n            ]}\n          ]\n        },               \n        {\n          category: 'Apple Devices', \n          groups: [\n            { group: 'iphone', devices: [\n              { device: 'iPhone 8', size: '375x667' },\n              { device: 'iPhone 8 Plus', size: '414x736' },\n              { device: 'iPhone SE', size: '320x568' },\n              { device: 'iPhone XS', size: '375x812' },\n              { device: 'iPhone XR', size: '414x896' },\n              { device: 'iPhone XS Max', size: '414x896' }\n            ]},\n            { group: 'ipad', devices: [\n              { device: 'iPad', size: '768x1024' },\n              { device: 'iPad Pro', size: '1024x1366' }\n            ]},\n            { group: 'apple watch', devices: [\n              { device: 'Apple Watch 38nm', size: '272x340' },\n              { device: 'Apple Watch 40nm', size: '326x394' },\n              { device: 'Apple Watch 42nm', size: '313x390' },\n              { device: 'Apple Watch 44nm', size: '368x448' }\n            ]},\n            { group: 'apple tv', devices: [\n              { device: 'Apple TV', size: '1920x1080' }\n            ]},\n            { group: 'MAC', devices: [\n              { device: 'Touch Bar', size: '1085x30' },\n            ]}                        \n          ]\n        },\n        {\n          category: 'Android Devices', \n          groups: [\n            { group: 'android mobile', devices: [\n              { device: 'Android Mobile', size: '360x640' }\n            ]},\n            { group: 'android tablet', devices: [\n              { device: 'Android Tablet', size: '768x1024' }\n            ]}\n          ]\n        }\n      ]\n    }\n  }\n\n  getTitle() {\n    return \"Preset\";\n  }\n\n  getTools() {\n\n    var categories = this.state.sizeList.map((it,index) => {\n      return {category: it.category, index}\n     })\n\n    return /*html*/`\n      <SelectEditor ref='$select' value=\"${categories[0].category}\" options=\"${categories.map(it => it.category).join(',')}\" onchange='changeSizeIndex'/>\n    `\n  }\n\n  [EVENT('changeSizeIndex')] (key, value) {\n    var selectedIndex = this.state.selectedIndex;\n    this.state.sizeList.forEach((it, index) => {\n      if (it.category === value) {\n        selectedIndex = index; \n      }\n    })\n\n    this.state.selectedIndex = selectedIndex;\n\n    this.refresh();\n  }\n\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n\n    this.refreshShow('artboard')\n\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='artboard-size-item' ref='$list'></div>\n    `;\n  }\n\n  makeDevice (device) {\n    return /*html*/`\n      <div class='device-item' data-size='${device.size}'>\n        <div class='title'>${device.device}</div>\n        <div class='size'>${device.size}</div>\n      </div>\n    `\n  }\n\n  [CLICK('$list .device-item')] (e) {\n    var size = e.$dt.attr('data-size');\n\n    this.emit('resizeArtBoard', size);\n  }\n\n  makeGroup (group) {\n    return /*html*/`\n      <div class='group-item'>\n        <div class='title'>${group.group}</div>\n      </div>\n      <div class='devices'>\n        ${group.devices.map(device => this.makeDevice(device)).join('')}\n      </div>\n    `\n  }\n\n  makeCategory (category) {\n    return /*html*/`\n      <div class='category'>\n        <div class='title'>${category.category}</div>\n      </div>\n      <div class='groups'>\n        ${category.groups.map(group => this.makeGroup(group)).join('')}\n      </div>\n    `\n  }\n\n  [LOAD('$list') + VDOM] () {\n    var category = this.state.sizeList[this.state.selectedIndex]\n    return category.groups.map(group => this.makeGroup(group))\n  }\n\n\n  [EVENT('changeBoardSize')] (key, value) {\n    var current = this.$selection.currentArtboard;\n    if (current && current.is('artboard')) {\n\n      if (!value.trim()) return;\n\n      var [width, height] = value.split('x')\n\n      width = Length.px(width);\n      height = Length.px(height);\n\n      current.reset({ width, height });\n      this.emit(\"refreshElement\", current);\n    }\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { LOAD, CLICK, BIND, DEBOUNCE } from \"../../../util/Event\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\nimport { Length } from \"../../../editor/unit/Length\";\n\nconst image_size = [\n  '',\n  '100x100',\n  '200x200',\n  '300x300',\n  '400x300',\n  '900x600',\n  '1024x762'\n] \n\nconst i18n = editor.initI18n('image.property')\n\nexport default class ImageProperty extends BaseProperty {\n\n  getClassName() {\n    return 'item'\n  }\n\n  getTitle() {\n    return i18n('title')\n  }\n\n  getBody() {\n    return `<div ref='$body' style='padding-top: 3px;'></div>`;\n  }  \n\n  getFooter() {\n    return /*html*/`\n      <div>\n        <label> ${i18n('origin')} </label> <span ref='$sizeInfo'></span> <button type=\"button\" ref='$resize'>${icon.size}</button>\n      </div>\n      <div>\n        <SelectEditor ref='$select' label=\"${i18n('size')}\" key='size' value='' options='${image_size.join(',')}' onchange='changeImageSize' />\n      </div>\n    `\n  }\n\n  [EVENT('changeImageSize')] (key, value) {\n    var [width, height] = value.split('x').map(it => Length.px(it))\n\n    this.$selection.reset({\n      width, height\n    })\n\n    this.emit('refreshElement')\n  }\n\n  [CLICK('$resize')] () {\n    var current = this.$selection.current;\n\n    if (current) {\n      current.resize();\n\n      this.emit('refreshElement', current);        \n    }\n\n  }\n\n  [BIND('$sizeInfo')] () {\n    var current = this.$selection.current || {};\n\n    return {\n      innerHTML: `${i18n('width')}: ${current.naturalWidth}, ${i18n('height')}: ${current.naturalHeight}`\n    }\n  }\n\n  [LOAD(\"$body\")]() { \n    var current = this.$selection.current || {};\n\n    var src = current['src'] || ''\n    return /*html*/`<ImageSelectEditor \n              ref='$1' \n              key='src' \n              value=\"${src}\" \n              onchange=\"changeSelect\" />`;\n  }\n\n  [EVENT('changeSelect')] (key, value, info) {\n    var current = this.$selection.current;\n\n    if (current) {\n      current.reset({\n        src: value,\n        ...info\n      })\n\n      this.emit('refreshElement', current);\n      this.bindData('$sizeInfo')\n    }\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n\n    this.refreshShow('image')\n\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { LOAD, BIND, CLICK, INPUT, DEBOUNCE } from \"../../../util/Event\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\nimport Color from \"../../../util/Color\";\nimport AssetParser from \"../../../editor/parse/AssetParser\";\n\n\nexport default class ColorAssetsProperty extends BaseProperty {\n\n  getTitle() {\n    return \"Color\";\n  }\n\n  initState() {\n    return {\n      mode: 'grid'\n    }\n  }\n\n  getClassName() {\n    return 'color-assets-property'\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)] () {\n    this.show();\n  }\n\n  getBody() {\n    return `\n      <div class='property-item color-assets'>\n        <div class='color-list' ref='$colorList' data-view-mode='${this.state.mode}'></div>\n      </div>\n    `;\n  }\n\n  [LOAD(\"$colorList\")]() {\n    var current = this.$selection.currentProject || { colors: [] }\n\n    var colors = current.colors;   \n\n    var results = colors.map( (item, index) => {\n\n      return /*html*/`\n        <div class='color-item' data-index=\"${index}\">\n          <div class='preview' data-index=\"${index}\"><div class='color-view' style='background-color: ${item.color};'></div></div>\n          <div class='title'>\n            <div>\n              <input type='text' class='color' data-key='color' readonly value='${item.color}' placeholder=\"color\" />\n            </div>\n            <div>\n              <input type='text' class='name' data-key='name' value='${item.name}' placeholder=\"name\" />\n            </div>\n            <!--<div>\n              <input type='text' class='var' data-key='variable' value='${item.variable}' placeholder=\"--var\" />\n            </div>-->\n          </div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>${icon.copy}</button>          \n            <button type=\"button\" class='remove'>${icon.remove}</button>\n          </div>\n        </div>\n      `\n    })\n\n    results.push(`<div class='add-color-item'><butto type=\"button\">${icon.add}</button></div>`)\n\n    return results\n  }\n\n  executeColor (callback, isRefresh = true, isEmit = true ) {\n    var project = this.$selection.currentProject;\n\n    if(project) {\n\n      callback && callback (project) \n\n      if (isRefresh) this.refresh();\n      if (isEmit) this.emit('refreshColorAssets');\n    } else{\n      alert('Please select a project.')\n    }\n  }\n  \n  [CLICK('$colorList .add-color-item')] () {\n\n    this.executeColor((project) => {\n      project.createColor({\n        color: Color.random(),\n        name: '',\n        variable: ''\n      })\n    })\n  }\n\n  [CLICK('$colorList .remove')] (e) {\n    var $item = e.$dt.closest('color-item');\n    var index = +$item.attr('data-index');\n\n    this.executeColor(project => {\n      project.removeColor(index);\n    })\n  }\n\n\n  [CLICK('$colorList .copy')] (e) {\n    var $item = e.$dt.closest('color-item');\n    var index = +$item.attr('data-index');\n\n    this.executeColor(project => {\n      project.copyColor(index);\n    })\n  }  \n\n  [INPUT('$colorList input')] (e) {\n    var $item = e.$dt.closest('color-item');\n    var index = +$item.attr('data-index');\n    var obj = e.$dt.attrKeyValue('data-key');    \n\n    this.executeColor(project => {\n      project.setColorValue(index, obj);      \n    }, false)\n  }\n\n  [CLICK(\"$colorList .preview\")](e) {\n    var $item = e.$dt.closest('color-item');    \n    var index = +$item.attr('data-index')\n    this.state.$el = e.$dt.$('.color-view');\n    this.state.$color = $item.$('.color');\n    var color = this.state.$el.css('background-color')\n\n    this.emit(\"showColorPickerPopup\", {\n        hideColorAssets: true,\n        changeEvent: 'changeColorAssets',\n        color\n    }, {\n        id: this.id,\n        index\n    });\n  }\n\n\n  [EVENT('changeColorAssets')] (color, params) {\n    if (params.id === this.id) {\n\n      this.executeColor(project => {\n        project.setColorValue(params.index, {color});      \n        this.state.$el.css('background-color', color);\n        this.state.$color.val(color);\n      }, false)\n    }\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport { DEBOUNCE } from \"../../../util/Event\";\n\nconst i18n = editor.initI18n('text.fill.property')\n\nexport default class TextFillProperty extends BaseProperty {\n\n  getTitle() {\n    return i18n('title');\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShow('text');\n  }\n\n  refresh() {\n    // update 를 어떻게 할지 고민 \n    var current = this.$selection.current;\n\n    if (current) {\n      this.children.$fillColor.setValue(current['text-fill-color'] || 'rgba(0, 0, 0, 1)')      \n      this.children.$strokeColor.setValue(current['text-stroke-color'] || 'rgba(0, 0, 0, 1)')      \n      this.children.$width.setValue(current['text-stroke-width'] || '0px')      \n    }\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='property-item animation-property-item'>\n        <span class='add-timeline-property' data-property='text-fill-color'></span>\n        <ColorViewEditor ref='$fillColor' label='${i18n('fill')}' removable=\"true\" key='text-fill-color' onchange=\"changeColor\" />\n      </div>           \n      <div class='property-item animation-property-item'>\n        <span class='add-timeline-property' data-property='text-stroke-color'></span>\n        <ColorViewEditor ref='$strokeColor' label='${i18n('stroke')}' removable=\"true\" key='text-stroke-color' onchange=\"changeColor\" />\n      </div>                 \n\n      <div class='property-item animation-property-item'>\n        <span class='add-timeline-property' data-property='text-stroke-width'></span>\n        <RangeEditor \n          ref='$width' \n          label='${i18n('strokeWidth')}' \n          key=\"text-stroke-width\" \n          removable=\"true\" \n          max=\"50\"\n          onchange=\"changeRangeEditor\" />\n      </div>\n    \n    `;\n  }\n\n  [EVENT('changeColor')] (key, color, params) {\n    this.trigger('changeRangeEditor', key, color);\n  }\n\n  [EVENT('changeRangeEditor')] (key, value) {\n\n    this.$selection.reset({ \n      [key]: value\n    })\n\n    this.emit(\"refreshSelectionStyleView\");\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { LOAD, CLICK, INPUT, DEBOUNCE } from \"../../../util/Event\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\nimport { Gradient } from \"../../../editor/image-resource/Gradient\";\n\n\nexport default class GradientAssetsProperty extends BaseProperty {\n\n  getTitle() {\n    return \"Gradient\";\n  }\n\n  initState() {\n    return {\n      mode: 'grid'\n    }\n  }\n\n  getClassName() {\n    return 'gradient-assets-property'\n  }\n\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)] () {\n    this.show();\n  }\n\n  getBody() {\n    return `\n      <div class='property-item gradient-assets'>\n        <div class='gradient-list' ref='$gradientList' data-view-mode='${this.state.mode}'></div>\n      </div>\n    `;\n  }\n\n  [LOAD(\"$gradientList\")]() {\n    var current = this.$selection.currentProject || { gradients: [] }\n\n    var gradients = current.gradients;\n\n    var results = gradients.map( (item, index) => {\n\n      return `\n        <div class='gradient-item' data-index=\"${index}\" data-gradient='${item.gradient}'>\n          <div class='preview' data-index=\"${index}\">\n            <div class='gradient-view' style='background-image: ${item.gradient};'></div>\n          </div>\n          <div class='title'>\n            <div>\n              <input type='text' class='name' data-key='name' value='${item.name}' placeholder=\"name\" />\n            </div>\n            <div>\n              <input type='text' class='var' data-key='variable' value='${item.variable}' placeholder=\"--var\" />\n            </div>\n          </div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>${icon.copy}</button>          \n            <button type=\"button\" class='remove'>${icon.remove}</button>\n          </div>\n        </div>\n      `\n    })\n\n    results.push(`<div class='add-gradient-item'><butto type=\"button\">${icon.add}</button></div>`)\n\n    return results\n  }\n\n \n  executeGradient (callback, isRefresh = true, isEmit = true ) {\n    var project = this.$selection.currentProject;\n\n    if(project) {\n\n      callback && callback (project) \n\n      if (isRefresh) this.refresh();\n      if (isEmit) this.emit('refreshGradientAssets');\n    } else {\n      alert('Please select a project.')\n    }\n  } \n  \n  [CLICK('$gradientList .add-gradient-item')] () {\n\n    this.executeGradient(project => {\n      project.createGradient({\n        gradient: Gradient.random(),\n        name: '',\n        variable: ''\n      })\n    })\n  }\n\n  [CLICK('$gradientList .remove')] (e) {\n    var $item = e.$dt.closest('gradient-item');\n    var index = +$item.attr('data-index');\n\n    this.executeGradient(project => {\n      project.removeGradient(index);\n    })    \n\n  }\n\n\n  [CLICK('$gradientList .copy')] (e) {\n    var $item = e.$dt.closest('gradient-item');\n    var index = +$item.attr('data-index');\n\n    this.executeGradient(project => {\n      project.copyGradient(index);\n    })    \n  }  \n\n  [INPUT('$gradientList input')] (e) {\n    var $item = e.$dt.closest('gradient-item');\n    var index = +$item.attr('data-index');\n    var obj = e.$dt.attrKeyValue('data-key');\n\n    this.executeGradient(project => {\n      project.setGradientValue(index, obj);      \n    }, false)        \n    \n  }\n\n  [CLICK(\"$gradientList .preview\")](e) {\n    var $item = e.$dt.closest('gradient-item');    \n    var index = +$item.attr('data-index')\n    var gradient = $item.attr('data-gradient')\n\n    this.state.$item = $item; \n    this.state.$el = e.$dt.$('.gradient-view');\n\n    this.emit(\"showGradientPickerPopup\", {\n      instance: this,\n      changeEvent: 'changeGradientAssets',\n      gradient\n    });\n  }\n\n\n  [EVENT('changeGradientAssets')] (image, params) {\n\n    this.executeGradient(project => {\n      project.setGradientValue(params.index, {image});\n      this.state.$el.css('background-image', image);\n      this.state.$item.attr('data-gradient', image);\n    }, false)              \n\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\nimport { BIND, CLICK } from \"../../../util/Event\";\n\nconst i18n = editor.initI18n('svg.item.property');\n\nexport default class SVGItemProperty extends BaseProperty {\n\n  getTitle() {\n    return i18n('title');\n  }\n\n  getClassName() {\n    return \"item\"\n  }\n\n  isSVGItem  (current) {\n    return current.is('svg-path', 'svg-polygon', 'svg-textpath', 'svg-text')\n  }\n\n\n  [EVENT('refreshPathLayer', 'refreshPolygonLayer', 'refreshStyleView')]() {\n\n    var current = this.$selection.current;\n\n    if (current && this.isSVGItem(current)) {\n\n      this.refs.$length.text(current.totalLength);\n    }\n\n  }  \n\n  [EVENT('refreshSelection')]() {\n\n    var current = this.$selection.current;\n\n    if (current && this.isSVGItem(current)) {\n\n      if (this.$el.css('display') === 'none') {\n        this.$el.show();\n      }\n\n      if (current.is('svg-path', 'svg-textpath')) {\n        this.refs.$path.show();\n        this.refs.$totalLength.show();\n        this.refs.$polygon.hide();        \n\n      } else if (current.is('svg-polygon')) {\n        this.refs.$path.hide();\n        this.refs.$polygon.show();\n        this.refs.$totalLength.show();        \n\n      } else {\n        this.refs.$path.hide();\n        this.refs.$polygon.hide();\n        this.refs.$totalLength.hide();        \n      }\n\n      this.refs.$length.text(current.totalLength);\n      this.children.$fill.setValue(current['fill'] || 'rgba(0, 0, 0, 0)')\n      this.children.$stroke.setValue(current['stroke'] || 'rgba(0, 0, 0, 1)')\n      this.children.$fillOpacity.setValue(current['fill-opacity'] || Length.number(1))\n      this.children.$strokeWidth.setValue(current['stroke-width'] || Length.number(1))\n      this.children.$fillRule.setValue(current['fill-rule'] || 'nonzero')\n      this.children.$strokeDashOffset.setValue(current['stroke-dashoffset'] || Length.number(0))\n      this.children.$strokeDashArray.setValue(current['stroke-dasharray'] || ' ')\n      this.children.$strokeLineCap.setValue(current['stroke-linecap'] || 'butt')\n      this.children.$strokeLineJoin.setValue(current['stroke-linejoin'] || 'miter')\n\n    } else {\n      this.$el.hide();\n    }\n\n  }\n\n  refresh() {\n    // update 를 어떻게 할지 고민 \n  }\n\n  [BIND('$svgProperty')] () {\n    var current = this.$selection.current || {};\n    var isMotionBased = !!current['motion-based']\n    return {\n      style: {\n        display: isMotionBased ? 'none': 'block'\n      }\n    }\n  }\n\n  getBody() {\n    var current = this.$selection.current || {};\n\n    return /*html*/`\n\n      <div class='property-item'> \n        <label>\n          <input type='checkbox' ref='$motionBased' ${OBJECT_TO_PROPERTY({ checked: !!current['motion-based']})} /> \n          ${i18n('isMotionPath')}\n        </label>\n      </div>      \n\n      <div ref='$svgProperty'>\n        <div class='property-item animation-property-item' ref='$path'>\n          <span class='add-timeline-property' data-property='d'></span>      \n          <label>${i18n('path')} - d </label>\n        </div>      \n\n\n        <div class='property-item animation-property-item' ref='$polygon'>\n          <span class='add-timeline-property' data-property='points'></span>      \n          <label>${i18n('polygon')} - points </label>\n        </div>         \n\n        <div class='property-item label' ref='$totalLength'>\n          <label>${i18n('totalLength')} <span ref='$length'></span></label>\n        </div>\n\n        <div class='property-item animation-property-item'>\n          <span class='add-timeline-property' data-property='fill'></span>\n          <FillSingleEditor ref='$fill' label='${i18n('fill')}' key='fill' onchange=\"changeValue\" />\n        </div>\n\n        <div class='property-item animation-property-item'>\n          <span class='add-timeline-property' data-property='fill-opacity'></span>\n          <NumberRangeEditor \n            ref='$fillOpacity' \n            label='${i18n('fillOpacity')}' \n            key='fill-opacity' \n            value=\"1\" \n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            calc=\"false\"\n            unit=\"number\" \n            onchange=\"changeValue\" \n            />\n        </div>   \n\n\n        <div class='property-item animation-property-item'>\n          <span class='add-timeline-property' data-property='fill-rule'></span>\n          <SelectIconEditor \n            ref='$fillRule' \n            label='${i18n('fillRule')}' \n            key=\"fill-rule\" \n            options=\"nonzero,evenodd\" \n            onchange=\"changeValue\" />\n        </div>            \n\n        <div class='property-item animation-property-item'>\n          <span class='add-timeline-property' data-property='stroke'></span>\n          <FillSingleEditor ref='$stroke' label='${i18n('stroke')}' key='stroke' onchange=\"changeValue\" />\n        </div>      \n\n        <div class='property-item animation-property-item'>\n          <span class='add-timeline-property' data-property='stroke-width'></span>\n          <RangeEditor \n            ref='$strokeWidth' \n            label='${i18n('strokeWidth')}' \n            key=\"stroke-width\" \n            onchange=\"changeValue\" />\n        </div>\n              \n\n        <div class='property-item animation-property-item'>\n          <span class='add-timeline-property' data-property='stroke-dasharray'></span>      \n          <label>${i18n('dashArray')}</label>\n        </div>\n        <div class='property-item'>\n          <StrokeDashArrayEditor ref='$strokeDashArray' key='stroke-dasharray' onchange=\"changeValue\" />\n        </div>\n\n        <div class='property-item animation-property-item'>\n          <span class='add-timeline-property' data-property='stroke-dashoffset'></span>      \n          <NumberRangeEditor \n            ref='$strokeDashOffset' \n            key='stroke-dashoffset' \n            label='${i18n('dashOffset')}'\n            value=\"0\" \n            min=\"-1000\"\n            max=\"1000\"\n            step=\"1\"\n            calc=\"false\"\n            unit=\"number\" \n            onchange=\"changeValue\" \n            />\n        </div>         \n\n        <div class='property-item animation-property-item'>\n          <span class='add-timeline-property' data-property='stroke-linecap'></span>      \n          <SelectIconEditor \n            ref='$strokeLineCap' \n            label='${i18n('lineCap')}' \n            key=\"stroke-linecap\" \n            options=\"butt,round,square\" \n            onchange=\"changeValue\" \n          />\n        </div> \n\n        <div class='property-item animation-property-item'>\n          <span class='add-timeline-property' data-property='stroke-linejoin'></span>      \n          <span>${i18n('lineJoin')}</span>\n        </div>\n        <div class='property-item'>\n          <SelectIconEditor \n            ref='$strokeLineJoin' \n            key=\"stroke-linejoin\" \n            options=\"miter,arcs,bevel,miter-clip,round\" \n            onchange=\"changeValue\" \n          />\n        </div>        \n        <div class='property-item animation-property-item'>\n          <span class='add-timeline-property' data-property='svgfilter'></span>      \n          <SVGFilterSelectEditor \n            ref='$svgFilter' \n            label='${i18n('filter')}' \n            key=\"svgfilter\" \n            onchange=\"changeValue\" \n          />\n        </div>         \n      </div>\n   \n    `;\n  }\n\n  [CLICK('$motionBased')] () {\n    var current = this.$selection.current;\n\n    if (current) {\n      current.reset({\n        'motion-based': this.refs.$motionBased.checked()\n      })\n      // this.bindData('$svgProperty')\n    }\n\n  }\n\n  [EVENT('changeValue')] (key, value, params) {\n    this.$selection.reset({ \n      [key]: value\n    })\n    this.emit(\"refreshSelectionStyleView\");\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { LOAD, DEBOUNCE } from \"../../../util/Event\";\nimport { EVENT } from \"../../../util/UIElement\";\n\n\nexport default class TextClipProperty extends BaseProperty {\n  \n  getTitle() {\n    return this.$i18n('text.clip.property.title');\n  }\n\n  isFirstShow() {\n    return false; \n  }\n\n  getClassName() {\n    return 'item'\n  }\n\n  getTools() {\n    return `<div ref='$textClip'></div>`;\n  }  \n\n  [LOAD(\"$textClip\")]() {\n    var current = this.$selection.current || {};\n\n    var clip = current['text-clip'] || ''\n    return `<SelectEditor ref='$1' key='text-clip' icon=\"true\" value=\"${clip}\" options=\",text\" onchange=\"changeSelect\" />`;\n  }\n\n  [EVENT('changeSelect')] (key, value) {\n    var current = this.$selection.current;\n\n    if (current) {\n      current.reset({\n        [key]: value\n      })\n\n      this.emit(\"refreshElement\", current);\n    }\n  }\n\n\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShow('text')\n  }  \n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { LOAD, CLICK, INPUT, DEBOUNCE } from \"../../../util/Event\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\nimport { SVGFilter } from \"../../../editor/svg-property/SVGFilter\";\nimport { uuidShort } from \"../../../util/functions/math\";\n\n\nexport default class SVGFilterAssetsProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('svgfilter.asset.property.title');\n  }\n\n  initState() {\n    return {\n      mode: 'grid'\n    }\n  }\n\n  getClassName() {\n    return 'svgfilter-assets-property'\n  }\n\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)] () {\n    this.show();\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='property-item svgfilter-assets'>\n        <div class='svgfilter-list' ref='$svgfilterList' data-view-mode='${this.state.mode}'></div>\n      </div>\n    `;\n  }\n\n  [LOAD(\"$svgfilterList\")]() {\n    var current = this.$selection.currentProject || { svgfilters: [] }\n\n    var svgfilters = current.svgfilters;\n\n    var results = svgfilters.map( (svgfilter, index) => {\n\n      var filters = svgfilter.filters.map(filter => {\n        return SVGFilter.parse(filter);\n      })\n\n      return /*html*/`\n        <div class='svgfilter-item' data-index=\"${index}\">\n          <div class='preview' data-index=\"${index}\">\n            <svg width=\"0\" height=\"0\">\n              <filter id=\"svgfilter-${index}\">\n                ${filters.join('')} \n              </filter>\n            </svg>\n            <div class='svgfilter-view' style='filter: url(#svgfilter-${index});'></div>\n          </div>\n          <div class='title'>\n            <div>\n              <input type='text' class='id' data-key='id' value='${svgfilter.id}' placeholder=\"id\" />\n            </div>\n          </div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>${icon.copy}</button>          \n            <button type=\"button\" class='remove'>${icon.remove}</button>\n          </div>\n        </div>\n      `\n    })\n\n    results.push(`<div class='add-svgfilter-item'><butto type=\"button\">${icon.add}</button></div>`)\n\n    return results\n  }\n\n \n  executeSVGFilter (callback, isRefresh = true, isEmit = true ) {\n    var project = this.$selection.currentProject;\n\n    if(project) {\n\n      callback && callback (project) \n\n      if (isRefresh) this.refresh();\n      if (isEmit) this.emit('refreshSVGFilterAssets');\n    } else {\n      alert('Please select a project.')\n    }\n  } \n  \n  [CLICK('$svgfilterList .add-svgfilter-item')] () {\n\n    this.executeSVGFilter(project => {\n      project.createSVGFilter({\n        id: uuidShort(),\n        filters: []\n      })\n    })\n  }\n\n  [CLICK('$svgfilterList .remove')] (e) {\n    var $item = e.$dt.closest('svgfilter-item');\n    var index = +$item.attr('data-index');\n\n    this.executeSVGFilter(project => {\n      project.removeSVGFilter(index);\n    })    \n\n  }\n\n\n  [CLICK('$svgfilterList .copy')] (e) {\n    var $item = e.$dt.closest('svgfilter-item');\n    var index = +$item.attr('data-index');\n\n    this.executeSVGFilter(project => {\n      project.copySVGFilter(index);\n    })    \n  }  \n\n  [INPUT('$svgfilterList input')] (e) {\n    var $item = e.$dt.closest('svgfilter-item');\n    var index = +$item.attr('data-index');\n    var obj = e.$dt.attrKeyValue('data-key');\n\n    this.executeSVGFilter(project => {\n      project.setSVGFilterValue(index, obj);      \n\n      this.emit('refreshSVGArea');      \n    }, false)        \n    \n  }\n\n  [CLICK(\"$svgfilterList .preview\")](e) {\n    var $item = e.$dt.closest('svgfilter-item');    \n    var index = +$item.attr('data-index')\n\n    this.state.$item = $item; \n    this.state.$el = e.$dt.$('.svgfilter-view');\n\n    var currentProject = this.$selection.currentProject || { svgfilters: [] } \n\n    var svgfilter = currentProject.svgfilters[index];\n\n    this.emit(\"showSVGFilterPopup\", {\n        changeEvent: 'changeSVGFilterAssets',\n        id: this.id,\n        index,\n        filters: svgfilter.filters \n    });\n  }\n\n\n  [EVENT('updateSVGFilterAssets')] (params) {\n    this.executeSVGFilter(project => {\n      project.setSVGFilterValue(params.index, {\n        filters: params.filters\n      });\n\n      // preview 업데이트 해주세요. \n      this.state.$item.$('filter').html(params.filters.join('\\n'))\n\n      this.emit('refreshSVGArea');\n\n    }, false)              \n  }\n\n  [EVENT('changeSVGFilterAssets')] (params) {\n    if (params.id === this.id) {\n      this.trigger('updateSVGFilterAssets', params);\n\n    }\n  }\n\n  [EVENT('refreshSVGFilterAssets')] () {\n    this.refresh()\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { LOAD, CLICK, INPUT, DEBOUNCE } from \"../../../util/Event\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\nimport { uuidShort } from \"../../../util/functions/math\";\n\n\nexport default class SVGPathAssetsProperty extends BaseProperty {\n\n  getTitle() {\n    return \"SVG Path\";\n  }\n\n  getClassName() {\n    return 'svgpath-assets-property'\n  }\n\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)] () {\n    this.show();\n  }\n\n  getBody() {\n    return `\n      <div class='property-item svgpath-assets'>\n        <div class='svgpath-list' ref='$svgpathList' data-view-mode='grid'></div>\n      </div>\n    `;\n  }\n\n\n  [LOAD(\"$svgpathList\")]() {\n    var current = this.$selection.currentProject || { svgpathsList: [] }\n\n    var svgpathsList = current.svgpathsList;\n\n    var results = svgpathsList.map( (svgpath, index) => {\n\n      var objectInfo = svgpath.info.objectInfo;\n\n      return `\n        <div class='svgpath-item' data-index=\"${index}\" data-d='${objectInfo.d}'>\n          <div class='preview' data-index=\"${index}\">\n            <svg width=\"0\" height=\"0\">\n              <path d=\"${objectInfo.d}\" ref='$path' />\n            </svg>\n          </div>\n          <div class='title'>\n            <div>\n              <input type='text' class='id' data-key='id' value='${objectInfo.id}' placeholder=\"id\" />\n            </div>\n          </div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>${icon.copy}</button>          \n            <button type=\"button\" class='remove'>${icon.remove}</button>\n          </div>\n        </div>\n      `\n    })\n\n    results.push(`\n      <div class='add-svgpath-item'><butto type=\"button\">${icon.add}</button></div>\n    `)\n\n    return results\n  }\n\n \n  executeSVGPath (callback, isRefresh = true, isEmit = true ) {\n    var project = this.$selection.currentProject;\n\n    if(project) {\n\n      callback && callback (project) \n\n      if (isRefresh) this.refresh();\n      if (isEmit) this.emit('refreshSVGPathAssets');\n    }\n  } \n  \n  [CLICK('$svgpathList .add-svgpath-item')] () {\n\n    this.executeSVGPath(project => {\n      project.createSVGPath({\n        id: uuidShort(),\n        filters: []\n      })\n    })\n  }\n\n  [CLICK('$svgpathList .remove')] (e) {\n    var $item = e.$dt.closest('svgpath-item');\n    var index = +$item.attr('data-index');\n\n    this.executeSVGPath(project => {\n      project.removeSVGPath(index);\n    })    \n\n  }\n\n\n  [CLICK('$svgpathList .copy')] (e) {\n    var $item = e.$dt.closest('svgpath-item');\n    var index = +$item.attr('data-index');\n\n    this.executeSVGPath(project => {\n      project.copySVGPath(index);\n    })    \n  }  \n\n  [INPUT('$svgpathList input')] (e) {\n    var $item = e.$dt.closest('svgpath-item');\n    var index = +$item.attr('data-index');\n    var obj = e.$dt.attrKeyValue('data-key');\n\n    this.executeSVGPath(project => {\n      project.setSVGPathValue(index, obj);      \n\n      this.emit('refreshSVGArea');      \n    }, false)        \n    \n  }\n\n  [CLICK(\"$svgpathList .preview\")](e) {\n    var $item = e.$dt.closest('svgpath-item');    \n    var index = +$item.attr('data-index')\n\n    this.state.$item = $item; \n    this.state.$el = e.$dt.$('.svgpath-view');\n\n    var currentProject = this.$selection.currentProject || { svgpathList: [] } \n\n    var svgpath = currentProject.svgpathList[index];\n\n    this.emit(\"showSVGPathPopup\", {\n        changeEvent: 'changeSVGPathAssets',\n        id: this.id,\n        index,\n        svgpath: svgpath.info.objectInfo \n    });\n  }\n\n\n  [EVENT('changeSVGPathAssets')] (params) {\n    if (params.id === this.id) {\n      this.executeSVGPath(project => {\n        project.setSVGPathValue(params.index, {\n          filters: params.filters\n        });\n\n        // preview 업데이트 해주세요. \n        this.state.$item.$('filter').html(params.filters.join('\\n'))\n\n        this.emit('refreshSVGArea');\n\n      }, false)              \n\n    }\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport LeftAlign from \"../menu-items/LeftAlign\";\nimport RightAlign from \"../menu-items/RightAlign\";\nimport TopAlign from \"../menu-items/TopAlign\";\nimport BottomAlign from \"../menu-items/BottomAlign\";\nimport CenterAlign from \"../menu-items/CenterAlign\";\nimport MiddleAlign from \"../menu-items/MiddleAlign\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport { DEBOUNCE } from \"../../../util/Event\";\nimport SameHeight from \"../menu-items/SameHeight\";\nimport SameWidth from \"../menu-items/SameWidth\";\nimport { editor } from \"../../../editor/editor\";\n\n\nexport default class AlignmentProperty extends BaseProperty {\n  components() {\n    return {\n      LeftAlign,\n      RightAlign,\n      TopAlign,\n      BottomAlign,\n      CenterAlign,\n      MiddleAlign,\n      SameHeight,\n      SameWidth      \n    }\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)] () {\n    this.refreshShowIsNot(['project', 'artboard']);\n  }\n\n  getTitle() {\n    return this.$i18n('alignment.property.title');\n  }\n\n  isHideHeader() {\n    return true;\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"alignment-item\" ref=\"$positionItem\">\n        <LeftAlign />\n        <CenterAlign />\n        <RightAlign />\n\n        <TopAlign />\n        <MiddleAlign />\n        <BottomAlign />\n\n        <div class='split'></div>        \n\n        <SameWidth />\n        <SameHeight />\n        <CopyItem />\n      </div>\n    `;\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { DEBOUNCE } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\n\nimport OffsetPathListEditor from \"../property-editor/OffsetPathListEditor\";\n\n\nexport default class MotionProperty extends BaseProperty {\n  components() {\n    return {\n      OffsetPathListEditor\n    }\n  }\n\n  getTitle() {\n    return this.$i18n('motion.property.title');\n  }\n\n  [EVENT('refreshSelection', 'refreshRect') + DEBOUNCE(100)]() {\n    this.refreshShowIsNot('project');\n  }\n\n  refresh() {\n    var current = this.$selection.current;\n    if (current) {\n      this.children.$offsetPathList.setValue(current['offset-path'])   \n    }\n  }\n\n  getBody() {\n    var current = this.$selection.current || {'offset-path': ''};\n    return /*html*/`\n      <div class='property-item animation-property-item'>\n        <span class='add-timeline-property' data-property='offset-path'></span>\n        <OffsetPathListEditor ref=\"$offsetPathList\" key=\"offset-path\" value=\"${current['offset-path']}\" onchange=\"changRangeEditor\" />\n      </div>\n    `;\n  }\n\n  [EVENT('changRangeEditor')] (key, value) {\n    \n    this.$selection.reset({\n      [key]: value \n    })\n\n    this.emit('refreshSelectionStyleView')\n\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { LOAD, CLICK, INPUT, DEBOUNCE, VDOM, DRAGSTART, CHANGE } from \"../../../util/Event\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\n\n\nexport default class ImageAssetsProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('image.asset.property.title');\n  }\n\n  initState() {\n    return {\n      mode: 'grid'\n    }\n  }\n\n  getClassName() {\n    return 'image-assets-property'\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(1000)] () {\n    this.show();\n    this.refresh();\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='property-item image-assets'>\n        <div class='image-list' ref='$imageList' data-view-mode='${this.state.mode}'></div>\n      </div>\n    `;\n  }\n\n  [LOAD(\"$imageList\") + VDOM]() {\n    var current = this.$selection.currentProject || { images: [] }\n\n    var images = current.images;   \n\n    var results = images.map( (image, index) => {\n\n      return /*html*/`\n        <div class='image-item' data-index=\"${index}\">\n          <div class='preview' draggable=\"true\">\n            <img src=\"${image.local}\" />\n          </div>\n          <div class='title'>\n            <div>\n              <input type='text' class='name' data-key='name' value='${image.name}' placeholder=\"name\" />\n            </div>\n          </div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>${icon.copy}</button>          \n            <button type=\"button\" class='remove'>${icon.remove}</button>\n          </div>\n        </div>\n      `\n    })\n\n    return /*html*/`\n      <div class='loaded-list'>\n        ${results.join('')}\n        <div class='add-image-item'>\n          <input type='file' accept='image/*' ref='$file' />\n          <button type=\"button\">${icon.add}</button>\n        </div>        \n      </div>\n\n    `\n  }\n\n  executeImage (callback, isRefresh = true, isEmit = true ) {\n    var project = this.$selection.currentProject;\n\n    if(project) {\n\n      callback && callback (project) \n\n      if (isRefresh) this.refresh();\n      if (isEmit) this.emit('refreshImageAssets');\n    } else {\n      alert('Please select a project.')\n    }\n  }\n\n  [DRAGSTART('$imageList .preview img')] (e) { \n    var index = +e.$dt.closest('image-item').attr('data-index');\n\n    var project = this.$selection.currentProject;\n\n    if(project) {\n      var imageInfo  =  project.images[index];\n\n      e.dataTransfer.setData('image/info',  imageInfo.local);\n    }\n\n  }\n  \n  [CHANGE('$imageList .add-image-item input[type=file]')] (e) {\n    this.executeImage(project => {\n      [...e.target.files].forEach(item => {\n        this.emit('update.asset.image', item);\n      })\n    })\n\n    \n  }\n\n  [CLICK('$imageList .remove')] (e) {\n    var $item = e.$dt.closest('image-item');\n    var index = +$item.attr('data-index');\n\n    this.executeImage(project => {\n      project.removeImage(index);\n      this.emit('remove.asset.image', $item.$('.preview img').attr('src'))\n    })\n  }\n\n\n  [CLICK('$imageList .copy')] (e) {\n    var $item = e.$dt.closest('image-item');\n    var index = +$item.attr('data-index');\n\n    this.executeImage(project => {\n      project.copyImage(index);\n    })\n  }  \n\n\n  [INPUT('$imageList input[type=text]')] (e) {\n    var $item = e.$dt.closest('image-item');\n    var index = +$item.attr('data-index');\n    var obj = e.$dt.attrKeyValue('data-key');    \n\n    this.executeImage(project => {\n      project.setImageValue(index, obj);\n    }, false)\n  }\n\n  [EVENT('addImageAsset')] () {\n    this.refresh();\n  }\n\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport { DEBOUNCE, LOAD } from \"../../../util/Event\";\nimport { isString, OBJECT_TO_PROPERTY, isNotUndefined } from \"../../../util/functions/func\";\n\n\nexport default class ComponentProperty extends BaseProperty {\n\n  getTitle() {\n    return \"Component\";\n  }\n\n  isShow () {\n    var current = this.$selection.current;\n\n    if (current && current.is('component')) {\n      return true; \n    }\n\n    return false; \n  }\n\n  initState() {\n    return {\n      components: {} \n    }\n  }\n\n  components () {\n    return {...super.components(), ...this.state.components}\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n\n    if (this.isShow()) {\n      this.show();\n      this.refresh()\n    } else {\n      this.hide();\n      \n    }\n\n  }\n\n  refresh() {\n    \n    var current = this.$selection.current;\n\n    if (current && current.is('component')) {\n      this.setTitle(current.itemType || current.name);\n      this.load();\n      current.getProps().forEach(it => {\n        if (this.children[it.key]) {\n          this.children[it.key].setValue(current[it.key] || it.defaultValue)  \n        }\n      })\n    }    \n  }\n\n  getBody() {\n    return /*html*/`\n      <div ref='$body'></div>\n    `;\n  }\n\n  initComponents() {\n\n    var current = this.$selection.current;\n    var components = {} \n\n    if (current && current.is('component')) {\n      current.getProps().forEach(it => {\n\n        if (isString(it.editor)) {\n          \n        } else {\n          components = { ...components, ...it.editor}\n        }\n\n      })  \n    }\n\n    this.setState({components}, false)\n\n    super.initComponents();\n  }\n\n  getPropertyEditor (key, value, selfEditor, selfEditorOptions) {\n\n    if (isString(selfEditor)) {\n      return `<${selfEditor} ${OBJECT_TO_PROPERTY({\n        ...selfEditorOptions,\n        onchange: 'changeComponentProperty',\n        ref: key,\n        key,\n        value\n      })} />`\n    } else {\n      return Object.keys(selfEditor).map(selfEditorKey => {\n        return `<${selfEditorKey} ${OBJECT_TO_PROPERTY({\n          ...selfEditorOptions,\n          onchange: 'changeComponentProperty',\n          ref: key,\n          key,\n          value\n        })} />`        \n      }).join('');\n    }\n  }\n\n  [LOAD('$body')] () {\n\n    var current = this.$selection.current;\n\n    if (!current) return ''; \n\n    if (current && !current.is('component')) {\n      return ''; \n    }\n\n\n\n    var self = current.getProps().map(it=> {\n      if (isString(it)) {\n        return /*html*/`\n          <div class='property-item'> \n            <label>${it}</label>\n          </div>`\n      } else {\n        return /*html*/`\n          <div class='property-item animation-property-item'> \n            <span class='add-timeline-property' data-property='${it.key}' data-type=\"${current.itemType}\" data-editor=\"${it.editor}\"></span>\n            ${this.getPropertyEditor(it.key, current[it.key] || it.defaultVallue, it.editor, it.editorOptions)}\n          </div>\n        `\n      }\n\n    })\n\n    return self; \n  }\n\n  [EVENT('changeComponentProperty')] (key, value) {\n\n\n    this.$selection.each(item => {\n      if (item.is('component')) {\n        item.reset({ [key]: value })\n      }\n    })\n    this.emit('refreshSelectionStyleView', null, true);\n\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { LOAD, CLICK, DOUBLECLICK, FOCUSOUT, KEY, PREVENT, STOP, VDOM, KEYDOWN, DEBOUNCE } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport icon from \"../icon/icon\";\nimport { EVENT } from \"../../../util/UIElement\";\n\nexport default class TimelineAnimationProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('timeline.animation.property.title');\n  }\n\n  getClassName() {\n    return 'full'\n  }\n\n  getTools() {\n    return `\n      <button type='button' ref='$add' title=\"Add an animation\">${icon.add}</button>\n    `\n  }\n\n  getBody() {\n    return `\n      <div class=\"timeline-animation-list\" ref=\"$timelineAnimationList\"></div>\n    `;\n  }\n\n  [LOAD(\"$timelineAnimationList\") + VDOM]() {\n\n    var artboard = this.$selection.currentArtboard;    \n    if (!artboard) return ''\n\n    return artboard.timeline.map( (timeline, index) => {\n      var selected = timeline.selected ? 'selected' : ''\n      return /*html*/`\n        <div class='timeline-animation-item ${selected}'>\n          <div class='preview'></div>\n          <div class='detail'>\n            <label data-id='${timeline.id}'>${timeline.title}</label>\n            <div class=\"tools\">\n              <button type=\"button\" class=\"remove\" data-id=\"${timeline.id}\" title='Remove'>${icon.remove2}</button>\n            </div>\n          </div>\n        </div>\n      `\n    })\n  }\n\n\n  [DOUBLECLICK('$timelineAnimationList .timeline-animation-item')] (e) {\n    this.startInputEditing(e.$dt.$('label'))\n  }\n\n  modifyDoneInputEditing (input) {\n    this.endInputEditing(input, (index, text) => {\n      var id = input.attr('data-id');\n\n      var artboard = this.$selection.currentArtboard\n      if (artboard) {\n        artboard.setTimelineTitle(id, text);\n      }\n    });    \n  }\n\n  [KEYDOWN('$timelineAnimationList .timeline-animation-item label') + KEY('Enter') + PREVENT + STOP] (e) {\n    this.modifyDoneInputEditing(e.$dt);\n  }\n\n  [FOCUSOUT('$timelineAnimationList .timeline-animation-item label') + PREVENT  + STOP ] (e) {\n    this.modifyDoneInputEditing(e.$dt);\n  }\n\n  [CLICK('$add')] (e) {\n    this.emit('add.timeline');\n  }\n\n  [CLICK('$timelineAnimationList .timeline-animation-item .remove')] (e) {\n    var id = e.$dt.attr('data-id');\n    this.emit('remove.animation', id);\n    // this.refresh();\n  }\n\n  [CLICK('$timelineAnimationList .timeline-animation-item label')] (e) {\n    var id = e.$dt.attr('data-id');\n\n    var artboard = this.$selection.currentArtboard;\n\n    if (artboard) {\n      artboard.selectTimeline(id);                 \n\n  \n      var $item = e.$dt.closest('timeline-animation-item');\n      $item.onlyOneClass('selected');\n\n      this.emit('refreshTimeline');\n      this.emit('selectTimeline');          \n    }\n\n  }\n\n  [EVENT('addTimeline', 'removeTimeline', 'removeAnimation')] () {\n    this.refresh();\n  }\n    \n  [EVENT('refreshTimeline', 'refreshSelection', 'refreshAllSelectArtBoard') + DEBOUNCE(100)] () {\n    this.refresh();\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { LOAD, DEBOUNCE } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport BorderEditor from \"../property-editor/BorderEditor\";\n\n\nexport default class BorderNewProperty extends BaseProperty {\n  components() {\n    return {\n      BorderEditor\n    }\n  }\n  getTitle() {\n    return this.$i18n('border.property.title');  \n  }\n\n\n  hasKeyframe () {\n    return true; \n  }\n\n  getKeyframeProperty () {\n    return 'border'\n  }\n\n  getBody() {\n    return /*html*/`<div class=\"property-item full border-item\" ref='$body'></div>`;\n  }\n\n  [LOAD('$body')] () {\n    var current = this.$selection.current || {}; \n    var value = current['border'] || ''\n\n    return /*html*/`\n      <BorderEditor ref='$1' key='border' value='${value}' onchange='changeKeyValue' />\n    `\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n\n    this.refreshShowIsNot('artboard')\n\n  }  \n\n  [EVENT('changeKeyValue')] (key, value) {\n\n    this.$selection.reset({\n      [key]: value \n    })\n\n    this.emit(\"refreshSelectionStyleView\");\n  }\n\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { LOAD, VDOM } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\n\nimport { EVENT } from \"../../../util/UIElement\";\n\n\nexport default class ProjectInformationProperty extends BaseProperty {\n  getTitle() {\n    return this.$i18n('project.information.property.title');\n  }\n\n  getClassName() {\n    return 'full';\n  }\n\n  refresh() {\n    var project = this.$selection.currentProject || { name: '', description: ''}\n    \n    this.refs.$name.val(project.name);\n    this.refs.$description.val(project.description);\n  }\n\n  getBody() {\n\n    var project = this.$selection.currentProject || { name: '', description: ''}\n\n    return /*html*/`\n      <div class=\"project-info\" ref=\"$info\">\n        <div class='project-info-item'>\n          <label>${this.$i18n('project.information.property.name')}</label>\n          <div class='input'><input type='text' value='${project.name}' ref='$name' /></div>\n        </div>\n        <div class='project-info-item'>\n          <label>${this.$i18n('project.information.property.description')}</label>\n          <div class='input'>\n            <textarea  value='${project.description}' ref='$description'></textarea>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  [EVENT('refreshProjectList', 'refreshAllSelectProject')] () {\n    this.refresh();\n  }\n\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport PathDataEditor from \"../property-editor/PathDataEditor\";\nimport { DEBOUNCE } from \"../../../util/Event\";\n\n\nexport default class PathDataProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('path.data.property.title');\n  }\n\n  getClassName() {\n    return \"item path-data-property\"\n  }\n\n  isSVGItem  (current) {\n    return current.is('svg-path', 'svg-textpath')\n  }\n\n  components () {\n    return {\n      PathDataEditor\n    }\n  }\n\n\n  [EVENT('refreshPathLayer', 'refreshStyleView', 'refreshRect') + DEBOUNCE(100)]() {\n    this.refresh();\n  }  \n\n  [EVENT('refreshSelection')]() {\n\n    this.refreshShow(['svg-path', 'svg-textpath'])\n\n  }\n\n  refresh() {\n    // update 를 어떻게 할지 고민 \n\n    var current = this.$selection.current || {};\n    this.children.$pathData.setValue(current.d);\n  }\n\n  getBody() {\n    var current = this.$selection.current || {};\n\n    return /*html*/`\n      <div>\n        <PathDataEditor ref='$pathData' key='d' value='${current.d}' onchange='changeValue' />\n      </div>\n    `;\n  }\n\n\n  [EVENT('changeValue')] (key, value, params) {\n    this.emit(\"updatePathItem\", {\n      [key]: value \n    })\n    \n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport { DEBOUNCE } from \"../../../util/Event\";\nimport PolygonDataEditor from \"../property-editor/PolygonDataEditor\";\n\n\nexport default class PolygonDataProperty extends BaseProperty {\n\n  getTitle() {\n    return this.$i18n('polygon.data.property.title');\n  }\n\n  getClassName() {\n    return \"item polygon-data-property\"\n  }\n\n  isSVGItem  (current) {\n    return current.is('svg-polygon')\n  }\n\n  components () {\n    return {\n      PolygonDataEditor\n    }\n  }\n\n\n  [EVENT('refreshPathLayer', 'refreshStyleView', 'refreshRect') + DEBOUNCE(100)]() {\n    this.refresh();\n  }  \n\n  [EVENT('refreshSelection')]() {\n\n    this.refreshShow('svg-polygon')\n\n  }\n\n  refresh() {\n    // update 를 어떻게 할지 고민 \n\n    var current = this.$selection.current || {};\n    this.children.$polygonData.setValue(current.points);\n  }\n\n  getBody() {\n    var current = this.$selection.current || {};\n\n    return /*html*/`\n      <div>\n        <PolygonDataEditor ref='$polygonData' key='points' value='${current.points || ''}' onchange='changeValue' />\n      </div>\n    `;\n  }\n\n\n  [EVENT('changeValue')] (key, value, params) {\n    this.$selection.reset({ \n      [key]: value\n    })\n    this.emit(\"refreshSelectionStyleView\");\n  }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport { DEBOUNCE } from \"../../../util/Event\";\n\n\nexport default class SVGTextProperty extends BaseProperty {\n\n  getTitle() {\n    return \"Text Style\";\n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShow(['svg-textpath', 'svg-text', 'svg-tspan']);\n  }\n\n  refresh() {\n   // TODO: 데이타 로드를 어떻게 해야할까? \n    var current = this.$selection.current;\n    if (current) {\n\n      this.setAllValue([\n        'lengthAdjust',\n        'textLength',\n        'startOffset',\n        'font-size',\n        'font-weight',\n        'font-style',\n        'font-family',\n        'text-anchor',\n        'text'\n      ])   \n    }\n\n  }\n\n  setAllValue(list = []) {\n    var current = this.$selection.current;\n    if (!current) return; \n\n    list.forEach(key => {\n      this.children[`$${key}`].setValue(current[key])          \n    })\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='property-item animation-property-item'>\n        <span class='add-timeline-property' data-property='text'></span>\n        <TextAreaEditor \n          ref='$text' \n          label='Text' \n          key=\"text\"\n          onchange=\"changeTextValue\" />\n      </div>        \n      <div class='property-item animation-property-item'>\n        <span class='add-timeline-property' data-property='font-size'></span>\n        <RangeEditor \n          ref='$font-size' \n          label='Size' \n          key=\"font-size\" \n          min='0'\n          max=\"1000\" \n          onchange=\"changeTextValue\" />\n      </div>    \n      <div class='property-item animation-property-item'>\n        <span class='add-timeline-property' data-property='font-weight'></span>\n        <NumberRangeEditor \n          ref='$font-weight' \n          label='Weight' \n          key='font-weight' \n          value=\"400\" \n          min=\"100\"\n          max=\"900\"\n          step=\"1\"\n          calc=\"false\"\n          unit=\"number\" \n          onchange=\"changeTextValue\" \n          />\n      </div>              \n      <div class='property-item'>\n        <SelectIconEditor \n          ref='$font-style' \n          label='Style' \n          key=\"font-style\" \n          options=\"normal,italic\" \n          icons='I,I'\n          onchange=\"changeTextValue\" />\n      </div>      \n      <div class='property-item'>\n        <SelectIconEditor \n          ref='$text-anchor' \n          label='Text Anchor' \n          key=\"text-anchor\" \n          options=\"start,middle,end\" \n          onchange=\"changeTextValue\" />\n      </div>            \n\n      <div class='property-item'>\n        <SelectEditor \n          ref='$font-family' \n          icon=\"true\"\n          label='Family' \n          key=\"font-family\" \n          options=\",serif,sans-serif,monospace,cursive,fantasy,system-ui\" \n          onchange=\"changeTextValue\" \n        />\n      </div>       \n      <div class='property-item animation-property-item'>\n        <span class='add-timeline-property' data-property='lengthAdjust'></span>\n        <SelectEditor \n          ref='$lengthAdjust' \n          label='lengthAdjust' \n          key='lengthAdjust' \n          value='spacing' \n          options=\"spacing,spacingAndGlyphs\" \n          onchange='changeTextValue' />        \n      </div>        \n      <div class='property-item animation-property-item'>\n        <span class='add-timeline-property' data-property='textLength'></span>\n        <RangeEditor \n          ref='$textLength' \n          label='textLength' \n          key='textLength'\n          min=\"0\"\n          max='1000'\n          step=\"0.1\"\n          onchange='changeTextValue' />                \n      </div>        \n      <div class='property-item animation-property-item'>\n        <span class='add-timeline-property' data-property='startOffset'></span>\n        <RangeEditor \n          ref='$startOffset' \n          label='startOffset' \n          key='startOffset' \n          min=\"0\"\n          max='1000'\n          step=\"0.1\"          \n          onchange='changeTextValue' />        \n      </div>                    \n    `\n  }\n\n  [EVENT('changeTextValue')] (key, value) {\n\n    this.$selection.reset({ \n      [key]: value\n    })\n\n    this.emit(\"refreshSelectionStyleView\");\n  }\n\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { DEBOUNCE, CLICK } from \"../../../util/Event\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\nimport { editor } from \"../../../editor/editor\";\n\nconst i18n = editor.initI18n('export.property');\n\nexport default class ExportProperty extends BaseProperty {\n\n  getTitle() {\n    return i18n('title');\n  }\n\n\n\n  [EVENT('refreshSelection', 'refreshContent') + DEBOUNCE(100)]() {\n\n    this.refreshShowIsNot('project');\n\n  }  \n\n  getClassName() {\n    return 'export-property'\n  }\n\n\n  getBody() {\n    return /*html*/`\n        <div class='export-item svg'>\n          <label>SVG</label>\n          <button ref='$svg'>${icon.archive} ${i18n('download')}</button>\n        </div>\n        <div class='export-item png'>\n          <label>PNG</label>\n          <button ref='$png'>${icon.archive} ${i18n('download')}</button>\n        </div> \n      `;\n  }  \n\n  [CLICK('$svg')] () {\n    this.emit('download.to.svg');\n  }\n\n  [CLICK('$png')] () {\n    this.emit('download.to.png');\n  }  \n}\n","\nimport { Length } from \"../unit/Length\";\nimport { isUndefined } from \"../../util/functions/func\";\nimport { DirectionLength } from \"../unit/DirectionLength\";\nimport { Property } from \"../items/Property\";\nconst CLIPPATH_REG = /(content\\-box|padding\\-box|border\\-box|margin\\-box|view\\-box|stroke\\-box|fill\\-box|none|(inset|circle|ellipse|polygon|path|svg|url)(\\(([^\\)]*)\\))?)/gi;\nexport class Shape extends Property {\n\n    getDefaultObject(obj = {}) {\n        return super.getDefaultObject( { \n            itemType: 'shape', \n            type: 'none',\n            value: '',\n            ...obj \n        })\n    }\n\n    toCloneObject() {\n        return {\n            ...super.toCloneObject(),\n            value: this.json.value\n        }\n    }\n\n    toString() {\n        var type = this.json.type; \n        var value = this.json.value;\n        var box = this.json.box; \n\n        var results = '';\n\n        switch(type) {\n            case 'circle':\n            case 'inset':\n            case 'ellipse':\n            case 'polygon':\n            case 'path':\n                results = `${type}(${value})`;\n                break;                \n            case 'svg':\n                results = `url(#${value})`;\n                break;\n            default: \n                results = 'none';\n                break;\n        }\n\n        return box ? `${box} ${results}` : results;\n    }    \n\n    toCSS () {\n        return {\n            'clip-path': this.toString()\n        }\n    }\n\n\n    static toCSS (obj) {\n        return new ClipPath(obj).toCSS()\n    }\n\n    static toString (obj) {\n        return ClipPath.toCSS(obj)['clip-path']\n    }\n\n    static parse (obj) {\n        return new ClipPath(obj);\n    }\n\n    static parseStyle (str) { \n\n        var clippath = {};\n\n        if (!str) return {};\n    \n        var matches = (str.match(CLIPPATH_REG) || []);\n\n        matches.forEach((value, index) => {\n\n            if (value.includes('-box')) {\n                clippath.box = value; \n            } else {\n                var [clipPathName, clipPathValue] = value.split(\"(\");\n\n                clipPathValue = clipPathValue || ''; \n\n                if (clipPathName === 'none') {\n                    clipPathValue = ''\n                } else {\n                    clipPathValue = clipPathValue.split(\")\")[0];\n                }\n    \n                clippath.type = clipPathName;\n                clippath.value = clipPathValue;\n            }\n        });\n\n        return clippath;\n    }\n\n    static parseStyleForCircle (str) {\n        var radius = new Length('', 'closest-side'), position = ''; \n        str = str || '50%'\n        if (str.includes('at')) {\n            [ radius, position ] = str.split('at').map(it => it.trim());\n        }  else {\n            position = str.trim(); \n        }\n\n        var [x, y] = position.split(' ')\n\n        if (isUndefined(y)) {\n            y = x; \n        }\n\n        x = Length.parse(x)\n        y = Length.parse(y)\n\n        return {\n            radius, x, y\n        }\n    }\n\n    static parseStyleForEllipse (str = '50% 50%') {\n        var radius = `50% 50%`, position = ''; \n        str = str || '50%'\n        if (str.includes('at')) {\n            [ radius, position ] = str.split('at').map(it => it.trim());\n        }  else {\n            position = str.trim(); \n        }\n\n        var [x, y] = position.split(' ')\n\n        if (isUndefined(y)) {\n            y = x; \n        }\n\n        x = Length.parse(x)\n        y = Length.parse(y)\n\n        var [radiusX, radiusY] = radius.split(' ');\n\n        if (isUndefined(radiusY)) {\n            radiusY = radiusX;\n        }\n\n        radiusX = Length.parse(radiusX)\n        radiusY = Length.parse(radiusY)\n\n        return {\n            radiusX,\n            radiusY, \n            x, \n            y\n        }\n    }\n\n    static parseStyleForInset (str = '') {\n        var [inset, round] = str.split('round')\n\n        var [_count, top, right, bottom, left] = DirectionLength.parse(inset);\n\n        if (round) {\n\n            var [_roundCount, topRadius, rightRadius, bottomRadius, leftRadius] = DirectionLength.parse(round);\n\n        }\n\n        return {\n            isAll: _count === 1,\n            top, \n            right, \n            bottom, \n            left ,\n            round,\n            isAllRadius: _roundCount === 1,\n            topRadius,\n            rightRadius,\n            bottomRadius,\n            leftRadius\n        }\n    }\n\n    \n    static parseStyleForPolygon (str = '') {\n\n        return str.split(',').filter(it => it.trim()).map(it => {\n           var [x, y] = it.trim().split(' ')\n\n           return { \n               x: Length.parse(x), \n               y: Length.parse(y)\n            }\n        })\n    }\n}\n","import BaseProperty from \"./BaseProperty\";\nimport icon from \"../icon/icon\";\nimport {\n  LOAD,\n  CLICK,\n  PREVENT,\n  DEBOUNCE\n} from \"../../../util/Event\";\n\nimport { editor } from \"../../../editor/editor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport { Shape } from \"../../../editor/css-property/Shape\";\n\n\nvar shapeInsideList = [\n  'circle',\n  'ellipse',\n  'inset',\n  'polygon',\n  'path',\n  'svg'\n];\n\n\nexport default class ShapeInsideProperty extends BaseProperty {\n  getTitle() {\n    return \"Shape Inside\";\n  }\n\n  hasKeyframe () {\n    return true; \n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShow(['svg-text'])\n  }  \n\n  getKeyframeProperty () {\n    return 'shape-inside';\n  }\n\n\n  getClassName() {\n    return 'shape-inside-property'\n  }\n\n  getBody() {\n    return /*html*/`<div class='shape-inside-list' ref='$shapeinsideList'></div>`;\n  }\n\n  getTools() {\n    return /*html*/`\n      <select ref=\"$shapeInsideSelect\">      \n        ${shapeInsideList.map(it => {\n          return `<option value='${it}'>${it}</option>`\n        }).join('')}\n      </select>\n      <button type=\"button\" ref=\"$add\" title=\"add Shape Inside\">${icon.add}</button>\n    `;\n  }\n\n  makeShapeInsideTemplate (shapeinside) {\n    return /*html*/`\n      <div class='shapeinside-item'>\n        <div class='title'>\n          <div class='name'>${shapeinside}</div>\n          <div class='tools'>\n              <button type=\"button\" class=\"del\">\n                ${icon.remove2}\n              </button>\n          </div>\n        </div>\n      </div>\n    `\n  }\n\n  [CLICK('$shapeinsideList .shapeinside-item')] (e) {\n    var current = this.$selection.current;\n    if (!current) return;\n\n\n    this.viewShapeInsidePicker();\n\n  }\n\n  [CLICK('$shapeinsideList .del') + PREVENT] (e) {\n    var current = this.$selection.current;\n    if (!current) return;\n\n    current['shape-inside'] = '';\n\n    this.refresh();\n    \n    this.emit(\"refreshElement\", current);\n    this.emit('hideShapeInsidePopup');    \n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)] () {\n    this.refreshShowIsNot(['project', 'artboard']);\n  }\n\n\n  [LOAD(\"$shapeinsideList\")]() {\n    var current = this.$selection.current;\n    if (!current) return '';\n    if (!current['shape-inside']) return ''\n\n    return this.makeShapeInsideTemplate(current['shape-inside']);\n  }\n\n  [CLICK(\"$add\")]() {\n\n    var current = this.$selection.current;\n\n    if (!current) return ;\n    if (current['shape-inside']) {\n      alert('shape-inside is already exists.');\n      return; \n    }\n\n    if (current) {\n      current['shape-inside'] = this.refs.$shapeInsideSelect.value;\n\n      this.emit(\"refreshElement\", current);\n    }\n\n    this.refresh();\n  }\n\n  viewShapeInsidePicker() {\n    var current = this.$selection.current;\n    if (!current) return;\n\n    var obj = Shape.parseStyle(current['shape-inside'])\n\n    switch(obj.type) {\n    case 'path':\n      var d = obj.value.trim()\n      var mode = d ? 'modify' : 'draw'\n\n      this.emit('showPathEditor', mode, {\n        changeEvent: 'updateShapeInsideString',\n        current,\n        d,\n        box: 'box',\n        screenX: current.screenX,\n        screenY: current.screenY,\n        screenWidth: current.screenWidth,\n        screenHeight: current.screenHeight,\n      }) \n      break; \n    case 'svg':\n      // TODO: clip art 선택하기 \n      break; \n    default: \n      this.emit(\"showShapeInsidePopup\", {\n        'shape-inside': current['shape-inside']\n      });      \n      break; \n    }\n\n\n  }\n\n  [EVENT('updateShapeInsideString')] (data) {\n    var current = this.$selection.current;\n\n    if (!current) return;\n\n    current.reset({\n      'shape-inside': `path(${data.d})`\n    }); \n\n    this.refresh();\n    this.emit(\"refreshElement\", current);\n  }\n\n  [EVENT('changeShapeInsidePopup')] (data) {\n    var current = this.$selection.current;\n\n    if (!current) return;\n\n    current.reset(data); \n\n    this.refresh();\n    this.emit(\"refreshElement\", current);\n  }\n\n}\n","import BaseProperty from \"./BaseProperty\";\nimport { editor } from \"../../../editor/editor\";\nimport { DEBOUNCE, LOAD, BIND } from \"../../../util/Event\";\nimport { EVENT } from \"../../../util/UIElement\";\n\nconst i18n = editor.initI18n('layout.property');\n\nexport default class LayoutProperty extends BaseProperty {\n\n  getTitle() {\n    return i18n('title');\n  }\n\n  getClassName() {\n    return 'layout-property';\n  }\n\n  getBody() {\n    return /*html*/`\n        <div class='property-item' ref='$layoutType'></div>\n      `;\n  }  \n\n  [LOAD('$layoutType')] () {\n    var current = this.$selection.current || { layout : 'default' }\n    return /*html*/`\n      <div class='layout-select'>\n        <SelectIconEditor \n        ref='$layout' \n        key='layout' \n        icon=\"true\" \n        value=\"${current.layout}\"\n        options=\"default,flex,grid\"  \n        onchange=\"changeLayoutType\" />\n      </div>\n      <div class='layout-list' ref='$layoutList' data-selected-value='${current.layout}'>\n        <div data-value='none'>Default</div>\n        <div data-value='flex'>\n          <FlexLayoutEditor ref='$flex' key='flex-layout' onchange='changeLayoutInfo'>\n            <property name=\"value\" type=\"json\">${JSON.stringify(current.flex || {})}</property>\n          </FlexLayoutEditor>\n        </div>\n        <div data-value='grid'>\n          <GridLayoutEditor ref='$grid' key='grid-layout' onchange='changeLayoutInfo'>\n            <property name=\"value\" type=\"json\">${JSON.stringify(current.grid || {})}</property>\n          </GridLayoutEditor>\n        </div>\n      </div>\n    `\n  }\n\n  [EVENT('changeLayoutInfo')] (key, value) {\n    this.$selection.reset({\n      [key]: value\n    })\n\n    console.log(key, value);\n\n    this.emit('refreshStyleView');  // 전체 새로 고침 \n  }\n\n  [EVENT('changeLayoutType')] (key, value) {\n    this.$selection.reset({\n      [key]: value\n    })\n\n    // 타입 변화에 따른 하위 아이템들의 설정을 바꿔야 한다. \n    this.refs.$layoutList.attr('data-selected-value', value);\n\n    this.emit('refreshStyleView');  // 전체 새로 고침 \n  }\n\n  [EVENT('refreshSelection') + DEBOUNCE(100)]() {\n    this.refreshShow(['layer', 'artboard']);\n  }\n}\n","import BackgroundColorProperty from \"./BackgroundColorProperty\";\n// import BorderProperty from \"./BorderProperty\";\nimport BorderRadiusProperty from \"./BorderRadiusProperty\";\nimport SizeProperty from \"./SizeProperty\";\nimport BoxShadowProperty from \"./BoxShadowProperty\";\nimport BoxModelProperty from \"./BoxModelProperty\";\nimport ContentProperty from \"./ContentProperty\"; \nimport FontProperty from \"./FontProperty\";\nimport TextShadowProperty from \"./TextShadowProperty\";\nimport TextProperty from \"./TextProperty\";\nimport FontSpacingProperty from \"./FontSpacingProperty\";\nimport BorderImageProperty from \"./BorderImageProperty\";\nimport OutlineProperty from \"./OutlineProperty\";\nimport AnimationProperty from \"./AnimationProperty\";\nimport KeyframeProperty from \"./KeyframeProperty\";\nimport BackgroundImageProperty from \"./BackgroundImageProperty\";\nimport FilterProperty from \"./FilterProperty\";\nimport CodeViewProperty from \"./CodeViewProperty\";\nimport BackdropFilterProperty from \"./BackdropFilterProperty\";\nimport VariableProperty from \"./VariableProperty\";\nimport RootVariableProperty from \"./RootVariableProperty\";\nimport TransformProperty from \"./TransformProperty\";\nimport ClipPathProperty from \"./ClipPathProperty\";\nimport TransitionProperty from \"./TransitionProperty\";\nimport ComputedCodeViewProperty from \"./ComputedCodeViewProperty\";\nimport PerspectiveOriginProperty from \"./PerspectiveOriginProperty\";\nimport PerspectiveProperty from \"./PerspectiveProperty\";\nimport TransformOriginProperty from \"./TransformOriginProperty\";\nimport BackgroundClipProperty from \"./BackgroundClipProperty\";\n\nimport SelectorProperty from \"./SelectorProperty\";\nimport PositionProperty from \"./PositionProperty\";\nimport ProjectProperty from \"./ProjectProperty\";\nimport ArtBoardProperty from \"./ArtBoardProperty\";\nimport LayerTreeProperty from \"./LayerTreeProperty\";\nimport ArtBoardSizeProperty from \"./ArtBoardSizeProperty\";\nimport ImageProperty from \"./ImageProperty\";\nimport ColorAssetsProperty from \"./ColorAssetsProperty\";\nimport TextFillProperty from \"./TextFilllProperty\";\nimport GradientAssetsProperty from \"./GradientAssetsProperty\";\nimport SVGItemProperty from \"./SVGItemProperty\";\nimport TextClipProperty from \"./TextClipProperty\";\nimport SVGFilterAssetsProperty from \"./SVGFilterAssetsProperty\";\nimport SVGPathAssetsProperty from \"./SVGPathAssetsProperty\";\nimport AlignmentProperty from \"./AlignmentProperty\";\nimport MotionProperty from \"./MotionProperty\";\nimport ImageAssetsProperty from \"./ImageAssetsProperty\";\nimport ComponentProperty from \"./ComponentProperty\";\nimport TimelineAnimationProperty from \"./TimelineAnimationProperty\";\nimport BorderNewProperty from \"./BorderNewProperty\";\nimport ProjectInformationProperty from \"./ProjectInformationProperty\";\nimport PathDataProperty from \"./PathDataProperty\";\nimport PolygonDataProperty from \"./PolygonDataProperty\";\nimport SVGTextProperty from \"./SVGTextProperty\";\nimport ExportProperty from \"./ExportProperty\";\nimport ShapeInsideProperty from \"./ShapeInsideProperty\";\nimport LayoutProperty from \"./LayoutProperty\";\n\n\n\nexport default {  \n  LayoutProperty,\n  ShapeInsideProperty,\n  ExportProperty,\n  SVGTextProperty,\n  PolygonDataProperty,\n  PathDataProperty,\n  ProjectInformationProperty,\n  BorderNewProperty,\n  TimelineAnimationProperty,\n  ComponentProperty,\n  ImageAssetsProperty,\n  MotionProperty,\n  AlignmentProperty,\n  SVGPathAssetsProperty,\n  SVGFilterAssetsProperty,\n  TextClipProperty,\n  SVGItemProperty,\n  GradientAssetsProperty,\n  TextFillProperty,\n  ColorAssetsProperty,\n  ImageProperty,\n  ArtBoardSizeProperty,\n  LayerTreeProperty,\n  ProjectProperty,\n  ArtBoardProperty,\n  PositionProperty,\n  SelectorProperty,\n  BackgroundClipProperty,\n  TransformOriginProperty,\n  PerspectiveProperty,\n  PerspectiveOriginProperty,\n  ComputedCodeViewProperty,\n  TransitionProperty,\n  ClipPathProperty,\n  TransformProperty,\n  RootVariableProperty,\n  VariableProperty,\n  BackdropFilterProperty,\n  CodeViewProperty,  \n  FilterProperty,\n  BorderRadiusProperty,\n  BackgroundImageProperty,\n  KeyframeProperty,\n  AnimationProperty,\n  OutlineProperty,\n  BorderImageProperty,\n  FontSpacingProperty,\n  TextProperty,\n  TextShadowProperty,\n  FontProperty,\n  ContentProperty,\n  BoxModelProperty,\n  BoxShadowProperty,\n  SizeProperty,\n  BorderRadiusProperty,\n  // BorderProperty,\n  BackgroundColorProperty,\n};\n","import UIElement from \"../../../util/UIElement\";\n\nimport { CLICK } from \"../../../util/Event\";\nimport property from \"../property/index\";\nimport icon from \"../icon/icon\";\nimport { editor } from \"../../../editor/editor\";\n\nconst i18n = editor.initI18n('inspector');\n\nexport default class Inspector extends UIElement {\n  template() {\n    return /*html*/`\n      <div class=\"feature-control inspector\">\n        <div>\n          <div class=\"tab number-tab\" data-selected-value=\"1\" ref=\"$tab\">\n            <div class=\"tab-header\" ref=\"$header\">\n              <div class=\"tab-item\" data-value=\"1\" title='${i18n('tab.title.style')}'>\n                <label class='icon'>${icon.brush}</label>\n              </div>\n              <div class=\"tab-item\" data-value=\"2\" title=\"${i18n('tab.title.component')}\">\n                <label class='icon'>${icon.cube}</label>\n              </div>              \n              <div class=\"tab-item\" data-value=\"3\" title=\"${i18n('tab.title.transition')}\">\n                <label>${icon.flash_on}</label>\n              </div>\n              \n              <div class=\"tab-item\" data-value=\"4\" title='${i18n('tab.title.asset')}'>\n                <label class='icon'>${icon.view_list}</label>\n              </div>                                     \n              <div class=\"tab-item\" data-value=\"5\" title='${i18n('tab.title.code')}'>\n                <label class='icon'>${icon.code}</label>\n              </div>                                     \n            </div>\n            <div class=\"tab-body\" ref=\"$body\">\n\n              <div class=\"tab-content\" data-value=\"1\">\n                <AlignmentProperty />\n\n                <!-- Default Property --> \n                <PositionProperty />\n                <SizeProperty /> \n                <LayoutProperty />\n                <BoxModelProperty />\n\n                <!-- Appearance --> \n                <BackgroundColorProperty />\n                <BackgroundImageProperty />                \n                <BorderNewProperty />\n                <BorderRadiusProperty />\n\n                <!-- effect -->\n                <BoxShadowProperty />\n                <FilterProperty />\n                <BackdropFilterProperty />\n                <ClipPathProperty />       \n\n                <!-- transform --> \n                <TransformProperty />                  \n                <TransformOriginProperty /> \n                <PerspectiveProperty />\n                <PerspectiveOriginProperty />                                \n              \n\n                <!--BorderImageProperty /-->                \n\n                <!-- <OutlineProperty /> -->\n                <!-- <BackgroundClipProperty /> -->  \n\n                <ExportProperty />\n                \n                <div class='empty'></div>\n              </div>\n              <div class=\"tab-content\" data-value=\"2\">\n\n                <!-- ArtBoard --> \n                <ArtBoardSizeProperty />              \n\n                <!-- SVG Item --> \n                <SVGTextProperty />        \n                <SVGItemProperty />\n                <!--ShapeInsideProperty /-->                \n                <PathDataProperty />\n                <PolygonDataProperty />\n\n                <ComponentProperty />\n\n                <!-- Image --> \n                <ImageProperty />\n\n                <!-- Text -->\n                <!-- <ContentProperty /> -->    \n                <FontProperty />\n                <TextProperty />\n                <TextShadowProperty />\n                <TextFillProperty />\n                <FontSpacingProperty />\n                <TextClipProperty />\n                <!-- <RootVariableProperty /> -->\n                <!-- <VariableProperty /> -->\n\n\n                <div class='empty'></div>                \n              </div>              \n              <div class='tab-content' data-value='3'>\n                <MotionProperty />              \n                <!-- <RootVariableProperty /> -->\n                <!-- <VariableProperty /> -->\n                <!-- SelectorProperty /> --> \n                <TransitionProperty />                            \n                <AnimationProperty />\n                <KeyframeProperty />    \n                <SelectorProperty />                              \n                <div class='empty'></div>                \n              </div>                        \n              <div class='tab-content' data-value='4'>\n                <ImageAssetsProperty />\n                <!--SVGProperty /-->              \n                <SVGFilterAssetsProperty />\n                <!-- SVGPathAssetsProperty /-->\n                <ColorAssetsProperty />\n                <GradientAssetsProperty />    \n                \n                <div class='empty'></div>                \n              </div>\n              <div class=\"tab-content\" data-value=\"5\">\n                <CodeViewProperty />\n                <div class='empty'></div>                           \n              </div>                       \n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  components() {\n    return property;\n  }\n\n  [CLICK(\"$header .tab-item:not(.empty-item)\")](e) {\n    this.refs.$tab.attr(\n      \"data-selected-value\",\n      e.$dt.attr(\"data-value\")\n    );\n  }\n\n  [CLICK(\"$extraHeader .tab-item(.empty-item)\")](e) {\n    this.refs.$extraTab.attr(\n      \"data-selected-value\",\n      e.$dt.attr(\"data-value\")\n    );\n  }\n}\n","\nimport { POINTERSTART, MOVE, END, CLICK } from \"../../../util/Event\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport UIElement, { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\nimport { editor } from \"../../../editor/editor\";\n\n\nexport default class BasePopup extends UIElement {\n\n  template() {\n    return `\n        <div class='popup ${this.getClassName()}'>\n            <div class='popup-title' ref=\"$title\">\n                <label>${this.getTitle()}</label>\n                <span class=\"tools\">\n                  ${this.getTools()}\n                  <button type='button' class='close' ref='$close'>${icon.close}</button>\n                </span>\n            </div>\n            <div class='popup-body'>${this.getBody()}</div>\n        </div>\n        `;\n  }\n\n  getClassName() {\n    return '';\n  }\n  getTitle() {\n    return '';\n  }\n  getTools() {\n    return '';\n  }\n  getBody() {\n    return '';\n  }\n\n  [CLICK('$close')] () {\n    this.$el.hide();\n  }\n\n  [POINTERSTART('$title') + MOVE('movePopupTitle') + END('endPopupTitle')] () {\n    this.x = Length.parse(this.$el.css('left'))\n    this.y = Length.parse(this.$el.css('top'))\n\n  }\n\n  movePopupTitle (dx, dy) {\n    var left = Length.px(this.x.value + dx)\n    var top = Length.px(this.y.value + dy)\n\n    this.$el.css({ left, top, right: 'auto', bottom: 'auto' })\n  }\n\n  show (width = 200) {\n\n    var popupPadding = 28;\n    var rightPosition = 320; \n\n    var top = this.$el.css('top')\n    var left = this.$el.css('left')\n\n    var realTop = top !== 'auto' ? Length.parse(top) : Length.px(110)\n    var realLeft = left !== 'auto' ? Length.parse(left) : Length.px(document.body.clientWidth - rightPosition - popupPadding - width)\n\n    this.$el\n      .css({\n        top: realTop,\n        left: realLeft,\n        'z-index': editor.zIndex\n      })\n      .show(\"inline-block\");\n  }\n\n  hide () {\n    this.$el.hide();\n  }\n\n  [EVENT( \"hidePropertyPopup\")]() {\n    this.hide();\n  }\n\n}\n","import { EVENT } from \"../../../util/UIElement\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { LOAD, CLICK, POINTERSTART, MOVE } from \"../../../util/Event\";\nimport RangeEditor from \"../property-editor/RangeEditor\";\nimport BasePopup from \"./BasePopup\";\nimport EmbedColorPicker from \"../property-editor/EmbedColorPicker\";\n\n\nexport default class BoxShadowPropertyPopup extends BasePopup {\n\n  getTitle() {\n    return 'Box Shadow Editor'\n  }\n\n  components() {\n    return {\n      EmbedColorPicker,\n      RangeEditor\n    }\n  }\n  initState() {\n    return {\n      color: 'rgba(0, 0, 0, 1)',\n      inset: false,\n      offsetX: Length.px(0),\n      offsetY: Length.px(0),\n      blurRadius: Length.px(0),\n      spreadRadius: Length.px(0)\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(this.changeEvent, opt, this.state.params);\n  }\n\n  getBody() {\n    return `<div class='box-shadow-property-popup' ref='$popup'></div>`;\n  }\n\n  [LOAD(\"$popup\")]() {\n    return `\n      <div class='box'>\n        <EmbedColorPicker ref='$colorpicker' value='${this.state.color}' onchange='changeColor' />\n      </div>\n      <div class=\"box\">\n        <div class=\"type\">\n          <label>Type</label>\n          <div\n            class=\"select\"\n            data-selected-value=\"${this.state.inset ? \"inset\" : \"outset\"}\"\n            ref=\"$type\"\n          >\n            <button type=\"button\" data-value=\"outset\">Outset</button>\n            <button type=\"button\" data-value=\"inset\">Inset</button>\n          </div>\n        </div>\n        <div class=\"drag-board\" ref=\"$dragBoard\">\n          <div\n            class=\"pointer\"\n            ref=\"$pointer\"\n            style=\"left: ${this.state.offsetX};top: ${this.state.offsetY}\"\n          ></div>\n        </div>        \n        <div class=\"offset-x\">\n          <RangeEditor ref='$offsetX' label='X' key='offsetX' value=\"${this.state.offsetX}\" onchange='changeRangeEditor' />\n        </div>\n        <div class=\"offset-y\">\n          <RangeEditor ref='$offsetY' label='Y' key='offsetY' value=\"${this.state.offsetY}\" onchange='changeRangeEditor' />        \n        </div>\n        <div class=\"blur-radius\">\n          <RangeEditor ref='$blurRadius' label='Blur' key='blurRadius' value=\"${this.state.blurRadius}\" onchange='changeRangeEditor' />        \n        </div>\n        <div class=\"spread-radius\">\n          <RangeEditor ref='$spreadRadius' label='Spread' key='spreadRadius' value=\"${this.state.spreadRadius}\" onchange='changeRangeEditor' />        \n        </div>\n\n      </div>\n    `;\n  }\n\n\n  [CLICK(\"$popup .select button\")](e) {\n    var type = e.$dt.attr(\"data-value\");\n\n    this.getRef(\"$type\").attr(\"data-selected-value\", type);\n\n    this.updateData({\n      inset: type === \"inset\"\n    });\n  }\n\n  [POINTERSTART(\"$popup .drag-board\") + MOVE(\"movePointer\")](e) {\n    this.offsetX = e.offsetX;\n    this.offsetY = e.offsetY;\n\n    var rect = this.getRef(\"$dragBoard\").rect();\n    this.boardWidth = rect.width;\n    this.boardHeight = rect.height;\n  }\n\n  refreshPointer() {\n    this.getRef(\"$pointer\").css({\n      left: this.state.offsetX,\n      top: this.state.offsetY\n    });\n\n  }\n\n  movePointer(dx, dy) {\n    var realX = this.offsetX + dx;\n    var realY = this.offsetY + dy;\n\n    var halfWidth = this.boardWidth / 2;\n    var halfHeight = this.boardHeight / 2;\n\n    var x = realX - halfWidth;\n    var y = realY - halfHeight;\n\n    if (x < -halfWidth) {\n      x = -halfWidth;\n    } else if (x > halfWidth) {\n      x = halfWidth;\n    }\n\n    if (y < -halfHeight) {\n      y = -halfHeight;\n    } else if (y > halfHeight) {\n      y = halfHeight;\n    }\n\n    x = Math.floor(x);\n    y = Math.floor(y);\n\n    this.getRef(\"$offsetX\").val(x);\n    this.getRef(\"$offsetY\").val(y);\n\n    this.updateData({\n      offsetX: Length.px(x),\n      offsetY: Length.px(y)\n    });\n\n    this.refreshPointer();\n\n    this.children.$offsetX.setValue(this.state.offsetX)\n    this.children.$offsetY.setValue(this.state.offsetY)    \n  }\n\n  [EVENT('changeRangeEditor')] (key, value) {\n    this.updateData({\n      [key]: value\n    })\n\n    if (key === 'offsetX' || key === 'offsetY') {\n      this.refreshPointer()\n    }\n  }\n\n  [EVENT('changeColor')] (value) {\n    this.trigger('changeRangeEditor', 'color', value);\n  }\n\n  [EVENT(\"showBoxShadowPropertyPopup\")](data, params) {\n\n    this.changeEvent = data.changeEvent || \"changeBoxShadowPropertyPopup\"\n\n    this.setState({...data, params});\n    this.refresh();\n\n    this.show(432);\n\n  }\n\n  [EVENT( \"hideBoxShadowPropertyPopup\" )]() {\n    this.hide();\n  }\n}\n","import { EVENT } from \"../../../util/UIElement\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { LOAD, POINTERSTART, MOVE } from \"../../../util/Event\";\nimport RangeEditor from \"../property-editor/RangeEditor\";\nimport BasePopup from \"./BasePopup\";\nimport EmbedColorPicker from \"../property-editor/EmbedColorPicker\";\n\nexport default class TextShadowPropertyPopup extends BasePopup {\n\n  getTitle() {\n    return 'Text Shadow Editor'\n  }\n\n  components() {\n    return {\n      EmbedColorPicker,\n      RangeEditor\n    }\n  }\n  initState() {\n    return {\n      color: 'rgba(0, 0, 0, 1)',  \n      offsetX: Length.px(0),\n      offsetY: Length.px(0),\n      blurRadius: Length.px(0)\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(this.changeEvent, opt, this.params);\n  }\n\n  getBody() {\n    return `<div class='text-shadow-property-popup' ref='$popup'></div>`;\n  }\n\n  [LOAD(\"$popup\")]() {\n    return /*html*/`\n      <div class='box'>\n        <EmbedColorPicker ref='$colorpicker' value='${this.state.color}' onchange='changeColor' />\n      </div>\n      <div class='box'>\n        <div class=\"drag-board\" ref=\"$dragBoard\">\n          <div\n            class=\"pointer\"\n            ref=\"$pointer\"\n            style=\"left: ${this.state.offsetX};top: ${this.state.offsetY}\"\n          ></div>\n        </div>\n        <div>\n          <label>Offset X</label>\n          <RangeEditor ref='$offsetX' calc='false' key='offsetX' min=\"-100\" max='100' value='${this.state.offsetX}' onchange='changeShadow' />\n        </div>\n        <div>\n          <label>Offset Y</label>      \n          <RangeEditor ref='$offsetY' calc='false' key='offsetY' min=\"-100\" max='100' value='${this.state.offsetY}' onchange='changeShadow' />\n        </div>\n        <div>\n          <label>Blur Radius</label>\n          <RangeEditor ref='$blurRadius' calc='false' key='blurRadius' value='${this.state.blurRadius}' onchange='changeShadow' />\n        </div>\n      </div>\n    `;\n  }\n\n  [EVENT('changeShadow')] (key, value) {\n    this.updateData({\n      [key]: value\n    });\n\n    if (key === 'offsetX' || key === 'offsetY') {\n      this.refreshPointer();\n    }\n\n  }\n\n  [EVENT('changeColor')] (value) {\n    this.trigger('changeShadow', 'color', value);\n  }\n\n  [POINTERSTART(\"$popup .drag-board\") + MOVE(\"movePointer\")](e) {\n    this.offsetX = e.offsetX;\n    this.offsetY = e.offsetY;\n\n    var rect = this.getRef(\"$dragBoard\").rect();\n    this.boardWidth = rect.width;\n    this.boardHeight = rect.height;\n  }\n\n  refreshPointer() {\n    this.getRef(\"$pointer\").css({\n      left: this.state.offsetX,\n      top: this.state.offsetY\n    });\n  }\n\n  movePointer(dx, dy) {\n    var realX = this.offsetX + dx;\n    var realY = this.offsetY + dy;\n\n    var halfWidth = this.boardWidth / 2;\n    var halfHeight = this.boardHeight / 2;\n\n    var x = realX - halfWidth;\n    var y = realY - halfHeight;\n\n    if (x < -halfWidth) {\n      x = -halfWidth;\n    } else if (x > halfWidth) {\n      x = halfWidth;\n    }\n\n    if (y < -halfHeight) {\n      y = -halfHeight;\n    } else if (y > halfHeight) {\n      y = halfHeight;\n    }\n\n    x = Math.floor(x);\n    y = Math.floor(y);\n\n    this.updateData({\n      offsetX: Length.px(x),\n      offsetY: Length.px(y)\n    });\n\n    this.children.$offsetX.setValue(this.state.offsetX);\n    this.children.$offsetY.setValue(this.state.offsetY);\n\n    this.refreshPointer();\n  }\n\n  [EVENT(\"showTextShadowPropertyPopup\")](data, params) {\n\n    this.changeEvent = data.changeEvent || \"changeTextShadowPropertyPopup\"\n    this.params = params;\n\n    this.setState(data, false);\n    this.refresh();\n\n    this.show(432);\n  }\n\n  [EVENT(\"hideTextShadowPropertyPopup\")]() {\n    this.hide()\n  }\n}\n","import { EVENT } from \"../../../util/UIElement\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { LOAD, CHANGE } from \"../../../util/Event\";\nimport CubicBezierEditor from \"../property-editor/CubicBezierEditor\";\nimport { editor } from \"../../../editor/editor\";\nimport RangeEditor from \"../property-editor/RangeEditor\";\nimport IterationCountEditor from \"../property-editor/IterationCountEditor\";\nimport SelectEditor from \"../property-editor/SelectEditor\";\nimport BasePopup from \"./BasePopup\";\n\nconst i18n = editor.initI18n('animation.property.popup');\n\nexport default class AnimationPropertyPopup extends BasePopup {\n\n  getTitle() {\n    return i18n('title')\n  }\n\n  components() {\n    return {\n      SelectEditor,\n      CubicBezierEditor,\n      RangeEditor,\n      IterationCountEditor\n    }\n  }\n\n  initState() {\n    return {\n      name: 'none',\n      direction: 'normal',\n      duration: Length.second(0),\n      timingFunction: 'ease',\n      delay: Length.second(0),\n      iterationCount: 0,\n      playState: 'running',\n      fillMode: 'none'\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(\"changeAnimationPropertyPopup\", opt);\n  }\n\n  getBody() {\n    return `<div class='animation-property-popup' ref='$popup'></div>`;\n  }\n\n  [LOAD('$popup')] () {\n    return `\n      <div class=\"box\">\n        ${this.templateForKeyframe()}\n        ${this.templateForTimingFunction()}\n        ${this.templateForIterationCount()}\n        ${this.templateForDelay()}\n        ${this.templateForDuration()}\n        ${this.templateForDirection()}\n        ${this.templateForFillMode()}\n        ${this.templateForPlayState()}\n      </div>\n    `;\n  }\n\n  templateForTimingFunction () {\n    return /*html*/`\n    <div class='timing-function'>\n      <label>${i18n('timing.function')}</label>\n      <CubicBezierEditor ref='$cubicBezierEditor' key=\"timingFunction\" value=\"${this.state.timingFunction}\" onChange='changeCubicBezier' />\n    </div>\n    `\n  }\n\n  templateForKeyframe() {\n   \n    return /*html*/`\n      <div class='name'>\n        <label>${i18n('keyframe')}</label>\n        <div class='input grid-1'>\n          <select ref='$name'></select>\n        </div>\n      </div>\n    `\n  }\n\n  [LOAD('$name')] () {\n    var current = this.$selection.currentProject;\n    var names = []\n    if (current && current.keyframes) {\n      names = current.keyframes.map(it => {\n        return {key: it.name, value: it.name}\n      });\n    }\n\n    names.unshift({key: 'Select a keyframe', value : ''});\n\n    return names.map(it => {\n      var selected = it.value === this.name ? 'selected' : '';\n      var label = i18n(it.key);\n      return `<option value='${it.value}' ${selected}>${label}</option>`\n    })\n  }\n\n  [CHANGE('$name')] () {\n    this.updateData({name: this.refs.$name.value })\n  }\n\n  templateForDirection() {\n\n    var options = 'normal,reverse,alternate,alternate-reverse'.split(',').map(it => {\n      return `${it}:${i18n(it)}`\n    }).join(',')\n\n    return /*html*/`\n      <div class='direction'>\n        <SelectEditor \n            label='${i18n('direction')}'\n            ref='$direction' \n            key='direction' \n            value=\"${this.state.direction}\"\n            options='${options}'\n            onChange='changeSelect'\n        /> \n      </div>\n    `\n  }\n\n  [EVENT('changeSelect')] (key, value) {\n    this.updateData({ [key]: value })\n  }\n\n  templateForPlayState() {\n    return /*html*/`\n    <div class='play-state'>\n      <SelectEditor \n          label='${i18n('play.state')}'\n          ref='$playState' \n          key='playState' \n          value=\"${this.state.playState}\"\n          options='${['paused', 'running']}'\n          onChange='changeSelect'\n      /> \n    </div>\n  `\n  }  \n\n  templateForFillMode() {\n\n    var options = 'none,forwards,backwards,both'.split(',').map(it=>{\n      return `${it}:${i18n(it)}`\n    }).join(',');\n\n    return /*html*/`\n    <div class='fill-mode'>\n      <SelectEditor \n          label='${i18n('fill.mode')}'\n          ref='$fillMode' \n          key='fillMode' \n          value=\"${this.state.fillMode}\"\n          options='${options}'\n          onChange='changeSelect'\n      /> \n    </div>\n  `\n  }\n\n  templateForDelay () {\n    return /*html*/`\n    <div class='delay'>\n      <RangeEditor \n        ref='$delay' \n        label='${i18n('delay')}' \n        calc='false' \n        key='delay' \n        value='${this.state.delay}' \n        units='s,ms' \n        onChange=\"changeRangeEditor\" />\n    </div>\n    `\n  }\n\n  templateForDuration () {\n    return /*html*/`\n    <div class='duration'>\n      <RangeEditor ref='$duration' label='${i18n('duration')}'  calc='false' key='duration' value='${this.state.duration}' units='s,ms' onChange=\"changeRangeEditor\" />\n    </div>\n    `\n  }\n\n  templateForIterationCount () {\n    return /*html*/`\n      <div class='iteration-count'>\n        <IterationCountEditor ref='$iterationCount' label='${i18n('iteration')}' calc='false' key='iterationCount' value='${this.state.iterationCount}' units='normal,infinite' onChange=\"changeRangeEditor\" />\n      </div>\n    `\n  }\n\n  [EVENT('changeRangeEditor')] (key, value) {\n\n    if (key === 'iterationCount') {\n      if (value.unit === 'normal') {\n        value = Length.number(value.value)\n      } else {\n        value = Length.string(value.unit)\n      }\n    }\n    this.updateData({ [key]: value })\n  }\n\n  [EVENT('changeCubicBezier')] (key, value) {\n    this.updateData({ [key]: value })\n  }\n\n  [EVENT(\"showAnimationPropertyPopup\")](data) {\n    this.setState(data);\n\n    this.show(250)\n\n    this.emit('showCubicBezierEditor', data)    \n  }\n\n  [EVENT(\"hideAnimationPropertyPopup\")]() {\n    this.$el.hide();\n  }\n}\n","import { EVENT } from \"../../../util/UIElement\";\nimport OffsetEditor from \"../property-editor/OffsetEditor\";\nimport { INPUT } from \"../../../util/Event\";\nimport BasePopup from \"./BasePopup\";\nimport { editor } from \"../../../editor/editor\";\n\nexport default class KeyframePopup extends BasePopup {\n\n  getTitle () {\n    return this.$i18n('keyframe.popup.title')\n  }\n\n  components() {\n    return {\n      OffsetEditor\n    }\n  }\n\n  initState() {\n    return {\n      name: 'none',\n      offsets: []\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(\"changeKeyframePopup\", this.state);\n  }\n\n  getBody() {\n    return /*html*/`\n    <div class='keyframe-popup' ref='$popup'>\n      <div class=\"box\">\n        ${this.templateForName()}\n        ${this.templateForOffset()}\n      </div>\n    </div>`;\n  }\n\n  templateForOffset () {\n    return /*html*/`\n      <div>\n        <OffsetEditor ref='$offsetEditor' />\n      </div>\n    `\n  }\n\n  templateForName() {\n    return /*html*/`\n      <div class='name'>\n        <label>Name</label>\n        <div class='input grid-1'>\n          <input type='text' value='${this.state.name}' ref='$name'/>\n        </div>\n      </div>\n    `\n  }\n\n  [INPUT('$name')] (e) {\n    if (this.refs.$name.value.match(/^[a-zA-Z0-9\\b]+$/)) {\n      this.updateData({name : this.refs.$name.value })\n    } else {\n      e.preventDefault()\n      e.stopPropagation()\n      return false;\n    }\n  }\n  \n  getOffsetData () {\n    var offsets = this.state.offsets.map(it => it)\n\n    return { offsets }\n  }\n\n  refresh() {\n\n    this.refs.$name.val(this.state.name);\n    this.emit('showOffsetEditor', this.getOffsetData())\n  }\n\n  [EVENT('changeOffsetEditor')] (data) {\n    this.updateData(data);\n  }\n\n  [EVENT(\"showKeyframePopup\")](data) {\n    this.setState(data);\n    this.refresh();\n\n    this.show(240);\n\n  }\n\n  [EVENT(\"hideKeyframePopup\")]() {\n    this.$el.hide();\n  }\n}\n","import UIElement, { EVENT } from \"../../../../util/UIElement\";\n\nimport { Length } from \"../../../../editor/unit/Length\";\nimport { POINTERSTART, MOVE, LOAD, CLICK, BIND } from \"../../../../util/Event\";\nimport RangeEditor from \"../RangeEditor\";\nimport { DirectionLength } from \"../../../../editor/unit/DirectionLength\";\nimport DirectionEditor from \"../DirectionEditor\";\n\nexport default class InsetEditor extends UIElement {\n\n    components () {\n        return {\n            DirectionEditor,\n            RangeEditor\n        }\n    }\n\n    parseValue (str = '') {\n        var [inset, round] = str.split('round')\n\n        var [_count, top, right, bottom, left] = DirectionLength.parse(inset);\n\n        if (round) {\n\n            var [_roundCount, topRadius, rightRadius, bottomRadius, leftRadius] = DirectionLength.parse(round);\n\n        }\n\n        return {\n            isAll: _count === 1,\n            top, \n            right, \n            bottom, \n            left ,\n            round,\n            isAllRadius: _roundCount === 1,\n            topRadius,\n            rightRadius,\n            bottomRadius,\n            leftRadius\n        }\n    }\n\n    initState() {\n        return this.parseValue(this.props.value)\n    }\n\n    template() {\n\n        var { top, right, bottom, left, round} = this.state; \n\n        var maxWidth = 220;\n        var maxHeight = 220; \n\n        var topX =  Length.percent( Math.abs((left.value - (100 - right.value))/2) ).toPx(maxWidth)\n        var topY = top.toPx(maxHeight);\n\n        var bottomX = topX.clone()\n        var bottomY = Length.percent(100 - bottom.value).toPx(maxHeight);\n\n        var rightX = Length.percent(100 - right.value).toPx(maxWidth);\n        var rightY = Length.percent( Math.abs((top.value - (100 - bottom.value))/2) ).toPx(maxHeight)\n\n        var leftX = left.toPx(maxWidth)\n        var leftY = Length.percent( Math.abs((top.value - (100 - bottom.value))/2) ).toPx(maxHeight)\n\n        var roundCheckStatus = round ? 'checked' : '';\n\n        return /*html*/`\n        <div class='clip-path-editor inset-editor'>\n            <div class='drag-area' ref='$area'>\n                <div class='drag-pointer' data-type='top' ref='$top' style='left: ${topX};top: ${topY};'></div>\n                <div class='drag-pointer' data-type='right' ref='$right' style='left: ${rightX};top: ${rightY};'></div>\n                <div class='drag-pointer' data-type='bottom' ref='$bottom' style='left: ${bottomX};top: ${bottomY};'></div>\n                <div class='drag-pointer' data-type='left' ref='$left' style='left: ${leftX};top: ${leftY};'></div>\n                <div class='clip-area inset' ref='$clipAreaView' style='pointer-events: none;'></div>\n                <div class='clip-area-handle' ref='$clipArea' style='left: ${leftX};top: ${topY};width: ${Length.px(rightX.value - left.value)};height: ${Length.px(bottomY.value - topY.value)};'></div>\n            </div>\n            <div class='round-area'>\n                <label><input type=\"checkbox\" ${roundCheckStatus} ref='$hasRound' /> Round </label>\n                <div ref='$round'></div>\n            </div>\n        </div>\n    `\n    }\n\n   \n\n    [BIND('$clipAreaView')] () {\n        return {\n            style : {\n                'clip-path' : `${this.props.key}(${this.toClipPathValueString()})`\n            }\n        }\n    }   \n\n    [CLICK('$hasRound')] (e) {\n       this.updateData({\n           round: this.refs.$hasRound.checked()\n       }) \n\n       this.bindData('$clipAreaView')\n    }\n\n\n    [LOAD('$round')] () {\n        var {topRadius, rightRadius, bottomRadius, leftRadius} = this.state\n\n        var value = [topRadius, rightRadius, bottomRadius, leftRadius].join(' ')\n\n        return /*html*/`<DirectionEditor ref='$borderRadius' value='${value}' onchange='changeBorderRadius' />`\n    }\n\n    [EVENT('changeBorderRadius')] ([_count, topRadius, rightRadius, bottomRadius, leftRadius]) {\n\n        this.updateData({ \n            isAllRadius: _count === 1,\n            topRadius, \n            rightRadius, \n            bottomRadius, \n            leftRadius\n        })\n\n        this.bindData('$clipAreaView')        \n\n    }\n\n    refreshPointer () {\n        var { top, right, bottom, left} = this.state; \n\n        var maxWidth = 220;\n        var maxHeight = 220; \n\n        var halfWidth = Math.abs((left.value + (100 - right.value))/2);\n        var halfHeight = Math.abs((top.value + (100 - bottom.value))/2);\n\n        var topX =  Length.percent( halfWidth ).toPx(maxWidth)\n        var topY = top.toPx(maxHeight);\n\n        var bottomX = Length.percent( halfWidth ).toPx(maxWidth)\n        var bottomY = Length.percent(100 - bottom.value).toPx(maxHeight);\n\n        var rightX = Length.percent(100 - right.value).toPx(maxWidth);\n        var rightY = Length.percent( halfHeight ).toPx(maxHeight)\n\n        var leftX = left.toPx(maxWidth)\n        var leftY = Length.percent( halfHeight ).toPx(maxHeight)\n\n        this.refs.$top.css({ left: topX, top: topY })\n        this.refs.$right.css({ left: rightX, top: rightY })\n        this.refs.$bottom.css({ left: bottomX, top: bottomY })\n        this.refs.$left.css({ left: leftX, top: leftY })\n\n        this.refs.$clipArea.css({\n            left: leftX,\n            top: topY,\n            width: Length.px(rightX.value - leftX.value),\n            height: Length.px(bottomY.value - topY.value)\n        })\n\n        this.bindData('$clipAreaView')\n    }\n\n    [POINTERSTART('$area .clip-area-handle') + MOVE('moveClipArea')] (e) {\n\n        this.type = e.$dt.attr('data-type');\n        this.$target = e.$dt;\n        this.areaRect = this.refs.$area.rect(); \n        this.startXY = e.xy; \n\n        this.clipRect = {\n            left: Length.parse(this.$target.css('left')),\n            top: Length.parse(this.$target.css('top')),\n            width: Length.parse(this.$target.css('width')),\n            height: Length.parse(this.$target.css('height')),\n        }\n\n    }\n\n   \n    moveClipArea (dx, dy) {\n\n        var clipWidth = this.clipRect.width.value;\n        var clipHeight = this.clipRect.height.value;\n        var x = this.clipRect.left.value + dx;\n        var y = this.clipRect.top.value + dy;\n\n        if (0 > x) {\n            x = 0; \n        } else if (this.areaRect.width < x + clipWidth) {\n            x = this.areaRect.width - clipWidth; \n        }\n\n        if (0 > y) {\n            y = 0; \n        } else if (this.areaRect.height < y + clipHeight) {\n            y = this.areaRect.height - clipHeight; \n        }        \n\n        var left = Length.px(x)\n        var top = Length.px(y)\n\n        this.updateData({ \n            top : top.toPercent(this.areaRect.height).round(100),\n            bottom : Length.px(this.areaRect.height -  (y + clipHeight) ).toPercent(this.areaRect.height).round(100),\n            right : Length.px(this.areaRect.width - (x + clipWidth)).toPercent(this.areaRect.width).round(100),\n            left : left.toPercent(this.areaRect.width).round(100) \n        })\n\n\n        this.refreshPointer();\n\n    } \n\n\n    [POINTERSTART('$area .drag-pointer') + MOVE()] (e) {\n\n        this.type = e.$dt.attr('data-type');\n        this.$target = e.$dt;\n        this.areaRect = this.refs.$area.rect(); \n        this.startXY = e.xy; \n    }\n\n    move (dx, dy) {\n        var x = this.startXY.x + dx;\n        var y = this.startXY.y + dy;  \n\n        if (this.areaRect.x > x) {\n            x = this.areaRect.x; \n        } else if (this.areaRect.right < x) {\n            x = this.areaRect.right; \n        }\n\n        if (this.areaRect.y > y) {\n            y = this.areaRect.y; \n        } else if (this.areaRect.bottom < y) {\n            y = this.areaRect.bottom; \n        }        \n\n        var left = Length.px(x - this.areaRect.x)\n        var top = Length.px(y - this.areaRect.y)\n\n        if (this.type === 'top') {\n            this.updateData({ \n                top : top.toPercent(this.areaRect.height).round(100) \n            })            \n        } else if (this.type === 'bottom') {\n            this.updateData({ \n                bottom : Length.px(this.areaRect.height -  top.value).toPercent(this.areaRect.height).round(100) \n            })\n        } else if (this.type === 'right') {\n            this.updateData({ \n                right : Length.px(this.areaRect.width - left.value).toPercent(this.areaRect.width).round(100) \n            })                                    \n        } else if (this.type === 'left') {\n            this.updateData({ \n                left : left.toPercent(this.areaRect.width).round(100) \n            })\n        }\n\n        this.refreshPointer();\n\n    }\n\n    toClipPathValueString () {\n\n        var {top, right, left, bottom, round, topRadius, leftRadius, bottomRadius, rightRadius} = this.state;\n\n        var position = [top, right, bottom, left].join(' ')\n        var radius = [topRadius, rightRadius, bottomRadius, leftRadius].join(' ')\n\n        var results = `${position} ${(round && radius.trim()) ? `round ${radius}` : ''}`\n\n        return results;\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)\n    }\n\n}","import { Length } from \"../../../../editor/unit/Length\";\nimport { POINTERSTART, MOVE, LOAD, CLICK, BIND, PREVENT, ALT } from \"../../../../util/Event\";\nimport RangeEditor from \"../RangeEditor\";\nimport Dom from \"../../../../util/Dom\";\nimport icon from \"../../icon/icon\";\nimport UIElement from \"../../../../util/UIElement\";\n\n\nexport default class PolygonEditor extends UIElement {\n\n    components () {\n        return {\n            RangeEditor\n        }\n    }\n\n    parseValue (str = '') {\n\n        var maxWidth = 220;\n        var maxHeight = 220;\n\n        return str.split(',').filter(it => it.trim()).map(it => {\n           var [x, y] = it.trim().split(' ')\n\n           return { \n               x: Length.parse(x).toPx(maxWidth), \n               y: Length.parse(y).toPx(maxHeight) \n            }\n        })\n    }\n\n    initState() {\n        return {\n            value: this.parseValue(this.props.value)\n        }\n    }\n\n    template() {\n\n        return `\n        <div class='clip-path-editor polygon-editor'>\n            <div class='drag-area' ref='$area'>\n                <div class='pointer-list' ref='$list'></div>\n                <div class='clip-area polygon' ref='$clipArea'></div>            \n            </div>\n            <div class='pointer-input' ref='$inputList'></div>\n        </div>\n    `\n    }\n    \n    [LOAD('$inputList')] () {\n        return this.state.value.map( (it, index) => {\n            return /*html*/`\n            <div class='pointer-item' data-index=\"${index}\">\n                <div class='input-item'>\n                    <label>X</label><input type='number' class='x' value=\"${it.x.value.toString()}\" /><span>%</span>\n                </div>\n                <div class='input-item'>\n                    <label>Y</label><input type='number' class='y' value=\"${it.y.value.toString()}\" /><span>%</span>\n                </div>\n                <div class='tools'>\n                    <button type=\"button\" class='copy' data-index=\"${index}\">${icon.copy}</button>\n                    <button type=\"button\" class='remove' data-index=\"${index}\">${icon.remove2}</button>\n                </div>\n            </div>\n            `\n        })\n    }\n\n    [CLICK('$area') + PREVENT] (e) {\n\n        if (Dom.create(e.target).is(this.refs.$area)) {\n\n            this.areaRect = this.refs.$area.rect(); \n            var {x, y}  = e.xy; \n    \n            this.appendValue({\n                x: Length.px(x - this.areaRect.left),\n                y: Length.px(y - this.areaRect.top)\n            })\n    \n            this.refresh();\n        }\n\n    }\n\n    [CLICK('$inputList .pointer-item .remove')] (e) {\n        var index = +e.$dt.attr('data-index')\n\n        this.removeValue(index);\n\n        this.refresh()\n    }\n\n    [CLICK('$inputList .pointer-item .copy')] (e) {\n        var index = +e.$dt.attr('data-index')\n\n        this.copyValue(index);\n\n        this.refresh()\n    }    \n\n    [BIND('$clipArea')] () {\n        return {\n            style : {\n                'clip-path' : `polygon(${this.toClipPathValueString()})`\n            }\n        }\n    }\n\n\n    [LOAD('$list')] () {\n\n        return this.state.value.map( (it, index) => {\n            var className = [\n                index === 0? 'first' : '',\n                index === this.state.value.length-1 ? 'last' : ''\n            ].filter(it => it).join(' ')\n            return `<div class='drag-pointer ${className}' data-index=\"${index.toString()}\" style='left: ${it.x};top: ${it.y};'></div>`\n        })\n    }\n\n    [CLICK('$area .drag-pointer') + ALT + PREVENT] (e) {\n        var index = +e.$dt.attr('data-index');\n\n        this.removeValue(index);\n\n        this.refresh();\n    }\n\n    [POINTERSTART('$area .drag-pointer') + MOVE()] (e) {\n\n        this.selectedIndex = +e.$dt.attr('data-index');\n        this.$target = e.$dt;\n        this.areaRect = this.refs.$area.rect(); \n        this.startXY = e.xy; \n        \n        this.$value = this.state.value[this.selectedIndex]\n\n        var $inputList = this.refs.$inputList;\n        this.$x = $inputList.$(`.pointer-item[data-index=\"${this.selectedIndex}\"] input.x`)\n        this.$y = $inputList.$(`.pointer-item[data-index=\"${this.selectedIndex}\"] input.y`)\n    }\n\n    move (dx, dy) {\n        var x = this.startXY.x + dx;\n        var y = this.startXY.y + dy;  \n\n        if (this.areaRect.x > x) {\n            x = this.areaRect.x; \n        } else if (this.areaRect.right < x) {\n            x = this.areaRect.right; \n        }\n\n        if (this.areaRect.y > y) {\n            y = this.areaRect.y; \n        } else if (this.areaRect.bottom < y) {\n            y = this.areaRect.bottom; \n        }        \n\n        var left = Length.px(x - this.areaRect.x)\n        var top = Length.px(y - this.areaRect.y)\n\n        this.$target.css({\n            left, top \n        })\n\n        this.updateValue(this.selectedIndex, {\n            x: left,\n            y: top\n        })\n\n\n        var maxWidth = 220;\n        var maxHeight = 220;\n\n        this.$x.val(left.toPercent(maxWidth).round(10).value)\n        this.$y.val(top.toPercent(maxHeight).round(10).value)\n\n        this.bindData('$clipArea')\n    }\n\n    toClipPathValueString () {\n\n        var maxWidth = 220;\n        var maxHeight = 220;\n\n        return this.state.value.map(it => {\n            return `${it.x.toPercent(maxWidth).round(10)} ${it.y.toPercent(maxHeight).round(10)}`\n        }).join(',');\n    }\n\n    updateData (data) {\n        this.setState(data, false)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)\n    }\n\n    appendValue(data) {\n        this.state.value.push(data);\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)        \n    }\n\n    removeValue(index) {\n        this.state.value.splice(index, 1);\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)        \n    }    \n\n    copyValue(index) {\n\n        var {x, y}= this.state.value[index]\n\n        this.state.value.splice(index+1, 0, {\n            x: Length.px(x.value + 10),\n            y: Length.px(y.value + 10)\n        });\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)        \n    }    \n\n    updateValue (index, data) {\n        this.state.value[index] = {...this.state.value[index], ...data}\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)\n    }\n\n}","import UIElement, { EVENT } from \"../../../../util/UIElement\";\n\nimport { isUndefined } from \"../../../../util/functions/func\";\nimport { Length } from \"../../../../editor/unit/Length\";\nimport { POINTERSTART, MOVE, END, BIND } from \"../../../../util/Event\";\nimport RangeEditor from \"../RangeEditor\";\n\nexport default class EllipseEditor extends UIElement {\n\n    components () {\n        return {\n            RangeEditor\n        }\n    }\n\n    parseValue (str = '50% 50%') {\n        var radius = `50% 50%`, position = ''; \n        str = str || '50%'\n        if (str.includes('at')) {\n            [ radius, position ] = str.split('at').map(it => it.trim());\n        }  else {\n            position = str.trim(); \n        }\n\n        var [x, y] = position.split(' ')\n\n        if (isUndefined(y)) {\n            y = x; \n        }\n\n        x = Length.parse(x)\n        y = Length.parse(y)\n\n        var [radiusX, radiusY] = radius.split(' ');\n\n        if (isUndefined(radiusY)) {\n            radiusY = radiusX;\n        }\n\n        radiusX = Length.parse(radiusX)\n        radiusY = Length.parse(radiusY)\n\n        return {\n            radiusX,\n            radiusY, \n            x, \n            y\n        }\n    }\n\n    initState() {\n        return this.parseValue(this.props.value)\n    }\n\n    template() {\n        return `\n        <div class='clip-path-editor circle-editor'>\n            <div>\n                <RangeEditor \n                    ref='$rangeX' \n                    label='Radius X' \n                    key='radiusX' \n                    value='${this.state.radiusX}' \n                    min=\"0\" \n                    max=\"100\" \n                    step=\"0.1\" \n                    units=\"%\" \n                    onchange='changeRangeEditor' \n                />\n            </div>\n            <div>\n                <RangeEditor \n                    ref='$rangeY' \n                    label='Radius Y' \n                    key='radiusY' \n                    value='${this.state.radiusY}' \n                    min=\"0\" \n                    max=\"100\" \n                    step=\"0.1\" \n                    units=\"%\" \n                    onchange='changeRangeEditor' \n                />\n            </div>            \n            <div class='drag-area' ref='$area'>\n                <div class='drag-pointer' ref='$pointer' style='left: ${this.state.x};top: ${this.state.y};'></div>\n                <div class='clip-area circle' ref='$clipArea'></div>\n            </div>\n        </div>\n    `\n    }\n\n\n    [BIND('$clipArea')] () {\n        return {\n            style : {\n                'clip-path' : `${this.props.key}(${this.toClipPathValueString()})`\n            }\n        }\n    }    \n\n    [POINTERSTART('$area') + MOVE() + END()] (e) {\n\n        this.areaRect = this.refs.$area.rect(); \n        this.startXY = e.xy; \n    }\n\n    move (dx, dy) {\n        var x = this.startXY.x + dx;\n        var y = this.startXY.y + dy;  \n\n        if (this.areaRect.x > x) {\n            x = this.areaRect.x; \n        } else if (this.areaRect.right < x) {\n            x = this.areaRect.right; \n        }\n\n        if (this.areaRect.y > y) {\n            y = this.areaRect.y; \n        } else if (this.areaRect.bottom < y) {\n            y = this.areaRect.bottom; \n        }        \n\n        var left = Length.percent((x - this.areaRect.x) / this.areaRect.width * 100).round(1)\n        var top = Length.percent((y - this.areaRect.y) / this.areaRect.height * 100).round(1)\n\n        this.refs.$pointer.css({\n            left, top \n        })\n\n        this.updateData({\n            x: left,\n            y: top\n        })\n\n\n        this.bindData('$clipArea')\n    }\n\n    toClipPathValueString () {\n\n        var {x,y,radiusX, radiusY} = this.state;\n\n        var results = `${x} ${y}`\n\n        var radiusString = `${radiusX} ${radiusY}`;\n\n        return `${radiusString} at ${results}`;\n    }\n\n    updateData (data) {\n        this.setState(data)\n\n        this.parent.trigger(this.props.onchange, this.props.key, this.toClipPathValueString(), this.props.params)\n    }\n\n    [EVENT('changeRangeEditor')] (key, value) {\n\n        this.updateData({\n            [key]: value.clone()\n        })\n    }\n}","import { EVENT } from \"../../../util/UIElement\";\nimport { LOAD } from \"../../../util/Event\";\nimport { ClipPath } from \"../../../editor/css-property/ClipPath\";\nimport CircleEditor from \"../property-editor/clip-path/CircleEditor\";\nimport SelectEditor from \"../property-editor/SelectEditor\";\n\nimport InsetEditor from \"../property-editor/clip-path/InsetEditor\";\nimport PolygonEditor from \"../property-editor/clip-path/PolygonEditor\";\nimport BasePopup from \"./BasePopup\";\nimport { editor } from \"../../../editor/editor\";\nimport EllipseEditor from \"../property-editor/clip-path/EllipseEditor\";\n\n\n\nexport default class ClipPathPopup extends BasePopup {\n\n  getTitle() {\n    return 'ClipPath'\n  }\n\n  components() {\n    return {\n      EllipseEditor,\n      PolygonEditor,\n      InsetEditor,\n      SelectEditor,\n      CircleEditor\n    }\n  }\n\n  initState() {\n    return {\n      type: 'none',\n      value: ''\n    };\n  }\n\n  toClipPathCSS () {\n    return ClipPath.toCSS(this.state);\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(this.state.changeEvent || \"changeClipPathPopup\", this.toClipPathCSS());\n  }\n\n  getBody() {\n    return /*html*/`\n    <div class='clippath-popup' ref='$popup'>\n      <div class=\"box\">\n        <div class='clip-path-editor clip-path-type' ref='$clippathType'></div>\n        <div class='clip-path-editor' ref='$clippath'></div>\n      </div>\n    </div>`;\n  }\n\n  [LOAD('$clippathType')] () {\n    return `\n      <div>${this.state.type} Editor</div>\n    `\n  }\n\n  [LOAD('$clippath')] () {\n    switch(this.state.type) {\n    case 'circle':\n      return `<CircleEditor ref='$circle' key='circle' value='${this.state.value}' onchange='changeClipPath' />`\n    case 'ellipse':\n      return `<EllipseEditor ref='$ellipse' key='ellipse' value='${this.state.value}' onchange='changeClipPath' />`\n    case 'inset':\n      return `<InsetEditor ref='$inset' key='inset' value='${this.state.value}' onchange='changeClipPath' />`      \n    case 'polygon':\n      return `<PolygonEditor ref='$polygon' key='polygon' value='${this.state.value}' onchange='changeClipPath' />`            \n    case 'path':\n      return `<PathEditor ref='$path' key='path' value='${this.state.value}' onchange='changeClipPath' />`\n    case 'svg':\n\n        var current = this.$selection.currentProject || {svg: []} \n\n        var options = current.svg.filter(it => it.type === 'clip-path').map(it => it.name).join(',')\n        \n        if (options.length) {\n          options = ',' + options\n        }\n\n        return `<SelectEditor ref='$svg' key='svg' value='${this.state.value}' options='${options}' onchange='changeClipPath' />`\n    default: \n      return `<div class='type none'></div>`\n    }\n    \n  }\n\n  [EVENT('changeClipPath')] (type, value) {\n    this.updateData({\n      type, \n      value\n    });\n  }\n\n  [EVENT(\"showClipPathPopup\")](data) {\n    this.state.changeEvent = data.changeEvent;\n    this.setState(ClipPath.parseStyle(data['clip-path']));\n\n    this.refresh();\n\n    this.show(220);\n  }\n\n  [EVENT(\"hideClipPathPopup\")]() {\n    this.hide();\n  }\n}\n","import { EVENT } from \"../../../util/UIElement\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { LOAD} from \"../../../util/Event\";\nimport CubicBezierEditor from \"../property-editor/CubicBezierEditor\";\nimport RangeEditor from \"../property-editor/RangeEditor\";\nimport SelectEditor from \"../property-editor/SelectEditor\";\nimport BasePopup from \"./BasePopup\";\n\nconst property_list = [\n  'none',\n  'all',\n  'background-color',\n  'background-position',\n  'background-size',\n  'border',\n  'border-color',\n  'border-width',\n  'border-bottom',\n  'border-bottom-color',\n  'border-bottom-left-radius',\n  'border-bottom-right-radius',\n  'border-bottom-width',\n  'border-left',\n  'border-left-color',\n  'border-left-width',\n  'border-radius', \n  'border-right',\n  'border-right-color',\n  'border-right-width',\n  'border-spacing',\n  'border-top',\n  'border-top-color',\n  'border-top-left-radius',\n  'border-top-right-radius',\n  'border-top-width',\n  'bottom',\n  'box-shadow',\n  'color',\n  'filter',\t\t\n\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-weight',\n  'height',\n  'left',\n  'letter-spacing',\n  'line-height',\n  'margin',\n  'margin-bottom',\n  'margin-left',\n  'margin-right',\n  'margin-top',\n  'max-height',\n  'max-width',\n  'min-height',\n  'min-width',\n  'opacity',\n  \n  'outline',\n  \n  'padding',\n  'padding-bottom',\n  'padding-left',\n  'padding-right',\n  'padding-top',\n  'perspective',\n  'perspective-origin',\n  'right',\n  'text-decoration',\n  'text-decoration-color',\n  'text-indent',\n  'text-shadow',\n  'top',\n  'transform',\n  'vertical-align',\n  'visibility',\n  'width',\n  'word-spacing',\n  'z-index'\n]\n\n\n\nexport default class TransitionPropertyPopup extends BasePopup {\n\n  getTitle() {\n    return 'Transition'\n  }\n\n  components() {\n    return {\n      SelectEditor,\n      CubicBezierEditor,\n      RangeEditor\n    }\n  }\n\n  initState() {\n    return {\n      property: 'all',\n      duration: Length.second(0),\n      timingFunction: 'ease',\n      delay: Length.second(0)\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(\"changeTransitionPropertyPopup\", opt);\n  }\n\n  getBody() {\n    return `<div class='transition-property-popup' ref='$popup'></div>`;\n  }\n\n  [LOAD('$popup')] () {\n    return `\n      <div class=\"box\">\n        ${this.templateForProperty()}\n        ${this.templateForTimingFunction()}\n        ${this.templateForDelay()}\n        ${this.templateForDuration()}\n      </div>\n    `;\n  }\n\n  templateForTimingFunction () {\n    return `\n    <div class='timing-function'>\n      <label>Timing function</label>\n      <CubicBezierEditor ref='$cubicBezierEditor' key=\"timingFunction\" value=\"${this.state.timingFunction}\" onChange='changeCubicBezier' />\n    </div>\n    `\n  }\n\n  [EVENT('changeTransition')] (key, value) {\n    this.updateData({\n      [key]: value\n    })\n  }\n\n  templateForProperty() {\n   \n    return `\n      <div class='name'>\n        <SelectEditor ref='$property' icon=\"true\" label=\"Property\" key='property' value=\"${this.state.property}\" options=\"${property_list.join(',')}\" onChange='changeTransition' /> \n      </div>\n    `\n  }\n  \n\n  templateForDelay () {\n    return `\n    <div class='delay'>\n      <RangeEditor ref='$delay' label='Delay' calc='false' key='delay' value='${this.state.delay}' units='s,ms' onChange=\"changeRangeEditor\" />\n    </div>\n    `\n  }\n\n  templateForDuration () {\n    return `\n    <div class='duration'>\n      <RangeEditor ref='$duration' label='Duration'  calc='false' key='duration' value='${this.state.duration}' units='s,ms' onChange=\"changeRangeEditor\" />\n    </div>\n    `\n  }\n\n  [EVENT('changeRangeEditor')] (key, value) {\n    this.updateData({ [key]: value })\n  }\n\n  [EVENT('changeCubicBezier')] (key, value) {\n    this.updateData({ [key]: value })\n  }\n\n  [EVENT(\"showTransitionPropertyPopup\")](data) {\n    this.setState(data);\n    this.refresh();\n\n    this.show(250)\n\n    this.emit('showCubicBezierEditor', data)    \n  }\n\n  [EVENT(\"hideTransitionPropertyPopup\")]() {\n    this.$el.hide();\n  }\n}\n","import { EVENT } from \"../../../util/UIElement\";\nimport { INPUT, LOAD } from \"../../../util/Event\";\nimport SVGFilterEditor from \"../property-editor/SVGFilterEditor\";\nimport SVGClipPathEditor from \"../property-editor/SVGClipPathEditor\";\nimport BasePopup from \"./BasePopup\";\n\nexport default class SVGPropertyPopup extends BasePopup {\n\n  getTitle() {\n    return 'SVG Property';\n  }\n\n  components() {\n    return {\n      SVGFilterEditor,\n      SVGClipPathEditor\n    }\n  }\n\n  initState() {\n    return {\n      changeEvent: 'changeSVGPropertyPopup',\n      name: '',\n      type: '',\n      value: []\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(this.state.changeEvent, this.state);\n  }\n\n  getBody() {\n    return `\n    <div class='svg-property-editor-popup' ref='$popup'>\n      <div class=\"box\">\n        ${this.templateForName()}\n        <div class='editor' ref='$editor'></div>\n      </div>\n    </div>`;\n  }\n\n  [LOAD('$editor')] () {\n\n    switch(this.state.type) {\n      case 'filter':\n        return /*html*/`\n          <SVGFilterEditor ref='$filter' title=\"SVG Filter\" key=\"filter\" onchange='changeFilterEditor'>\n            <property name=\"value\" type=\"json\">${JSON.stringify(this.state.value)}</property>\n          </SVGFilterEditor>\n        `\n      case 'clip-path':\n        return /*html*/`\n          <SVGClipPathEditor ref='$clippath' title=\"SVG Clip Path\" key=\"clip-path\" onchange='changeClipPathEditor'>\n            <property name=\"value\" type='json'>${JSON.stringify(this.state.value)}</property>\n          </SVGClipPathEditor>\n        `\n    }\n\n    return ``\n  }\n\n  [EVENT('changeFilterEditor')] (key, value) {\n    this.updateData({\n      value\n    })\n  }\n\n  [EVENT('changeClipPathEditor')] (key, value) {\n    this.updateData({\n      value\n    })\n  }  \n\n  templateForName() {\n    return /*html*/`\n      <div class='name'>\n        <label>Name</label>\n        <div class='input grid-1'>\n          <input type='text' value='${this.state.name}' ref='$name'/>\n        </div>\n      </div>\n    `\n  }\n\n  [INPUT('$name')] (e) {\n    if (this.refs.$name.value.match(/^[a-zA-Z0-9\\b]+$/)) {\n      this.updateData({name : this.refs.$name.value })\n    } else {\n      e.preventDefault()\n      e.stopPropagation()\n      return false;\n    }\n  }\n\n  refresh() {\n    this.refs.$name.val(this.state.name);\n\n    this.load();\n  }\n\n  [EVENT(\"showSVGPropertyPopup\")](data) {\n    this.setState(data);\n    this.refresh()\n\n    this.show(250);\n  }\n\n  [EVENT(\"hideSVGPropertyPopup\")]() {\n    this.$el.hide();\n  }\n}\n","import { EVENT } from \"../../../util/UIElement\";\nimport { INPUT } from \"../../../util/Event\";\nimport CSSPropertyEditor from \"../property-editor/CSSPropertyEditor\";\nimport BasePopup from \"./BasePopup\";\nimport { editor } from \"../../../editor/editor\";\n\nconst i18n = editor.initI18n('selector.popup')\n\nexport default class SelectorPopup extends BasePopup {\n\n  getTitle() {\n    return i18n('title')\n  }\n\n  components() {\n    return {\n      CSSPropertyEditor\n    }\n  }\n\n  initState() {\n    return {\n      selector: '',\n      properties: []\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(\"changeSelectorPopup\", this.state);\n  }\n\n  getBody() {\n    return `\n    <div class='selector-popup' ref='$popup'>\n      <div class=\"box\">\n        ${this.templateForSelector()}\n        ${this.templateForProperty()}        \n      </div>\n    </div>`;\n  }\n\n\n  templateForProperty() {\n    return /*html*/`<CSSPropertyEditor ref='$propertyEditor' onchange='changePropertyEditor' />`\n  }    \n\n\n  templateForSelector() {\n    return /*html*/`\n      <div class='name'>\n        <label>${i18n('selector')}</label>\n        <div class='input grid-1'>\n          <input type='text' value='${this.state.selector}' ref='$selector'/>\n        </div>\n      </div>\n    `\n  }\n\n  [INPUT('$selector')] (e) {\n    if (this.refs.$selector.value.match(/^[a-zA-Z0-9\\:\\_\\-\\.\\b]+$/)) {\n      this.updateData({selector : this.refs.$selector.value })\n    } else {\n      e.preventDefault()\n      e.stopPropagation()\n      return false;\n    }\n  }\n  \n  refresh() {\n    super.refresh()\n\n    this.refs.$selector.val(this.state.selector);\n    this.children.$propertyEditor.trigger('showCSSPropertyEditor', this.state.properties);\n  }\n\n  [EVENT('changePropertyEditor')] (properties) {\n    this.updateData({\n      properties\n    });\n  }\n\n  [EVENT(\"showSelectorPopup\")](data) {\n    this.setState(data);\n    this.refresh()\n\n    this.show(250)\n  }\n}\n","import { EVENT } from \"../../../util/UIElement\";\nimport BasePopup from \"./BasePopup\";\nimport EmbedColorPicker from \"../property-editor/EmbedColorPicker\";\nimport { DEBOUNCE, LOAD, CLICK } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\n\nexport default class ColorPickerPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('colorpicker.popup.title')\n  }\n\n  getClassName() {\n    return 'compact'\n  }\n\n  components() {\n    return {\n      EmbedColorPicker\n    }\n  }\n\n  initState() {\n\n    return {\n      color: 'rgba(0, 0, 0, 1)'\n    }\n  }\n\n\n  updateData(opt = {}) {\n    this.setState(opt, false);\n\n    this.emit(this.state.changeEvent, this.state.color, this.params);\n  }\n\n \n\n  getBody() {\n    return /*html*/`\n      <div class=\"color-picker-popup\">\n        <div class='box'>\n          <EmbedColorPicker ref='$color' value='${this.state.color}' onchange='changeColor' />\n        </div>\n        <div class='box assets' ref='$assets'>\n          <label>Assets</label>\n          <div class='project-color-list' ref='$projectColors'></div>\n        </div>\n      </div>\n    `;\n  }\n\n  [LOAD('$projectColors')] () {\n    var project = this.$selection.currentProject || {colors: []};\n\n    var colors = project.colors\n\n    return colors.map(color => {\n      return /*html*/`\n      <div class='color-item' title='${color.name}'>\n        <div class='color-view' data-color='${color.color}' style='background-color: ${color.color}'></div>\n      </div>`\n    }) \n  }\n\n  [CLICK('$projectColors .color-view')] (e) {\n    this.updateData({\n      color: e.$dt.attr('data-color')\n    })\n    this.children.$color.setValue(this.state.color);\n  }\n\n\n  [EVENT('refreshColorAssets') + DEBOUNCE(100)] () {\n    this.load('$projectColors')\n  }\n\n\n  [EVENT('changeColor')] (color) {\n    this.updateData({\n      color\n    })\n  }\n\n  [EVENT(\"showColorPickerPopup\")](data, params) {\n    data.changeEvent = data.changeEvent || 'changeFillPopup'\n    this.params = params;\n    this.setState(data, false);\n    this.children.$color.setValue(this.state.color);\n\n    if (data.hideColorAssets) {\n      this.refs.$assets.hide()\n    } else {\n      this.refs.$assets.show()\n    }\n\n    this.show(232);\n  }\n\n  [EVENT(\"hideColorPickerPopup\")]() {\n    this.hide();\n  }\n\n\n}\n","import { EVENT } from \"../../../util/UIElement\";\nimport BasePopup from \"./BasePopup\";\nimport { LOAD, CLICK, VDOM } from \"../../../util/Event\";\nimport { Length } from \"../../../editor/unit/Length\";\nimport { editor } from \"../../../editor/editor\";\n\n\nexport default class ImageSelectPopup extends BasePopup {\n\n  getTitle() {\n    return 'Select a image'\n  }\n\n  getClassName() {\n    return 'compact'\n  }\n\n  initState() {\n\n    return {\n      value: ''\n    }\n  }\n\n\n  updateData(opt = {}) {\n    this.setState(opt, false);\n\n    this.state.context.trigger(this.state.changeEvent, this.state.value, {\n      width: this.state.width,\n      height: this.state.height,\n      naturalWidth: this.state.naturalWidth,\n      naturalHeight: this.state.naturalHeight      \n    });\n  }\n\n\n  getBody() {\n    return /*html*/`\n      <div class=\"image-select-popup\">\n        <div class='box' ref='$imageBox'>\n          \n        </div>\n      </div>\n    `;\n  }\n\n  [LOAD('$imageBox') + VDOM] () {\n    var project = this.$selection.currentProject || { images: [] }\n\n    return project.images.map( (image, index) => {\n      return /*html*/`<div class='image-item' ><img src= '${image.local}' /></div>`\n    })\n  }\n\n  [CLICK('$imageBox .image-item')] (e) {\n    var $img = e.$dt.$('img');\n\n    this.updateData({\n      value: $img.attr('src'),\n      naturalWidth: Length.px($img.naturalWidth),\n      naturalHeight: Length.px($img.naturalHeight), \n      width: Length.px($img.naturalWidth),\n      height: Length.px($img.naturalHeight)\n    });\n\n    this.trigger('hideImageSelectPopup')\n  }\n\n  [EVENT(\"showImageSelectPopup\")](data, params) {\n    this.setState({\n      context: data.context,\n      changeEvent: data.changeEvent,\n      value: data.value,\n      params\n    }, false);\n    this.refresh();\n\n    this.show(500);\n  }\n\n  [EVENT(\"hideImageSelectPopup\")]() {\n    this.hide();\n  }\n\n\n}\n","import { editor } from \"../../../editor/editor\";\nimport { LOAD, VDOM, CLICK } from \"../../../util/Event\";\nimport UIElement, { EVENT } from \"../../../util/UIElement\";\n\n\nexport default class ImageAssetPicker extends UIElement {\n\n  initState() {\n    return {\n      mode: 'grid'\n    }\n  }\n\n  template() {\n    return /*html*/`\n      <div class='image-asset-picker'>\n        <div class='image-list' ref='$imageList' data-view-mode='${this.state.mode}'></div>\n      </div>\n    `;\n  }\n\n  [LOAD(\"$imageList\") + VDOM]() {\n    var current = this.$selection.currentProject || { images: [] }\n\n    var images = current.images;   \n    var results = images.map( (image) => {\n\n      return /*html*/`\n        <div class='image-item'>\n          <div class='preview'>\n            <img src=\"${image.local}\" />\n          </div>\n        </div>\n      `\n    })\n\n    return results;\n  }\n\n  [CLICK('$imageList .image-item')] (e) {\n    var $img = e.$dt.$('img');\n    this.updateData($img.attr('src'));\n  }\n\n  updateData(localUrl) {\n    this.parent.trigger(this.props.onchange, localUrl);\n  }\n\n  [EVENT('addImageAsset')] () {\n    this.refresh();\n  }\n}\n","import { EVENT } from \"../../../util/UIElement\";\nimport { LOAD } from \"../../../util/Event\";\nimport GradientEditor from \"../property-editor/GradientEditor\";\nimport { Gradient } from \"../../../editor/image-resource/Gradient\";\nimport BasePopup from \"./BasePopup\";\nimport EmbedColorPicker from \"../property-editor/EmbedColorPicker\";\nimport ImageAssetPicker from \"../property/ImageAssetPicker\";\nimport { editor } from \"../../../editor/editor\";\n\nexport default class GradientPickerPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('gradient.picker.popup.title')\n  }\n\n  components() {\n    return {\n      ImageAssetPicker,\n      EmbedColorPicker,\n      GradientEditor\n    }\n  }\n\n  initState() {\n\n    return {\n    }\n  }\n\n  initialize() {\n    super.initialize();\n\n    this.selectedTab = \"static-gradient\";\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"gradient-picker\" ref='$body' data-selected-editor=''>\n        <div class='box'>\n          <div ref='$gradientEditor'></div>\n        </div>\n        <div class='box'>\n          <div class='colorpicker'>\n            <EmbedColorPicker ref='$color' onchange='changeColor' />                    \n          </div>\n          <div class='assetpicker'>\n            <ImageAssetPicker ref='$asset' onchange='changeImageUrl' />\n          </div>\n        </div>\n      </div>\n     \n    `;\n  }\n\n  [EVENT('changeTabType')] (type) {\n    this.refs.$body.attr('data-selected-editor', type);\n  }\n\n  getColorString() {\n    var value = '' ;\n    if (this.state.image instanceof Gradient) {\n      value = this.state.image.getColorString()\n    }\n\n\n    return value; \n  }\n\n  getCurrentColor() {\n    return this.state.image.colorsteps[this.state.selectColorStepIndex || 0].color; \n  }\n\n  [LOAD('$gradientEditor')] () {\n    return /*html*/`<GradientEditor \n      ref=\"$g\" \n      value=\"${this.state.image}\" \n      selectedIndex=\"${this.state.selectColorStepIndex}\" \n      onchange='changeGradientEditor'\n    />`\n  }\n\n  [EVENT('changeGradientEditor')] (data) {\n\n    this.state.image = data;\n\n    this.updateData();\n  }\n\n  [EVENT('changeColor')] (color) {\n    this.children.$g.trigger('setColorStepColor', color);\n  }\n\n  [EVENT('changeImageUrl')] (url) {\n    this.children.$g.trigger('setImageUrl', url);\n  }\n\n  [EVENT(\"showGradientPickerPopup\")](data, params) {    \n    data.changeEvent = data.changeEvent || 'changeFillPopup'\n    data.image = data.gradient\n    data.params = params;\n    this.setState(data);\n\n    this.show(432);\n  }\n\n  [EVENT(\"selectColorStep\")](color) {\n    this.children.$color.setValue(color);\n  }\n\n\n  [EVENT(\"changeColorStep\")](data = {}) {\n\n    this.state.image.reset({\n      ...data\n    })\n\n    this.updateData();\n  }\n\n\n  updateData() {\n    this.state.instance.trigger(this.state.changeEvent, this.state.image, this.state.params);\n  }\n\n}\n","import { EVENT } from \"../../../util/UIElement\";\nimport { INPUT, LOAD, BIND, CLICK } from \"../../../util/Event\";\nimport SVGFilterEditor from \"../property-editor/SVGFilterEditor\";\nimport BasePopup from \"./BasePopup\";\nimport { SVGFilter } from \"../../../editor/svg-property/SVGFilter\";\nimport { isNotUndefined } from \"../../../util/functions/func\";\nimport { editor } from \"../../../editor/editor\";\n\nexport default class SVGFilterPopup extends BasePopup {\n\n  getTitle() {\n    return this.$i18n('svgfilter.popup.title');\n  }\n\n  components() {\n    return {\n      SVGFilterEditor\n    }\n  }\n\n  getClassName() {\n    return 'transparent'\n  }\n\n  initState() {\n    return {\n      changeEvent: 'changeSVGFilterPopup',\n      id: '',\n      preview: true, \n      filters: []\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(this.state.changeEvent, this.state);\n  }\n\n  getBody() {\n    return /*html*/`\n    <div class='svg-property-editor-popup' ref='$popup'>\n      <div class=\"box\">\n        <div class='editor' ref='$editor'></div>\n      </div>\n    </div>`;\n  }\n\n  [LOAD('$editor')] () {\n\n    return /*html*/`\n      <SVGFilterEditor ref='$filter' title='Filter Type' key=\"filter\" onchange='changeFilterEditor'>\n        <property name=\"value\" type=\"json\">${JSON.stringify(this.state.filters)}</property>\n      </SVGFilterEditor>\n    `\n\n  }\n\n  [EVENT('changeFilterEditor')] (key, filters) {\n    this.updateData({\n      filters\n    })\n\n    this.bindData('$sampleFilter');\n  }\n\n  refresh() {\n    this.load();\n  }\n\n  [EVENT(\"showSVGFilterPopup\")](data) {\n\n    data.filters = data.filters.map( it => {\n      return SVGFilter.parse(it);\n    })\n\n    data.preview = isNotUndefined(data.preview) ? data.preview : true; \n\n    this.setState(data);\n\n    this.show(500);\n  }\n\n  [EVENT(\"hideSVGFilterPopup\")]() {\n    this.$el.hide();\n  }\n}\n","import { EVENT } from \"../../../util/UIElement\";\nimport { INPUT, LOAD, BIND } from \"../../../util/Event\";\nimport BasePopup from \"./BasePopup\";\nimport SVGItemProperty from \"../property/SVGItemProperty\";\n\nexport default class SVGPathPopup extends BasePopup {\n\n  getTitle() {\n    return 'SVG Path Editor';\n  }\n\n  components() {\n    return {\n      SVGItemProperty\n    }\n  }\n\n  initState() {\n    return {\n      changeEvent: 'changeSVGPathPopup',\n      id: '',\n      filters: []\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.emit(this.state.changeEvent, this.state);\n  }\n\n  getBody() {\n    return `\n    <div class='svg-path-editor-popup' ref='$popup'>\n      <div class='box editor' ref='$editor'>\n\n      </div>    \n      <div class=\"box inspector\">\n        <SVGItemProperty ref='$property' />\n      </div>\n\n    </div>`;\n  }\n\n  [LOAD('$editor')] () {\n\n    return `\n      <SVGPathEditor ref='$pathEditor' key=\"d\" d=\"${this.state.d}\" onchange='changeFilterEditor' />\n    `\n\n  }\n\n  [EVENT('changeFilterEditor')] (key, value) {\n    this.updateData({\n      [key]: value \n    })\n  }\n\n\n  [EVENT(\"showSVGPathPopup\")](data) {\n\n    this.setState(data);\n\n    this.show(600);\n  }\n\n  [EVENT(\"hideSVGPathPopup\")]() {\n    this.$el.hide();\n  }\n}\n","import { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\nimport { CLICK } from \"../../../util/Event\";\n\nimport { Length } from \"../../../editor/unit/Length\";\nimport GradientEditor from \"../property-editor/GradientEditor\";\nimport { BackgroundImage } from \"../../../editor/css-property/BackgroundImage\";\nimport RangeEditor from \"../property-editor/RangeEditor\";\nimport SelectEditor from \"../property-editor/SelectEditor\";\nimport BasePopup from \"./BasePopup\";\nimport EmbedColorPicker from \"../property-editor/EmbedColorPicker\";\nimport { editor } from \"../../../editor/editor\";\n\n\nconst blend_list = [\n  \"normal\",\n  \"multiply\",\n  \"screen\",\n  \"overlay\",\n  \"darken\",\n  \"lighten\",\n  \"color-dodge\",\n  \"color-burn\",\n  \"hard-light\",\n  \"soft-light\",\n  \"difference\",\n  \"exclusion\",\n  \"hue\",\n  \"saturation\",\n  \"color\",\n  \"luminosity\"\n];\n\nconst i18n = editor.initI18n('background.image.position.popup')\n\n\nexport default class BackgroundImagePositionPopup extends BasePopup {\n\n  getTitle() {\n    return i18n('title')\n  }\n\n  components() {\n    return {\n      EmbedColorPicker,\n      RangeEditor,\n      SelectEditor,\n      GradientEditor\n    }\n  }\n\n  initState() {\n\n    return {\n      size: this.props.size || 'auto',\n      repeat: this.props.repeat || 'repeat',\n      x: this.props.x || Length.px(0),\n      y: this.props.y || Length.px(0),\n      width: this.props.width || Length.px(0),\n      height: this.props.height || Length.px(0),\n      blendMode: this.props.blendMode,\n    }\n  }\n\n  updateData(opt = {}) {\n    this.setState(opt, false);\n\n    this.emit(this.state.changeEvent, opt, this.params);\n  }\n\n \n  templateForSize() {\n    return /*html*/`\n      <div class='popup-item'>\n        <SelectEditor label=\"${i18n('size')}\" ref='$size' key='size' value=\"${this.state.size}\" options=\"contain,cover,auto\" onchange=\"changeRangeEditor\" />      \n      </div>\n    `;\n  }\n\n  [EVENT('changeRangeEditor')] (key, value) {\n    this.updateData({ [key]: value });\n  }\n\n  templateForX() {\n    return /*html*/`\n      <div class='popup-item'>\n        <RangeEditor \n            label=\"X\"\n            calc=\"false\"            \n            ref=\"$x\" \n            key=\"x\"\n            value=\"${this.state.x}\"\n            min=\"-1000\" max=\"1000\" step=\"1\"\n            onchange=\"changeRangeEditor\"\n        />\n      </div>\n    `;\n  }\n\n  templateForY() {\n    return /*html*/`\n      <div class='popup-item'>\n        <RangeEditor \n            label=\"Y\" \n            calc=\"false\"       \n            ref=\"$y\" \n            key=\"y\"\n            value=\"${this.state.y}\"            \n            min=\"-1000\" max=\"1000\" step=\"1\"\n            onchange=\"changeRangeEditor\"\n        />\n      </div>\n    `;\n  }\n\n  templateForWidth() {\n    return /*html*/`\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"${i18n('width')}\"   \n          calc=\"false\"             \n          ref=\"$width\" \n          key=\"width\"\n          value=\"${this.state.width}\"          \n          min=\"0\" max=\"500\" step=\"1\" \n          onchange=\"changeRangeEditor\"\n      />\n    </div>\n    `;\n  }\n\n  templateForHeight() {\n    return /*html*/`\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"${i18n('height')}\"\n          calc=\"false\"          \n          ref=\"$height\" \n          key=\"height\"\n          value=\"${this.state.height}\"          \n          min=\"0\" max=\"500\" step=\"1\" onchange=\"changeRangeEditor\"\n      />\n    </div>\n    `;\n  }\n\n  templateForRepeat() {\n    return /*html*/`\n    <div class='popup-item grid-2'>\n      <label>${i18n('repeat')}</label>\n      <div class='repeat-list' ref=\"$repeat\" data-value='${this.state.repeat}'>\n          <button type=\"button\" value='no-repeat' title=\"${i18n('type.no-repeat')}\"></button>\n          <button type=\"button\" value='repeat' title=\"${i18n('type.repeat')}\"></button>\n          <button type=\"button\" value='repeat-x' title=\"${i18n('type.repeat-x')}\"></button>\n          <button type=\"button\" value='repeat-y' title=\"${i18n('type.repeat-y')}\"></button>\n          <button type=\"button\" value='space' title=\"${i18n('type.space')}\"></button>\n          <button type=\"button\" value='round' title=\"${i18n('type.round')}\"></button>\n      </div>\n    </div>\n    `;\n  }\n\n  [CLICK(\"$repeat button\")]({ $dt: $t }) {\n    this.refs.$repeat.attr(\"data-value\", $t.value);\n    this.updateData({ repeat: $t.value });\n  }\n\n  templateForBlendMode() {\n    return /*html*/`\n    <div class='popup-item'>\n      <SelectEditor label=\"${i18n('blend')}\" ref='$blend' key='blendMode' value=\"${this.state.blendMode}\" options=\"${blend_list.join(',')}\" onchange=\"changeRangeEditor\" />\n    </div>\n    `;\n  }\n\n\n  getBody() {\n    return /*html*/`\n      <div class=\"background-image-position-picker\">\n\n        <div class='box'>\n\n          <div class='background-property'>\n            ${this.templateForSize()}        \n            ${this.templateForX()}\n            ${this.templateForY()}\n            ${this.templateForWidth()}\n            ${this.templateForHeight()}\n            ${this.templateForRepeat()}\n            ${this.templateForBlendMode()}\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n\n  [EVENT(\"showBackgroundImagePositionPopup\")](data, params) {\n    data.changeEvent = data.changeEvent || 'changeFillPopup'\n    // data.image = BackgroundImage.parseImage(data.image)\n    this.params = params; \n    this.setState(data);\n\n    this.show(460);\n  }\n\n\n}\n","import BoxShadowPropertyPopup from \"./BoxShadowPropertyPopup\";\nimport TextShadowPropertyPopup from \"./TextShadowPropertyPopup\";\nimport AnimationPropertyPopup from \"./AnimationPropertyPopup\";\nimport KeyframePopup from \"./KeyframePopup\";\nimport ClipPathPopup from \"./ClipPathPopup\";\nimport TransitionPropertyPopup from \"./TransitionPropertyPopup\";\nimport SVGPropertyPopup from \"./SVGPropertyPopup\";\nimport SelectorPopup from \"./SelectorPopup\";\nimport ColorPickerPopup from \"./ColoPickerPopup\";\n// import FillPopup from \"./FillPopup\";\nimport ImageSelectPopup from \"./ImageSelectPopup\";\nimport GradientPickerPopup from \"./GradientPickerPopup\";\nimport SVGFilterPopup from \"./SVGFilterPopup\";\nimport SVGPathPopup from \"./SVGPathPopup\";\nimport BackgroundImagePositionPopup from \"./BackgroundImagePositionPopup\";\nimport FillPickerPopup from \"./FillPickerPopup\";\n\n\nexport default {\n  FillPickerPopup,\n  BackgroundImagePositionPopup,\n  SVGPathPopup,\n  SVGFilterPopup,\n  GradientPickerPopup,\n  ImageSelectPopup,\n  // FillPopup,\n  ColorPickerPopup,\n  SelectorPopup,\n  SVGPropertyPopup,\n  ClipPathPopup,\n  KeyframePopup,\n  AnimationPropertyPopup,\n  TransitionPropertyPopup,\n  TextShadowPropertyPopup,\n  BoxShadowPropertyPopup,\n};\n","import { EVENT } from \"../../../util/UIElement\";\nimport { LOAD } from \"../../../util/Event\";\n\nimport { Gradient } from \"../../../editor/image-resource/Gradient\";\nimport BasePopup from \"./BasePopup\";\nimport EmbedColorPicker from \"../property-editor/EmbedColorPicker\";\nimport ImageAssetPicker from \"../property/ImageAssetPicker\";\nimport FillEditor from \"../property-editor/FillEditor\";\nimport { SVGStaticGradient } from \"../../../editor/image-resource/SVGStaticGradient\";\nexport default class FillPickerPopup extends BasePopup {\n\n  getTitle() {\n    return 'SVG Fragment picker'\n  }\n\n  components() {\n    return {\n      ImageAssetPicker,\n      EmbedColorPicker,\n      FillEditor\n    }\n  }\n\n  initState() {\n\n    return {\n      image: SVGStaticGradient.create()\n    }\n  }\n\n  initialize() {\n    super.initialize();\n\n    this.selectedTab = \"static-gradient\";\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class=\"gradient-picker\" ref='$body' data-selected-editor=''>\n        <div class='box'>\n          <div ref='$gradientEditor'></div>\n        </div>\n        <div class='box'>\n          <div class='colorpicker'>\n            <EmbedColorPicker ref='$color' onchange='changeColor' />                    \n          </div>\n          <div class='assetpicker'>\n            <ImageAssetPicker ref='$asset' onchange='changeImageUrl' />\n          </div>\n        </div>\n      </div>\n     \n    `;\n  }\n\n  [EVENT('changeTabType')] (type) {\n    this.refs.$body.attr('data-selected-editor', type);\n  }\n\n  getColorString() {\n    var value = '' ;\n    if (this.state.image instanceof Gradient) {\n      value = this.state.image.getColorString()\n    }\n\n\n    return value; \n  }\n\n  getCurrentColor() {\n    return this.state.image.colorsteps[this.state.selectColorStepIndex || 0].color; \n  }\n\n  [LOAD('$gradientEditor')] () {\n    return /*html*/`<FillEditor \n      ref=\"$g\" \n      value=\"${this.state.image}\" \n      selectedIndex=\"${this.state.selectColorStepIndex}\" \n      onchange='changeFillEditor'\n    />`\n  }\n\n  [EVENT('changeFillEditor')] (data) {\n\n    this.state.image = data;\n\n    this.updateData();\n  }\n\n  [EVENT('changeColor')] (color) {\n    this.children.$g.trigger('setColorStepColor', color);\n  }\n\n  [EVENT('changeImageUrl')] (url) {\n    this.children.$g.trigger('setImageUrl', url);\n  }\n\n  [EVENT(\"showFillPickerPopup\")](data, params) {\n    this.show(432);\n\n    data.changeEvent = data.changeEvent || 'changeFillPopup'\n    // data.image = data.gradient\n    data.params = params;\n    this.setState(data);\n  }\n\n  [EVENT(\"selectColorStep\")](color) {\n    this.children.$color.setValue(color);\n  }\n\n\n  [EVENT(\"changeColorStep\")](data = {}) {\n\n    this.state.image.reset({\n      ...data\n    })\n\n    this.updateData();\n  }\n\n\n  updateData() {\n    this.state.instance.trigger(this.state.changeEvent, this.state.image, this.state.params);\n  }\n\n}\n","import UIElement, { EVENT } from \"../../../util/UIElement\";\n\nimport { editor } from \"../../../editor/editor\";\nimport { DEBOUNCE, LOAD } from \"../../../util/Event\";\nimport Dom from \"../../../util/Dom\";\nimport { CSS_TO_STRING } from \"../../../util/functions/func\";\nimport { Project } from \"../../../editor/items/Project\";\n\nexport default class StyleView extends UIElement {\n\n  template() {\n    return /*html*/`\n    <div class='style-view' style='position: absolute;display:inline-block;left:-1000px;'>\n      <div ref='$svgArea'></div>\n      <svg width=\"0\" height=\"0\">\n        <defs>\n          <marker id=\"start\" markerWidth=\"8\" markerHeight=\"8\" refX=\"5\" refY=\"5\">\n              <circle cx=\"5\" cy=\"5\" r=\"3\" style=\"stroke: none; fill:#000000;\"/>\n          </marker>\n          <marker id=\"head\" orient=\"auto\" markerWidth=\"10\" markerHeight=\"10\" refX=\".5\" refY=\"3\">\n            <path d=\"M0,0 V6 L5,3 Z\" fill=\"red\"></path>\n          </marker>\n        </defs>\n      </svg>\n    </div>\n    `;\n  }\n\n  initialize() {\n    super.initialize()\n\n    this.refs.$head = Dom.create(document.head)\n  }\n\n  makeProjectStyle (item) {\n\n    const keyframeString = item.toKeyframeString();\n    const rootVariable = item.toRootVariableCSS()\n    \n    return /*html*/`<style type='text/css' data-id='${item.id}'>\n      :root {\n        ${CSS_TO_STRING(rootVariable)}\n      }\n      /* keyframe */\n      ${keyframeString}\n    </style>\n    `\n  }  \n\n  makeStyle (item) {\n    if (item.is('project')) {\n      return this.makeProjectStyle(item);\n    }\n\n    const cssString = item.generateView(`[data-id='${item.id}']`)\n    return /*html*/`\n      <style type='text/css' data-id='${item.id}'>${cssString}</style>\n    ` + item.layers.map(it => {\n      return this.makeStyle(it);\n    }).join('')\n  }\n\n\n  refreshStyleHead () {\n    var project = this.$selection.currentProject || new Project()\n\n    this.refs.$head.$$(`style`).forEach($style => $style.remove())\n\n    // project setting \n    this.changeStyleHead(project)\n\n    // artboard setting \n    project.artboards.forEach(item => this.changeStyleHead(item))\n  }\n\n  changeStyleHead (item) {\n    var $temp = Dom.create('div')        \n\n    $temp.html(this.makeStyle(item)).children().forEach($item => {\n      this.refs.$head.append($item);\n    })\n\n  }\n\n  refreshStyleHeadOne (item, isOnlyOne = false) {\n    var list = [item]\n    if (!isOnlyOne) {\n      list = [item, ...item.allLayers]\n    }\n\n    var selector = list.map(it => {\n      return `style[data-id=\"${it.id}\"],style[data-id=\"${it.id}-move\"]`\n    }).join(',');\n\n    this.refs.$head.$$(selector).forEach(it => {\n      it.remove();\n    })\n\n    this.changeStyleHead(item)\n  }\n\n\n  makeSvg (project) {\n    const SVGString = project.toSVGString ? project.toSVGString() : ''\n    return `\n      ${SVGString ? `<svg width=\"0\" height=\"0\">${SVGString}</svg>` : ''}\n    `\n  }\n\n  [LOAD('$svgArea')] () {\n\n    var project = this.$selection.currentProject || {  }\n\n    return this.makeSvg(project)\n  }   \n\n  [EVENT('refreshComputedStyle') + DEBOUNCE(100)] (last) {\n    var computedCSS = this.refs.$canvas.getComputedStyle(...last)\n    \n    this.emit('refreshComputedStyleCode', computedCSS)\n  }\n\n  // timeline 에서 테스트 할 때 이걸 활용할 수 있다. \n  // 움직이기 원하는 객체가 타임라인 전체라 \n  // 전체를 리프레쉬 하는걸로 한다. \n  // 애니메이션이 진행되는 동안 임의의 객체는 없는 것으로 하자. \n  [EVENT('refreshStyleView', 'moveTimeline', 'playTimeline')] (current,  isOnlyOne = false) {   \n    if (current) {\n      this.load();\n      this.refreshStyleHeadOne(current, isOnlyOne);\n    } else {\n      this.refresh()\n    }\n  }\n\n  [EVENT('refreshSVGArea')] () {\n    this.load('$svgArea');\n  }\n\n  [EVENT('refreshSelectionStyleView')] () {\n    this.$selection.each(item => {\n      this.refreshStyleHeadOne(item, true);\n    })\n  }  \n\n  refresh() {\n    this.load();\n    this.refreshStyleHead();\n  }\n}\n","import UIElement from \"../../../util/UIElement\";\nimport ProjectProperty from \"../property/ProjectProperty\";\nimport ArtBoardProperty from \"../property/ArtBoardProperty\";\nimport LayerTreeProperty from \"../property/LayerTreeProperty\";\n\n\nexport default class ObjectItems extends UIElement {\n  components() {\n    return {\n      ProjectProperty,\n      ArtBoardProperty,\n      LayerTreeProperty\n    }\n  }\n  template() {\n    return /*html*/`\n      <div class='object-items'>\n        <div>\n          <ArtBoardProperty />          \n        </div>\n        <div>\n          <LayerTreeProperty />\n        </div>\n      </div>\n    `;\n  }\n\n}\n","import heart from \"./heart\";\n\nexport default {\n    heart    \n}","export default `<svg viewBox=\"0 0 20 20\">\n<path d=\"M9.719,17.073l-6.562-6.51c-0.27-0.268-0.504-0.567-0.696-0.888C1.385,7.89,1.67,5.613,3.155,4.14c0.864-0.856,2.012-1.329,3.233-1.329c1.924,0,3.115,1.12,3.612,1.752c0.499-0.634,1.689-1.752,3.612-1.752c1.221,0,2.369,0.472,3.233,1.329c1.484,1.473,1.771,3.75,0.693,5.537c-0.19,0.32-0.425,0.618-0.695,0.887l-6.562,6.51C10.125,17.229,9.875,17.229,9.719,17.073 M6.388,3.61C5.379,3.61,4.431,4,3.717,4.707C2.495,5.92,2.259,7.794,3.145,9.265c0.158,0.265,0.351,0.51,0.574,0.731L10,16.228l6.281-6.232c0.224-0.221,0.416-0.466,0.573-0.729c0.887-1.472,0.651-3.346-0.571-4.56C15.57,4,14.621,3.61,13.612,3.61c-1.43,0-2.639,0.786-3.268,1.863c-0.154,0.264-0.536,0.264-0.69,0C9.029,4.397,7.82,3.61,6.388,3.61\"></path>\n</svg>`","import UIElement from \"../../../util/UIElement\";\nimport PathStringManager from \"../../../editor/parse/PathStringManager\";\nimport { CLICK } from \"../../../util/Event\";\nimport clipArt from \"../clip-art\";\n\nexport default class LibraryItems extends UIElement {\n  components() {\n    return {\n\n    }\n  }\n  template() {\n    return /*html*/`\n      <div class='library-items'>\n        <div class='group  path'>\n          <div class='title'><label>ClipArt</label></div>\n          <div class='list'>\n            ${Object.keys(clipArt).map( key => {\n              return /*html*/`<div class='path-item'>${clipArt[key]}</div>`\n            }).join('')}\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n[CLICK('$el .path-item')] (e) {\n  var $el = e.$dt;\n  var $svg = $el.$('svg');\n  var $path = $svg.$('path');\n\n  var [x, y, width, height] = $svg.attr('viewBox').split(' '); \n\n  var pathString = $path.attr('d');\n  var rect = {x: +x, y: +y, width: +width, height: +height} \n\n  this.emit('convertPath', pathString, rect);\n}\n\n}\n","import UIElement from \"../../../util/UIElement\";\nimport { CLICK, LOAD } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nvar omit = ['project', 'artboard', 'component']\nexport default class ComponentItems extends UIElement {\n  template() {\n    return /*html*/`\n      <div class='component-items'>\n        <div class='group'>\n          <div class='list' ref='$list'></div>\n        </div>\n      </div>\n    `;\n  }\n\n  afterRender() {\n    setTimeout(() => {\n      this.load('$list')\n    }, 1000)\n  }\n\n  [LOAD('$list')] () {\n\n    return Object.keys(editor.components).filter(key => omit.includes(key) === false).map(key => {\n      var icon = editor.getComponentClass(key).getIcon();\n      return /*html*/`\n      <div class='item' data-type='${key}'>\n        <div class='icon'>${icon}</div>\n        <div class='title'>${key}</div>\n      </div>`\n    })\n  }\n\n  [CLICK('$list .item')] (e) {\n    var type = e.$dt.attr('data-type')\n\n    this.emit('add.component', type);\n  }\n\n}\n","import UIElement from \"../../../util/UIElement\";\nimport ObjectItems from \"./ObjectItems\";\nimport { CLICK } from \"../../../util/Event\";\nimport ProjectProperty from \"../property/ProjectProperty\";\nimport ProjectInformationProperty from \"../property/ProjectInformationProperty\";\nimport LibraryItems from \"./Libraryitems\";\nimport ComponentItems from \"./Componentitems\";\nimport { editor } from \"../../../editor/editor\";\n\n\nexport default class LayerTab extends UIElement {\n  components() {\n    return {\n      ObjectItems, \n      ComponentItems,\n      ProjectProperty,\n      ProjectInformationProperty,\n      LibraryItems\n    }\n  }\n  template() {\n    return /*html*/`\n      <div class='layer-tab'>\n        <div class=\"tab number-tab\" data-selected-value=\"2\" ref=\"$tab\">\n          <div class=\"tab-header full\" ref=\"$header\">\n            <div class=\"tab-item\" data-value=\"1\">\n              <label>${this.$i18n('app.tab.title.projects')}</label>\n            </div>          \n            <div class=\"tab-item\" data-value=\"2\">\n              <label>${this.$i18n('app.tab.title.layers')}</label>\n            </div>\n            <div class='tab-item' data-value='3'>\n              <label>${this.$i18n('app.tab.title.libraries')}</label>\n            </div>   \n            <div class='tab-item' data-value='4'>\n              <label>${this.$i18n('app.tab.title.components')}</label>\n            </div>\n          </div>\n          <div class=\"tab-body\" ref=\"$body\">\n            <div class=\"tab-content project-content\" data-value=\"1\">\n              <ProjectProperty />\n              <ProjectInformationProperty />\n            </div>\n            <div class=\"tab-content\" data-value=\"2\">\n              <ObjectItems />\n            </div>\n            <div class='tab-content' data-value='3'>\n              <LibraryItems />\n            </div>\n            <div class='tab-content' data-value='4'>\n              <ComponentItems />\n            </div>            \n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  [CLICK(\"$header .tab-item:not(.empty-item)\")](e) {\n    this.refs.$tab.attr(\n      \"data-selected-value\",\n      e.$dt.attr(\"data-value\")\n    );\n  }\n\n  [CLICK(\"$extraHeader .tab-item:not(.empty-item)\")](e) {\n    this.refs.$extraTab.attr(\n      \"data-selected-value\",\n      e.$dt.attr(\"data-value\")\n    );\n  }\n}\n","import UIElement from \"../../../util/UIElement\";\nimport { CLICK } from \"../../../util/Event\";\nimport menuItems from \"../menu-items\";\nimport LayerTab from \"./LayerTab\";\n\n\n\n\nexport default class ObjectList extends UIElement {\n  components() {\n    return {\n      ...menuItems,\n      LayerTab\n    }\n  }\n  template() {\n    return /*html*/`\n      <div class=\"feature-control object-list\">\n        <LayerTab />\n        <div class='draw-items' ref='$items'>\n          <label>CSS</label>\n          <AddRect />\n          <AddCircle />         \n          <AddText />\n          <AddImage />\n          <AddCube />\n          <!-- AddSphere / -->\n          <div class='split'></div>\n          <label>SVG</label>\n          <AddSVGRect />\n          <AddPath />\n          <AddPolygon />\n          <AddStar />\n          <!-- <AddRedGL /> -->\n        </div>\n      </div>\n    `;\n  }\n\n  [CLICK('$items button')] (e) {\n    e.$dt.onlyOneClass('selected');\n  }\n\n}\n","import UIElement from \"../../../util/UIElement\";\n\nexport default class LogoView extends UIElement {\n  template() {\n\n    return /*html*/`\n      <div class='logo'>\n        <div class='text'>EASY</div>\n        <div class='extra-text'>LOGIC</div>\n        <div class='image'></div>\n      </div>    \n    `;\n  }\n}\n","import UIElement from \"../../../util/UIElement\";\nimport menuItems from \"../menu-items/index\";\n\nexport default class ExternalToolMenu extends UIElement {\n  components() {\n    return menuItems;\n  }\n\n  template() {\n    return /*html*/`\n      <div class='external-tool-menu'>\n        <div class='items  right'>\n          <Download />\n          <Save />\n          <ExportView />\n          <ExportCodePen />\n          <Fullscreen />\n          <!-- ExportJSFiddle / -->\n\n          <div class='split'></div>\n          \n          <!--ThemeSwitcher /-->\n          <Github />\n          <Manual />\n          <!-- LoginButton /-->\n          <!-- SignButton /-->\n        </div>                \n      </div>\n    `;\n  }\n}\n","import { isString, isNumber, isNotUndefined, isFunction } from \"./func\";\n\n\nexport function second (fps, timecode) {\n\n    if (isString(timecode)) {\n        var [hour, minute, second, frame] = timecode.split(':');\n\n        hour = parseInt(hour, 10);\n        minute = parseInt(minute, 10);\n        second = parseInt(second, 10);\n        frame = parseInt(frame, 10);\n\n        return hour * 3600 \n             + minute * 60 \n             + second \n             + frame * (1/fps);\n    } else if ( isNumber(timecode)) {\n        return timecode / fps;\n    }\n\n    return 0 \n}\n\nexport function frames (fps, time) {\n    return time * fps; \n}\n\nexport function timecode(fps, seconds) {\n    var h = Math.floor(seconds / 3600)\n    var m = Math.floor(seconds/60 % 60);\n    var s = Math.floor(seconds % 60);\n    var f = Math.round( (seconds - Math.floor(seconds)) * fps );\n\n    if (f === fps) {\n        f = 0;\n        s += 1; \n        if (s === 60) {\n            m += 1; \n\n            if (m === 60) {\n                h += 1; \n            }\n        }\n    }\n\n    return [h, m, s, f].map(t => {\n        return (t + '').padStart(2, '0')\n    }).join(':')\n}\n\nexport function timecodeToFrames(fps, timecode, start = null) {\n    return frames(fps, second(fps, timecode) - second(fps, start))\n}\n\nexport function framesToTimecode(fps, frames, start = null) {\n    return timecode(fps, second(fps, frames) - second(fps, start));\n}\n\nexport function makeTimer (opt) {\n\n    var timer = {\n        id: 0,\n        start: 0, \n        speed: opt.speed || 1, \n        elapsed: opt.elapsed || 0,\n        duration: opt.duration || 0,\n        iterationStartCount: 1,\n        iterationCount: opt.iterationCount || Number.MAX_SAFE_INTEGER,\n        direction: opt.direction || 'normal',\n        log: [],\n        logIndex: 0,\n        tick: opt.tick || (() => {}),\n        startCallback: opt.start || (() => {}),\n        endCallback: opt.end || (() => {}),\n        firstCallback: opt.first || (() => {}) ,\n        lastCallback: opt.last || (() => {})\n    }\n\n    const isForward = () => {\n        if (timer.direction === 'normal') {\n            return true\n        } else if (timer.direction === 'reverse') {\n            return false\n        } else if (timer.direction === 'alternate') {\n            return timer.iterationStartCount % 2 === 1\n        } else if (timer.direction === 'alternate-reverse') {\n            return timer.iterationStartCount % 2 === 0\n        }\n    }\n\n\n    const calculateForDirection = (rate) => {\n        return isForward() ? rate : 1 - rate; \n    }\n\n    const tick = (now) => {\n\n        var isStart = false; \n        if (timer.start === null) {\n            timer.start = now; \n            // timer.elapsed = 0; \n            isStart = true; \n        }\n\n        const dt = now - timer.start;\n\n        timer.elapsed += dt * timer.speed;\n\n        timer.start = now; \n\n        if (timer.elapsed > timer.duration) {\n            timer.elapsed = timer.duration;\n        }\n\n        // console.log(timer.elapsed, dt, timer.speed)\n        \n        var elapsed = calculateForDirection(timer.elapsed/timer.duration) * timer.duration;\n        if (isStart) timer.startCallback(elapsed, timer);\n        timer.log[timer.logIndex++] = {elapsed, dt: timer.lastTime - elapsed};\n        timer.lastTime = elapsed;\n        timer.tick (elapsed, timer);\n\n        if (timer.elapsed === timer.duration) {\n            end();\n        } else {\n            frameStart();\n        }\n    }\n\n    const frameStart = () => {\n        timer.id = requestAnimationFrame(tick);\n    }\n\n    const end = () => {\n        timer.endCallback(timer.elapsed, timer);\n        timer.iterationStartCount++;\n\n        if (timer.iterationStartCount > timer.iterationCount) {\n            timer.lastCallback(timer.elapsed, timer);\n            cancelAnimationFrame(timer.id);\n        } else {\n           // 멈추지 않은 상태면 \n           timer.start = null;\n           timer.elapsed = 0; \n           frameStart();\n        }\n    }\n\n    const play = (opt = {}) => {\n        timer.start = null;    \n        timer.iterationStartCount = 1;\n        timer.log = [] \n        timer.lastTime = 0; \n        timer.logIndex = 0;\n\n        if (isNumber(opt.elapsed)) timer.elapsed = opt.elapsed;\n        if (isNumber(opt.speed)) timer.speed = opt.speed;\n        if (isNumber(opt.duration)) timer.duration = opt.duration;\n        if (isNumber(opt.iterationCount)) timer.iterationCount = opt.iterationCount  || Number.MAX_SAFE_INTEGER;\n        if (isString(opt.direction)) timer.direction = opt.direction\n        if (isFunction(opt.tick)) timer.tick = opt.tick;\n        if (isFunction(opt.start)) timer.startCallback = opt.start;\n        if (isFunction(opt.end)) timer.endCallback = opt.end;\n        if (isFunction(opt.first)) timer.firstCallback = opt.first;\n        if (isFunction(opt.last)) timer.lastCallback = opt.last;\n\n        timer.firstCallback(timer.elapsed, timer);\n        frameStart();\n    }\n\n\n    const stop = () => {\n        // console.table(timer.log);\n        cancelAnimationFrame(timer.id);\n    }\n\n    const seek = (t) => {\n        timer.elapsed = t\n        timer.tick (timer.elapsed, timer);\n    }\n\n    const first = (t) => {\n        seek(0);\n    }    \n\n    const last = (t) => {\n        seek(timer.duration)\n    }\n\n    return {\n        play, \n        stop,\n        tick,\n        first,\n        last,\n        seek,\n        timer\n    }\n}\n\n\n// var timer = makeTimer({\n//     duration: 1000,\n//     iterationCount: 3,\n//     direction: 'alternate',\n//     first: (elapsed, timer) => {\n//         console.log('first', elapsed, timer);\n//     },\n//     last: (elapsed, timer) => {\n//         console.log('last', elapsed, timer);\n//     },\n//     start: (elapsed, timer) => {\n//         console.log('start', elapsed, timer);\n//     },\n//     end : (elapsed, timer) => {\n//         console.log('end', elapsed, timer);\n//     },\n//     tick: (elapsed, timer) => {\n        \n//         console.log('tick', timecode(60, elapsed / 1000), elapsed, timer.iterationStartCount)\n//     }\n// })\n\n// timer.start();\n\n\n// setTimeout( () => {\n//     timer.start();\n// }, 1000)\n\n/* \n\nmakeTimer({\n    duration:  ,\n    tick: (elapsed, timer) => {\n\n    }\n})\n\ntimer.start({ elapsed: 10, speed : 0.5, duration : 10 * 1000 })\n\n*/","import UIElement, { COMMAND, EVENT } from \"../../../../util/UIElement\";\nimport { editor } from \"../../../../editor/editor\";\nimport { DEBOUNCE } from \"../../../../util/Event\";\nimport { isArray, isUndefined } from \"../../../../util/functions/func\";\nimport { makeTimer, second, timecode } from \"../../../../util/functions/time\";\n\nexport default class TimelineCommand extends UIElement {\n\n    [COMMAND('add.timeline')] (layerId) {\n        this.currentArtboard((artboard, timeline) => {\n            if (layerId) {\n                artboard.addTimelineLayer(layerId);\n            } else {\n                artboard.addTimeline();                \n            }\n            this.emit('refreshTimeline');\n            this.emit('addTimeline');\n        })\n    }\n\n    [COMMAND('select.timeline')] (selectedId) {\n        this.currentArtboard((artboard, timeline) => {\n            artboard.selectTimeline(selectedId);                \n            this.emit('refreshTimeline');\n            this.emit('selectTimeline');            \n        })\n    }\n\n    [COMMAND('set.timeline.offset') + DEBOUNCE(100)] (obj) {\n        this.currentArtboard((artboard, timeline) => {\n            artboard.setTimelineKeyframeOffsetValue(obj.layerId, obj.property, obj.id, obj.value, obj.timing, obj.time);\n            this.emit('refreshTimeline');\n        })\n    }\n\n    [COMMAND('refresh.selected.offset')] () {\n        var offset = editor.timeline.items[0]\n        if (offset) {\n            this.emit('refreshOffsetValue', offset)\n        }                    \n\n    }\n\n    [COMMAND('add.timeline.property')] (layerList, options = {timing: 'linear'}) {\n        this.currentArtboard((artboard, timeline) => {\n\n            if (isArray(layerList) === false) {\n                layerList = [layerList]\n            }\n    \n            var list = []  \n            layerList.forEach(layerId => {\n                var keyframeObj = { \n                    layerId: layerId, \n                    property: options.property, \n                    value: options.value + \"\", \n                    timing: options.timing,\n                    editor: options.editor\n                }\n                var obj = artboard.addTimelineKeyframe(keyframeObj);\n\n                if (obj) {\n                    list.push(obj);\n                }\n            })\n\n            editor.timeline.select(...list);\n\n            this.emit('refreshTimeline');\n            this.trigger('refresh.selected.offset');\n        }) \n        \n    }\n\n\n    [COMMAND('add.timeline.current.property')] (options = {timing: 'linear'}) {\n\n        this.currentArtboard((artboard, timeline) => {\n            var list = []\n            this.$selection.each(item => {\n\n                var keyframeObj = {\n                    layerId: item.id,\n                    property: options.property, \n                    value: item[options.property] + \"\", \n                    timing: options.timing,\n                    editor: options.editor\n                }\n\n                var obj = artboard.addTimelineKeyframe(keyframeObj);\n\n                if (obj) {\n                    list.push(obj);\n                }\n            })\n\n            editor.timeline.select(...list);            \n            this.emit('refreshTimeline');\n            this.trigger('refresh.selected.offset');\n        })        \n    }\n\n    [COMMAND('delete.timeline.keyframe')] () {\n        this.currentArtboard((artboard, timeline) => {\n            editor.timeline.each(item => {\n                artboard.deleteTimelineKeyframe(item.layerId, item.property, item.id);\n            })\n\n            editor.timeline.empty();\n            this.emit('refreshTimeline')\n            this.trigger('refresh.selected.offset');            \n        })\n    }\n\n\n    [COMMAND('remove.timeline.property')] (layerId, property) {\n        this.currentArtboard((artboard, timeline) => {\n            artboard.removeTimelineProperty(layerId, property);\n\n            editor.timeline.empty();\n            this.emit('refreshTimeline')\n            this.trigger('refresh.selected.offset');            \n        })\n    }\n\n\n    [COMMAND('remove.timeline')] (layerId) {\n        this.currentArtboard((artboard, timeline) => {\n            artboard.removeTimeline(layerId);\n\n            editor.timeline.empty();\n            this.emit('refreshTimeline')\n            this.trigger('refresh.selected.offset');            \n        })\n    }\n\n\n\n    [COMMAND('remove.animation')] (id) {\n        this.currentArtboard((artboard, timeline) => {\n            artboard.removeAnimation(id);\n\n            editor.timeline.empty();\n            this.emit('refreshTimeline')\n            this.emit('removeAnimation');\n        })\n    }\n\n\n    [COMMAND('add.timeline.keyframe')] (options = {timing : 'linear'}) {\n        this.currentArtboard((artboard, timeline) => {\n            var item = artboard.searchById(options.layerId);\n\n            var keyframeObj = {\n                layerId: options.layerId,\n                property: options.property,\n                time: options.time,\n                value: item[options.property] + \"\",\n                timing: options.timing,\n                editor: options.editor\n            }\n            var obj = artboard.addTimelineKeyframe(keyframeObj);\n            editor.timeline.select(obj);            \n            this.emit('refreshTimeline');\n            this.trigger('refresh.selected.offset');\n        })        \n    }\n\n    [COMMAND('change.timeline.offset')] () {\n        this.currentArtboard((artboard, timeline) => {\n            list.forEach(keyframe => {\n                artboard.setTimelineKeyframeOffsetTime(keyframe.layerId, keyframe.property, keyframe.id, keyframe.time)\n            })\n            this.emit('refreshTimeline');\n        })\n    }\n\n    [COMMAND('change.property')] (key, value) {\n        this.currentArtboard((artboard, timeline) => {\n            this.$selection.each(item => {\n                var newValue = isUndefined(value) ? item[key] : value\n                newValue = newValue + \"\"\n                artboard.setTimelineKeyframeOffsetValue(item.id, key, undefined, newValue )\n            })\n\n            this.emit('refreshTimelineOffsetValue');\n        })\n\n    }\n\n    [COMMAND('copy.timeline.property')] (layerId, property, newTime = null) {\n\n        this.currentArtboard((artboard, timeline) => {\n            artboard.copyTimelineKeyframe(layerId, property, newTime);\n            \n            this.emit('refreshTimeline');\n        })\n    }        \n\n    [EVENT('moveTimeline')] () {\n        this.trigger('pause.timeline');\n    }\n\n    [COMMAND('pause.timeline')] () {\n        if (this.state.timer) {\n            this.state.timer.stop();\n        }\n    }\n\n    currentArtboard (callback) {\n        var artboard = this.$selection.currentArtboard;\n\n        if (artboard) {\n            var timeline = artboard.getSelectedTimeline();\n\n            callback && callback (artboard, timeline)            \n        }\n    }\n\n    [COMMAND('last.timeline')] () {\n\n        this.currentArtboard((artboard, timeline) => {\n            var lastTime = artboard.getSelectedTimelineLastTime();\n\n            artboard.setTimelineCurrentTime(timecode(timeline.fps, lastTime));\n            artboard.seek();\n            this.emit('playTimeline');\n            editor.changeMode('SELECTION');\n            this.emit('afterChangeMode')                                \n        })\n    }\n\n    [COMMAND('next.timeline')] () {\n\n        this.currentArtboard((artboard, timeline) => {\n            var nextTime = artboard.getSelectedTimelineNextTime();\n\n            artboard.setTimelineCurrentTime(timecode(timeline.fps, nextTime));\n            artboard.seek();\n            this.emit('playTimeline');\n            editor.changeMode('SELECTION');\n            this.emit('afterChangeMode')                                \n        })\n    }\n\n\n    [COMMAND('first.timeline')] () {\n\n        this.currentArtboard((artboard, timeline) => {\n            var firstTime = artboard.getSelectedTimelineFirstTime();\n\n            artboard.setTimelineCurrentTime(timecode(timeline.fps, firstTime));\n            artboard.seek();\n            this.emit('playTimeline');\n            editor.changeMode('SELECTION');\n            this.emit('afterChangeMode')                                \n        })\n    }    \n\n\n    [COMMAND('prev.timeline')] () {\n\n        this.currentArtboard((artboard, timeline) => {\n            var prevTime = artboard.getSelectedTimelinePrevTime();\n\n            artboard.setTimelineCurrentTime(timecode(timeline.fps, prevTime));\n            artboard.seek();\n\n            this.emit('playTimeline');\n            editor.changeMode('SELECTION');\n            this.emit('afterChangeMode')                                \n        })\n    }    \n\n    [COMMAND('play.timeline')] (speed = 1, iterationCount = 1, direction = 'normal') {\n\n        this.$selection.empty()\n        this.emit('refreshSelection');\n        editor.changeMode('play');\n        this.emit('afterChangeMode')\n\n        this.currentArtboard((artboard, timeline) => {\n          \n            var lastTime = artboard.getSelectedTimelineLastTime();\n\n            if (this.state.timer) {\n                this.state.timer.stop()\n            } else {\n                this.state.timer = makeTimer({\n                    elapsed: timeline.currentTime * 1000,\n                    speed,\n                    duration: lastTime * 1000,\n                    iterationCount, \n                    direction\n                })\n            }\n\n            this.state.timer.play({\n                duration: lastTime * 1000,\n                elapsed: timeline.currentTime * 1000,\n                speed,\n                iterationCount,\n                direction,\n                tick: (elapsed, timer) => {\n                    // console.log(timecode(timeline.fps, elapsed / 1000), elapsed, elapsed/1000);\n                    artboard.seek(timecode(timeline.fps, elapsed / 1000))\n                    this.emit('playTimeline');\n                },\n                last: (elapsed, timer) => {                 \n                    this.emit('stopTimeline');\n                    // artboard.setTimelineCurrentTime(0);\n                    editor.changeMode('SELECTION');\n                    this.emit('afterChangeMode')                    \n                }\n            })      \n        })\n        \n    }\n\n}","import UIElement, { COMMAND } from \"../../../../util/UIElement\";\nimport { editor, EDIT_MODE_SELECTION } from \"../../../../editor/editor\";\nimport { Length } from \"../../../../editor/unit/Length\";\nimport Color from \"../../../../util/Color\";\nimport PathStringManager from \"../../../../editor/parse/PathStringManager\";\nimport PathParser from \"../../../../editor/parse/PathParser\";\n\nexport default class ObjectCommand extends UIElement {\n\n    refreshSelection () {\n        this.emit('refreshAll')\n        this.emit('hideSubEditor');\n        this.emit('refreshSelection');        \n        this.emit('refreshSelectionTool')      \n        this.emit('noneSelectMenu') \n    }\n\n    [COMMAND('addComponentType')] (type) {\n\n        // this.$selection.empty()\n        // this.emit('refreshSelection')\n        this.emit('hideSubEditor');\n        editor.changeAddType(type)\n\n        this.emit('afterChangeMode');\n    }\n\n    [COMMAND('add.component')] (type) {\n\n        // this.$selection.empty()\n        // this.emit('refreshSelection')\n        this.emit('hideSubEditor');\n        editor.changeAddType(type, true)\n\n        this.emit('afterChangeMode');\n    }    \n\n    [COMMAND('new.layer')] (type, obj) {\n        this.trigger(`add.${type}`, obj);\n        editor.changeMode(EDIT_MODE_SELECTION);\n\n        this.emit('afterChangeMode');\n    }\n\n\n    [COMMAND('newComponent')] (type, obj) {\n        this.trigger('addLayer', editor.createComponent(type, {\n            ...obj,\n        }), obj)\n\n        editor.changeMode(EDIT_MODE_SELECTION);\n\n        this.emit('afterChangeMode');\n    }    \n\n    [COMMAND('selectItem')] () {\n        editor.changeMode(EDIT_MODE_SELECTION);\n        this.emit('afterChangeMode');\n    }\n\n    [COMMAND('addLayer')] (layer, rect = {}) {\n\n        var containerItem = this.$selection.current || this.$selection.currentArtboard\n    \n        if (containerItem) {\n\n            if (!containerItem.enableHasChildren()) {\n                containerItem = containerItem.parent;\n            }\n\n            containerItem.add(layer)\n\n            if (rect.x) { layer.setScreenX(rect.x.value); }\n            if (rect.y) { layer.setScreenY(rect.y.value); }\n\n            this.$selection.select(layer);\n    \n            this.refreshSelection()\n        } else {\n            this.trigger('addArtBoard')\n\n            setTimeout(() => {\n                this.trigger('addLayer', layer, rect);\n            }, 50)\n        }\n    }\n\n    [COMMAND('addProject')] (obj = {}) {\n        var project = editor.add(editor.createComponent('project', {\n            ...obj\n        }))\n\n        this.$selection.selectProject(project);\n\n        this.refreshSelection()\n    }\n\n    [COMMAND('addArtBoard')] (obj = {}) {\n        var project = this.$selection.currentProject;\n        if (!project) {\n            project = editor.add(editor.createComponent('project'))\n    \n            this.$selection.selectProject(project);\n        }\n\n        var artboard = project.add(editor.createComponent('artboard', {\n            x: Length.px(300),\n            y: Length.px(300),\n            width: Length.px(300),\n            height: Length.px(600),\n            ...obj\n          }))\n\n          this.$selection.selectArtboard(artboard);\n          this.$selection.select(artboard);\n    \n          this.refreshSelection()\n    }\n\n    [COMMAND('add.rect')] (rect = {}) {\n\n        this.trigger('addLayer', editor.createComponent('layer', {\n            width: Length.px(100),\n            height: Length.px(100),\n            ...rect,\n            'background-color': Color.random()\n        }), rect)\n\n    }\n\n    [COMMAND('add.svgrect')] (rect = {}) {\n\n        this.trigger('addLayer', editor.createComponent('svg-path', {\n            width: Length.px(100),\n            height: Length.px(100),\n            d: PathStringManager.makeRect(0, 0, rect.width.value, rect.height.value),\n            ...rect\n        }), rect)\n    }        \n\n    [COMMAND('add.svgtextpath')] (rect = {}) {\n\n        this.trigger('addLayer', editor.createComponent('svg-textpath', {\n            width: Length.px(100),\n            height: Length.px(100),\n            text: 'Insert a newText',\n            'font-size': Length.parse(rect.height),\n            textLength: '100%',\n            d: PathStringManager.makeLine(0, rect.height.value, rect.width.value, rect.height.value),\n            ...rect\n        }), rect)\n    }            \n\n\n    [COMMAND('add.svgtext')] (rect = {}) {\n\n        this.trigger('addLayer', editor.createComponent('svg-text', {\n            width: Length.px(100),\n            height: Length.px(100),\n            text: 'Insert a newText',\n            ...rect\n        }), rect)\n    }            \n\n    [COMMAND('add.svgcircle')] (rect = {}) {\n        this.trigger('addLayer', editor.createComponent('svg-path', {\n            width: Length.px(100),\n            height: Length.px(100),\n            d: PathStringManager.makeCircle(0, 0, rect.width.value, rect.height.value),\n            ...rect\n        }), rect)\n    }            \n\n\n    [COMMAND('add.circle')] (rect = {}) {\n\n        this.trigger('addLayer', editor.createComponent('layer', {\n            width: Length.px(100),\n            height: Length.px(100),\n            ...rect,\n            'background-color': Color.random(),\n            'border-radius': Length.percent(100)\n        }), rect)\n    }\n\n\n\n    [COMMAND('addText')] (rect = {}) {\n    \n        this.trigger('addLayer', editor.createComponent('text', {\n            content: 'Insert a text',\n            width: Length.px(300),\n            height: Length.px(50),\n            ...rect,\n            'font-size': Length.px(30)\n        }),rect)\n    }\n\n\n    [COMMAND('addImage')] (rect = {}) {\n        this.trigger('addLayer', editor.createComponent('image', {\n            ...rect \n        }), rect)\n\n    }  \n\n    [COMMAND('add.cube')] (rect = {}) {\n        this.trigger('addLayer', editor.createComponent('cube', {\n            width: Length.px(100),\n            height: Length.px(100),\n            ...rect,\n            'background-color': Color.random()\n        }), rect)\n\n    }\n\n\n    [COMMAND('add.cylinder')] (rect = {}) {\n        this.trigger('addLayer', editor.createComponent('cylinder', {\n            width: Length.px(100),\n            height: Length.px(100),\n            ...rect,\n            'background-color': Color.random()\n        }), rect)\n\n    }\n\n\n    [COMMAND('convertPath')] (pathString, rect = null) {\n        var current = this.$selection.current;\n\n        // clip path 가 path 일 때 \n        // path 속성을 가지고 있을 때 \n\n        if (current )  {\n            if (current.is('svg-path', 'svg-textpath')) {\n\n                var d = pathString;\n\n                if (rect) {\n                    var parser = new PathParser(pathString)\n                    parser.scale(current.width.value/rect.width, current.height.value/rect.height)\n\n                    d = parser.d; \n                }\n\n                // path string 을 저걸로 맞추기 \n                current.updatePathItem({ d })\n\n                // selection 을 다시 해야 cache 를 다시 설정한다. \n                // 이 구조를 바꿀려면 어떻게 해야할까?   \n                this.$selection.select(current);\n\n                this.emit('refreshSelectionStyleView');                        \n\n            } else if (current['clip-path'].includes('path')) {\n                var d = pathString;\n\n                if (rect) {\n                    var parser = new PathParser(pathString)\n                    parser.scale(current.width.value/rect.width, current.height.value/rect.height)\n\n                    d = parser.d; \n                }\n\n                // path string 을 저걸로 맞추기 \n                current.reset({\n                    'clip-path': `path(${d})`\n                })\n\n                // selection 을 다시 해야 cache 를 다시 설정한다. \n                // 이 구조를 바꿀려면 어떻게 해야할까?   \n                this.$selection.select(current);\n\n                this.emit('refreshSelectionStyleView');  \n            }\n        }\n    }\n\n    [COMMAND('addPath')] () {\n        this.emit('hideSubEditor');\n        this.$selection.empty();\n        this.emit('initSelectionTool');        \n        this.emit('showPathEditor', 'draw' );\n    } \n\n    [COMMAND('open.polygon.editor')] (points = '', changeEvent = 'updatePolygonItem') {\n        var current = this.$selection.current;\n        if (current) {\n            this.emit('showPolygonEditor', 'draw', {\n                changeEvent,\n                current,\n                points,\n                screenX: current.screenX,\n                screenY: current.screenY,\n                screenWidth: current.screenWidth,\n                screenHeight: current.screenHeight,\n            }) \n        }\n    }\n\n    [COMMAND('open.path.editor')] (d = '', changeEvent = 'updatePathItem') {\n        var current = this.$selection.current;\n        if (current) {\n            this.emit('showPathEditor', 'draw', {\n                changeEvent,\n                current,\n                d,\n                screenX: current.screenX,\n                screenY: current.screenY,\n                screenWidth: current.screenWidth,\n                screenHeight: current.screenHeight,\n            }) \n        }\n    }\n\n\n    [COMMAND('addPolygon')] (mode = 'draw') {\n        this.emit('hideSubEditor');    \n        this.$selection.empty();\n        this.emit('initSelectionTool');\n        this.emit('showPolygonEditor', mode );    \n    }    \n\n    [COMMAND('addStar')] () {\n        this.trigger('addPolygon', 'star')\n    }   \n\n    [COMMAND('select.by.id')] (id) {\n        this.$selection.selectById(id);\n    \n        this.refreshSelection()\n    }\n\n    [COMMAND('resizeArtBoard')] (size = '') {\n        var current = this.$selection.currentArtboard;\n        if (current && current.is('artboard')) {\n    \n          if (!size.trim()) return;\n    \n          var [width, height] = size.split('x')\n    \n          width = Length.px(width);\n          height = Length.px(height);\n    \n          current.reset({ width, height });\n          this.$selection.select(current);\n          this.refreshSelection();\n        }\n    }\n\n}","import UIElement, { COMMAND } from \"../../../../util/UIElement\";\nimport { editor, EDIT_MODE_SELECTION } from \"../../../../editor/editor\";\nimport { Length } from \"../../../../editor/unit/Length\";\nimport { uuidShort } from \"../../../../util/functions/math\";\nimport AssetParser from \"../../../../editor/parse/AssetParser\";\nimport { saveResource, loadResource } from \"../../../../editor/util/Resource\";\nimport { isFunction } from \"../../../../util/functions/func\";\nimport ExportManager from \"../../../../editor/ExportManager\";\nimport Dom from \"../../../../util/Dom\";\n\n\nconst createItem = (obj) => {\n\n    obj.layers = obj.layers.map(it => {\n        return createItem(it);\n    })\n\n    var ComponentClass = editor.getComponentClass(obj.itemType)\n\n    return new ComponentClass(obj);\n}\n\nexport default class ToolCommand extends UIElement {\n    refreshSelection () {\n        this.emit('refreshAll')\n        this.emit('hideSubEditor');\n        this.emit('refreshSelection');        \n        this.emit('refreshSelectionTool')       \n    }\n\n    [COMMAND('set.locale')] (locale) {\n        editor.setLocale(locale);\n        this.emit('changed.locale')\n    }\n\n    [COMMAND('download.file')] (datauri, filename = 'easylogic.json') {\n\n        var a = document.createElement('a');\n        a.href = datauri; \n        a.download = filename \n        a.click();\n        \n        \n    }\n\n    [COMMAND('download.json')] (filename) {\n        var json = JSON.stringify(editor.projects)\n        var datauri = 'data:application/json;base64,' + window.btoa(json);\n\n        this.trigger('download.file', datauri, filename || 'easylogic.json')\n    }\n\n    [COMMAND('download.to.svg')] () {\n        var item = this.$selection.current || this.$selection.currentArtboard;\n\n        var svgString = ExportManager.generateSVG(item).trim();\n        var datauri = 'data:image/svg+xml;base64,' + window.btoa(svgString);\n        var filename = item.id;\n\n        this.trigger('download.file', datauri, filename)\n    }\n\n    [COMMAND('create.image.png')] (img, callback, imageType = 'image/png') {\n        var canvas = Dom.create('canvas');\n        var {width, height} = img; \n        canvas.resize({ width, height });\n        canvas.drawImage(img)\n\n        callback && callback (canvas.toDataURL(imageType))\n    }\n\n    [COMMAND('download.to.png')] () {\n        var item = this.$selection.current || this.$selection.currentArtboard;\n\n        var svgString = ExportManager.generateSVG(item).trim();\n        var datauri = 'data:image/svg+xml;base64,' + window.btoa(svgString);\n        var filename = item.id;\n\n        this.trigger('load.original.image', {local: datauri}, (info, img) => {\n            this.trigger('create.image.png', img, (pngDataUri) => {\n                this.trigger('download.file', pngDataUri, filename)\n            }, 'image/png')\n        })\n    }\n\n    [COMMAND('save.json')] () {\n        saveResource('projects', editor.projects)\n    }    \n\n    [COMMAND('load.json')] (json) {\n\n        json = json || loadResource('projects', []);\n\n        var projects = json.map(p => createItem(p))\n\n        projects.forEach(p => {\n            p.artboards.forEach(artboard => {\n                artboard.selectTimeline()\n            })\n        })\n\n        if (projects.length) {\n            var project = projects[0]\n            this.$selection.selectProject(project)\n            if (project.artboards.length) {\n                var artboard = project.artboards[0]\n                this.$selection.selectArtboard(artboard)\n\n                if (artboard.layers.length) {\n                    this.$selection.select(artboard.layers[0])\n                } else {\n                    this.$selection.select(artboard);\n                }\n            }\n        }\n\n\n        editor.load(projects);\n        this.refreshSelection()\n    }\n\n    [COMMAND('copy')] () {\n        this.$selection.copy();\n    }\n\n    [COMMAND('paste')] () {\n        this.$selection.paste();\n        this.emit('refreshAll');\n    }\n\n    [COMMAND('keyup.canvas.view')] (key) {\n        var command = this.getAddCommand(key);\n\n        this.trigger(...command);\n    }\n\n    getAddCommand (key) {\n        switch(key) {\n        case '1': return ['addComponentType', 'rect'];\n        case '2': return ['addComponentType', 'circle'];\n        case '3': return ['addComponentType', 'text'];\n        case '4': return ['addComponentType', 'image'];\n        case '5': return ['addComponentType', 'cube'];\n        case '6': return ['addComponentType', 'svgrect'];\n        case '7': return ['addPath'];\n        case '8': return ['addPolygon'];\n        case '9': return ['addStar'];\n        }\n    }\n\n    /* tools */ \n    \n    [COMMAND('switch.theme')] () {\n        if (editor.theme === 'dark') {\n            editor.changeTheme('light')\n        } else {\n            editor.changeTheme('dark')\n        }\n\n        this.emit('changeTheme')\n    }\n\n    [COMMAND('show.exportView')] () {\n        this.emit('showExportWindow');\n    }\n\n    [COMMAND('update.scale')] (scale) {\n        editor.scale = scale;     \n        this.emit('changeScale')\n    }\n\n    /* files */ \n    [COMMAND('drop.items')] (items = []) {\n        this.trigger('update.resource', items);\n    }\n\n    [COMMAND('drop.image.url')] (imageUrl) {\n            // convert data or blob to local url \n        this.trigger('load.original.image', {local: imageUrl}, (info) => {\n\n            this.emit('addImage', {src: info.local, ...info });\n            editor.changeMode(EDIT_MODE_SELECTION);\n            this.emit('afterChangeMode');                \n        });\n    }\n\n    [COMMAND('load.original.image')] (obj, callback) {\n\n        var img = new Image();\n        img.onload = () => {\n\n            var info = {\n                local: obj.local,\n                naturalWidth: Length.px(img.naturalWidth),\n                naturalHeight: Length.px(img.naturalHeight), \n                width: Length.px(img.naturalWidth),\n                height: Length.px(img.naturalHeight)\n            }\n\n            callback && callback(info, img);\n        }\n        img.src = obj.local; \n    }\n\n    [COMMAND('add.assets.image')] (obj, rect = {}) {\n        var project = this.$selection.currentProject;\n\n        if (project) {\n\n            // append image asset \n            project.createImage(obj);\n            this.emit('addImageAsset');\n\n            // convert data or blob to local url \n            this.trigger('load.original.image', obj, (info) => {\n                this.emit('addImage', {src: obj.local, ...info, ...rect });\n                editor.changeMode(EDIT_MODE_SELECTION);\n                this.emit('afterChangeMode');                \n            });\n\n        }\n    }\n\n    [COMMAND('add.assets.svgfilter')] (callback) {\n\n        var project = this.$selection.currentProject;\n\n        if (project) {\n            var id = uuidShort()\n            var index = project.createSVGFilter({ id, filters: []})\n    \n            callback && callback (index, id);\n        }\n\n    }\n\n    [COMMAND('update.uri-list')] (item) {\n\n        var datauri = item.data; \n        if (datauri.indexOf('data:') > -1) {\n            var info = AssetParser.parse(datauri, true);\n\n            // datauri 그대로 정의 될 때 \n            switch(info.mimeType) {\n            case 'image/png':  \n            case 'image/gif': \n            case 'image/jpg': \n            case 'image/jpeg': \n                this.trigger('add.assets.image', {\n                    id: uuidShort(),\n                    type: info.mimeType,\n                    name: '',\n                    original: datauri, \n                    local: info.local\n                });            \n                break; \n            }\n        } else {\n\n            // url 로 정의 될 때 \n            var ext = item.data.split('.').pop();\n            var name = item.data.split('/').pop();\n\n            switch(ext) {\n            case 'png':\n            case 'jpg':\n            case 'gif':\n            case 'svg':\n\n                this.trigger('add.assets.image', {\n                    id: uuidShort(),\n                    type: 'image/' + ext,\n                    name,\n                    original: item.data, \n                    local: item.data\n                })\n                break; \n            }\n        }\n\n    }\n\n    [COMMAND('update.image')] (item, rect) {\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            var datauri = e.target.result;\n            var local = URL.createObjectURL(item);\n\n            this.trigger('add.assets.image', {\n                id: uuidShort(),\n                type: item.type,\n                name: item.name, \n                original: datauri, \n                local\n            }, rect)\n        }\n\n        reader.readAsDataURL(item);\n    }\n\n    [COMMAND('remove.asset.image')] (localUrl) {\n        URL.revokeObjectURL(localUrl);\n    }\n\n    [COMMAND('update.asset.image')] (item, callback) {\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            var datauri = e.target.result;\n            var local = URL.createObjectURL(item);\n\n            var project = this.$selection.currentProject;\n\n            if (project) {\n    \n                // append image asset \n                project.createImage({\n                    id: uuidShort(),\n                    type: item.type,\n                    name: item.name, \n                    original: datauri, \n                    local\n                });\n                this.emit('addImageAsset');\n                isFunction(callback) && callback (local);\n            }\n        }\n\n        reader.readAsDataURL(item);\n    }    \n\n    [COMMAND('update.resource')] (items) {\n        items.forEach(item => {\n            switch(item.type) {\n            case 'image/svg+xml': \n            case 'image/png':  \n            case 'image/gif': \n            case 'image/jpg': \n            case 'image/jpeg': \n                this.trigger('update.image', item); \n                break; \n            case 'text/plain':\n            case 'text/html':\n                if (items.length) {\n                    this.trigger('addText', {\n                         content: item.data\n                    });\n                }\n                // this.trigger('update.string', item);\n                break;\n            case 'text/uri-list':\n                this.trigger('update.uri-list', item);\n                break;\n            }\n        })\n    }\n}","import UIElement from \"../../../util/UIElement\";\nimport TimelineCommand from \"./command/TimelineCommand\";\nimport ObjectCommand from \"./command/ObjectCommand\";\nimport ToolCommand from \"./command/ToolCommand\";\n\nexport default class CommandView extends UIElement {\n\n    components() {\n        return {\n            TimelineCommand,\n            ObjectCommand,\n            ToolCommand\n        }\n    }\n\n    template() {\n        return `\n        <div>\n            <TimelineCommand />\n            <ObjectCommand />\n            <ToolCommand />\n        </div>\n        `\n    }\n\n}","\nimport { CLICK } from \"../../../util/Event\";\nimport UIElement, { EVENT } from \"../../../util/UIElement\";\nimport icon from \"../icon/icon\";\n\nexport default class BaseWindow extends UIElement {\n\n  template() {\n    return `\n      <div class='window-background'>\n        <div class='window ${this.getClassName()}'>\n            <div class='window-title' ref=\"$title\">\n                <label>${this.getTitle()}</label>\n                <span class=\"tools\">\n                  ${this.getTools()}\n                  <button type='button' class='close' ref='$close'>${icon.close}</button>\n                </span>\n            </div>\n            <div class='window-body'>${this.getBody()}</div>\n        </div>\n      </div>\n        `;\n  }\n\n  getClassName() {\n    return '';\n  }\n  getTitle() {\n    return '';\n  }\n  getTools() {\n    return '';\n  }\n  getBody() {\n    return '';\n  }\n\n  [CLICK('$close')] () {\n    this.$el.hide();\n  }\n\n\n  show (width = 200) {\n    this.$el.show(\"block\");\n  }\n\n  hide () {\n    this.$el.hide();\n  }\n\n  [EVENT('showExportWindow')] () {\n    this.show();\n    this.refresh();\n  }\n}\n","import BaseWindow from \"./BaseWindow\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport { CLICK } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\nimport { CSS_TO_STRING } from \"../../../util/functions/func\";\nimport ExportManager from \"../../../editor/ExportManager\";\nimport Dom from \"../../../util/Dom\";\n\nexport default class ExportWindow extends BaseWindow {\n\n    getClassName() {\n        return 'export-window'\n    }\n\n    getTitle() {\n        return 'Export'\n    }\n\n    getBody() {\n        return /*html*/`\n        <div class=\"tab number-tab\" data-selected-value=\"1\" ref=\"$tab\">\n            <div class=\"tab-header full\" ref=\"$header\">\n                <div class=\"tab-item\" data-value=\"1\">\n                    <label>HTML</label>\n                </div>\n                <div class=\"tab-item\" data-value=\"2\">\n                    <label>CSS</label>\n                </div>   \n                <div class=\"tab-item\" data-value=\"3\">\n                    <label>SVG</label>\n                </div>                                     \n                <div class=\"tab-item\" data-value=\"4\">\n                    <label>Assets</label>\n                </div>\n                <div class=\"tab-item\" data-value=\"5\">\n                    <label>Animation Player</label>\n                </div>                                                                                  \n                <div class=\"tab-item\" data-value=\"6\">\n                    <label>SVG Image</label>\n                </div>     \n                <div class=\"tab-item\" data-value=\"7\">\n                    <label>SVG Image Preview</label>\n                </div>                        \n            </div>\n            <div class=\"tab-body\" ref=\"$body\">\n                <div class=\"tab-content\" data-value=\"1\">\n                    <pre ref='$html'></pre>\n                </div>\n                <div class='tab-content' data-value='2'>\n                    <pre ref='$css'></pre>\n                </div>                        \n                <div class='tab-content' data-value='3'>\n                    <pre ref='$svg'></pre>\n                </div>\n                <div class=\"tab-content\" data-value=\"4\">\n                    <pre ref='$assets'></pre>\n                </div>\n                <div class=\"tab-content\" data-value=\"5\">\n                    <pre ref='$js'></pre>\n                </div>     \n                <div class=\"tab-content\" data-value=\"6\">\n                    <pre ref='$svgimage'></pre>\n                </div>                                                                       \n                <div class=\"tab-content\" data-value=\"7\">\n                    <div ref='$svgimagePreview'></div>\n                </div>                                                       \n            </div>\n      </div>\n        `\n    }\n\n    [EVENT('showExportWindow')] () {\n        this.show();\n        this.refresh();\n    }\n\n    refresh() {\n        var project = this.$selection.currentProject || { layers : [] }\n\n        var css = `\n${this.makeStyle(project)}\n${project.artboards.map(item => this.makeStyle(item).replace(/\\n/g, '\\n\\t')).join('\\n')}\n`\n        this.refs.$css.text(css);\n\n        var html = `\n${project.artboards.map(item => item.html).join('\\n')}\n        `\n\n        this.refs.$html.text(html);\n\n        var obj = ExportManager.generate();\n\n        this.refs.$js.text(obj.js);\n\n\n        // export svg image \n        if (this.$selection.currentArtboard) {\n            var svgString = ExportManager.generateSVG(this.$selection.currentArtboard);\n            this.refs.$svgimage.text(svgString);\n            this.refs.$svgimagePreview.html(Dom.createByHTML(svgString));\n        } else  {\n            this.refs.$svgimage.empty();\n            this.refs.$svgimagePreview.empty();\n        }\n    }\n\n    makeProjectStyle (item) {\n\n        const keyframeString = item.toKeyframeString();\n        const rootVariable = item.toRootVariableCSS()\n        \n        return `\n        :root {\n            ${CSS_TO_STRING(rootVariable)}\n        }\n\n        /* keyframe */\n        ${keyframeString}\n        `\n    }  \n\n    makeStyle (item) {\n\n        if (item.is('project')) {\n            return this.makeProjectStyle(item);\n        }\n\n        const cssString = item.generateView(`[data-id='${item.id}']`)\n        return `\n        ${cssString}\n        ` + item.layers.map(it => {\n        return this.makeStyle(it);\n        }).join('')\n    }\n\n\n    [CLICK(\"$header .tab-item\")](e) {\n        this.refs.$tab.attr(\"data-selected-value\",e.$dt.attr(\"data-value\"));\n    }\n}","import BaseWindow from \"./BaseWindow\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport { CLICK } from \"../../../util/Event\";\nimport { editor } from \"../../../editor/editor\";\n\nexport default class LoginWindow extends BaseWindow {\n\n    getClassName() {\n        return 'login-window'\n    }\n\n    getTitle() {\n        return 'Login'\n    }\n\n    getBody() {\n        return /*html*/`\n            <div >\n                <label>email <input type=\"text\" ref=\"$email\" /></label>\n                <label>password <input type=\"text\" ref=\"$password\" /></label>\n                <button type=\"button\" ref='$login'>Login</button>\n            </div>\n        `\n    }\n\n    [CLICK('$login')] (e) {\n\n        var email = this.refs.$email.value; \n        var password = this.refs.$password.value; \n\n        firebase.auth().signInWithEmailAndPassword(email, password).then((user) => {\n            editor.setUser(user)\n            this.hide();\n        }).catch(function(error) {\n            // Handle Errors here.\n            var errorCode = error.code;\n            var errorMessage = error.message;\n\n            console.log(error);\n            // ...\n          });\n    }\n\n    [EVENT('showLoginWindow')] () {\n        this.show();\n    }\n\n}","import ExportWindow from \"./ExportWindow\";\nimport LoginWindow from \"./LoginWindow\";\nimport SignWindow from \"./SignWindow\";\n\n\n\nexport default {\n    SignWindow,\n    LoginWindow,\n    ExportWindow\n}","import BaseWindow from \"./BaseWindow\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport { CLICK } from \"../../../util/Event\";\n\nexport default class SignWindow extends BaseWindow {\n\n    getClassName() {\n        return 'sign-window'\n    }\n\n    getTitle() {\n        return 'Sign'\n    }\n\n    getBody() {\n        return /*html*/`\n            <div >\n                <label>fullname <input type=\"text\" ref=\"$fullname\" /></label>\n                <label>email <input type=\"text\" ref=\"$email\" /></label>\n                <label>password <input type=\"text\" ref=\"$password\" /></label>\n                <button type=\"button\" ref='$register'>Register</button>\n            </div>\n        `\n    }\n\n    [CLICK('$register')] () {\n        console.log(firebase);\n\n        var email = this.refs.$email.value; \n        var password = this.refs.$password.value; \n\n        firebase.auth().createUserWithEmailAndPassword(email, password).catch(function(error) {\n            // Handle Errors here.\n            var errorCode = error.code;\n            var errorMessage = error.message;\n\n            console.log(error);\n        // ...\n        });\n\n    }\n\n    [EVENT('showSignWindow')] () {\n        this.show();\n    }\n\n}","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { CHANGE } from \"../../../util/Event\";\n\nexport default class ImageFileView extends UIElement {\n\n    template() {\n        return /*html*/`\n        <div class='add-image-button'>\n            <input type='file' accept='image/*' multiple=\"true\" ref='$file' class='embed-file-input'/>\n        </div>\n        `\n    }\n\n    [CHANGE('$file')] (e) {\n        this.refs.$file.files.forEach(item => {\n          this.emit('update.image', item, this.state.rect);\n        })\n    }\n\n    [EVENT('addImage')] (rect) {\n        this.state.rect = rect; \n        this.refs.$file.click();\n    }\n\n}\n","import UIElement, { EVENT } from \"../../../../util/UIElement\";\nimport { CLICK, LOAD, DEBOUNCE, VDOM, SCROLL } from \"../../../../util/Event\";\nimport icon from \"../../icon/icon\";\nimport { editor } from \"../../../../editor/editor\";\n\nconst PROPERTY_TITLE = {\n  'stroke-dasharray': 'Stroke Dash Array',\n  'stroke-dashoffset': 'Stroke Dash Offset',\n  'stroke-linejoin': 'Stroke Line Join',\n}\n\nconst getPropertyTitle = (key, defaultTitle = '') => {\n  return PROPERTY_TITLE[key] || defaultTitle || key; \n}\n\nexport default class TimelineObjectList extends UIElement {\n\n\n    [EVENT('refreshCanvas', 'refreshSelection', 'refreshSelectionStyleView') + DEBOUNCE(1000)] () {\n        this.refresh();\n    }\n\n\n    makePropertySelect() {\n        return /*html*/`\n          <select class='property-select'>\n            <optgroup label='--'>\n              <option value='var'>var</option>\n            </optgroup>            \n            <optgroup label='Motion'>\n              <option value='offset-distance'>offset-distance</option>\n            </optgroup>      \n            <optgroup label='Size'>\n              <option value='width'>width</option>\n              <option value='height'>height</option>\n            </optgroup>      \n            <optgroup label='Box Model'>\n              <option value='margin-left'>margin-left</option>\n              <option value='margin-right'>margin-right</option>\n              <option value='margin-bottom'>margin-bottom</option>\n              <option value='margin-top'>margin-top</option>\n              <option value='padding-left'>padding-left</option>\n              <option value='padding-right'>padding-right</option>\n              <option value='padding-bottom'>padding-bottom</option>\n              <option value='padding-top'>padding-top</option>       \n            </optgroup>\n            <optgroup label='Border'>\n              <option value='border'>border</option>\n              <option value='border-top'>border-top</option>\n              <option value='border-bottom'>border-bottom</option>\n              <option value='border-left'>border-left</option>\n              <option value='border-right'>border-right</option>\n            </optgroup>\n            <optgroup label='Border Radius'>\n              <option value='border-radius'>border-radius</option>\n            </optgroup>        \n            <optgroup label='Style'>\n              <option value='background-color'>background-color</option>\n              <option value='background-image'>background-image</option>\n              <option value='box-shadow'>box-shadow</option>\n              <option value='text-shadow'>text-shadow</option>\n              <option value='filter'>filter</option>      \n              <option value='backdrop-filter'>backdrop-filter</option>          \n            </optgroup>            \n            <optgroup label='Transform'>\n              <option value='transform'>transform</option>\n              <option value='transform-origin'>transform-origin</option>\n              <option value='perspective'>perspective</option>\n              <option value='perspective-origin'>perspective-origin</option>\n            </optgroup>\n            <optgroup label='Font'>\n              <option value='font-size'>font-size</option>\n            </optgroup>\n          </select>\n        `\n      }\n\n    makeTimelineObjectRow (animation) {\n        var artboard = this.$selection.currentArtboard;\n\n        var obj =  artboard.searchById(animation.id)\n\n        if (!obj) {\n            return; \n        }\n\n        var selected = editor.timeline.checkLayer(obj.id);\n        var layer = artboard.searchById(obj.id)        \n\n        return /*html*/`\n        <div class='timeline-object' data-timeline-animation-id=\"${obj.id}\">\n            <div class='timeline-object-row layer' data-selected='${selected}' data-layer-id='${obj.id}' data-property=''>\n                <div class='icon'>${icon.chevron_right}</div>\n                <div class='title'> ${obj.name}</div>\n                <div class='tools'>\n                    <!--${this.makePropertySelect()} -->\n                    <button type=\"button\" class='remove-timeline' data-layer-id='${obj.id}'>${icon.remove}</button>\n                    <button type=\"button\" class='empty'></button>                    \n                </div>\n            </div>\n\n            ${animation.properties.map(property => {\n                var selected = editor.timeline.checkProperty(obj.id, property.property)\n\n                return /*html*/ `\n                <div class='timeline-object-row layer-property' data-selected='${selected}' data-layer-id='${obj.id}' data-property='${property.property}'>\n                <div class='icon'></div>                    \n                    <div class='title'>${getPropertyTitle(property.property)}</div>\n                    <div class='current-value'>\n                      ${property.property === 'd' ? layer.totalLength : ''}\n                      ${property.property === 'points' ? layer.totalLength : ''}\n                      <!--<input type='text' data-property='${property.property}' data-layer-id=\"${obj.id}\" value='' /> -->\n                    </div>\n                    <div class='tools'>\n                        <button type=\"button\" class='remove' data-layer-id='${obj.id}' data-property='${property.property}'>${icon.remove}</button>\n                        <button type=\"button\" class='add' data-layer-id='${obj.id}' data-property='${property.property}'></button>\n                    </div>\n                </div>`\n            }).join('')}                                                      \n        </div>\n        `\n    }\n\n    template() {\n        return /*html*/ `\n            <div class='timeline-object-list'></div>\n        `\n    }\n    \n    [LOAD() + VDOM] () {\n\n        var artboard = this.$selection.currentArtboard;\n\n        if (!artboard) return '';\n\n        var selectedTimeline = artboard.getSelectedTimeline();\n\n        if (!selectedTimeline) return ''; \n\n        return selectedTimeline.animations.map(animation => {\n            return this.makeTimelineObjectRow(animation);\n        })\n    }\n\n    refreshSelection () {\n      this.$el.$$('[data-selected=\"true\"]').forEach(it => {\n        it.attr('data-selected', \"false\");\n      })\n\n      editor.timeline.each(it => {\n        var $el = this.$el.$(`[data-layer-id=\"${it.layerId}\"][data-property=\"${it.property}\"]`)\n        \n        $el && $el.attr('data-selected', 'true')\n      })\n    }\n\n    [CLICK('$el .timeline-object-row.layer .title')] (e) {\n        var container = e.$dt.closest('timeline-object');\n        \n        container.toggleClass('collapsed')\n\n        var layerId = e.$dt.closest('timeline-object-row').attr('data-layer-id')\n\n        this.emit('toggleTimelineObjectRow', layerId, container.hasClass('collapsed'))\n\n        editor.timeline.selectLayer(layerId)\n\n        this.refreshSelection();\n    }\n\n    [CLICK('$el .timeline-object-row.layer .add-property')] (e) {\n        var $row = e.$dt.closest('timeline-object-row');\n        var property = $row.$('.property-select').val()\n        var layerId = e.$dt.attr('data-layer-id')\n\n\n        if (property) {\n            var current = this.$selection.current;\n\n            this.emit('add.timeline.property', {layerId, property, value: current[property]})\n        }\n    }\n\n    [CLICK('$el .timeline-object-row.layer .remove-timeline')] (e) {\n      var layerId = e.$dt.attr('data-layer-id')\n\n\n      if (layerId) {\n          this.emit('remove.timeline', layerId)\n      }\n  }\n\n    [CLICK('$el .timeline-object-row.layer-property .add')] (e) {\n      var layerId = e.$dt.attr('data-layer-id')\n      var property = e.$dt.attr('data-property')\n\n      if (property) {\n        this.emit('copy.timeline.property', layerId, property)\n      }       \n    }\n\n    [CLICK('$el .timeline-object-row.layer-property .remove')] (e) {\n      var layerId = e.$dt.attr('data-layer-id')\n      var property = e.$dt.attr('data-property')\n\n      if (property) {\n        this.emit('remove.timeline.property', layerId, property)\n      }       \n    }    \n\n    [CLICK('$el .timeline-object-row.layer-property .title')] (e) {\n      var [layerId, property] = e.$dt.closest('timeline-object-row').attrs('data-layer-id', 'data-property')\n\n      editor.timeline.selectProperty(layerId, property)\n\n      this.refreshSelection();\n\n      this.emit('refreshTimeline')\n    }\n\n    [EVENT('refreshTimeline')] () {\n        this.refresh();\n    }\n}","export function makeInterpolateNumber(layer, property, startNumber, endNumber, unit = undefined) {\n\n    return (rate, t) => {\n\n        var result = 0;\n        if (t === 0) {\n            result = startNumber;\n        } else if (t === 1) {\n            result = endNumber;\n        } else {\n            result = startNumber + (endNumber - startNumber) * rate\n        }\n\n        if (unit) {\n            return result + unit; \n        }\n\n        return result; \n    }\n}\n","import { makeInterpolateNumber } from \"../makeInterpolateNumber\"\n\nexport default function makeInterpolateLine (x1, y1, x2, y2) {\n\n    var obj = {\n        x: makeInterpolateNumber('', '', x1, x2),\n        y: makeInterpolateNumber('', '', y1, y2),\n    }\n\n    return (rate, t) => {\n        var results = {\n            x: obj.x(rate, t),\n            y: obj.y(rate, t)\n        }\n\n        // console.log({x: results.x , t, x1, x2 })\n\n        return results\n    }\n}","import { getBezierPointOneQuard } from \"../../../../util/functions/bezier\"\n\nexport default function makeInterpolateQuard (sx, sy, cx1, cy1, ex, ey) {\n\n    var points = [\n        {x: sx, y: sy},\n        {x: cx1, y: cy1},\n        {x: ex, y: ey}\n    ]\n\n    return (rate, t) => {\n        return getBezierPointOneQuard(points, t)  // return {x, y}\n    }\n}","import { getBezierPointOne } from \"../../../../util/functions/bezier\"\n\nexport default function makeInterpolateCubic (sx, sy, cx1, cy1, cx2, cy2, ex, ey) {\n\n    var points = [\n        {x: sx, y: sy},\n        {x: cx1, y: cy1},\n        {x: cx2, y: cy2},\n        {x: ex, y: ey}\n    ]\n\n    return (rate, t) => {\n        return getBezierPointOne(points, t)  // return {x, y}\n    }\n}","import { getDist } from \"../../../../util/functions/math\";\nimport Point from \"../../../parse/Point\";\nimport makeInterpolateLine from \"./makeInterpolateLine\";\nimport { getCurveDist, getQuardDist } from \"../../../../util/functions/bezier\";\nimport makeInterpolateQuard from \"./makeInterpolateQuard\";\nimport makeInterpolateCubic from \"./makeInterpolateCubic\";\n\nexport default function makeInterpolateOffset (segments) {\n    var interpolateList = [] \n    var startPoint = [] \n    segments.forEach((segment, index) => {\n\n        switch(segment.command) {\n        case 'M': \n            var [ex, ey] = segment.values\n            startPoint = [ex, ey];break; \n        case 'm': \n            var [sx, sy] = startPoint\n            var [ex, ey] = segment.values\n\n            ex += sx;\n            ey += sy;\n\n            startPoint = [ex, ey];\n            break; \n        case 'L': \n            var [sx, sy] = startPoint\n            var [ex, ey] = segment.values\n            interpolateList.push({\n                command: segment.command,\n                values: [sx, sy, ex, ey],\n                length: getDist(sx, sy, ex, ey),\n                interpolate: makeInterpolateLine(sx, sy, ex, ey)\n            })\n            startPoint = [ex, ey];\n            break; \n        case 'l': \n            var [sx, sy] = startPoint\n            var [ex, ey] = segment.values\n\n            ex += sx; \n            ey += sy; \n\n            interpolateList.push({\n                command: segment.command,\n                values: [sx, sy, ex, ey],\n                length: getDist(sx, sy, ex, ey),\n                interpolate: makeInterpolateLine(sx, sy, ex, ey)\n            })\n            startPoint = [ex, ey];\n            break; \n        case 'C':\n            var [sx, sy] = startPoint\n            var [cx1, cy1, cx2, cy2, ex, ey] = segment.values\n            interpolateList.push({\n                command: segment.command,\n                values: [sx, sy, cx1, cy1, cx2, cy2, ex, ey],\n                length: getCurveDist(sx, sy, cx1, cy1, cx2, cy2, ex, ey),\n                interpolate: makeInterpolateCubic(sx, sy, cx1, cy1, cx2, cy2, ex, ey)\n            })\n            startPoint = [ex, ey];\n            break;                     \n        case 'c':\n            var [sx, sy] = startPoint\n            var [cx1, cy1, cx2, cy2, ex, ey] = segment.values\n\n            cx1 += sx;\n            cx2 += sx;\n            ex += sx;\n\n            cy1 += sy;\n            cy2 += sy;\n            ey += sy;\n\n            interpolateList.push({\n                command: segment.command,\n                values: [sx, sy, cx1, cy1, cx2, cy2, ex, ey],\n                length: getCurveDist(sx, sy, cx1, cy1, cx2, cy2, ex, ey),\n                interpolate: makeInterpolateCubic(sx, sy, cx1, cy1, cx2, cy2, ex, ey)\n            })\n            startPoint = [ex, ey];\n            break;       \n        case 'Q':\n            var [sx, sy] = startPoint\n            var [cx1, cy1, ex, ey] = segment.values\n            interpolateList.push({\n                command: segment.command,\n                values: [sx, sy, cx1, cy1, ex, ey],\n                length: getQuardDist(sx, sy, cx1, cy1, ex, ey),\n                interpolate: makeInterpolateQuard(sx, sy, cx1, cy1, ex, ey)\n            })\n            startPoint = [ex, ey];\n            break;\n        case 'q':\n            var [sx, sy] = startPoint\n            var [cx1, cy1, ex, ey] = segment.values\n\n            cx1 += sx;\n            ex += sx;\n\n            cy1 += sy;\n            ey += sy;\n\n            interpolateList.push({\n                command: segment.command,\n                values: [sx, sy, cx1, cy1, ex, ey],                \n                length: getQuardDist(sx, sy, cx1, cy1, ex, ey),\n                interpolate: makeInterpolateQuard(sx, sy, cx1, cy1, ex, ey)\n            })\n            startPoint = [ex, ey];\n            break;   \n        case 'S':\n            var [sx, sy] = startPoint\n            var [cx2, cy2, ex, ey] = segment.values\n\n            var prevSegment = interpolateList[interpolateList.length - 1];\n\n            if (['C', 'c', 'S', 's'].includes(prevSegment.command)) {\n                var [_, _, _, _, preC1x, preC1y, preEx, preEy] = prevSegment.values \n\n                var {x: cx1, y: cy1 } = Point.getReversePoint({x: preEx, y: preEy}, {x: preC1x, preC1y})\n\n                interpolateList.push({\n                    command: segment.command,                \n                    values: [sx, sy, cx1, cy1, cx2, cy2, ex, ey],\n                    length: getCubicDist(sx, sy, cx1, cy1, cx2, cy2, ex, ey),\n                    interpolate: makeInterpolateCubic(sx, sy, cx1, cy1, cx2, cy2, ex, ey)\n                })\n                startPoint = [ex, ey];\n                break;                                \n            }\n        case 's':\n            var [sx, sy] = startPoint\n            var [cx2, cy2, ex, ey] = segment.values\n\n            cx2 += sx;\n            ex += sx;\n\n            cy2 += sy;\n            ey += sy;\n\n            var prevSegment = interpolateList[interpolateList.length - 1];\n\n            if (['C', 'c', 'S', 's'].includes(prevSegment.command)) {\n                var [_, _, _, _, preC1x, preC1y, preEx, preEy] = prevSegment.values \n\n                var {x: cx1, y: cy1 } = Point.getReversePoint({x: preEx, y: preEy}, {x: preC1x, preC1y})\n\n                interpolateList.push({\n                    command: segment.command,                \n                    values: [sx, sy, cx1, cy1, cx2, cy2, ex, ey],\n                    length: getCubicDist(sx, sy, cx1, cy1, cx2, cy2, ex, ey),\n                    interpolate: makeInterpolateCubic(sx, sy, cx1, cy1, cx2, cy2, ex, ey)\n                })\n                startPoint = [ex, ey];\n                break;                                \n            }            \n\n\n        case 'T':\n            var [sx, sy] = startPoint\n            var [ex, ey] = segment.values\n\n\n            var prevSegment = interpolateList[interpolateList.length - 1];\n\n            if (['Q', 'q', 'T', 't'].includes(prevSegment.command)) {\n                var [_, _, preC1x, preC1y, preEx, preEy] = prevSegment.values \n\n                var {x: cx1, y: cy1 } = Point.getReversePoint({x: preEx, y: preEy}, {x: preC1x, preC1y})\n\n                interpolateList.push({\n                    command: segment.command,\n                    values: [sx, sy, cx1, cy1, ex, ey],\n                    length: getQuardDist(sx, sy, cx1, cy1, ex, ey),\n                    interpolate: makeInterpolateQuard(sx, sy, cx1, cy1, ex, ey)\n                })\n                startPoint = [ex, ey];\n            }\n            break;    \n        case 't':\n            var [sx, sy] = startPoint\n            var [ex, ey] = segment.values\n\n            ex += sx;\n            ey += sy;\n\n            var prevSegment = interpolateList[interpolateList.length - 1];\n\n            if (['Q', 'q', 'T', 't'].includes(prevSegment.command)) {\n                var [_, _, preC1x, preC1y, preEx, preEy] = prevSegment.values \n\n                var {x: cx1, y: cy1 } = Point.getReversePoint({x: preEx, y: preEy}, {x: preC1x, preC1y})\n\n                interpolateList.push({\n                    command: segment.command,\n                    values: [sx, sy, cx1, cy1, ex, ey],\n                    length: getQuardDist(sx, sy, cx1, cy1, ex, ey),\n                    interpolate: makeInterpolateQuard(sx, sy, cx1, cy1, ex, ey)\n                })\n                startPoint = [ex, ey];\n            }\n            break;                         \n        }    \n\n    })\n\n\n    var totalLength = 0; \n    interpolateList.forEach(it => {\n        totalLength += it.length; \n    })\n\n    var start = 0; \n    interpolateList.forEach(it => {\n        it.startT = start / totalLength \n        it.endT = (start + it.length) / totalLength \n        it.totalLength = totalLength;\n\n        start += it.length \n    })\n    \n\n    return { totalLength, interpolateList};\n\n}","import UIElement, { EVENT } from \"../../../../util/UIElement\";\nimport { CLICK, LOAD, VDOM, DEBOUNCE, POINTERSTART, MOVE, IF, END, DOUBLECLICK, KEYUP, KEY, RESIZE, SCROLL } from \"../../../../util/Event\";\nimport { editor } from \"../../../../editor/editor\";\nimport { Length } from \"../../../../editor/unit/Length\";\nimport { OBJECT_TO_PROPERTY, OBJECT_TO_CLASS, isUndefined } from \"../../../../util/functions/func\";\nimport { timecode, second } from \"../../../../util/functions/time\";\nimport Dom from \"../../../../util/Dom\";\nimport makeInterpolateOffset from \"../../../../editor/util/interpolate-functions/offset-path/makeInterpolateOffset\";\nimport PathParser from \"../../../../editor/parse/PathParser\";\n\nconst PADDING = 20 \n\nexport default class TimelineKeyframeList extends UIElement {\n\n    config (key) {\n        return this.parent.state[key];\n    }\n\n    calculateTimeToPosition (offsetTime, startTime, endTime) {\n        \n        var rate =  (offsetTime - startTime) / (endTime - startTime);\n\n        return Length.px(this.rect.totalWidth * rate + PADDING/2);\n    }\n\n\n    makeSubOffset(property, value) {\n\n        var subOffset = [] \n\n        if (property === 'offset-path') {\n            var artboard = this.$selection.currentArtboard;             \n            var [id] = value.split(',').map(it =>it.trim());\n            var pathLayer = artboard.searchById(id);\n            value = pathLayer.d; \n        } else {\n            value = null; \n        }\n\n        if (value) {\n            var parser = new PathParser(value);            \n            var {totalLength, interpolateList} = makeInterpolateOffset(parser.segments); \n        \n            var prevLength = 0; \n            subOffset = interpolateList.map(it => {\n                var obj = { totalLength, length: it.length + prevLength }\n                prevLength += it.length; \n                return obj; \n            })\n\n            subOffset.pop();    // delete last length\n        }\n\n    \n        return subOffset;\n      }\n    \n\n    makeKeyframe (layerId, timeline, property) {\n\n        var list = property.keyframes.filter(offset => {\n            return timeline.displayStartTime <= offset.time && offset.time <= timeline.displayEndTime\n        }).map((offset, index) => {\n            var left = this.calculateTimeToPosition(offset.time, timeline.displayStartTime, timeline.displayEndTime);\n\n            var subOffset = this.makeSubOffset(property.property, offset.value);\n\n            return { left, ...offset, subOffset, index}\n        })\n\n\n        return /*html*/`\n        <div class='keyframe-back'${OBJECT_TO_PROPERTY({\n            'data-layer-id': layerId,\n            'data-property': property.property\n        })}>\n\n            ${list.map((it, index) => {\n\n                var next = list[index+1];\n\n                if (!next) return '';\n\n                var start = Length.px(it.left.value); \n                var width = Length.px(next.left.value - it.left.value);\n\n                var selected = editor.timeline.checked(it.id) && editor.timeline.checked(next.id)\n\n                return /*html*/`\n                    <div ${OBJECT_TO_PROPERTY({\n                        'data-selected': `${selected}`,\n                        'class': {\n                            'offset-line': true\n                        }\n                    })} style='left: ${start}; width: ${width}'} ></div>\n\n                    ${it.subOffset.map((subOffset, subOffsetIndex) => {\n                        var subOffsetLeft = Length.px(it.left.value +  (subOffset.length / subOffset.totalLength) * width.value)\n                        return /*html*/`\n                        <div class='${OBJECT_TO_CLASS({\n                            'sub-offset': true\n                        })}' style='left: ${subOffsetLeft}' ${OBJECT_TO_PROPERTY({\n                            'data-offset-id': it.id,\n                            'data-layer-id': layerId,\n                            'data-property': property.property,\n                            'data-suboffset-index': subOffsetIndex\n                        })} ></div>\n        \n                        `\n                    }).join('')}\n                `\n            }).join('')}\n        </div>\n        <div class='keyframe'>\n\n            ${list.map(it => {\n                var selected = editor.timeline.checked(it.id);\n\n                return /*html*/`<div class='${OBJECT_TO_CLASS({\n                    'offset': true\n                })}' style='left: ${it.left}' ${OBJECT_TO_PROPERTY({\n                    'data-selected': `${selected}`,\n                    'data-offset-id': it.id,\n                    'data-layer-id': layerId,\n                    'data-property': property.property,\n                    'data-offset-index': it.index\n                })} ></div>\n\n                `\n            }).join('')}\n        </div>`\n    }\n\n    makeTimelineKeyframeRow (timeline, animation) {\n\n        var artboard = this.$selection.currentArtboard;\n\n        var obj =  artboard.searchById(animation.id)\n\n        if (!obj) {\n            return; \n        }\n\n        var key = {} \n        animation.properties.map(property => property.keyframes.map(it => it.time)).forEach(it => {\n            it.forEach(a => key[a] = true )\n        })\n\n        var times = Object.keys(key).map(it => +it);\n\n        return /*html*/`\n        <div class='timeline-keyframe' data-timeline-layer-id=\"${obj.id}\">\n            <div class='timeline-keyframe-row layer'  ${OBJECT_TO_PROPERTY({\n                'data-row-index': this.state.rowIndex++,\n                \"data-layer-id\": obj.id \n            })} >\n                <div class='keyframe-shadow'>\n                ${times.map(time => {\n                    var left = this.calculateTimeToPosition(time, timeline.displayStartTime, timeline.displayEndTime);\n                    return /*html*/`<div class='offset' style='left: ${left}'></div>`\n                }).join('')}\n                </div>\n            </div>\n\n            ${animation.properties.map(property => {\n                return /*html*/ `\n                <div class='timeline-keyframe-row layer-property' ${OBJECT_TO_PROPERTY({\n                    'data-row-index': this.state.rowIndex++,\n                    \"data-property\": property.property,\n                    \"data-layer-id\": obj.id \n                })} >\n                    ${property.keyframes.length ? this.makeKeyframe(obj.id, timeline, property) : ''}\n                </div>`\n            }).join('')}                                                      \n        </div>\n        `        \n    }\n\n    template() {\n        return /*html*/ `\n            <div class='timeline-keyframe-container' tabIndex=\"-1\">\n                <div ref='$keyframeList' class='timeline-keyframe-list'></div>\n                <div class='drag-area' ref='$dragArea'></div>\n            </div>\n        `\n    }\n\n    hasDragPlace (e) {\n        var dom = Dom.create(e.target);\n        return dom.hasClass('offset') === false &&\n                dom.hasClass('offset-line') === false \n    }\n\n    getRowIndex (index) {\n        if (isUndefined(index)) {\n            index = this.state.rowIndex;\n        } else {\n            index = +index;\n        }\n\n        return index;\n    }\n\n    [KEYUP('$el') + KEY('Backspace')] (e) {\n        this.emit('delete.timeline.keyframe');\n    }\n\n    [POINTERSTART('$el') + IF('hasDragPlace') + MOVE('moveDragArea') + END('moveEndDragArea')] (e) {\n        this.dragXY = this.getRealPosition(e)\n        this.startRowIndex = this.getRowIndex(Dom.create(e.target).attr('data-row-index'))\n        this.left = null;\n        this.width = null;        \n    }\n\n    moveDragArea (dx, dy) {\n        var left = dx < 0 ? Length.px(this.dragXY.x + dx) : Length.px(this.dragXY.x);\n        var top = dy < 0 ? Length.px(this.dragXY.y + dy) : Length.px(this.dragXY.y);\n        var width = Length.px(Math.abs(dx)) \n        var height = Length.px(Math.abs(dy))\n\n        this.refs.$dragArea.css({ left, top,  width, height})\n\n        this.left = left;\n        this.width = width\n    }\n\n    getLayerList () {\n        \n        var rowIndex = this.getRowIndex(Dom.create(this.$config.get('bodyEvent').target).attr('data-row-index'))\n\n        var startIndex = Math.min(rowIndex, this.startRowIndex);\n        var endIndex = Math.max(rowIndex, this.startRowIndex);\n\n        var arr = [] \n        for(var i = startIndex; i <= endIndex; i++) {\n            arr.push(`[data-row-index=\"${i}\"]`);\n        }\n        var list = this.refs.$keyframeList.$$(arr.join(',')).map(it => {\n            var [layerId, property] = it.attrs('data-layer-id', 'data-property')\n            return {layerId, property}\n        });\n\n        return list; \n    }\n\n    getTime (start, end, rate) {\n        return start + (end - start) * rate; \n    }\n\n    moveEndDragArea (dx, dy) {\n        if (!this.left) {\n\n            if (this.doubleClicked) {\n                this.doubleClicked = false; \n            } else {\n                editor.timeline.empty()\n                this.refresh();\n            }\n            return; \n        }\n\n        this.refs.$dragArea.css({ left: null, top: null,  width: null, height: null})\n\n        var width = this.$el.width();\n\n        var startTime = this.getTimeRateByPosition((this.left.value) / width );\n        var endTime = this.getTimeRateByPosition((this.left.value + this.width.value) / width);\n\n        editor.timeline.selectBySearch(this.getLayerList(), startTime, endTime);\n        this.refresh();\n\n        this.startRowIndex = null; \n    }\n\n    [LOAD('$keyframeList') + VDOM] () {\n\n        var artboard = this.$selection.currentArtboard\n\n        if (!artboard) return '';\n\n        var selectedTimeline = artboard.getSelectedTimeline();\n\n        if (!selectedTimeline) return ''; \n\n        var {width} = this.$el.rect();\n        var totalWidth = width - PADDING; \n        var startX = PADDING/2; \n        this.rect = {\n            totalWidth, startX\n        }\n        this.state.rowIndex = 0; \n\n\n        return selectedTimeline.animations.map(animation => {\n            return this.makeTimelineKeyframeRow(selectedTimeline, animation);\n        })\n    }\n\n    [CLICK('$el .timeline-keyframe-row.layer .title')] (e) {\n        e.$dt.closest('timeline-keyframe').toggleClass('collapsed')\n    }\n\n\n    get currentTimeline () {\n        var currentArtboard = this.$selection.currentArtboard;\n    \n        if (currentArtboard) {\n            return currentArtboard.getSelectedTimeline();\n        }\n    }    \n\n\n    hasCurrentTimeline() {\n        return !!this.currentTimeline;\n    }\n\n    getRealPosition (e) {\n        var rect = this.$el.rect()\n        var pos = {\n            x: e.xy.x - rect.left, \n            width: rect.width,\n            y: e.xy.y - rect.top, \n            height: rect.height\n        }\n\n        var min = 10; \n        var max = pos.width - 10; \n\n        if(pos.x < min) {\n            pos.x = min;\n        } \n        \n        if (pos.x > max) {\n            pos.x = max; \n        }\n\n        pos.rate = (pos.x - min) / (max - min);\n\n        return pos;\n    }\n\n    getTimeRateByPosition (rate) {\n        var selectedTimeline = this.currentTimeline;\n\n        if (selectedTimeline) {\n            var { displayStartTime, displayEndTime} = selectedTimeline;\n            return this.getTime(displayStartTime, displayEndTime, rate);\n        }\n\n        return 0; \n    }\n\n    [DOUBLECLICK('$el .timeline-keyframe-row.layer-property')] (e) {\n\n        var [layerId, property] = e.$dt.attrs('data-layer-id', 'data-property')\n        var time = this.getTimeRateByPosition(this.getRealPosition(e).rate);\n        this.emit('add.timeline.keyframe', {layerId, property, time});\n\n        this.refresh();\n        this.doubleClicked = true; \n    }\n\n    [POINTERSTART('$el .timeline-keyframe-row.layer-property .offset') \n        + IF('hasCurrentTimeline') \n        + MOVE('moveOffset') \n        + END('moveEndOffset')] (e) {\n\n        this.$offset = e.$dt;\n\n        var id = this.$offset.attr('data-offset-id');\n        var property = this.$offset.attr('data-property')\n        var layerId = this.$offset.attr('data-layer-id');\n\n        this.$keyframeBack = this.$offset.closest('timeline-keyframe-row').$('.keyframe-back');\n\n        var {width} = this.$el.rect();\n        var totalWidth = width - PADDING; \n        var startX = PADDING/2; \n        this.rect = {\n            totalWidth, startX\n        }\n\n        var currentArtboard = this.$selection.currentArtboard;\n        if (currentArtboard) {\n            this.offset = currentArtboard.getTimelineKeyframeById(layerId, property, id);\n            this.layerId = layerId;\n            this.property = property;\n            this.cachedOffsetTime = this.offset.time; \n        }\n        this.timeline = this.currentTimeline;\n        \n        if (editor.timeline.checked(id)) {\n            // NOOP , selection 변한 없음.\n        } else {\n            editor.timeline.select(this.offset)\n        }\n\n        this.cachedOffsetList = {}\n        \n        editor.timeline.cachedList().forEach(it => {\n            this.cachedOffsetList[it.id] = it.time; \n        })\n\n        this.emit('refreshOffsetValue', this.offset)\n\n    }\n\n    moveOffset (dx, dy) {\n\n        var {displayStartTime, displayEndTime, fps} = this.timeline\n\n        var sign = dx < 0 ? -1 : 1; \n        var dxRate = Math.abs(dx) / this.rect.totalWidth; \n        var dxTime = dxRate * (displayEndTime - displayStartTime) \n\n        editor.timeline.each(item => {\n            var newOffsetTime = this.cachedOffsetList[item.id] + dxTime * sign \n\n            newOffsetTime = Math.max(newOffsetTime, displayStartTime);\n            newOffsetTime = Math.min(newOffsetTime, displayEndTime);\n\n            var code = timecode(fps, newOffsetTime);\n            newOffsetTime = second(fps, code);\n\n            item.time = newOffsetTime; \n        })\n\n        this.refresh();        \n        this.emit('refreshOffsetValue', this.offset)        \n    }\n\n    [EVENT('toggleTimelineObjectRow')] (id, isToggle) {\n        this.$el.$(`.timeline-keyframe[data-timeline-layer-id=\"${id}\"]`).toggleClass('collapsed', isToggle);\n    }\n\n    moveEndOffset () {\n        var currentArtboard = this.$selection.currentArtboard;\n        if (currentArtboard) {\n            editor.timeline.each(item => {\n                currentArtboard.sortTimelineKeyframe(item.layerId, item.property)\n            })\n            this.refresh();                        \n        }\n    }\n\n    [EVENT('addTimeline', 'moveTimeline') + DEBOUNCE(100)] () {\n        this.refresh();\n    }\n\n    [EVENT('refreshTimeline', 'toggleFooterEnd')] () {\n        this.refresh();\n    }\n\n    [RESIZE('window') + DEBOUNCE(100)] () {\n        this.refresh();\n    }\n}","import UIElement, { EVENT } from \"../../../../util/UIElement\";\nimport { THROTTLE, IF, PREVENT, KEYDOWN, KEYUP, KEY } from \"../../../../util/Event\";\nimport { editor } from \"../../../../editor/editor\";\nimport icon from \"../../icon/icon\";\n\nexport default class KeyframeTimeControl extends UIElement {\n    template () {\n        return /*html*/`\n        <div class='keyframe-time-control'>\n            <div class='time-manager'>\n                <label>${icon.timer} <input type=\"text\" ref='$currentTime' /></label>\n                <label>FPS <input type=\"number\" ref='$fps' min=\"0\" max=\"999\" /></label>\n                <label><input type=\"text\" ref='$duration' /></label>\n            </div>\n        </div>`\n    }\n\n\n\n    refresh () {\n        this.refreshTimeInfo();\n    }\n\n    get currentTimeline () {\n        var currentArtboard = this.$selection.currentArtboard;\n\n        if (currentArtboard) {\n            return currentArtboard.getSelectedTimeline();\n        }\n\n        return null; \n    }\n\n    hasCurrentTimeline() {\n        return !!this.currentTimeline;\n    }\n\n    refreshTimeInfo() {\n\n        var timeline = this.currentTimeline;\n\n        if (timeline) {\n\n            this.refs.$currentTime.val(timeline.currentTimecode);\n            this.refs.$duration.val(timeline.totalTimecode);\n            this.refs.$fps.val(timeline.fps);\n        }\n\n    }\n\n    refreshCurrentTime() {\n\n        var timeline = this.currentTimeline;\n\n        if (timeline) {\n            this.refs.$currentTime.val(timeline.currentTimecode);\n        }\n\n    }\n\n\n    [EVENT('playTimeline')] () {\n        this.refreshCurrentTime()\n    }\n\n    [EVENT('refreshTimeline')] () {\n        this.refresh();\n    }\n\n    [EVENT('moveTimeline', 'refreshSelection') + THROTTLE(10)] (){\n        this.refresh();\n    }\n\n    [KEYUP('$fps') + KEY('Enter')] (e) {\n        var fps = +this.refs.$fps.val();\n\n        var artboard = this.$selection.currentArtboard;\n\n        if (artboard) {\n            artboard.setFps(fps);\n            this.emit('moveTimeline');            \n        }\n    }\n\n    checkNumberOrTimecode (e) {\n        var value = e.target.value.trim();\n        if ((+value) + '' === value) {\n            return true; \n        } else if (value.match(/^[0-9:]+$/)) {\n            return true; \n        }\n\n        return false;\n    }\n\n    checkKey (e) {\n        if (e.key.match(/^[0-9:]+$/)) {\n            return true; \n        } else if (e.code === 'Backspace' || e.code === 'ArrowRight' || e.code === 'ArrowLeft') {\n            return true; \n        }\n\n        return false; \n    }\n\n    [KEYDOWN('$currentTime')] (e) {\n        if (!this.checkKey(e)) {\n            e.preventDefault();\n            e.stopPropagation()\n            return false;\n        }\n    }\n\n    [KEYUP('$currentTime') + KEY('Enter') + IF('checkNumberOrTimecode') + IF('hasCurrentTimeline') + PREVENT] (e) {\n        var frame = this.refs.$currentTime.value\n        var artboard = this.$selection.currentArtboard;\n\n        if (artboard) {\n            artboard.setTimelineCurrentTime(frame);\n        }\n\n        this.refresh();\n        this.emit('moveTimeline');\n    }\n\n\n\n    [KEYDOWN('$duration')] (e) {\n        if (!this.checkKey(e)) {\n            e.preventDefault();\n            e.stopPropagation()\n            return false;\n        }\n    }\n\n    [KEYUP('$duration') + KEY('Enter') + IF('checkNumberOrTimecode') + IF('hasCurrentTimeline') + PREVENT] (e) {\n\n        var frame = this.refs.$duration.value\n        var artboard = this.$selection.currentArtboard;\n\n        if (artboard) {\n            artboard.setTimelineTotalTime(frame);\n        }\n\n        this.refresh();\n        this.emit('moveTimeline');\n    }\n}\n","import UIElement from \"../../../../util/UIElement\";\nimport KeyframeTimeControl from \"./KeyframeTimeControl\";\n\nexport default class TimelineTopToolbar extends UIElement {\n    components() {\n        return {\n            KeyframeTimeControl        \n        }\n    }    \n    template() {\n        return /*html*/`\n            <div class='timeline-top-toolbar'>\n                <KeyframeTimeControl />\n            </div>\n        `\n    }\n}","import UIElement, { EVENT } from \"../../../../util/UIElement\";\nimport { RESIZE, DEBOUNCE, POINTERSTART, MOVE, THROTTLE, IF, PREVENT, KEYDOWN, KEYUP, KEY, END } from \"../../../../util/Event\";\nimport { editor } from \"../../../../editor/editor\";\nimport { Length } from \"../../../../editor/unit/Length\";\nimport { second, framesToTimecode } from \"../../../../util/functions/time\";\n\nconst PADDING = 20 \n\nexport default class KeyframeTimeView extends UIElement {\n    template () {\n        return /*html*/`\n        <div class='keyframe-time-view'>\n            <div class='time-duration'>\n                <div class='duration-handle-left'></div>\n                <div class='duration-handle-right'></div>\n                <div class='duration-slider' ref='$slider'>\n                    <div class='gauge' ref='$gauge'></div>\n                    <div class='start' ref='$start'></div>\n                    <div class='end' ref='$end'></div>\n                </div>\n            </div>\n            <canvas ref=\"$canvas\"></canvas>\n        </div>`\n    }\n\n\n\n    refresh () {\n        this.refreshTimeDisplay();\n        this.refreshCanvas();\n    }\n\n    get currentTimeline () {\n        var currentArtboard = this.$selection.currentArtboard;\n\n        if (currentArtboard) {\n            return currentArtboard.getSelectedTimeline();\n        }\n\n        return null; \n    }\n\n    hasCurrentTimeline() {\n        return !!this.currentTimeline;\n    }\n\n    refreshTimeDisplay() {\n\n        var timeline = this.currentTimeline;\n\n        if (timeline) {\n            var start = Length.percent(timeline.displayStartTime/timeline.totalTime * 100);\n            var end = Length.percent(timeline.displayEndTime/timeline.totalTime * 100);\n    \n            this.refs.$start.css('left', start)\n            this.refs.$end.css('left', end)\n            this.refs.$gauge.css({\n                'left': start,\n                'width': Length.percent(end.value - start.value)\n            })\n    \n        }\n\n    }\n\n    [POINTERSTART('$start') + IF('hasCurrentTimeline') + MOVE('moveStartButton')] (e) {\n        this.sliderRect = this.refs.$slider.rect();\n        this.endX = Length.parse(this.refs.$end.css('left')).toPx(this.sliderRect.width);\n        this.artboard = this.$selection.currentArtboard;\n\n    }\n\n    moveStartButton () {\n        var currentX = this.$config.get('pos').x - this.sliderRect.x;\n        var minX = 0; \n        var maxX =  this.endX; \n\n        currentX = Math.max(currentX, minX);\n        currentX = Math.min(currentX, maxX);\n\n        var displayTimeRate = currentX / this.sliderRect.width;\n\n        this.artboard.setDisplayStartTimeRate(displayTimeRate);\n\n        this.refreshTimeDisplay();\n        this.refreshCanvas();        \n        this.emit('moveTimeline');\n    }\n\n\n    [POINTERSTART('$end') + IF('hasCurrentTimeline') + MOVE('moveEndButton')] (e) {\n        this.sliderRect = this.refs.$slider.rect();\n        this.startX = Length.parse(this.refs.$start.css('left')).toPx(this.sliderRect.width);\n        this.artboard = this.$selection.currentArtboard;        \n\n    }\n\n    moveEndButton () {\n        var currentX = this.$config.get('pos').x - this.sliderRect.x;\n        var minX = this.startX; \n        var maxX =  this.sliderRect.width; \n\n        currentX = Math.max(currentX, minX);\n        currentX = Math.min(currentX, maxX);\n\n        var displayTimeRate = currentX / this.sliderRect.width;\n\n        this.artboard.setDisplayEndTimeRate(displayTimeRate);\n\n        this.refreshTimeDisplay();\n        this.refreshCanvas();        \n        this.emit('moveTimeline');\n    }    \n\n\n    [POINTERSTART('$gauge') + IF('hasCurrentTimeline') + MOVE('moveGaugeButton')] (e) {\n        this.sliderRect = this.refs.$slider.rect();\n        var {displayStartTime, displayEndTime} = this.currentTimeline;\n        this.timelineStartTime = displayStartTime\n        this.timelineEndTime = displayEndTime\n        this.artboard = this.$selection.currentArtboard;    \n    }\n\n    moveGaugeButton (dx, dy) {\n\n        var dxRate = dx / this.sliderRect.width; \n\n        this.artboard.setDisplayTimeDxRate(dxRate, this.timelineStartTime, this.timelineEndTime);\n\n        this.refreshTimeDisplay();\n        this.refreshCanvas();\n        this.emit('moveTimeline');\n    }        \n\n    config (key) {\n        return this.parent.state[key]\n    }\n\n    setConfig (key, value) {\n        this.parent.setState({[key]: value}, false)\n    }\n\n\n    refreshCanvas() {\n\n        var timeline = this.currentTimeline;\n\n        if (timeline) {\n\n\n            var originalRect = this.$el.rect()\n            var { width, height } = originalRect;\n\n            var {displayStartTime, displayEndTime, fps, currentTime} = timeline\n\n            var startFrame = Math.floor(displayStartTime * fps); \n            var endFrame = Math.floor(displayEndTime * fps); \n            var width = originalRect.width; \n\n            var totalFrame = endFrame - startFrame;\n            var splitFrame = 5; \n\n            if (totalFrame < 100) {\n                splitFrame = 10; \n            } else if (totalFrame < 1000) {\n                splitFrame = 100; \n            } else if (totalFrame < 10000) {\n                splitFrame = 1000; \n            } else if (totalFrame < 100000) {\n                splitFrame = 10000; \n            }\n\n\n            if (startFrame % splitFrame !== 0) {\n                startFrame = startFrame + (splitFrame - (startFrame % splitFrame)); \n            }\n\n            var textOption = {\n                textAlign: 'center',\n                textBaseline: 'middle',\n                font: '10px sans-serif'\n            }\n            \n            this.refs.$canvas.resize({\n                width,\n                height: 24\n            });\n            this.refs.$canvas.update(function () {\n                var rect = this.rect();\n                var realWidth = width - PADDING; \n                this.drawOption({strokeStyle: 'rgba(204, 204, 204, 0.3)',  lineWidth: 0.5, ...textOption})\n                var restX = 10;\n                var y = 7;\n                for(; startFrame < endFrame; startFrame += splitFrame) {\n\n                    var startX = (second(fps, startFrame) - displayStartTime)/(displayEndTime - displayStartTime) * realWidth;\n                    this.drawOption({ fillStyle: '#ececec'})                                \n                    this.drawText(startX + restX, y, framesToTimecode(fps, startFrame).replace(/00\\:/g, '') + 'f')\n                }\n\n\n                this.drawOption({strokeStyle: 'black', lineWidth: 1})\n                this.drawLine(0, rect.height-0.5, rect.width, rect.height);\n\n                var left =  (currentTime - displayStartTime)/(displayEndTime - displayStartTime) * realWidth;\n                var markTop = 10\n                var markWidth = 4\n                this.drawOption({strokeStyle: '#fc554f',fillStyle: '#fc554f', lineWidth: 1})\n                this.drawPath(\n                    [left - markWidth + restX, rect.height - markTop],\n                    [left + markWidth + restX, rect.height - markTop],\n                    [left + markWidth + restX, rect.height - markWidth],\n                    [left + restX, rect.height],\n                    [left - markWidth + restX, rect.height - markWidth],\n                    [left - markWidth + restX, rect.height - markTop]\n                )\n\n                \n            })\n        }\n    }\n\n    [POINTERSTART('$canvas') + IF('hasCurrentTimeline') + MOVE() + END('moveEndCurrentTime')] (e) {\n        this.selectedCanvasOffset = this.refs.$canvas.offset()\n        this.originalRect = this.$el.rect()    \n        this.width = this.originalRect.width - PADDING;     \n        this.artboard = this.$selection.currentArtboard\n        this.emit('hideSelectionToolView')\n        this.$selection.empty()\n        this.emit('refreshSelection');\n    }\n\n    move () {\n\n        var totalWidth = this.width; \n        var minX = 0;\n        var maxX = totalWidth;\n        var currentX = this.$config.get('pos').x - this.selectedCanvasOffset.left; \n\n        currentX = Math.max(currentX, minX);\n        currentX = Math.min(currentX, maxX);\n\n        this.artboard.setTimelineCurrentTimeRate(currentX / totalWidth);\n\n        this.refresh();\n        this.artboard.seek();\n\n        this.emit('moveTimeline')\n    }\n\n    moveEndCurrentTime () {\n        this.$selection.setRectCache();\n        this.emit('refreshSelectionTool')\n    }\n\n    [RESIZE('window') + DEBOUNCE(100)] () {    \n        this.refresh();\n    }\n\n    [EVENT('refreshTimeline', 'playTimeline', 'toggleFooterEnd')] () {\n        this.refresh();\n    }\n\n    [EVENT('moveTimeline', 'refreshSelection') + THROTTLE(10)] (){\n        this.refresh();\n    }\n}\n","import UIElement, { EVENT } from \"../../../../util/UIElement\";\nimport { RESIZE, DEBOUNCE, THROTTLE } from \"../../../../util/Event\";\nimport { editor } from \"../../../../editor/editor\";\n\nexport default class KeyframeTimeGridView extends UIElement {\n    template () {\n        return /*html*/`\n            <div class='keyframe-time-grid-view'>\n                <canvas ref=\"$canvas\"></canvas>\n            </div>\n        `\n    }\n\n    refresh () {\n        this.refreshCanvas();\n    }\n\n    currentTimeline () {\n        var currentArtboard = this.$selection.currentArtboard;\n\n        if (currentArtboard) {\n            return currentArtboard.getSelectedTimeline();\n        }\n    }    \n\n\n    hasCurrentTimeline() {\n        return !!this.currentTimeline();\n    }\n\n\n\n    refreshCanvas() {\n\n        var timeline = this.currentTimeline();\n\n        if (timeline) {\n            var originalRect = this.$el.rect()\n            var { width } = originalRect;\n            var { currentTime, displayStartTime, displayEndTime } = timeline;\n\n            this.refs.$canvas.resize(this.$el.rect());\n            this.refs.$canvas.update(function () {\n                var rect = this.rect();\n                var realWidth = width - 20; \n                var restX = 10;             \n\n                var left =  (currentTime - displayStartTime)/(displayEndTime - displayStartTime) * realWidth;\n                this.drawOption({strokeStyle: '#fc554f', lineWidth: 1})\n                this.drawLine(left + restX, 0, left + restX, rect.height)\n            })\n        }\n\n    }\n\n    [RESIZE('window') + DEBOUNCE(100)] () {    \n        this.refresh();\n    }\n\n    [EVENT('refreshTimeline', 'playTimeline', 'toggleFooterEnd')] ( ) {\n        this.refresh();\n    }\n\n    [EVENT('moveTimeline', 'refreshSelection') + THROTTLE(50)] (){\n        this.refresh();\n    }\n}\n","import UIElement, { EVENT } from \"../../../../util/UIElement\";\nimport CubicBezierEditor from \"../../property-editor/CubicBezierEditor\";\nimport { LOAD, CLICK, KEYDOWN, KEYUP, KEY, IF, PREVENT } from \"../../../../util/Event\";\nimport CSSPropertyEditor from \"../../property-editor/CSSPropertyEditor\";\n\nimport { second, timecode } from \"../../../../util/functions/time\";\nimport { editor } from \"../../../../editor/editor\";\nimport { isUndefined } from \"../../../../util/functions/func\";\nimport icon from \"../../icon/icon\";\n\nconst  i18n = editor.initI18n('timeline.value.editor')\n\nexport default class TimelineValueEditor extends UIElement {\n  components() {\n    return {\n      CSSPropertyEditor,\n      CubicBezierEditor\n    }\n  }\n\n  initState() {\n    return {\n      time: 0,\n      timing: 'linear'\n    };\n  }\n\n  updateData(opt) {\n    this.setState(opt, false); \n    this.parent.trigger(this.props.onchange, this.state);\n  }\n\n  getProperties() {\n    return [{\n        key: this.state.property,\n        value: isUndefined(this.state.value) ? '10px' : this.state.value ,\n        editor: this.state.editor\n    }].filter(it => it.key);\n  }\n\n  refresh () {\n\n    var artboard = this.$selection.currentArtboard; \n    var code = '00:00:00:00';\n    if (artboard) {\n      var timeline = artboard.getSelectedTimeline();\n      if (timeline) {\n        code = timecode(timeline.fps, this.state.time)\n      }\n    }\n\n    this.refs.$offsetTime.val(code)\n    this.children.$propertyEditor.trigger('showCSSPropertyEditor', this.getProperties());      \n    this.children.$cubicBezierEditor.trigger('showCubicBezierEditor', {\n      timingFunction: this.state.timing\n    });\n  }\n\n  template() {\n    return /*html*/`\n    <div class='timeline-value-editor'>\n        <div class=\"tab number-tab\" data-selected-value=\"1\" ref=\"$tab\">\n            <div class=\"tab-header full\" ref=\"$header\">\n                <div class=\"tab-item\" data-value=\"1\">\n                    <label>${i18n('value')}</label>\n                </div>          \n                <div class=\"tab-item\" data-value=\"2\">\n                    <label>${i18n('timing')}</label> \n                </div>                            \n            </div>\n            <div class=\"tab-body\" ref=\"$body\">\n                <div class=\"tab-content padding-zero\" data-value=\"1\">\n                    ${this.templateForOffset()}  \n                    ${this.templateForProperty()}  \n                </div>\n                <div class=\"tab-content\" data-value=\"2\">\n                    ${this.templateForTimingFunction()}\n                </div>\n            </div>\n        </div>\n    </div>\n    `;\n  }\n\n\n  [CLICK(\"$header .tab-item:not(.empty-item)\")](e) {\n    this.refs.$tab.attr(\n      \"data-selected-value\",\n      e.$dt.attr(\"data-value\")\n    );\n    this.refresh();\n  }\n\n\n  checkNumberOrTimecode (e) {\n    var value = e.target.value.trim();\n    if ((+value) + '' === value) {\n        return true; \n    } else if (value.match(/^[0-9:]+$/)) {\n        return true; \n    }\n\n    return false;\n}\n\ncheckKey (e) {\n    if (e.key.match(/^[0-9:]+$/)) {\n        return true; \n    } else if (e.code === 'Backspace' || e.code === 'ArrowRight' || e.code === 'ArrowLeft') {\n        return true; \n    }\n\n    return false; \n}\n\n[KEYDOWN('$offsetTime')] (e) {\n    if (!this.checkKey(e)) {\n        e.preventDefault();\n        e.stopPropagation()\n        return false;\n    }\n}\n\n[KEYUP('$offsetTime') + KEY('Enter') + IF('checkNumberOrTimecode') + PREVENT] (e) {\n    var frame = this.refs.$offsetTime.value\n\n    var artboard = this.$selection.currentArtboard;\n    if (artboard) {\n      var timeline = artboard.getSelectedTimeline();\n\n      this.updateData({\n        time: second(timeline.fps, frame)\n      });\n    }\n\n}\n\n\n  templateForOffset() {\n    return /*html*/`\n      <div class='offset-input'>\n        <label>${i18n('time')}</label>\n        <input type=\"text\" ref='$offsetTime' />\n        <button type=\"button\" ref='$seek' title='Seek timeline'>${icon.gps_fixed}</button>\n      </div>\n    `\n  }    \n\n  [CLICK('$seek')] () {\n    var artboard = this.$selection.currentArtboard;\n\n    if (artboard) {\n      artboard.seek(this.refs.$offsetTime.value, (it => {\n\n        if ( it.layer.id === this.state.layerId && it.property === this.state.property) {\n          return true; \n        }\n\n        return false; \n      }))\n      this.emit('playTimeline');\n    }\n  }\n\n  templateForProperty() {\n    return `<CSSPropertyEditor ref='$propertyEditor' hide-title='true' onchange='changePropertyEditor' />`\n  }    \n\n  [LOAD('$editor')] () {\n      return ''\n  }\n\n  templateForTimingFunction () {\n    return /*html*/`\n    <div class='timing-function'>\n      <CubicBezierEditor ref='$cubicBezierEditor' key=\"timing\" value=\"${this.state.timingFunction}\" onChange='changeCubicBezier' />\n    </div>\n    `\n  }\n\n  [EVENT('refreshPropertyValue')] () {\n\n    var artboard = this.$selection.currentArtboard;\n    if (artboard) {\n      var selectedLayer = artboard.searchById(this.state.layerId); \n\n      if (selectedLayer) {\n        var value = selectedLayer[this.state.property] + ''\n        this.trigger('refreshOffsetValue', { value })\n        this.updateData({ value })\n      }\n    }\n  }\n\n  [EVENT('refreshOffsetValue')] (offset) {\n    this.setState({\n        ...offset\n    }, false)\n    this.refresh();\n  }\n\n  [EVENT('changeCubicBezier')] (key, value) {\n    this.updateData({ [key]: value + '' })\n  }\n\n  [EVENT('changePropertyEditor')] (obj) {\n    if (obj.length)  {\n        var it = obj[0]\n        this.updateData({\n            value: it.value + ''\n        })\n    }\n  }\n\n}\n","import UIElement, { EVENT } from \"../../../../util/UIElement\";\nimport { CLICK, INPUT, BIND } from \"../../../../util/Event\";\nimport icon from \"../../icon/icon\";\nimport { editor } from \"../../../../editor/editor\";\n\nconst i18n = editor.initI18n('timeline.play.control')\n\nexport default class TimelinePlayControl extends UIElement {\n    \n    template() {\n        return /*html*/`\n            <div class='timeline-play-control' >\n                <div class='row'>\n                    <div class='play-buttons' ref='$playButtons' data-status='${this.state.status}'>\n                        <button type=\"button\" data-value='play' class='play' title='${i18n('play')}'>${icon.play}</button>\n                        <button type=\"button\" data-value='pause' class='pause' title='${i18n('pause')}'>${icon.pause}</button>                \n                        <button type=\"button\" data-value='first' class='first' title='${i18n('first')}'>${icon.skip_prev}</button>\n                        <button type=\"button\" data-value='prev' class='prev' title='${i18n('prev')}'>${icon.fast_rewind}</button>                    \n                        <button type=\"button\" data-value='next' class='next' title='${i18n('next')}'>${icon.fast_forward}</button>\n                        <button type=\"button\" data-value='last' class='last' title='${i18n('last')}'>${icon.skip_next}</button>\n                    </div>\n                </div>\n                <div class='row'>            \n                    <label title='Speed'>${i18n('speed')}</label>\n                    <div class='input speed-number' >\n                        <input type='number' min=\"0.1\" max=\"10\" step=\"0.1\" ref='$speed' value='${this.state.speed}' />\n                    </div>\n                </div>                \n                <div class='row'>            \n                    <label><span ref='$repeatStatus'>${i18n('repeat')}</span></label>\n                    <div class='input' >\n                        <input type='number' min=\"0\" max=\"100\" step=\"1\" ref='$iteration' value='${this.state.iterationCount}' />\n                    </div> \n                </div>\n                <div class='row'>\n                    <label> ${i18n('direction')}</label>\n                    <div class='direction-buttons' ref='$direction' data-selected-direction='${this.state.direction}'>\n                        <button type=\"button\" data-value='normal' title='${i18n('normal')}'>${icon.arrowRight}</button>\n                        <button type=\"button\" data-value='alternate' title='${i18n('alternate')}'>${icon.alternate}</button>\n                        <button type=\"button\" data-value='reverse' title='${i18n('reverse')}' style='transform: rotateY(180deg)'>${icon.arrowRight}</button>\n                        <button type=\"button\" data-value='alternate-reverse' title='${i18n('alternate.reverse')}' style='transform: rotateY(180deg)'>${icon.alternate_reverse}</button>\n                    </div>\n                </div>                                \n            </div>\n        `\n    }\n\n    initState() {\n\n        var speed = 1\n        var iterationCount = 1\n        var direction = 'normal'\n\n        var timeline = this.getSelectedTimeline();\n\n        if (timeline) {\n            var { speed, iterationCount, direction } = timeline; \n        }\n\n\n        return {\n            status: 'pause',\n            speed,\n            iterationCount,\n            direction\n        }\n    }\n\n\n    getSelectedTimeline () {\n\n        var artboard = this.$selection.currentArtboard;\n        if (artboard) {\n            return artboard.getSelectedTimeline();\n        }\n    }\n\n    updateData(obj) {\n        this.setState(obj, false);\n        var artboard = this.$selection.currentArtboard;\n        if (artboard) {\n            artboard.setTimelineInfo(obj);\n        }\n    }\n\n    [CLICK('$playButtons button')] (e) {\n\n        var status = e.$dt.attr('data-value')\n\n        this.setState({ status })\n\n        if (status === 'play') {\n            this.play();\n        } else if (status === 'pause') {\n            this.pause();\n        } else if (status === 'first') {\n            this.first();\n        } else if (status === 'prev') {\n            this.prev();\n        } else if (status === 'next') {\n            this.next()\n        } else if (status === 'last') {\n            this.last()\n        }\n\n    }\n\n    first () {\n        this.emit('first.timeline')\n        editor.changeMode('SELECTION');\n        this.emit('afterChangeMode')\n    }\n\n    prev () {\n        this.emit('prev.timeline')\n        editor.changeMode('SELECTION');\n        this.emit('afterChangeMode')\n    }\n    \n    next () {\n        this.emit('next.timeline')\n        editor.changeMode('SELECTION');\n        this.emit('afterChangeMode')           \n    }\n    \n    last () {\n        this.emit('last.timeline')\n        editor.changeMode('SELECTION');\n        this.emit('afterChangeMode')             \n    }    \n\n    play () {\n        this.emit('play.timeline', this.state.speed, this.state.iterationCount, this.state.direction);\n    }\n\n    pause () {\n        this.emit('pause.timeline');\n        editor.changeMode('SELECTION');\n        this.emit('afterChangeMode')\n    }\n\n    [EVENT('stopTimeline')] () {\n        this.updateData({\n            status: 'pause'\n        })\n    }\n   \n    [CLICK('$direction button')] (e) {\n        this.updateData({\n            direction: e.$dt.attr('data-value')\n        })\n        this.refresh();        \n    }    \n\n    [CLICK('$repeatStatus')] (e) {\n\n        var count = this.refs.$iteration.value; \n        var iterationCount = 0; \n\n        if (count === 0) {\n            iterationCount = 1; \n        } \n\n        this.updateData({ iterationCount })\n        this.refs.$iteration.val(iterationCount);\n        this.bindData('$repeatStatus');\n    }\n\n    [INPUT('$iteration')] (e) {\n        this.updateData({\n            iterationCount: +this.refs.$iteration.value\n        })\n        this.bindData('$repeatStatus');\n    }\n\n    [INPUT('$speed')] (e) {\n        this.updateData({\n            speed: +this.refs.$speed.value \n        })\n    }    \n\n\n    [BIND('$repeatStatus')] () {\n        return {\n            text: this.state.iterationCount === 0 ? i18n('infinite'): i18n('repeat')\n        }\n    }    \n\n    [BIND('$playButtons')] () {\n        return {\n            'data-status': this.state.status\n        }\n    }\n\n    [BIND('$direction') ] () {\n        return {\n            'data-selected-direction' : this.state.direction\n        }\n    }    \n\n    [EVENT('selectTimeline')] () {\n        this.refresh();\n    } \n\n}","\nimport BaseProperty from \"../property/BaseProperty\";\nimport TimelineObjectList from \"./timeline/TimelineObjectList\";\nimport TimelineKeyframeList from \"./timeline/TimelineKeyframeList\";\nimport { DRAGOVER, DROP, PREVENT, DEBOUNCE, SCROLL } from \"../../../util/Event\";\nimport TimelineTopToolbar from \"./timeline/TimelineTopToolbar\";\nimport KeyframeTimeView from \"./timeline/KeyframeTimeView\";\nimport KeyframeTimeGridView from \"./timeline/KeyframeTimeGridView\";\nimport TimelineValueEditor from \"./timeline/TimelineValueEditor\";\nimport { EVENT } from \"../../../util/UIElement\";\nimport TimelinePlayControl from \"./timeline/TimelinePlayControl\";\nimport TimelineAnimationProperty from \"../property/TimelineAnimationProperty\";\nimport { editor } from \"../../../editor/editor\";\n\n\nexport default class TimelineProperty extends BaseProperty {\n\n  components() {\n    return {\n      TimelineAnimationProperty,\n      TimelinePlayControl,\n      TimelineValueEditor,\n      KeyframeTimeView,\n      TimelineKeyframeList,\n      TimelineObjectList,\n      TimelineTopToolbar,\n      KeyframeTimeGridView\n    }\n  }\n\n  isFirstShow() {\n    return false;\n  }\n\n  getTitle() {\n    return this.$i18n('timeline.property.title'); \n  } \n\n  getTools() {\n    return /*html*/`\n      <TimelinePlayControl />\n      \n    `; \n  }\n\n  getClassName() {\n    return 'timeline full managed-tool'\n  }\n\n  getBody() {\n    return /*html*/`\n      <div class='timeline-animation-area'>\n        <TimelineAnimationProperty />\n      </div>\n      <div class='timeline-area'>\n        <div class='timeline-header'>\n          <div class='timeline-object-toolbar'>\n            <TimelineTopToolbar />\n          </div>\n          <div class='timeline-keyframe-toolbar' ref='$keyframeToolBar'>\n            <KeyframeTimeView ref='$keyframeTimeView' /> \n          </div>\n        </div>\n        <div class='timeline-body'>\n          <div class='timeline-object-area' ref='$area'>\n            <TimelineObjectList />\n          </div>\n          <div class='timeline-keyframe-area' ref='$keyframeArea'>\n            <TimelineKeyframeList ref='$keyframeList' />          \n          </div>\n          <KeyframeTimeGridView ref='$keyframeTimeGridView' />            \n        </div>\n      </div>\n      <div class='timeline-value-area'>\n        <TimelineValueEditor ref='$valueEditor' onchange='changeKeyframeValue' />\n      </div>\n    `;\n  }\n\n  [SCROLL('$keyframeArea')] (e) {\n      this.refs.$area.setScrollTop(this.refs.$keyframeArea.scrollTop())\n  }  \n\n  [SCROLL('$area')] (e) {\n    this.refs.$keyframeArea.setScrollTop(this.refs.$area.scrollTop())\n  }    \n\n  [EVENT('refreshValueEditor') + DEBOUNCE(100)] () {\n    this.children.$valueEditor.refresh();\n  }\n\n  afterRender() {\n    this.trigger('refreshValueEditor');\n    \n  }\n\n  [EVENT('changeKeyframeValue')] (obj) {\n    this.emit('set.timeline.offset', obj);\n  }\n\n  [DRAGOVER('$area') + PREVENT] (e) { }\n  [DROP('$area') + PREVENT] (e) {\n    this.emit('add.timeline', e.dataTransfer.getData('layer/id'));\n  }\n\n  onToggleShow() {\n    this.emit('toggleFooter', this.isPropertyShow())    \n  }\n\n}\n","import UIElement, { EVENT } from \"../../../util/UIElement\";\nimport { BIND } from \"../../../util/Event\";\nimport locales from \"../../i18n/locales\";\nimport { editor } from \"../../../editor/editor\";\nimport SelectEditor from \"../property-editor/SelectEditor\";\n\nvar langs = Object.keys(locales)\n\n\n\n\nexport default class StatusBar extends UIElement {\n    components() {\n        return {\n            SelectEditor\n        }\n    }\n    template () {\n\n        var languages = langs.map(lang => {\n            var label = this.$i18n(`app.lang.${lang}`)\n            return `${lang}:${label}`\n        });\n\n        return /*html*/`\n            <div>\n                <div class='message-view' ref='$msg'></div>\n                <div class='tool-view' ref='$tool'>\n                    <SelectEditor \n                        ref='$locale' \n                        options=\"${languages.join(',')}\" \n                        value=\"${editor.locale}\" \n                        onchange=\"changeLocale\"\n                    /> \n                </div>\n            </div>\n        `\n\n    }\n\n    [EVENT('changeLocale')] (key, locale) {\n        this.emit('set.locale', locale);\n    }\n\n    initState() {\n        return {\n            msg: '' \n        }\n    }\n\n    [BIND('$msg')] () {\n        return {\n            text: this.state.msg \n        }\n    }\n\n    [EVENT('addStatusBarMessage')] (msg) {\n        this.setState({ msg })\n    } \n}","import { Layer } from \"./Layer\";\nimport { editor } from \"../editor\";\n\n/**\n * Complex Component with children \n */\nexport class Component extends Layer {\n    \n    is (...itemType) {\n        if (itemType.includes('component')) {\n            return true; \n        }\n\n        return super.is(...itemType)\n    }\n\n    getProps () {\n        \n        return [\n            // 'label',s\n            // {key: 'color', defaultValue: Length.px(0), editor: 'ColorViewEditor', editorOptions: {} }\n        ] \n    }\n}\n\neditor.registerComponent('component', Component);","import { CSS_TO_STRING, isObject, OBJECT_TO_PROPERTY } from \"../../../util/functions/func\";\nimport { Component } from \"../Component\";\nimport { Length } from \"../../unit/Length\";\nimport { editor } from \"../../editor\";\nimport icon from \"../../../csseditor/ui/icon/icon\";\n\nconst faceKeys = [\n  'front', 'back', 'left', 'right', 'bottom', 'top'\n]\n\nconst customSelectorName = {\n  'front.color': '.front',\n  'back.color': '.back',\n  'left.color': '.left',\n  'right.color': '.right',\n  'top.color': '.top',\n  'bottom.color': '.bottom',\n  'front.background': '.front',\n  'back.background': '.back',\n  'left.background': '.left',\n  'right.background': '.right',\n  'top.background': '.top',\n  'bottom.background': '.bottom',  \n}\n\nconst cssKeyValue = { \n  'position': true, \n  'right': true,\n  'bottom': true, \n  'width': true,\n  'height': true, \n  'opacity': true,\n  'text-fill-color': true, \n  'text-stroke-color': true, \n  'text-stroke-width': true, \n  'background-clip': true,\n  'clip-path': true, \n  'animation': true,\n  'transition': true,\n  'transform': true, \n  'transform-origin': true, \n  'transform-style': true, \n  'perspective': true, \n  'perspective-origin': true,\n  'offset-path': true,\n}\n\nconst nestedCssKeyValue = {\n  'filter': true,\n  'mix-blend-mode': true,\n  'background-image': true, \n  'border-radius': true,\n  'border': true \n}\n\nexport class CubeLayer extends Component {\n\n  static getIcon () {\n    return icon.cube;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'cube',\n      name: \"New Cube\",\n      'transform-style':'preserve-3d',\n      'backface-visibility': 'visible',      \n      rate: Length.number(1),      \n      transform: 'rotateX(10deg) rotateY(30deg)',\n      border: 'border:1px solid black',\n      ...obj\n    }); \n  }\n\n  getProps() {\n    var rate = this.json.rate.value; \n    return [\n      {\n        key: `rate`, editor: 'NumberRangeEditor', \n        editorOptions: {\n          label: `radius`,\n          min: 0,\n          max: 10,\n          step: 0.1 \n        }, \n        refresh: true, \n        defaultValue: rate \n      },   \n      {\n        key: `backface-visibility`, editor: 'SelectIconEditor', \n        editorOptions: {\n          label: 'visibility',\n          options: 'visible,hidden'\n        }, \n        refresh: true, \n        defaultValue: this.json['backface-visibility'] \n      },                  \n      'Color',\n      ...faceKeys.map(key => {\n        return       {\n          key: `${key}.color`, editor: 'ColorViewEditor', \n          editorOptions: {\n            label: key,\n            params: `${key}.color`\n          }, \n          defaultValue: 'rgba(0, 0, 0, 1)' \n        }\n      }),      \n      'Background',\n      ...faceKeys.map(key => {\n        return       {\n          key: `${key}.background`, \n          editor: 'BackgroundImageEditor', \n          editorOptions: {\n            title: key,\n          }, \n          defaultValue: '' \n        }\n      })  \n    ]\n  }\n\n  setCustomKeyframes (keyframes, customProperty) {\n\n\n    if (customProperty.property.includes('.color')) {\n      keyframes.push({ \n        selector: `[data-id=\"${this.json.id}\"] ${customSelectorName[customProperty.property]}`,\n        properties: [{\n        ...customProperty,\n        'property': 'background-color',\n      }] } )\n    }\n\n    if (customProperty.property.includes('.background')) {\n      keyframes.push({ \n        selector: `[data-id=\"${this.json.id}\"] ${customSelectorName[customProperty.property]}`,\n        properties: [{\n        ...customProperty,\n        'property': 'background-image', \n      }] } )\n    }    \n\n  }\n\n  toAnimationKeyframes (properties) {\n   \n    var customProperties = []\n    var cssProperties = []\n    var nestedProperties = []\n\n    properties.forEach(p => {\n      if (p.property.includes('.color') || p.property.includes('.background')) {\n        customProperties.push(p);\n      } else if (cssKeyValue[p.property]) {\n        cssProperties.push(p);\n      } else if (nestedCssKeyValue[p.property]) {\n        nestedProperties.push(p);\n      }\n    })\n\n    var keyframes = [] \n\n    if (cssProperties.length) {\n      keyframes.push({ selector: `[data-id=\"${this.json.id}\"]`, properties: cssProperties })\n    }\n\n    if (nestedProperties.length) {\n      keyframes.push({ selector: `[data-id=\"${this.json.id}\"] div`, properties: nestedProperties  })\n    }\n\n    if (customProperties.length) {\n      customProperties.forEach(c => {\n        this.setCustomKeyframes(keyframes, c);\n      })  \n    }\n\n    return keyframes\n  }    \n\n\n  convert (json) {\n    json = super.convert(json);\n\n    json.rate = Length.parse(json.rate);\n    return json; \n  }  \n\n  toCloneObject() {\n\n    var obj = {}\n    faceKeys.forEach(key => {\n      obj[`${key}.color`] = this.json[`${key}.color`]\n      obj[`${key}.background`] = this.json[`${key}.background`]\n    })\n\n    return {\n      ...super.toCloneObject(),\n      rate: this.json.rate.clone(),\n      ...obj\n    }\n  }\n\n  enableHasChildren() {\n    return false; \n  }\n\n\n  getDefaultTitle() {\n    return \"Cube\";\n  }\n\n\n  toDefaultCSS() {\n    var obj = {}\n\n    if (this.json.x)  obj.left = this.json.x ;\n    if (this.json.y)  obj.top = this.json.y ;    \n\n    return {\n      ...obj,\n      ...this.toKeyListCSS(\n        'position', 'right','bottom', 'width','height', 'opacity',\n        'transform-origin', 'transform', 'transform-style', 'perspective', 'perspective-origin',\n        // 'filter',\n      )\n    }\n\n  }  \n\n  toCSS() {\n\n    return {\n      ...this.toVariableCSS(),\n      ...this.toDefaultCSS(),\n      ...this.toWebkitCSS(),      \n      ...this.toBoxModelCSS(),\n      // ...this.toTransformCSS(),      \n      ...this.toAnimationCSS(),\n      ...this.toTransitionCSS(),\n      ...this.toLayoutItemCSS(),\n    };\n  }\n\n  toNestedCSS() {\n    var json = this.json; \n\n    var rate = json.rate.value; \n    var width = json.width; \n    var height = json.height; \n    var halfWidth = width.value/2\n    var halfHeight = height.value/2\n    var backfaceVisibility = json['backface-visibility']\n    var css = {\n      ...this.toKeyListCSS(\n        'filter', 'mix-blend-mode', 'border-radius', 'background-color',\n      ),      \n      ...this.toClipPathCSS(),\n      ...this.toBackgroundImageCSS(),\n      ...this.toBorderCSS()\n    }\n\n    return [\n      { selector: 'div', cssText: `\n          position: absolute;\n          left: 0px;\n          top: 0px;\n          bottom: 0px;\n          right: 0px;\n          opacity: 1;\n          pointer-events: none;\n          ${CSS_TO_STRING(css)}\n        `.trim()\n      },\n      {\n        selector: '.front', cssText: `\n          transform:rotateY(0deg) translateZ(${halfWidth * rate}px);\n          width: ${width};\n          height: ${height};     \n          backface-visibility: ${backfaceVisibility};          \n          ${json['front.color'] ? `background-color: ${json['front.color']};`: ''}\n          ${json['front.background'] ? `${json['front.background']};`: ''}\n\n        `.trim()\n      },\n      {\n        selector: '.back', cssText: `\n          transform: rotateY(180deg) translateZ(${halfWidth * rate}px);\n          width: ${width};\n          height: ${height};        \n          backface-visibility: ${backfaceVisibility};              \n          ${json['back.color'] ? `background-color: ${json['back.color']};`: ''}                  \n          ${json['back.background'] ? `${json['back.background']};`: ''}\n        `.trim()\n      },\n      {\n        selector: '.left', cssText:  `\n          transform: rotateY(-90deg) translateZ(${halfWidth * rate}px);\n          width: ${width};\n          height: ${height};    \n          backface-visibility: ${backfaceVisibility};          \n          ${json['left.color'] ? `background-color: ${json['left.color']};`: ''}                          \n          ${json['left.background'] ? `${json['left.background']};`: ''}\n        `.trim()\n      },\n      {\n        selector: '.right', cssText: `\n          transform: rotateY(90deg) translateZ(${halfWidth * rate}px);\n          width: ${width};\n          height: ${height};      \n          backface-visibility: ${backfaceVisibility};          \n          ${json['right.color'] ? `background-color: ${json['right.color']};`: ''}                        \n          ${json['right.background'] ? `${json['right.background']};`: ''}          \n        `.trim()\n      },\n      {\n        selector: '.top', cssText: `\n          transform: rotateX(90deg) translateZ(${halfHeight * rate}px);\n          top: ${halfHeight - halfWidth}px;\n          width: ${width};\n          height: ${width};\n          backface-visibility: ${backfaceVisibility};          \n          ${json['top.color'] ? `background-color: ${json['top.color']};`: ''}      \n          ${json['top.background'] ? `${json['top.background']};`: ''}              \n        `.trim()\n      },\n      {\n        selector: '.bottom', cssText: `\n          transform: rotateX(-90deg) translateZ(${halfHeight * rate}px);\n          top: ${halfHeight - halfWidth}px;          \n          width: ${width};\n          height: ${width};    \n          backface-visibility: ${backfaceVisibility};          \n          ${json['bottom.color'] ? `background-color: ${json['bottom.color']};`: ''}\n          ${json['bottom.background'] ? `${json['bottom.background']};`: ''}                          \n        `.trim()\n      }\n    ]\n  }\n\n  get html () {\n    var {id, itemType} = this.json;\n\n    return /*html*/`\n      <div class='element-item ${itemType}' data-id=\"${id}\">\n        ${this.toDefString}\n        ${faceKeys.map(key => {\n          return /*html*/`<div class='${key}'></div>`\n        }).join('')}\n      </div>`\n  }\n\n\n  get svg () {\n    var {width, height, x, y, src} = this.json;\n    x = x.value;\n    y = y.value;\n    var css = this.toCSS();\n    var nestedCSS = this.toNestedCSS();\n\n    var keyCSS = {} \n\n    var common = nestedCSS.find(it => it.selector === 'div') || {cssText:''};\n    common = common.cssText.replace(/\\n/g, '');\n\n    faceKeys.forEach(key => {\n      keyCSS[key] = nestedCSS.find(it => it.selector === '.' + key) || {cssText:''};  \n      keyCSS[key] = keyCSS[key].cssText.replace(/\\n/g, '');\n    })\n\n    delete css.left;\n    delete css.top;\n    if (css.position === 'absolute') {\n      delete css.position; \n    }\n\n    return /*html*/`\n    <g transform=\"translate(${x}, ${y})\">\n    ${this.toDefString}\n      <foreignObject ${OBJECT_TO_PROPERTY({ \n        width: width.value,\n        height: height.value,\n        overflow: 'visible'\n      })}>\n        <div xmlns=\"http://www.w3.org/1999/xhtml\">\n          <div style=\"${CSS_TO_STRING(css)}\">\n            ${faceKeys.map(key => {\n              return `<div class='front' style=\"${common};${keyCSS[key]}\"></div>`\n            }).join('')}          \n          </div>\n        </div>\n      </foreignObject>    \n    </g>\n`\n  }    \n\n}\n\neditor.registerComponent('cube', CubeLayer);\n ","import { CSS_TO_STRING, OBJECT_TO_PROPERTY, repeat } from \"../../../util/functions/func\";\nimport { Component } from \"../Component\";\nimport { getXYInCircle, getDist } from \"../../../util/functions/math\";\nimport { Length } from \"../../unit/Length\";\nimport { editor } from \"../../editor\";\nimport icon from \"../../../csseditor/ui/icon/icon\";\n\nconst cssKeyValue = { \n  'position': true, \n  'right': true,\n  'bottom': true, \n  'width': true,\n  'height': true, \n  'opacity': true,\n  'text-fill-color': true, \n  'text-stroke-color': true, \n  'text-stroke-width': true, \n  'background-clip': true,\n  'clip-path': true, \n  'animation': true,\n  'transition': true,\n  'transform': true, \n  'transform-origin': true, \n  'transform-style': true, \n  'perspective': true, \n  'perspective-origin': true,\n  'offset-path': true,\n}\n\nconst nestedCssKeyValue = {\n  'filter': true,\n  'mix-blend-mode': true,\n  'background-image': true, \n  'background-color': true, \n  'border-radius': true,\n  'border': true \n}\n\nexport class CylinderLayer extends Component {\n\n  static getIcon () {\n    return icon.cylinder;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'cylinder',\n      name: \"New Cylinder\",\n      'transform-style':'preserve-3d',\n      'backface-visibility': 'visible',\n      transform: 'rotateX(10deg) rotateY(30deg)',\n      count: Length.number(40),\n      rate: Length.number(1),\n      border: 'border-top: 1px solid black;border-bottom: 1px solid black;',\n      ...obj\n    }); \n  }\n\n  getProps() {\n    var count = this.json.count.value; \n    var rate = this.json.rate.value; \n\n\n    return [\n      'Side',\n      {\n        key: `count`, editor: 'NumberRangeEditor', \n        editorOptions: {\n          label: `Count`,\n          min: 3,\n          max: 100,\n          step: 1 \n        }, \n        refresh: true, \n        defaultValue: count \n      },\n      {\n        key: `rate`, editor: 'NumberRangeEditor', \n        editorOptions: {\n          label: `radius`,\n          min: 0,\n          max: 10,\n          step: 0.1 \n        }, \n        refresh: true, \n        defaultValue: rate \n      },      \n      {\n        key: `backface-visibility`, editor: 'SelectIconEditor', \n        editorOptions: {\n          label: 'visibility',\n          options: 'visible,hidden'\n        }, \n        refresh: true, \n        defaultValue: this.json['backface-visibility'] \n      },      \n      'Color',\n      ...repeat(count).map((it, index) => {\n        return {\n          key: `face.${index}.color`, editor: 'ColorViewEditor', \n          editorOptions: {\n            label: `face ${index}`,\n            params: `face.${index}.color`\n          }, \n          defaultValue: 'rgba(0, 0, 0, 1)' \n        }\n      }),\n      'Background',\n      ...repeat(count).map((it, index) => {\n        return {\n          key: `face.${index}.background`, editor: 'BackgroundImageEditor', \n          editorOptions: {\n            title: `face ${index}`,\n          }, \n          defaultValue: '' \n        }\n      })  \n    ]\n  }\n\n  setCustomKeyframes (keyframes, customProperty) {\n\n\n    if (customProperty.property.includes('.color')) {\n\n      var [_, index, _] = customProperty.property.split('.')\n\n      keyframes.push({ \n        selector: `[data-id=\"${this.json.id}\"] .face[data-index=\"${index}\"]`,\n        properties: [{\n        ...customProperty,\n        'property': 'background-color',  // 흠 하나씩 나열해야할 듯 \n      }] } )\n    }\n\n    if (customProperty.property.includes('.background')) {\n\n      var [_, index, _] = customProperty.property.split('.')\n\n      keyframes.push({ \n        selector: `[data-id=\"${this.json.id}\"] .face[data-index=\"${index}\"]`,\n        properties: [{\n        ...customProperty,\n        'property': 'background-image',  // 흠 하나씩 나열해야할 듯 \n      }] } )\n    }    \n\n  }\n\n  toAnimationKeyframes (properties) {\n   \n    var customProperties = []\n    var cssProperties = []\n    var nestedProperties = []\n\n    properties.forEach(p => {\n      if (p.property.includes('face')) {\n        customProperties.push(p);\n      } else if (cssKeyValue[p.property]) {\n        cssProperties.push(p);\n      } else if (nestedCssKeyValue[p.property]) {\n        nestedProperties.push(p);\n      }\n    })\n\n    var keyframes = [] \n\n    if (cssProperties.length) {\n      keyframes.push({ selector: `[data-id=\"${this.json.id}\"]`, properties: cssProperties })\n    }\n\n    if (nestedProperties.length) {\n      keyframes.push({ selector: `[data-id=\"${this.json.id}\"] div`, properties: nestedProperties  })\n    }\n\n    if (customProperties.length) {\n      customProperties.forEach(c => {\n        this.setCustomKeyframes(keyframes, c);\n      })  \n    }\n\n    return keyframes\n  }    \n\n  convert (json) {\n    json = super.convert(json);\n\n    json.count = Length.parse(json.count);\n    json.rate = Length.parse(json.rate);\n    return json; \n  }\n\n  toCloneObject() {\n\n    var obj = {}\n    var count =  this.json.count.value;\n\n    repeat(count).forEach((it, index) => {\n      obj[`face.${index}.color`] = this.json[`face.${index}.color`]\n      obj[`face.${index}.background`] = this.json[`face.${index}.background`]\n    })\n\n    return {\n      ...super.toCloneObject(),\n      count:  this.json.count.clone(), \n      rate:  this.json.rate.clone(), \n      ...obj   \n    }\n  }\n\n  enableHasChildren() {\n    return false; \n  }\n\n\n  getDefaultTitle() {\n    return \"Cylinder\";\n  }\n\n\n  toDefaultCSS() {\n    var obj = {}\n\n    if (this.json.x)  obj.left = this.json.x ;\n    if (this.json.y)  obj.top = this.json.y ;    \n\n    return {\n      ...obj,\n      ...this.toKeyListCSS(\n        'position', 'right','bottom', 'width','height',\n        'transform-origin', 'transform', 'transform-style', 'perspective', 'perspective-origin',\n        // 'filter',\n      )\n    }\n\n  }  \n\n  toCSS() {\n\n    return {\n      ...this.toVariableCSS(),\n      ...this.toDefaultCSS(),\n      ...this.toWebkitCSS(),      \n      ...this.toBoxModelCSS(),\n      // ...this.toTransformCSS(),      \n      ...this.toAnimationCSS(),\n      ...this.toTransitionCSS()\n    };\n  }\n\n  toNestedCSS() {\n    var json = this.json; \n\n    var count = json.count.value;\n    var width = json.width; \n    var backfaceVisibility = json['backface-visibility']\n    var rate = json.rate.value; \n    var {angle, r, faceWidth} = this.cylinderInfo;\n\n    var css = {\n      ...this.toKeyListCSS(\n        'filter', 'mix-blend-mode', 'border-radius',  'opacity', 'background-color',\n      ),      \n      ...this.toBackgroundImageCSS(),\n      ...this.toBorderCSS(),\n      ...this.toClipPathCSS()\n    }\n\n    var faceList = repeat(count).map((it, index) => {\n\n      var rotateY = index * angle; \n      var colorKey  = `face.${index}.color`\n      var backgroundKey  = `face.${index}.background`\n\n      return  {\n        selector: `.face[data-index=\"${index}\"]`, cssText: `\n          transform:rotateY(${rotateY}deg) translateZ(${r * rate}px);\n          ${json[colorKey] ? `background-color: ${json[colorKey]};` : ''}\n          ${json[backgroundKey] ? `${json[backgroundKey]};` : '' }\n        `.trim()\n      }\n    })\n\n\n    return [\n      { selector: '.face', cssText: `\n          position: absolute;\n          left: ${width.value/2 - faceWidth/2}px;\n          top: 0px;\n          bottom: 0px;\n          right: 0px;\n          width: ${faceWidth}px;\n          backface-visibility: ${backfaceVisibility};\n          opacity: 1;\n          pointer-events: none;\n          ${CSS_TO_STRING(css)}\n        `.trim()\n      },\n      ...faceList\n      \n    ]\n  }\n\n  get cylinderInfo () {\n    var {width} = this.json;\n\n    var w = width.value;\n    var h = w; \n    var r = w/2\n    var yr = h/2;\n    \n    var center = {x: r, y: yr }\n    var polygon = [] \n    var count = this.json.count.value; \n    if (count  < 3) count = 3; \n\n    var angle = 360 / count; \n    \n    for(var  i = 0; i < 360; i+=angle) {\n      polygon.push(getXYInCircle(i, r, center.x, center.y))\n    }\n\n    var faceWidth = getDist(polygon[0].x,polygon[0].y,polygon[1].x,polygon[1].y)\n    var centerR = {\n      x: (polygon[0].x + polygon[1].x)/2,\n      y: (polygon[0].y + polygon[1].y)/2\n    }\n    var r = getDist(centerR.x, centerR.y, center.x, center.y)\n\n    return {\n      polygon,\n      faceWidth,\n      angle,\n      r\n    }\n  }\n\n  updateFunction (currentElement, isChangeFragment = true) {\n\n    super.updateFunction(currentElement, isChangeFragment);\n\n    if (isChangeFragment) {\n      var count = +currentElement.attr('data-count');\n      if (count !== this.json.count.value) {\n        currentElement.$$('.face').forEach(it => it.remove())\n\n        var string = repeat(this.json.count.value).map((it, index) => {\n          return /*html*/`<div class='face' data-index=\"${index}\"></div>`\n        }).join('')\n\n        currentElement.appendHTML(string);\n        currentElement.attr('data-count', this.json.count);\n      }\n\n    }\n\n  }    \n\n  get html () {\n    var {id, itemType} = this.json;\n    var count = this.json.count.value; \n\n    return /*html*/`\n      <div class='element-item ${itemType}' data-id=\"${id}\" data-count=\"${count}\">\n        ${this.toDefString}\n        ${repeat(count).map((it, index) => {\n          return /*html*/`<div class='face' data-index=\"${index}\"></div>`\n        }).join('')}\n      </div>`\n  }\n\n\n  get svg () {\n    var {width, height, x, y} = this.json;\n    x = x.value;\n    y = y.value;\n    var css = this.toCSS();\n    var nestedCSS = this.toNestedCSS();\n    var count = this.json.count.value; \n\n    var common = nestedCSS.find(it => it.selector === '.face') || {cssText: ''};\n    common = common.cssText.replace(/\\n/g, '') \n\n    var cssTextList = repeat(count).map((it, index) => {\n      return nestedCSS[index+1].cssText.replace(/\\n/g, '');\n    })\n\n    delete css.left;\n    delete css.top;\n    if (css.position === 'absolute') {\n      delete css.position; \n    }\n\n    return /*html*/`\n    <g transform=\"translate(${x}, ${y})\">\n    ${this.toDefString}\n      <foreignObject ${OBJECT_TO_PROPERTY({ \n        width: width.value,\n        height: height.value,\n        overflow: 'visible'\n      })}>\n        <div xmlns=\"http://www.w3.org/1999/xhtml\">\n          <div style=\"${CSS_TO_STRING(css)}\">\n            ${repeat(count).map((it, index) => {\n              return /*html*/`<div class='face' data-index=\"${index}\" style='${common};${cssTextList[index]};'></div>`\n            }).join('')}\n          </div>\n        </div>\n      </foreignObject>    \n    </g>\n`\n  }    \n\n}\n\neditor.registerComponent('cylinder', CylinderLayer);\n ","\nexport function makeInterpolateIdentity (layer, property, value) {\n    return (ratio, t) => {\n        return value;\n    } \n}\n ","import { Length } from \"../../unit/Length\";\nimport { makeInterpolateNumber } from \"./makeInterpolateNumber\";\nimport { makeInterpolateIdentity } from \"./makeInterpolateIdentity\";\n\nfunction getRealAttributeValue (layer, property, value, refType = 'width', refElement = 'parent') {\n\n    var refObject = null\n    if (refElement === 'parent') {\n        refObject = layer[refElement][refType];\n    } else if (refElement === 'self') {\n        refObject = layer[refType];\n    } \n\n    if (refObject) {\n        return value.toPx(refObject.value)\n    }\n\n    return value; \n}\n\n\nfunction rollbackRealAttributeValue (layer, property, value, unit, refType = 'width', refElement = 'parent') {\n\n    var refObject = null\n    if (refElement === 'parent') {\n        refObject = layer[refElement][refType];\n    } else if (refElement === 'self') {\n        refObject = layer[refType];\n    }\n\n    if (refObject) {\n        return value.to(unit, refObject.value)\n    }\n\n    return value; \n}\n\nexport function makeInterpolateLength(layer, property, startNumber, endNumber, refType = 'width', refElement = 'parent') {\n    var s = Length.parse(startNumber);\n    var e = Length.parse(endNumber);\n\n\n    if (s.unit === e.unit) {\n        return makeInterpolateNumber(layer, property, s.value, e.value, s.unit);\n    } else if (s.equals(e)) {\n        return makeInterpolateIdentity(layer, property, s);\n    }    \n\n    return (rate, t) => {\n\n        var realStartValue = getRealAttributeValue(layer, property, s, refType, refElement);\n        var realEndValue = getRealAttributeValue(layer, property, e, refType, refElement);\n\n        if (t === 0) {\n            return realStartValue;\n        } else if (t === 1) {\n            return realEndValue;\n        }\n\n\n        return rollbackRealAttributeValue(\n            layer, \n            property, \n            Length.px(realStartValue.value + (realEndValue.value - realStartValue.value) * rate), \n            s.unit, \n            refType,\n            refElement\n        );\n    }\n}\n","import { makeInterpolateLength } from \"./makeInterpolateLength\";\nimport { STRING_TO_CSS, CSS_TO_STRING } from \"../../../util/functions/func\";\nimport BorderRadius from \"../../css-property/BorderRadius\";\nimport { Length } from \"../../unit/Length\";\n\nconst getBorderRadiusList = (radiusValue) => {\n    var startObject = [] \n    if (radiusValue.isAll) {\n        startObject = [\n            radiusValue['border-radius'] || '0px', \n            radiusValue['border-radius'] || '0px', \n            radiusValue['border-radius'] || '0px', \n            radiusValue['border-radius'] || '0px'\n        ]\n    } else {\n        startObject = [\n            radiusValue['border-top-left-radius'] || '0px', \n            radiusValue['border-top-right-radius'] || '0px', \n            radiusValue['border-bottom-right-radius'] || '0px', \n            radiusValue['border-bottom-left-radius'] || '0px'\n        ]\n    }\n\n    return startObject;\n}\n\nexport function makeInterpolateBorderRadius(layer, property, startValue, endValue) {\n    var s = getBorderRadiusList(BorderRadius.parseStyle(startValue));\n    var e = getBorderRadiusList(BorderRadius.parseStyle(endValue));\n\n    var max = Math.max(s.length, e.length);\n\n    var list = [] \n    for(var i = 0; i < max; i++) {\n        list[i] = makeInterpolateLength(layer, property, s[i], e[i])\n    }\n\n\n    return (rate, t) => {\n        return list.map(it => it(rate, t)).join(' ')\n    }\n}\n\n\n","\nexport function makeInterpolateBoolean (layer, property, s, e) {\n\n    return (ratio, t) => {\n\n        if (t === 1) {\n            return e;\n        }\n\n        return s\n    } \n}\n","import Color from \"../../../util/Color\";\nimport { interpolateRGB } from \"../../../util/functions/mixin\";\n\nexport function makeInterpolateColor (layer, property, startColor, endColor) {\n    var s = Color.parse(startColor || 'rgba(0, 0, 0, 1)');\n    var e = Color.parse(endColor || 'rgba(0, 0, 0, 1)');\n\n    return (rate, t) => {\n\n        if (t === 0) {\n            return startColor; \n        } else if (t === 1) {\n            return endColor;\n        }\n\n        return interpolateRGB(s, e, rate, 'rgb')\n    } \n}\n","import { BoxShadow } from \"../../css-property/BoxShadow\";\nimport { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\nimport { makeInterpolateLength } from \"./makeInterpolateLength\";\nimport { makeInterpolateColor } from \"./makeInterpolateColor\";\n\nexport function makeInterpolateBoxShadow(layer, property, startValue, endValue) {\n    var s = BoxShadow.parseStyle(startValue);\n    var e = BoxShadow.parseStyle(endValue);\n\n    var totalLength = Math.max(s.length, e.length)\n\n    var list = [] \n    for(var i = 0, len = totalLength; i < len; i++) {\n        var startObject = s[i] || BoxShadow.parseStyle('0px 0px 0px 0px rgba(0, 0, 0, 0)')[0];\n        var endObject = e[i] || BoxShadow.parseStyle('0px 0px 0px 0px rgba(0, 0, 0, 0)')[0];\n\n        list.push({\n            inset: makeInterpolateBoolean(layer, property, startObject.inset, endObject.inset),\n            offsetX: makeInterpolateLength(layer, property, startObject.offsetX, endObject.offsetX),\n            offsetY: makeInterpolateLength(layer, property, startObject.offsetY, endObject.offsetY),\n            blurRadius: makeInterpolateLength(layer, property, startObject.blurRadius, endObject.blurRadius),\n            spreadRadius: makeInterpolateLength(layer, property, startObject.spreadRadius, endObject.spreadRadius),\n            color: makeInterpolateColor(layer, property, startObject.color, endObject.color)\n        })\n    }\n\n    return (rate, t) => {\n        return BoxShadow.join(list.map(it => {\n            return {\n                inset: it.inset(rate, t), \n                offsetX: it.offsetX(rate, t), \n                offsetY: it.offsetY(rate, t), \n                blurRadius: it.blurRadius(rate, t), \n                spreadRadius: it.spreadRadius(rate, t),\n                color: it.color(rate, t)\n            }\n        }))\n    }\n\n}\n","import { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\n\nexport function makeInterpolateString (layer, property, startString, endString)  {\n    return makeInterpolateBoolean(layer, property, startString, endString)\n}\n","\nconst stepTimingFunction = (step = 1, direction = 'end') => {\n    step = +step; \n    return function (rate) {\n        var stepDist = 1 / step; \n\n        if (direction == 'start') {\n            return stepDist * Math.ceil(rate / stepDist);\n        } else if (direction == 'end') {\n            return stepDist * Math.floor(rate / stepDist);\n        }\n    }\n}\n\nexport function step (step = 1, direction = 'end') {\n    return stepTimingFunction(step, direction);\n}\n\nexport function stepStart () {  \n    return stepTimingFunction(1, 'start');\n}\n\nexport function stepEnd () {\n    return stepTimingFunction(1, 'end');\n}\n","export default function () {\n    return (rate) => {\n        return Math.pow(2, -10 * rate) * Math.sin((rate - .1) * 5 * Math.PI) + 1;\n    }\n    \n}","import {step, stepStart, stepEnd } from \"./steps\";\nimport easeOutElastic from \"./ease-out-elastic\";\n\nexport default {\n    step,\n    'step-start': stepStart,\n    'step-end': stepEnd,\n    stepStart,\n    stepEnd,\n    'ease-out-elastic': easeOutElastic,\n    easeOutElastic\n}","import { Length } from \"../../unit/Length\";\n\nfunction getRealAttributeValue (layer, property, value) {\n    return value.toDeg(); \n}\n\nexport function makeInterpolateRotate(layer, property, startNumber, endNumber) {\n    var s = Length.parse(startNumber);\n    var e = Length.parse(endNumber);\n\n    return (rate, t) => {\n        var realStartValue = getRealAttributeValue(layer, property, s);\n        var realEndValue = getRealAttributeValue(layer, property, e);\n\n        if (t === 0) {\n            return realStartValue;\n        } else if (t === 1) {\n            return realEndValue;\n        }\n\n        return Length.deg(realStartValue.value + (realEndValue.value - realStartValue.value) * rate).to(s.unit);\n    }\n}\n","import { makeInterpolateLength } from \"./makeInterpolateLength\";\nimport { makeInterpolateColor } from \"./makeInterpolateColor\";\nimport { TextShadow } from \"../../css-property/TextShadow\";\n\nexport function makeInterpolateTextShadow(layer, property, startValue, endValue) {\n    var s = TextShadow.parseStyle(startValue);\n    var e = TextShadow.parseStyle(endValue);\n\n    var totalLength = Math.max(s.length, e.length)\n\n    var list = [] \n    for(var i = 0, len = totalLength; i < len; i++) {\n        var startObject = s[i] || TextShadow.parseStyle('0px 0px 0px rgba(0, 0, 0, 0)')[0];\n        var endObject = e[i] || TextShadow.parseStyle('0px 0px 0px rgba(0, 0, 0, 0)')[0];\n\n        list.push({\n            offsetX: makeInterpolateLength(layer, property, startObject.offsetX, endObject.offsetX, 'width', 'self'),\n            offsetY: makeInterpolateLength(layer, property, startObject.offsetY, endObject.offsetY, 'height', 'self'),\n            blurRadius: makeInterpolateLength(layer, property, startObject.blurRadius, endObject.blurRadius, 'radius'),\n            color: makeInterpolateColor(layer, property, startObject.color, endObject.color)\n        })\n    }\n\n    return (rate, t) => {\n        return TextShadow.join(list.map(it => {\n            return {\n                offsetX: it.offsetX(rate, t), \n                offsetY: it.offsetY(rate, t), \n                blurRadius: it.blurRadius(rate, t), \n                color: it.color(rate, t)\n            }\n        }))\n    }\n\n}\n","import { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\nimport { makeInterpolateColor } from \"../makeInterpolateColor\";\nimport { ColorStep } from \"../../../image-resource/ColorStep\";\nimport { makeInterpolateString } from \"../makeInterpolateString\";\nimport { makeInterpolateNumber } from \"../makeInterpolateNumber\";\n\nexport function makeInterpolateColorStep(layer, property, startColorStep, endColorStep) {\n\n    \n    var obj = {\n        cut: makeInterpolateBoolean(layer, property, startColorStep.cut, endColorStep.cut),\n        percent: makeInterpolateNumber(layer, property, startColorStep.percent, endColorStep.percent),\n        px: makeInterpolateNumber(layer, property, startColorStep.px, endColorStep.px),\n        em: makeInterpolateNumber(layer, property, startColorStep.em, endColorStep.em), \n        unit: makeInterpolateString(layer, property, startColorStep.unit, endColorStep.unit),\n        color: makeInterpolateColor(layer, property, startColorStep.color, endColorStep.color)\n    }\n\n    // console.log(startColorStep.color, endColorStep.color)\n\n    return (rate, t) => {\n        \n        return new ColorStep({\n            cut: obj.cut(rate,t),\n            percent: obj.percent(rate, t),\n            px: obj.px(rate, t),\n            em: obj.em(rate, t),\n            unit: obj.unit(rate, t),\n            color: obj.color(rate, t)\n        })\n    }\n}\n","import { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\nimport { makeInterpolateColorStep } from \"./makeInterpolateColorStep\";\n\nexport function makeInterpolateColorStepList(layer, property, startColorsteps = [], endColorsteps = []) {\n\n    var max = Math.max(startColorsteps.length, endColorsteps.length)\n\n    var list = []\n    for(var i = 0; i < max; i++) {\n        var s = startColorsteps[i];\n        var e = endColorsteps[i];\n\n        if (s && e) {\n            list[i] = makeInterpolateColorStep(layer, property, s, e);\n        } else {\n            list[i] = makeInterpolateBoolean(layer, property, s, e); \n        }\n    }\n\n\n    return (rate, t) => {\n        \n        return list.map(it => it(rate, t))\n    }\n}\n","import { LinearGradient } from \"../../../image-resource/LinearGradient\";\nimport { makeInterpolateColorStepList } from \"./makeInterpolateColorStepList\";\nimport { makeInterpolateNumber } from \"../makeInterpolateNumber\";\n\nexport function makeInterpolateLinearGradient (layer, property, s, e) {\n\n    // angle 이랑 \n    // colorsteps \n\n    var obj = {\n        angle: makeInterpolateNumber(layer, property, s.angle, e.angle),\n        colorsteps: makeInterpolateColorStepList(layer, property, s.colorsteps, e.colorsteps)\n    }\n\n    return (rate, t) => {\n        var colorsteps = obj.colorsteps(rate, t);\n\n        return new LinearGradient({\n            angle: obj.angle(rate, t),\n            colorsteps\n        })\n    } \n}\n","import { makeInterpolateColorStepList } from \"./makeInterpolateColorStepList\";\nimport { makeInterpolateString } from \"../makeInterpolateString\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\nimport { RadialGradient } from \"../../../image-resource/RadialGradient\";\n\n\nconst DEFINED_POSITIONS = {\n    [\"center\"]: true,\n    [\"top\"]: true,\n    [\"left\"]: true,\n    [\"right\"]: true,\n    [\"bottom\"]: true\n  };\n  \n  const DEFINED_ANGLES = {\n    \"to top\": 0,\n    \"to top right\": 45,\n    \"to right\": 90,\n    \"to bottom right\": 135,\n    \"to bottom\": 180,\n    \"to bottom left\": 225,\n    \"to left\": 270,\n    \"to top left\": 315\n  };\n  \n\nfunction convertPercent (value, type) {\n    switch(type) {\n    case 'width':\n        if (value === 'center') {\n            return '50%'\n        } else if (value === 'left') {\n            return '0%'\n        } else if (value === 'right') {\n            return '100%'\n        }\n        break; \n    case 'height':\n        if (value === 'center') {\n            return '50%'\n        } else if (value === 'top') {\n            return '0%'\n        } else if (value === 'bottom') {\n            return '100%'\n        }        \n        break; \n    }\n\n    return value; \n}\n\n\nexport function makeInterpolateRadialGradient (layer, property, s, e) {\n\n    // angle 이랑 \n    // colorsteps \n\n    // console.log(s, e);\n\n    s.radialPosition[0] = convertPercent(s.radialPosition[0], 'width')\n    s.radialPosition[1] = convertPercent(s.radialPosition[1], 'height')\n\n    e.radialPosition[0] = convertPercent(e.radialPosition[0], 'width')\n    e.radialPosition[1] = convertPercent(e.radialPosition[1], 'height')    \n\n    var obj = {\n        radialType: makeInterpolateString(layer, property, s.radialType, e.radialType),\n        radialPositionX: makeInterpolateLength(layer, property, s.radialPosition[0], e.radialPosition[0], 'width', 'self'),\n        radialPositionY: makeInterpolateLength(layer, property, s.radialPosition[1], e.radialPosition[1], 'height', 'self'),\n        colorsteps: makeInterpolateColorStepList(layer, property, s.colorsteps, e.colorsteps)\n    }\n\n    return (rate, t) => {\n        var results = new RadialGradient({\n            radialType: obj.radialType(rate, t),\n            radialPosition: [\n                obj.radialPositionX(rate, t),\n                obj.radialPositionY(rate, t)\n            ],\n            colorsteps: obj.colorsteps(rate, t)\n        })\n\n        return results;\n    } \n}\n","import { makeInterpolateColorStepList } from \"./makeInterpolateColorStepList\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\nimport { ConicGradient } from \"../../../image-resource/ConicGradient\";\nimport { makeInterpolateNumber } from \"../makeInterpolateNumber\";\n\nexport function makeInterpolateConicGradient (layer, property, s, e) {\n\n    var obj = {\n        angle: makeInterpolateNumber(layer, property, s.angle, e.angle),\n        radialPositionX: makeInterpolateLength(layer, property, s.radialPosition[0], e.radialPosition[0], 'width', 'self'),\n        radialPositionY: makeInterpolateLength(layer, property, s.radialPosition[1], e.radialPosition[1], 'height', 'self'),\n        colorsteps: makeInterpolateColorStepList(layer, property, s.colorsteps, e.colorsteps)\n    }\n\n    return (rate, t) => {\n        return new ConicGradient({\n            angle: obj.angle(rate, t),\n            radialPosition: [ obj.radialPositionX(rate, t), obj.radialPositionY(rate, t) ],\n            colorsteps: obj.colorsteps(rate, t)\n        })\n    } \n}\n","import { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\nimport { makeInterpolateLinearGradient } from \"./gradient/makeInterpolateLinearGradient\";\nimport { makeInterpolateRepeatingLinearGradient } from \"./gradient/makeInterpolateRepeatingLinearGradient\";\nimport { makeInterpolateRepeatingRadialGradient } from \"./gradient/makeInterpolateRepeatingRadialGradient\";\nimport { makeInterpolateRepeatingConicGradient } from \"./gradient/makeInterpolateRepeatingConicGradient\";\nimport { makeInterpolateRadialGradient } from \"./gradient/makeInterpolateRadialGradient\";\nimport { makeInterpolateConicGradient } from \"./gradient/makeInterpolateConicGradient\";\n\nexport function makeInterpolateImageResource(layer, property, s, e) {\n\n    var obj = {\n        image: (rate, t) => {\n            return t; \n        }\n    }\n\n    if (s.type === 'url' || e.type === 'url') {\n        obj.image = makeInterpolateBoolean(layer, property, s, e);\n    } else {\n        if (s.type != e.type) {\n            obj.image = makeInterpolateBoolean(layer, property, s, e);\n        } else {\n            // 타입이 같을 때만 interpolate 함 \n            switch(s.type) {\n            case 'linear-gradient': \n                obj.image = makeInterpolateLinearGradient(layer, property, s, e); \n                break; \n            case 'repeating-linear-gradient': \n                obj.image = makeInterpolateRepeatingLinearGradient(layer, property, s, e); \n                break; \n            case 'radial-gradient': \n                obj.image = makeInterpolateRadialGradient(layer, property, s, e); \n                break; \n            case 'repeating-radial-gradient': \n                obj.image = makeInterpolateRepeatingRadialGradient(layer, property, s, e); \n                break; \n            case 'conic-gradient': \n                obj.image = makeInterpolateConicGradient(layer, property, s, e); \n                break; \n            case 'repeating-conic-gradient': \n                obj.image = makeInterpolateRepeatingConicGradient(layer, property, s, e); \n                break; \n            }\n        }\n    }\n\n    return (rate, t) => {\n       \n        return obj.image(rate, t);\n    }\n\n}\n","import { makeInterpolateLinearGradient } from \"./makeInterpolateLinearGradient\";\nimport { RepeatingLinearGradient } from \"../../../image-resource/RepeatingLinearGradient\";\n\nexport function makeInterpolateRepeatingLinearGradient (layer, property, s, e) {\n\n    var func = makeInterpolateLinearGradient(layer, property, s, e);\n\n    return (rate, t) => {\n        var obj = func(rate, t);\n        var results = new RepeatingLinearGradient({\n            angle: obj.angle,\n            colorsteps: obj.colorsteps\n        })\n\n        console.log(results); \n\n        return results\n    } \n}\n","import { makeInterpolateRadialGradient } from \"./makeInterpolateRadialGradient\";\nimport { RepeatingRadialGradient } from \"../../../image-resource/RepeatingRadialGradient\";\n\nexport function makeInterpolateRepeatingRadialGradient (layer, property, s, e) {\n\n    var func = makeInterpolateRadialGradient(layer, property, s, e);\n\n    return (rate, t) => {\n        var obj = func(rate, t);\n        return new RepeatingRadialGradient({\n            radialType: obj.radialType,\n            radialPosition: obj.radialPosition,\n            colorsteps: obj.colorsteps\n        })\n    } \n}\n","import { makeInterpolateConicGradient } from \"./makeInterpolateConicGradient\";\nimport { RepeatingConicGradient } from \"../../../image-resource/RepeatingConicGradient\";\n\nexport function makeInterpolateRepeatingConicGradient (layer, property, s, e) {\n\n    var func = makeInterpolateConicGradient(layer, property, s, e);\n\n    return (rate, t) => {\n        var obj = func(rate, t);\n        return new RepeatingConicGradient({\n            angle: obj.angle,\n            radialPosition: obj.radialPosition,\n            colorsteps: obj.colorsteps\n        })\n    } \n}\n","import { makeInterpolateLength } from \"./makeInterpolateLength\";\nimport { BackgroundImage } from \"../../css-property/BackgroundImage\";\nimport { STRING_TO_CSS } from \"../../../util/functions/func\";\nimport { makeInterpolateString } from \"./makeInterpolateString\";\nimport { makeInterpolateImageResource } from \"./makeInterpolateImageResource\";\nimport { makeInterpolateIdentity } from \"./makeInterpolateIdentity\";\n\nexport function makeInterpolateBackgroundImage(layer, property, startValue, endValue) {\n\n    var s = BackgroundImage.parseStyle(STRING_TO_CSS(startValue));\n    var e = BackgroundImage.parseStyle(STRING_TO_CSS(endValue));\n\n    var totalLength = Math.max(s.length, e.length)\n\n    var list = [] \n    for(var i = 0, len = totalLength; i < len; i++) {\n        var startObject = s[i] || null;\n        var endObject = e[i] || null;\n\n        if (startObject && !endObject) {\n            // 처음은 있고 끝이 없을 때 \n            list.push({\n                image: makeInterpolateIdentity(layer, property, startObject.image),\n                size: makeInterpolateIdentity(layer, property, startObject.size),\n                width: makeInterpolateIdentity(layer, property, startObject.width),\n                height: makeInterpolateIdentity(layer, property, startObject.height),\n                x: makeInterpolateIdentity(layer, property, startObject.x),\n                y: makeInterpolateIdentity(layer, property, startObject.y),\n                blendMode: makeInterpolateIdentity(layer, property, startObject.blendMode),\n                repeat: makeInterpolateIdentity(layer, property, startObject.repeat)\n            })            \n        } else if (!startObject && endObject) {\n            // 처음은 없고 끝이 있을 때 \n            list.push({\n                image: makeInterpolateIdentity(layer, property, endObject.image),\n                size: makeInterpolateIdentity(layer, property, endObject.size),\n                width: makeInterpolateIdentity(layer, property, endObject.width),\n                height: makeInterpolateIdentity(layer, property, endObject.height),\n                x: makeInterpolateIdentity(layer, property, endObject.x),\n                y: makeInterpolateIdentity(layer, property, endObject.y),\n                blendMode: makeInterpolateIdentity(layer, property, endObject.blendMode),\n                repeat: makeInterpolateIdentity(layer, property, endObject.repeat)\n            })            \n        } else if (startObject && endObject) {\n            // 처음도 있고 끝도 있을 때 \n            list.push({\n                image: makeInterpolateImageResource(layer, property, startObject.image, endObject.image),\n                size: makeInterpolateString(layer, property, startObject.size, endObject.size),\n                width: makeInterpolateLength(layer, property, startObject.width, endObject.width, 'width', 'self'),\n                height: makeInterpolateLength(layer, property, startObject.height, endObject.height, 'height', 'self'),                \n                x: makeInterpolateLength(layer, property, startObject.x, endObject.x, 'width', 'self'),\n                y: makeInterpolateLength(layer, property, startObject.y, endObject.y, 'height', 'self'),\n                blendMode: makeInterpolateString(layer, property, startObject.blendMode, endObject.blendMode),\n                repeat: makeInterpolateString(layer, property, startObject.repeat, endObject.repeat)\n            })            \n        }\n    }\n\n    return (rate, t) => {\n        return BackgroundImage.join(list.map(it => {\n            var data= {\n                image: it.image(rate, t), \n                size: it.size(rate, t),\n                x: it.x(rate, t),\n                y: it.y(rate, t),\n                width: it.width(rate, t),\n                height: it.height(rate, t),\n                blendMode: it.blendMode(rate, t), \n                repeat: it.repeat(rate, t)\n            }\n            return data; \n        }))\n    }\n\n}\n","import { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\nimport { makeInterpolateLength } from \"./makeInterpolateLength\";\nimport { makeInterpolateString } from \"./makeInterpolateString\";\nimport { makeInterpolateNumber } from \"./makeInterpolateNumber\";\nimport { makeInterpolateColor } from \"./makeInterpolateColor\";\n\nexport function makeInterpolateFilterItem(layer, property, startValue, endValue) {\n\n    var obj = {\n        type: makeInterpolateString(layer, property, startValue.type, endValue.type),\n        value: makeInterpolateBoolean(layer, property, startValue.value, endValue.value)\n    } \n\n    switch(startValue.type) {\n    case 'blur': \n        obj.value = makeInterpolateLength(layer, property, startValue.value, endValue.value);\n        break;     \n    case 'grayscale':\n    case 'invert':\n    case 'brightness':\n    case 'contrast':\n    case 'opacity':\n    case 'saturate':\n    case 'sepia':\n    case 'hue-rotate':        \n        obj.value = makeInterpolateNumber(layer, property, startValue.value.value, endValue.value.value, startValue.value.unit);\n        break;        \n    case 'drop-shadow':\n        obj.offsetX = makeInterpolateLength(layer, property, startValue.offsetX, endValue.offsetX, 'width', 'self')\n        obj.offsetY = makeInterpolateLength(layer, property, startValue.offsetY, endValue.offsetY, 'height', 'self')\n        obj.blurRadius = makeInterpolateLength(layer, property, startValue.blurRadius, endValue.blurRadius, 'width', 'self')\n        obj.spreadRadius = makeInterpolateLength(layer, property, startValue.spreadRadius, endValue.spreadRadius, 'width', 'self')\n        obj.color = makeInterpolateColor(layer, property, startValue.color, endValue.color)\n        break; \n    }\n\n    return (rate, t) => {\n\n        var type =  obj.type(rate, t)\n\n        if (type === 'drop-shadow') {\n\n            return {\n                type: obj.type(rate, t),\n                offsetX: obj.offsetX(rate, t),\n                offsetY: obj.offsetY(rate, t),\n                blurRadius: obj.blurRadius(rate, t),\n                spreadRadius: obj.spreadRadius(rate, t),\n                color: obj.color(rate, t)\n            }\n        } else {\n\n            return {\n                type: obj.type(rate, t),\n                value: obj.value(rate, t)\n            }\n        }\n\n    }\n\n}\n","import { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\nimport { Filter } from \"../../css-property/Filter\";\nimport { makeInterpolateIdentity } from \"./makeInterpolateIdentity\";\nimport { makeInterpolateFilterItem } from \"./makeInterpolateFilterItem\";\n\nexport function makeInterpolateFilter(layer, property, startValue, endValue) {\n    var s = Filter.parseStyle(startValue);\n    var e = Filter.parseStyle(endValue);\n\n    var totalLength = Math.max(s.length, e.length)\n\n    var list = [] \n    for(var i = 0, len = totalLength; i < len; i++) {\n        var startObject = s[i]\n        var endObject = e[i]\n\n        if (startObject && !endObject) {\n            list.push(makeInterpolateIdentity(layer, property, startObject)) \n        } else if (!startObject && endObject) {\n            list.push(makeInterpolateIdentity(layer, property, endObject)) \n        } else {\n\n            if (startObject.type != endObject.type || startObject.type === 'svg' || endObject.type === 'svg') {\n                list.push(makeInterpolateBoolean(layer, property, startObject, endObject))\n            } else {\n                list.push(makeInterpolateFilterItem(layer, property, startObject, endObject))\n            }\n\n        }\n\n    }\n\n    return (rate, t) => {\n        return Filter.join(list.map(it => it(rate, t)))\n    }\n\n}\n","import { ClipPath } from \"../../css-property/ClipPath\";\nimport { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\nimport { makeInterpolateClipPathCircle } from \"./clip-path/makeInterpolateClipPathCircle\";\nimport { makeInterpolateClipPathEllipse } from \"./clip-path/makeInterpolateClipPathEllipse\";\nimport { makeInterpolateClipPathPolygon } from \"./clip-path/makeInterpolateClipPathPolygon\";\nimport { makeInterpolateClipPathInset } from \"./clip-path/makeInterpolateClipPathInset\";\n\nexport function makeInterpolateClipPath(layer, property, startValue, endValue) {\n\n    var startObject = ClipPath.parseStyle(startValue);\n    var endObject = ClipPath.parseStyle(endValue);\n\n    var obj = {\n        type: makeInterpolateBoolean(layer, property, startObject.type, startObject.type),\n        value: makeInterpolateBoolean(layer, property, startValue, endValue)\n    }\n\n    if (startObject.type == endObject.type && startObject != 'none')  {\n        switch(startObject.type) {\n        case 'circle':\n            startObject.value = ClipPath.parseStyleForCircle(startObject.value);\n            endObject.value = ClipPath.parseStyleForCircle(endObject.value);\n\n            obj.value = makeInterpolateClipPathCircle(layer, property, startObject.value, endObject.value);\n\n            break; \n        case 'ellipse':\n            startObject.value = ClipPath.parseStyleForEllipse(startObject.value);\n            endObject.value = ClipPath.parseStyleForEllipse(endObject.value);\n\n            obj.value = makeInterpolateClipPathEllipse(layer, property, startObject.value, endObject.value);            \n            break;  \n        case 'inset': // 구현 해야함 \n            startObject.value = ClipPath.parseStyleForInset(startObject.value);\n            endObject.value = ClipPath.parseStyleForInset(endObject.value);\n\n            obj.value = makeInterpolateClipPathInset(layer, property, startObject.value, endObject.value);\n            break;\n        case 'polygon': // 구현 해야함 \n            startObject.value = ClipPath.parseStyleForPolygon(startObject.value);\n            endObject.value = ClipPath.parseStyleForPolygon(endObject.value);\n\n            obj.value = makeInterpolateClipPathPolygon(layer, property, startObject.value, endObject.value);\n            break;\n        case 'path':  // 구현 해야함 \n            startObject.value = ClipPath.parseStyleForPath(startObject.value);\n            endObject.value = ClipPath.parseStyleForPath(endObject.value);\n\n            obj.value = makeInterpolateClipPathPath(layer, property, startObject.value, endObject.value);        \n            break;\n        }\n    }\n\n\n    return (rate, t) => {\n\n        var type = obj.type(rate, t);\n        var value = obj.value(rate, t);\n\n        if (type === 'none') {\n            return type; \n        }\n\n        return  `${type}(${value})`\n    }\n\n}\n","import { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\n\nexport function makeInterpolateClipPathCircle (layer, property, s, e) {\n\n    //radius, x, y\n    // radius : length - percent closest-side | farthest-side\n\n    var obj = {}\n\n    if (\n        s.radius === 'closest-side' || \n        s.radius === 'farthest-side' ||  \n        e.radius === 'closest-side' || \n        e.radius === 'farthest-side'\n    ) {\n        obj.radius = makeInterpolateBoolean(layer, property, s.radius, e.radius)\n    } else {\n\n        if (s.radius.unit === e.radius.unit) {\n            obj.radius = makeInterpolateNumber(layer, property, s.radius.value, e.radius.value, s.radius.unit)\n        } else {\n            obj.radius = makeInterpolateLength(layer, property, s.radius, e.radius, 'width', 'self')\n        }\n    }\n\n    obj.x = makeInterpolateLength(layer, property, s.x, e.x, 'width', 'self')\n    obj.y = makeInterpolateLength(layer, property, s.y, e.y, 'height', 'self')\n\n    return (rate, t) => {\n\n        var radius = obj.radius(rate, t);\n        var x = obj.x(rate, t);\n        var y = obj.y(rate, t);\n\n        var results = `${x} ${y}`\n\n        var radiusString = radius + '';\n\n        if (radiusString.includes('closest-side')) {\n            radiusString = 'closest-side'\n        } else if (radiusString.includes('farthest-side')) {\n            radiusString = 'farthest-side'\n        }\n\n        return radius ? `${radiusString} at ${results}` :  `${results}`;\n\n    } \n}\n","import { makeInterpolateLength } from \"../makeInterpolateLength\";\n\nexport function makeInterpolateClipPathEllipse (layer, property, s, e) {\n\n    var obj = {\n        radiusX: makeInterpolateLength(layer, property, s.radiusX, e.radiusX, 'width', 'self'),\n        radiusY: makeInterpolateLength(layer, property, s.radiusY, e.radiusY, 'height', 'self'),\n        x: makeInterpolateLength(layer, property, s.x, e.x, 'width', 'self'),\n        y: makeInterpolateLength(layer, property, s.y, e.y, 'height', 'self')        \n    }\n\n    return (rate, t) => {\n\n        var radiusX = obj.radiusX(rate, t);\n        var radiusY = obj.radiusY(rate, t);\n        var x = obj.x(rate, t);\n        var y = obj.y(rate, t);\n\n        return `${radiusX} ${radiusY} at ${x} ${y}`;\n    } \n}\n","import { makeInterpolateNumber } from \"../makeInterpolateNumber\";\nimport { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\n\nexport function makeInterpolateClipPathInset (layer, property, s, e) {\n\n    var obj = {\n        top: makeInterpolateNumber(layer, property, s.top.value, e.top.value, s.top.unit),\n        left: makeInterpolateNumber(layer, property, s.left.value, e.left.value, s.left.unit),\n        right: makeInterpolateNumber(layer, property, s.right.value, e.right.value, s.right.unit),\n        bottom: makeInterpolateNumber(layer, property, s.bottom.value, e.bottom.value, s.bottom.unit),\n        round: makeInterpolateBoolean(layer, property, s.round, e.round),\n        topRadius: makeInterpolateNumber(layer, property, s.topRadius.value, e.topRadius.value, s.topRadius.unit),\n        leftRadius: makeInterpolateNumber(layer, property, s.leftRadius.value, e.leftRadius.value, s.leftRadius.unit),\n        rightRadius: makeInterpolateNumber(layer, property, s.rightRadius.value, e.rightRadius.value, s.rightRadius.unit),\n        bottomRadius: makeInterpolateNumber(layer, property, s.bottomRadius.value, e.bottomRadius.value, s.bottomRadius.unit)\n    }\n\n    return (rate, t) => {\n\n        var top = obj.top(rate, t);\n        var right = obj.right(rate, t);\n        var bottom = obj.bottom(rate, t);\n        var left = obj.left(rate, t);\n\n        var round = obj.round(rate, t);\n\n        var topRadius = obj.topRadius(rate, t);\n        var leftRadius = obj.leftRadius(rate, t);\n        var bottomRadius = obj.bottomRadius(rate, t);\n        var rightRadius = obj.rightRadius(rate, t);\n\n        var position = [top, right, bottom, left].join(' ')\n        var radius = [topRadius, rightRadius, bottomRadius, leftRadius].join(' ')\n        var results = `${position} ${(round && radius.trim()) ? `round ${radius}` : ''}`\n\n        return results;\n    } \n}\n","import { makeInterpolateIdentity } from \"../makeInterpolateIdentity\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\n\nexport function makeInterpolateClipPathPolygon (layer, property, s, e) {\n    var max = Math.max(s.length, e.length)\n    var list = [] \n\n    for(var i = 0; i < max; i++) {\n        var startPos = s[i];\n        var endPos = e[i];\n\n        if (startPos && !endPos) {\n            list.push({\n                x: makeInterpolateIdentity(layer, property, startPos.x),\n                y: makeInterpolateIdentity(layer, property, startPos.y),\n            })\n        } else if (!startPos && endPos) {\n            list.push({\n                x: makeInterpolateIdentity(layer, property, endPos.x),\n                y: makeInterpolateIdentity(layer, property, endPos.y),\n            })\n        } else {\n            list.push({\n                x: makeInterpolateLength(layer, property, startPos.x, endPos.x, 'width', 'self'),\n                y: makeInterpolateLength(layer, property, startPos.y, endPos.y, 'height', 'self')\n            })\n        }\n        \n    }\n\n    return (rate, t) => {\n        return list.map(it => {\n            return `${it.x(rate, t)} ${it.y(rate, t)}`\n        }).join(',')\n    } \n}\n","import { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\n\nexport function makeInterpolateTransformLength (layer, property, startValue, endValue) {\n\n    var obj = {\n        type: makeInterpolateBoolean(layer, property, startValue.type, endValue.type)\n    }\n\n    var value = [] \n    var max = Math.max(startValue.value.length, endValue.value.length);\n\n    for(var i = 0; i < max; i++) {\n        var s = startValue.value[i]\n        var e = endValue.value[i];\n\n        if (s && e) {\n\n            value.push(makeInterpolateLength(layer, property, s, e, startValue.type))\n        } else {\n            value.push(\n                makeInterpolateLength(\n                    layer, \n                    property, \n                    startValue.value[i] || startValue.value[i-1] || startValue.value[i-2],\n                    endValue.value[i] || endValue.value[i-1] || endValue.value[i-2], \n                    startValue.type\n                )\n            )\n        }\n\n    }\n\n    obj.value = value; \n\n    return (rate, t) => {\n\n        return {\n            type: obj.type(rate, t),\n            value: obj.value.map(it => it(rate, t))\n        }\n    } \n}\n","import { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\nimport { makeInterpolateNumber } from \"../makeInterpolateNumber\";\nimport { Length } from \"../../../unit/Length\";\n\nexport function makeInterpolateTransformNumber (layer, property, startValue, endValue) {\n\n    var obj = {\n        type: makeInterpolateBoolean(layer, property, startValue.type, endValue.type)\n    }\n\n    var value = [] \n    var max = Math.max(startValue.value.length, endValue.value.length);\n\n    for(var i = 0; i < max; i++) {\n        var s = startValue.value[i]\n        var e = endValue.value[i];\n\n        if (s && e) {\n            value.push(makeInterpolateNumber(layer, property, s.value, e.value))\n        } else {\n            var ss = startValue.value[i].value || startValue.value[i-1].value || startValue.value[i-2].value;\n            var ee = endValue.value[i].value || endValue.value[i-1].value || startValue.value[i-2].value\n            value.push(makeInterpolateNumber(layer, property, ss,ee))\n        }\n\n    }\n\n    obj.value = value; \n\n\n\n    return (rate, t) => {\n\n        var value = obj.value.map(it => it(rate, t))\n\n        var type = obj.type(rate, t);\n\n        if (type.includes('matrix') || type.includes('scale')) {\n            value = value.map(it => {\n                return Length.number(it)\n            })\n        }\n\n        return { type, value }\n    } \n}\n","import { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\nimport { makeInterpolateLength } from \"../makeInterpolateLength\";\nimport { makeInterpolateRotate } from \"../makeInterpolateRotate\";\n\nexport function makeInterpolateTransformRotate (layer, property, startValue, endValue) {\n\n    var obj = {\n        type: makeInterpolateBoolean(layer, property, startValue.type, endValue.type)\n    }\n\n    var value = [] \n    var max = Math.max(startValue.value.length, endValue.value.length);\n\n    for(var i = 0; i < max; i++) {\n        var s = startValue.value[i]\n        var e = endValue.value[i];\n\n        if (s && e) {\n            value.push(makeInterpolateRotate(layer, property, s, e))\n        } else {\n            value.push(\n                makeInterpolateRotate(\n                    layer, \n                    property, \n                    startValue.value[i] || startValue.value[i-1] || startValue.value[i-2],\n                    endValue.value[i] || endValue.value[i-1] || startValue.value[i-2]\n                )\n            )\n        }\n\n    }\n\n    obj.value = value; \n\n    return (rate, t) => {\n        var results = {\n            type: obj.type(rate, t),\n            value: obj.value.map(it => it(rate, t))\n        }\n\n        return  results\n    } \n}\n","import { ClipPath } from \"../../css-property/ClipPath\";\nimport { makeInterpolateBoolean } from \"./makeInterpolateBoolean\";\nimport { Transform } from \"../../css-property/Transform\";\nimport { makeInterpolateIdentity } from \"./makeInterpolateIdentity\";\nimport { makeInterpolateTransformLength } from \"./transform/makeInterpolateTransformLength\";\nimport { makeInterpolateTransformNumber } from \"./transform/makeInterpolateTransformNumber\";\nimport { makeInterpolateTransformRotate } from \"./transform/makeInterpolateTransformRotate\";\n\nexport function makeInterpolateTransform(layer, property, startValue, endValue) {\n    var startObject = Transform.parseStyle(startValue.trim());\n    var endObject = Transform.parseStyle(endValue.trim());\n\n    var max = Math.max(startObject.length, endObject.length);\n\n    var list = [] \n    for(var i = 0; i < max; i++) {\n        var s = startObject[i]\n        var e = endObject[i]\n\n        if (s && !e) {\n            list.push(makeInterpolateIdentity(layer, property, s))\n        } else if (!s && e) {\n            list.push(makeInterpolateIdentity(layer, property, e))\n        } else if (s.type != e.type) {\n            list.push(makeInterpolateBoolean(layer, property, s, e))\n        } else {\n            switch(s.type) {\n            case 'skewX': \n            case 'skewY': \n            case 'translate': \n            case 'translateX': \n            case 'translateY': \n            case 'translateZ': \n            case 'translate3d': \n            case 'perspective': \n                list.push(makeInterpolateTransformLength(layer, property, s, e)); \n                break; \n            case 'rotate': \n            case 'rotateX': \n            case 'rotateY': \n            case 'rotateZ': \n            case 'rotate3d': \n                list.push(makeInterpolateTransformRotate(layer, property, s, e));\n                break;  \n            case 'scale': \n            case 'scaleX': \n            case 'scaleY': \n            case 'scaleZ': \n            case 'scale3d': \n            case 'matrix': \n            case 'matrix3d': \n                list.push(makeInterpolateTransformNumber(layer, property, s, e)); \n                break; \n            }\n        }\n    }\n\n    return (rate, t) => {\n        var results = Transform.join(list.map(it => {\n            return it(rate, t)\n        }))\n\n        return results;\n    }\n\n}\n","import { Length } from \"../../unit/Length\";\nimport { makeInterpolateLength } from \"./makeInterpolateLength\";\n\nexport function makeInterpolateTransformOrigin(layer, property, startValue, endValue) {\n\n    var s = startValue.split(' ').map(it => Length.parse(it));\n    var e = endValue.split(' ').map(it => Length.parse(it));\n\n    var max = Math.max(s.length, e.length);\n\n    var list = [] \n    for(var i = 0; i < max; i++) {\n        var startPos = s[i];\n        var endPos = e[i];\n\n        list.push(makeInterpolateLength(layer, property, startPos, endPos, 'transform-origin'))\n    }\n\n    return (rate, t) => {\n        var results = list.map(it => it(rate,t)).join(' ');\n            \n        return results;\n    }\n\n}\n","import { Length } from \"../../unit/Length\";\nimport { makeInterpolateLength } from \"./makeInterpolateLength\";\n\nexport function makeInterpolatePerspectiveOrigin(layer, property, startValue, endValue) {\n\n    var s = startValue.split(' ').map(it => Length.parse(it));\n    var e = endValue.split(' ').map(it => Length.parse(it));\n\n    var max = Math.max(s.length, e.length);\n\n    var list = [] \n    for(var i = 0; i < max; i++) {\n        var startPos = s[i];\n        var endPos = e[i];\n\n        list.push(makeInterpolateLength(layer, property, startPos, endPos, 'perspective-origin'))\n    }\n\n    return (rate, t) => {\n        var results = list.map(it => it(rate,t)).join(' ');\n            \n        return results;\n    }\n\n}\n","import { makeInterpolateNumber } from \"./makeInterpolateNumber\";\n\nexport function makeInterpolateStrokeDashArrray(layer, property, startValue, endValue) {\n\n    var s = startValue.split(' ').map(it => +it);\n    var e = endValue.split(' ').map(it => +it);\n\n    var max = Math.max(s.length, e.length);\n\n    var list = [] \n    for(var i = 0; i < max; i++) {\n        var startPos = s[i];\n        var endPos = e[i];\n\n        list.push(makeInterpolateNumber(layer, property, startPos, endPos))\n    }\n\n    return (rate, t) => {\n        var results = list.map(it => it(rate,t)).join(' ');\n            \n        return results;\n    }\n\n}\n","import PolygonParser from \"../../../parse/PolygonParser\";\nimport { makeInterpolateNumber } from \"../makeInterpolateNumber\";\n\nexport function makeInterpolatePathValues (layer, property, s, e) {\n\n    var max = Math.max(s.length, e.length)\n\n    var list = [] \n\n    var startLastPos = s[s.length-1]; \n    var endLastPos = e[e.length-1]; \n\n    for(var i = 0; i < max; i++) {\n        var startPos = s[i];\n        var endPos = e[i];\n\n        if (startPos && !endPos) {\n            list.push(makeInterpolateNumber(layer, property, startPos, endLastPos))\n        } else if (!startPos && endPos) {\n            list.push(makeInterpolateNumber(layer, property, startLastPos, endPos))            \n        } else {\n            list.push(makeInterpolateNumber(layer, property, startPos, endPos))\n        }\n        \n    }\n\n    return (rate, t) => {\n        return list.map(it => it(rate, t));\n    } \n}\n","import PathParser from \"../../../parse/PathParser\";\nimport { makeInterpolateIdentity } from \"../makeInterpolateIdentity\";\nimport { makeInterpolatePathValues } from \"./makeInterpolatePathValues\";\nimport { makeInterpolateBoolean } from \"../makeInterpolateBoolean\";\n\nexport function makeInterpolatePath (layer, property, startValue, endValue) {\n    var returnParser = new PathParser()        \n    var s = new PathParser(startValue);\n    var e = new PathParser(endValue);\n\n    var max = Math.max(s.segments.length, e.segments.length)\n\n    var list = [] \n\n    for(var i = 0; i < max; i++) {\n        var sc = s.segments[i];\n        var ec = e.segments[i];\n\n        if (sc.command === ec.command) {\n            if (sc.values.length === ec.values.length) {\n                list.push({\n                    command: makeInterpolateIdentity(layer, property, sc.command),\n                    values: makeInterpolatePathValues(layer, property, sc.values, ec.values),\n                })\n            } else {\n                list.push({\n                    command: makeInterpolateIdentity(layer, property, sc.command),\n                    values: makeInterpolateIdentity(layer, property, sc.values),\n                })\n            }\n        } else {\n            list.push({\n                command: makeInterpolateBoolean(layer, property, sc.command, ec.command),\n                values: makeInterpolateBoolean(layer, property, sc.values, ec.values),\n            })\n        }\n    }\n\n\n    return (rate, t) => {\n        var segments = list.map(it => {\n\n            return {\n                command: it.command(rate, t),\n                values: it.values(rate, t)\n            }\n        })\n        var results =  returnParser.joinPath(segments)\n\n        return results;\n    } \n}\n","import PolygonParser from \"../../../parse/PolygonParser\";\nimport { makeInterpolateNumber } from \"../makeInterpolateNumber\";\n\nexport function makeInterpolatePolygon (layer, property, startValue, endValue) {\n\n    var returnParser = new PolygonParser()        \n    var s = new PolygonParser(startValue);\n    var e = new PolygonParser(endValue);\n\n    var max = Math.max(s.segments.length, e.segments.length)\n\n    var list = [] \n\n    var startLastX = s.segments[s.segments.length-1].x; \n    var startLastY = s.segments[s.segments.length-1].y; \n    var endLastX = e.segments[e.segments.length-1].x; \n    var endLastY = e.segments[e.segments.length-1].y; \n\n    for(var i = 0; i < max; i++) {\n        var startPos = s.segments[i];\n        var endPos = e.segments[i];\n\n        if (startPos && !endPos) {\n            list.push({\n                x: makeInterpolateNumber(layer, property, startPos.x, endLastX),\n                y: makeInterpolateNumber(layer, property, startPos.y, endLastY),\n            })\n        } else if (!startPos && endPos) {\n            list.push({\n                x: makeInterpolateNumber(layer, property, startLastX, endPos.x),\n                y: makeInterpolateNumber(layer, property, startLastY, endPos.y),\n            })\n        } else {\n            list.push({\n                x: makeInterpolateNumber(layer, property, startPos.x, endPos.x),\n                y: makeInterpolateNumber(layer, property, startPos.y, endPos.y)\n            })\n        }\n        \n    }\n\n    return (rate, t) => {\n        var points = returnParser.joinPoints(list.map(it => {\n            return {\n                x: it.x(rate, t),\n                y: it.y(rate, t)\n            }\n        }))\n\n        return points;\n    } \n}\n","import { editor } from \"../../editor\";\nimport PathParser from \"../../parse/PathParser\";\nimport makeInterpolateOffset from \"./offset-path/makeInterpolateOffset\";\nimport { Length } from \"../../unit/Length\";\nimport { calculateAngle } from \"../../../util/functions/math\";\nimport { Transform } from \"../../css-property/Transform\";\n\nexport function makeInterpolateOffsetPath(layer, property, startValue, endValue) {\n\n    var [id, distance, rotateStatus, rotate] = startValue.split(',').map(it =>it.trim());\n\n    var startObject = {id, distance: Length.parse(distance || '0%'), rotateStatus: rotateStatus || 'auto', rotate: Length.parse(rotate || '0deg') }\n\n    var artboard = this.$selection.currentArtboard\n    var innerInterpolate = (rate, t) => {\n        return { x, y }\n    }\n\n    var innerInterpolateAngle = (rotateStatus, currentAngle) => {\n\n        var resultAngle = 0; \n\n        switch (rotateStatus) {\n        case 'angle': \n            resultAngle =  startObject.rotate.value; \n            break; \n        case 'auto angle': \n            resultAngle =  currentAngle + startObject.rotate.value; \n            break; \n        case 'reverse': \n            resultAngle = currentAngle + 180;\n            break; \n        case 'auto' : \n            resultAngle = currentAngle;\n            break; \n        }\n\n        return resultAngle;\n    }\n\n    var screenX = 0, screenY = 0\n\n    if (artboard) {\n        var pathLayer = artboard.searchById(startObject.id);\n        screenX = pathLayer.screenX.value\n        screenY = pathLayer.screenY.value        \n\n        innerInterpolate = (rate, t, timing) => {\n            var parser = new PathParser(pathLayer.d);            \n            var {totalLength, interpolateList} = makeInterpolateOffset(parser.segments); \n\n            var distance = startObject.distance.toPx(totalLength)\n            var dt = distance / totalLength;\n\n            t = (t + dt )\n\n            if (t > 1) {\n                t -= 1; \n            }\n\n            var obj = interpolateList[0]    \n            if (t === 0) {\n                obj = interpolateList[0]    \n            } else if (t === 1) {\n                obj = interpolateList[interpolateList.length-1]    \n            }\n\n            var arr = interpolateList.find(it => {\n                return it.startT <= t && t < it.endT\n            });\n\n            if (arr) {\n                obj = arr\n            }\n            \n            var newT = (t - obj.startT)/(obj.endT - obj.startT)\n            var newRate = timing(newT)\n\n            return {\n                ...obj.interpolate(newRate, newT, timing),\n                totalLength: obj.totalLength\n            }\n        }\n\n    }\n\n    return (rate, t, timing) => {\n\n        // apply tranform-origin in real time \n\n        var arr = (layer['transform-origin'] || '50% 50%').split(' ').map(it => Length.parse(it))\n        var tx = arr[0].toPx(layer.width.value);\n        var ty = arr[1].toPx(layer.height.value);\n\n        var obj = innerInterpolate(rate, t, timing); \n\n        var results = {\n            x: obj.x + screenX - tx.value,\n            y: obj.y + screenY - ty.value\n        }\n\n        layer.setScreenX(results.x)\n        layer.setScreenY(results.y)\n\n        if (startObject.rotateStatus === 'element') {\n            // NOOP \n        } else {\n            var current = obj\n            var next = innerInterpolate(rate + 1/obj.totalLength, t + 1/obj.totalLength, timing); \n            var angle = calculateAngle(next.x - current.x, next.y - current.y)\n\n            if (!isNaN(angle)) {\n                var newAngle = Length.deg(innerInterpolateAngle(startObject.rotateStatus, angle))\n\n                layer.reset({\n                    transform: Transform.rotate(layer.transform, newAngle)\n                })\n            }\n        }\n\n\n        return results;\n    }\n\n}\n","export function makeInterpolateText(layer, property, startText, endText, unit = undefined) {\n\n    var max = endText.length - 1; \n    var min = 0; \n\n    return (rate, t) => {\n\n        var result = 0;\n        if (t === 0) {\n            result = '';\n        } else if (t === 1) {\n            result = endText;\n        } else {\n            result = endText.substring(min, Math.floor((max - min) * t))\n        }\n\n        return result; \n    }\n}\n","import { createBezierForPattern } from \"../../util/functions/bezier\";\nimport { makeInterpolateLength } from \"./interpolate-functions/makeInterpolateLength\";\nimport { makeInterpolateBorderRadius } from \"./interpolate-functions/makeInterpolateBorderRadius\";\nimport { makeInterpolateBoxShadow } from \"./interpolate-functions/makeInterpolateBoxShadow\";\nimport { makeInterpolateColor } from \"./interpolate-functions/makeInterpolateColor\";\nimport { makeInterpolateString } from \"./interpolate-functions/makeInterpolateString\";\nimport timingFunctions from \"./timing-functions\";\nimport { makeInterpolateRotate } from \"./interpolate-functions/makeInterpolateRotate\";\nimport { makeInterpolateTextShadow } from \"./interpolate-functions/makeInterpolateTextShadow\";\nimport { makeInterpolateBackgroundImage } from \"./interpolate-functions/makeInterpolateBackgroundImage\";\nimport { makeInterpolateFilter } from \"./interpolate-functions/makeInterpolateFilter\";\nimport { makeInterpolateNumber } from \"./interpolate-functions/makeInterpolateNumber\";\nimport { makeInterpolateClipPath } from \"./interpolate-functions/makeInterpolateClipPath\";\nimport { makeInterpolateTransform } from \"./interpolate-functions/makeInterpolateTransform\";\nimport { makeInterpolateTransformOrigin } from \"./interpolate-functions/makeInterpolateTransformOrigin\";\nimport { makeInterpolatePerspectiveOrigin } from \"./interpolate-functions/makeInterpolatePerspectiveOrigin\";\nimport { makeInterpolateStrokeDashArrray } from \"./interpolate-functions/makeInterpolateStrokeDashArray\";\nimport { makeInterpolatePath } from \"./interpolate-functions/svg/makeInterpolatePath\";\nimport { makeInterpolatePolygon } from \"./interpolate-functions/svg/makeInterpolatePolygon\";\nimport { makeInterpolateOffsetPath } from \"./interpolate-functions/makeInterpolateOffsetPath\";\nimport { makeInterpolateText } from \"./interpolate-functions/makeInterpolateText\";\n\nconst DEFAULT_FUCTION = () => (rate, t) => { } \n\nfunction makeInterpolateCustom (property) {\n\n    switch(property) {\n    case 'border-radius':\n        return makeInterpolateBorderRadius\n    case 'border':\n        return makeInterpolateBorder        \n    case 'box-shadow':\n        return makeInterpolateBoxShadow        \n    case 'text-shadow':\n        return makeInterpolateTextShadow\n    case 'background-image':\n    case 'BackgroundImageEditor':\n        return makeInterpolateBackgroundImage \n    case 'filter':\n    case 'backdrop-filter':\n        return makeInterpolateFilter\n    case 'clip-path':\n        return makeInterpolateClipPath\n    case 'transform':\n        return makeInterpolateTransform\n    case 'transform-origin':\n        return makeInterpolateTransformOrigin        \n    case 'perspective-origin':\n        return makeInterpolatePerspectiveOrigin\n    case 'stroke-dasharray':\n        return makeInterpolateStrokeDashArrray        \n    case 'd':\n        return makeInterpolatePath\n    case 'points':\n        return makeInterpolatePolygon\n    case 'offset-path':\n        return makeInterpolateOffsetPath\n    case 'text': \n        return makeInterpolateText\n    }\n}\n\n\nfunction makeInterpolate (layer, property, startValue, endValue, editorString) {\n\n    var checkField = editorString || property\n\n    switch(checkField) {\n    case 'width':\n    case 'x':\n        return makeInterpolateLength(layer, property, startValue, endValue, 'width');\n    case 'height':\n    case 'y':\n        return makeInterpolateLength(layer, property, startValue, endValue, 'height');\n    case 'perspective':\n    case 'font-size':\n    case 'font-stretch':\n    case 'font-weight':\n    case 'text-stroke-width':\n    case 'RangeEditor':\n    case 'textLength':\n    case 'startOffset':\n        return makeInterpolateLength(layer, property, startValue, endValue, property);\n    case 'fill-opacity':\n    case 'opacity':\n    case 'stroke-dashoffset':\n    case 'NumberRangeEditor':\n        return makeInterpolateNumber(layer, property, +startValue, +endValue);\n    case 'background-color':\n    case 'color':\n    case 'text-fill-color':\n    case 'text-stroke-color':\n    case 'fill':\n    case 'stroke':\n    case 'ColorViewEditor':\n        return makeInterpolateColor(layer, property, startValue, endValue);\n    case 'mix-blend-mode':\n    case 'fill-rule':\n    case 'stroke-linecap':\n    case 'stroke-linejoin':\n    case 'SelectEditor':       \n    case 'lengthAdjust': \n        return makeInterpolateString(layer, property, startValue, endValue); \n    case 'rotate':\n        return makeInterpolateRotate(layer, property, startValue, endValue);               \n    }\n\n    \n    var func = makeInterpolateCustom(checkField)\n\n    if (func) {\n        return func(layer, property, startValue, endValue)\n    }\n\n    return DEFAULT_FUCTION\n}\n\n\nexport function createInterpolateFunction (layer, property, startValue, endValue, editorString) {\n    return makeInterpolate(layer, property, startValue, endValue, editorString);\n}\n\n\nexport function createTimingFunction(timing = 'linear') {\n\n    var [funcName, params] = timing.split('(').map(it => it.trim())\n    params = (params || '').split(')')[0].trim()\n\n    var func = timingFunctions[funcName];\n\n    if (func) {\n        \n        var args = timing.split('(')[1].split(')')[0].split(',').map(it => it.trim())\n        return func(...args);\n    } else {\n        return createCurveFunction(timing);\n    }\n}\n\nexport function createCurveFunction (timing) {\n    var func = createBezierForPattern(timing);\n    return (rate) => {\n        return func(rate).y;\n    }\n}\n\n\n","import { Length } from \"../unit/Length\";\nimport { TimelineItem } from \"./TimelineItem\";\nimport { editor } from \"../editor\";\n\nexport class ArtBoard extends TimelineItem {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: \"artboard\",\n      name: \"New ArtBoard\",\n      width: Length.px(1000),\n      height: Length.px(1000),\n      'background-color': 'white',\n      ...obj\n    });\n  }\n\n  isLeaf() {\n    return false; \n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      name: this.json.name\n    }\n  }  \n\n  getDefaultTitle() {\n    return \"ArtBoard\";\n  }\n\n  toDefaultCSS() {\n    return {\n      ...super.toDefaultCSS(),\n      // 'overflow': 'hidden'\n    }\n  }\n\n}\n\neditor.registerComponent('artboard', ArtBoard);","import { DomItem } from \"./DomItem\";\nimport { uuidShort } from \"../../util/functions/math\";\nimport { isUndefined, isNotUndefined, clone } from \"../../util/functions/func\";\nimport { second, timecode, framesToTimecode } from \"../../util/functions/time\";\nimport { createInterpolateFunction, createTimingFunction } from \"../util/interpolate\";\n\nexport class TimelineItem extends DomItem {\n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      timeline: [\n        /*{ id: \"xxx\", \n          title: \"xxxx\", \n          currentTimecode: '00:00:00:00',\n          totalTimecode: '00:00:10:00',\n          currentTime: 0,\n          totalTime: second(60, '00:00:10:00'),\n          displayStartTime: second(60, '00:00:00:00'),\n          displayEndTime: second(60, '00:00:10:00'),\n          fps: 60,\n          animations: [\n          {id: 'xxxxx', properties: [\n            {property: 'width', keyframes: [ {time: 10, value: Length.px(10), timing: 'linear'} ] },\n            {property: 'height', keyframes: [ {time: 10, value: Length.px(10), timing: 'linear'} ] },\n            {property: 'translateX', keyframes: [ {time: 10, value: Length.px(10), timing: 'linear'} ] },\n            {property: 'rotateZ', keyframes: [ {time: 10, value: Length.px(10), timing: 'linear'} ] },\n            {property: 'perspective', keyframes: [ {time: 10, value: Length.px(10), timing: 'linear'} ] },\n            {property: 'width', keyframes: [ {time: 10, value: Length.px(10), timing: 'linear'} ] },\n          ]}\n        ]} */\n      ],\n      compiledTimeline: {},\n      ...obj\n    });\n  }\n\n  expectJSON (key) {\n    if (key === 'compiledTimeline') return false; \n\n    return super.expectJSON(key);\n  }  \n\n  setTimelineInfo (obj) {\n\n    var timeline = this.getSelectedTimeline();\n    if (!timeline) return; \n\n    ['speed', 'iterationCount', 'direction'].forEach(key => {\n      if (isNotUndefined(obj[key])) {\n        timeline[key] = obj[key]\n      }\n    })\n  }\n\n  compileAll () {\n\n    var timeline = this.getSelectedTimeline();\n\n    this.json.compiledTimeline = {}\n    if (timeline) {\n\n      timeline.animations.forEach(animation => {\n        animation.properties.forEach(property => {\n          this.compiledTimingFunction(animation.id, property.property);\n        })\n      })\n  \n    }\n\n  }\n\n  searchTimelineOffset (time) {\n    var timeline = this.getSelectedTimeline();\n    var filteredTimeline = [] \n    if (timeline) {\n\n      timeline.animations.forEach(animation => {\n        animation.properties.forEach(p => {\n          var list = this.getCompiledTimingFunction(animation.id, p.property);\n\n          filteredTimeline.push(list.find(keyframe => {\n            if (keyframe.isOnlyTime && keyframe.startTime <= time) return true; \n\n            return keyframe.startTime <= time && time < keyframe.endTime\n          }))\n        })\n      })\n    }\n\n    return filteredTimeline.filter(it => it);\n  }\n\n  getCompiledTimingFunction (layerId, property) {\n    return this.json.compiledTimeline[`${layerId}.${property}`];\n  }\n\n  compiledTimingFunction (layerId, property) {\n\n    var p = this.getTimelineProperty(layerId, property);\n    var layer = this.searchById(layerId);\n    var key = `${layerId}.${property}`\n    if (p.keyframes.length === 1) {\n      this.json.compiledTimeline[key] = [] \n      return ;\n    }\n\n    let editorString = p.keyframes.map(it => it.editor)[0];\n    this.json.compiledTimeline[key] = p.keyframes.map( (offset, index) => {\n\n      var currentOffset = offset; \n      var nextOffset = p.keyframes[index + 1];\n\n      offset.editor = editorString \n\n\n      if (!nextOffset) {\n        nextOffset = { time: offset.time, value: offset.value + ''};\n      }\n\n      var it = {\n        layer,\n        property: p.property,\n        isOnlyTime: currentOffset.time === nextOffset.time,\n        startTime: offset.time,\n        endTime: nextOffset.time, \n        startValue: offset.value,\n        endValue: nextOffset.value,\n        timing: offset.timing,\n        interpolateFunction: createInterpolateFunction(layer, p.property, offset.value, nextOffset.value, offset.editor),\n        timingFunction: createTimingFunction(offset.timing)\n      }\n\n      it.func = this.makeTimingFunction(it);      \n  \n      return it; \n    }).filter(it => it);\n  }\n\n  makeTimingFunction (it) {\n    // 시작시간 끝 시간이 있음 . 그리고 현재 시간이 있음 \n    return (time) => {\n      var totalT = (it.endTime - it.startTime);\n      var t = 1; \n      if (totalT !== 0) {\n        t = (time - it.startTime)/totalT;\n      }\n\n      return it.interpolateFunction(it.timingFunction(t), t, it.timingFunction);\n    }\n  }\n\n  seek (frameOrCode, filterFunction = (it => it)) {\n\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n\n      if (isNotUndefined(frameOrCode)) {\n        this.setTimelineCurrentTime(frameOrCode);\n      }\n\n      var time = timeline.currentTime;\n\n      // console.log('-------------------------', time);\n\n      this.searchTimelineOffset(time).filter(filterFunction).forEach(it => {\n\n        if (it.property === 'offset-path') {\n\n          // 객체 속성은 function 안에서 변경한다. \n          it.func(time)\n\n        } else {\n          it.layer.reset({\n            [it.property]: it.func(time) \n          })\n        }\n\n      });\n\n    }\n\n  }\n\n  getSelectedTimeline () {\n    var timeline = this.json.timeline;\n\n    var a = timeline.filter(it => it.selected);\n\n    var selectedTimeline = a.length ? a[0] : timeline[0]\n\n    return selectedTimeline || null;\n  }\n\n  getKeyframeListReturnArray() {\n    var timeline = this.getSelectedTimeline();\n    var keyframes = []     \n    if (timeline) {\n\n      timeline.animations.forEach(a => {\n        a.properties.forEach(p => {\n          keyframes.push(...p.keyframes);\n        })\n      })\n    }\n\n    return keyframes; \n  }\n\n  getKeyframeList(callback) {\n    var timeline = this.getSelectedTimeline(); \n    if (timeline) {\n\n      timeline.animations.forEach(a => {\n        a.properties.forEach(p => {\n          p.keyframes.forEach(k => {\n            callback && callback (timeline, k);\n          })\n        })\n      })\n    }\n  }\n\n  getSelectedTimelineLastTime () {\n    var time = 0; \n    this.getKeyframeList((timeline, keyframe) => {\n      time = Math.max(keyframe.time, time);\n    })\n\n    return time; \n  }\n\n  getSelectedTimelineFirstTime () {\n\n    var time = Number.MAX_SAFE_INTEGER; \n    this.getKeyframeList((timeline, keyframe) => {\n      time = Math.min(keyframe.time, time);\n    })\n\n    return time; \n  }\n\n  getSelectedTimelinePrevTime () {\n\n    var time = this.getSelectedTimelineFirstTime(); \n    this.getKeyframeList((timeline, keyframe) => {\n      if (timecode(timeline.fps, keyframe.time) < timeline.currentTimecode) {\n        time = Math.max(keyframe.time, time);\n      }      \n    })\n\n    return time; \n  }\n\n\n  getSelectedTimelineNextTime () {\n    var time = this.getSelectedTimelineLastTime(); \n    this.getKeyframeList((timeline, keyframe) => {\n\n      if (timecode(timeline.fps, keyframe.time) > timeline.currentTimecode) {      \n        time = Math.min(keyframe.time, time);\n      }      \n    })\n\n    return time; \n  }\n\n  setTimelineTitle (id, text) {\n    var timeline = this.json.timeline.find(it => {\n      return it.id === id; \n    })\n\n    if (timeline) {\n      timeline.title = text; \n    }\n  }\n\n  selectTimeline (id) {\n\n    if (id) {\n      this.json.timeline.forEach(it => {\n        it.selected = it.id === id; \n      })\n    } else {\n\n      var selectedTimeline = this.json.timeline.filter(it => it.selected);\n\n      if (selectedTimeline.length) {\n        // NOOP \n      } else {\n        if (this.json.timeline.length) {\n          this.json.timeline.selected = true; \n        }\n      }\n    }\n\n\n    this.compileAll()\n  }\n\n\n  removeAnimation (id) {\n\n    this.json.timeline = this.json.timeline.filter(it => {\n      return it.id !== id; \n    })\n\n    if (this.json.timeline.length) {\n      this.json.timeline[0].selected = true; \n    }\n\n    this.compileAll()\n  }\n\n\n  addTimeline (fps = 60, endTimecode = '00:00:10:00' ) {\n    var id = uuidShort();\n    var selectedTimeline = {\n      id,\n      title: 'sample', \n      ...this.getTimelineLayerInfo(fps, endTimecode),\n      animations: [] \n    }\n    this.json.timeline.push(selectedTimeline)\n\n    this.selectTimeline(id);\n\n    return selectedTimeline;\n  }\n\n  addTimelineLayer (layerId, fps = 60, endTimecode = '00:00:10:00' ) {\n    var selectedTimeline = this.getSelectedTimeline();\n\n    if (!selectedTimeline) {\n      selectedTimeline = this.addTimeline(fps, endTimecode);\n    }\n\n    selectedTimeline.selected = true; \n\n    if (layerId) {\n      var layer = selectedTimeline.animations.filter(it => it.id === layerId) \n\n      if (!layer[0]) {\n        selectedTimeline.animations.push({\n          id: layerId, properties: [] \n        })\n      }\n    }\n\n\n  }\n\n  getTimelineLayerInfo (fps = 60, endTimecode = '00:00:10:00') {\n\n    var endTime = second(fps, endTimecode);\n\n    return {\n      fps,\n      speed: 1,\n      direction: 'normal',\n      iterationCount: 1, \n      currentTimecode: timecode(fps, 0),\n      totalTimecode: timecode(fps, endTime),\n      currentTime: 0,\n      totalTime: endTime,\n      displayStartTime: 0,\n      displayEndTime: endTime\n    }\n\n  }\n\n  setTimelineCurrentTime (frameOrCode) {\n    var timeline = this.getSelectedTimeline();\n    var {fps, totalTimecode} = timeline\n\n    if (timeline) {\n      var frame = frameOrCode;\n      var code = frameOrCode; \n  \n      if ((+frame) + '' === frame) {\n        frame = +frame; \n        code = framesToTimecode(fps, frame);\n      }\n  \n      if (code > totalTimecode) {\n          code = totalTimecode;\n      }\n  \n      var currentTime = second(fps, code);\n\n      timeline.currentTime = currentTime;\n      timeline.currentTimecode = timecode(fps, currentTime);\n\n    }\n    \n  }\n\n  setDisplayTimeDxRate (dxRate, initStartTime, initEndTime) {\n\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n\n      var dxTime = dxRate * timeline.totalTime \n\n      var startTime = initStartTime + dxTime; \n      var endTime = initEndTime + dxTime; \n  \n  \n      startTime = Math.max(startTime, 0);\n      startTime = Math.min(startTime, endTime);        \n  \n      if (startTime === 0) {\n          endTime = initEndTime - initStartTime;\n      }\n  \n      endTime = Math.max(endTime, startTime);                \n      endTime = Math.min(endTime, timeline.totalTime);\n  \n      if (endTime === timeline.totalTime) {\n          startTime = timeline.totalTime - (initEndTime - initStartTime);\n      }\n  \n  \n      timeline.displayStartTime = startTime;\n      timeline.displayEndTime = endTime;\n    }\n     \n\n  }\n\n  setDisplayStartTimeRate (rate) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n      timeline.displayStartTime = rate * timeline.totalTime;\n    }\n  }\n\n  setDisplayEndTimeRate (rate) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n      timeline.displayEndTime = rate * timeline.totalTime;\n    }\n  }  \n\n  setTimelineCurrentTimeRate (rate) {\n    var timeline = this.getSelectedTimeline();\n    \n    if (timeline) {\n      var {displayStartTime, displayEndTime, fps} = timeline\n      var currentTime = displayStartTime + (displayEndTime - displayStartTime) * rate\n\n      this.setTimelineCurrentTime(timecode(fps, currentTime));\n    }\n\n  }  \n\n  setTimelineTotalTime (frameOrCode) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n      var frame = frameOrCode;\n      var code = frameOrCode; \n  \n      if ((+frame) + '' === frame) {\n        frame = +frame; \n        code = framesToTimecode(timeline.fps, frame);\n      }\n  \n      if (second(timeline.fps, code) < timeline.displayEndTime) {\n        timeline.displayEndTime = second(timeline.fps, code)\n        timeline.displayStartTime = 0; \n      }\n\n      timeline.totalTimecode = code; \n      timeline.totalTime = second(timeline.fps, code);\n\n    }\n    \n  }  \n\n\n  getTimelineObject (layerId) {\n    var selectedTimeline = this.getSelectedTimeline();\n\n    if (selectedTimeline) {\n      return selectedTimeline.animations.find(it => it.id === layerId) ;\n    }\n  }\n\n  addTimelineProperty (layerId, property) {\n    this.addTimelineLayer(layerId);\n    var animation = this.getTimelineObject(layerId);\n\n    if (animation) {\n      var p = animation.properties.filter(it => it.property === property);\n\n      if (!p.length) {\n        animation.properties.push({\n          property, keyframes: [] \n        })\n        this.compiledTimingFunction(layerId, property);                \n      } \n\n    }\n  }\n\n  getTimelineProperty (layerId, property) {\n\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n\n      layerId = layerId || timeline.selectedLayerId\n      property = property || timeline.selectedProperty\n\n      var timelineObject = this.getTimelineObject(layerId);\n\n      if (timelineObject) {\n        return timelineObject.properties.find(it => it.property === property);\n      }\n    }\n\n\n  }\n\n\n  setSelectedOffset(layerId, property, time) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n      timeline.selectedLayerId = layerId;\n      timeline.selectedProperty = property;\n      timeline.selectedOffsetTime = time;\n\n      var p = this.getTimelineProperty();\n      p.keyframes.forEach(it => {\n        it.selected = it.time === time; \n      })\n    }\n\n  }\n\n  deleteTimelineKeyframe (layerId, property, offsetId) {\n    var p = this.getTimelineProperty(layerId, property);\n\n    if (p) {\n      p.keyframes = p.keyframes.filter(it => it.id != offsetId);\n    }\n  }\n\n  removeTimelineProperty (layerId, property) {\n    var layer = this.getTimelineObject(layerId);\n\n    if (layer) {\n      layer.properties = layer.properties.filter(p => p.property != property);\n    }\n  }  \n\n  removeTimeline (layerId) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n      timeline.animations = timeline.animations.filter(ani => ani.id != layerId);\n    }\n  }  \n\n  setTimelineKeyframeOffsetTime (layerId, property, offsetId, changedTime) {\n    var keyframe = this.getTimelineKeyframeById(layerId, property, offsetId)\n    if (keyframe) {\n      keyframe.time = changedTime;\n\n      this.compiledTimingFunction(layerId, property);                   \n    }\n  }\n\n  setTimelineKeyframeOffsetValue (layerId, property, offsetId, value = undefined, timing = undefined, time = undefined) {\n\n    var keyframe = this.getTimelineKeyframeById(layerId, property, offsetId)\n    if (keyframe) {\n      if (isNotUndefined(time)) { keyframe.time = time; }\n      if (isNotUndefined(value)) { keyframe.value = value; }\n      if (isNotUndefined(timing)) { keyframe.timing = timing; }\n\n      this.compiledTimingFunction(layerId, property);             \n    }\n  }  \n\n  addTimelineKeyframe ({ layerId, property, value, timing, time: newTime, editor }) {\n\n    this.addTimelineProperty(layerId, property);\n    var timeline = this.getSelectedTimeline();\n    var p = this.getTimelineProperty(layerId, property);\n\n    if (p) {\n\n      var time = newTime || timeline.currentTime;\n\n      var times = p.keyframes.filter(it => it.time === time); \n\n      if (!times.length) {\n        value = (isUndefined(value) || value === '') ? this.getDefaultPropertyValue(property) : value;\n\n        var obj = { id: uuidShort(), layerId, property, time, value, timing: timing || 'linear', editor }\n        p.keyframes.push(obj)\n\n        p.keyframes.sort( (a, b) => {\n          return a.time > b.time ? 1 : -1; \n        })\n\n        this.compiledTimingFunction(layerId, property);     \n\n        return obj;\n      }\n    }\n  }\n\n  getDefaultPropertyValue(property) {\n\n    switch(property) {\n    case 'mix-blend-mode': \n      return 'normal';\n    case 'rotate': \n      return '0deg';\n    case 'box-shadow':  \n      return '0px 0px 0px 0px rgba(0, 0, 0, 1)';\n    case 'text-shadow':  \n      return '0px 0px 0px rgba(0, 0, 0, 1)';\n    case 'opacity': \n      return 1; \n    // case 'background-color':\n    // case 'color':\n    // case 'text-fill-color':\n    // case 'text-stroke-color':\n    // case 'transform': \n    // case 'transform-origin':\n    default: \n      return '';\n    }\n\n  }\n\n  copyTimelineKeyframe (layerId, property, newTime = null) {\n    var p = this.getTimelineProperty(layerId, property);\n\n    if (p) {\n      var timeline = this.getSelectedTimeline();\n      var time = newTime || timeline.currentTime;\n\n      var times = p.keyframes.filter(it => it.time < time); \n      var value = this.getDefaultPropertyValue(property);\n      var timing = 'linear';\n      var edtior = ''; \n      if (times.length) {\n\n        times.sort((a, b) => {\n          return a.time > b.time ? -1 : 1; \n        })\n\n        value = times[0].value + \"\";\n        timing = times[0].timing + \"\"\n        editor = times[0].editor\n      }\n\n      this.addTimelineKeyframe({layerId, property, value, timing, editor});\n\n    }\n  }\n\n  getTimelineKeyframe (layerId, property, time) {\n    var p = this.getTimelineProperty(layerId, property);\n\n    if (p) {\n      return p.keyframes.find(it => it.time === time); \n    }\n  }\n\n  getTimelineKeyframeById (layerId, property, id) {\n    var p = this.getTimelineProperty(layerId, property);\n\n    if (p) {\n      return p.keyframes.find(it => it.id === id)\n    }\n  }    \n\n  sortTimelineKeyframe (layerId, property) {\n    var p = this.getTimelineProperty(layerId, property);\n\n    if (p) {\n      p.keyframes.sort((a, b) => {\n        return a.time > b.time ? 1 : -1; \n      })\n      this.compiledTimingFunction(layerId, property);      \n    }\n  }\n\n  setFps (fps) {\n    var timeline = this.getSelectedTimeline();\n\n    if (timeline) {\n        timeline.fps = fps; \n\n        timeline.currentTimecode = timecode(fps, timeline.currentTime);\n        timeline.totalTimecode = timecode(fps, timeline.totalTime);\n    }\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      timeline: clone(this.json.timeline)\n    }\n  }  \n\n}\n","import { Layer } from \"../Layer\";\nimport Dom from \"../../../util/Dom\";\nimport { OBJECT_TO_PROPERTY, CSS_TO_STRING } from \"../../../util/functions/func\";\nimport { editor } from \"../../editor\";\nimport icon from \"../../../csseditor/ui/icon/icon\";\n\nexport class ImageLayer extends Layer {\n\n  static getIcon () {\n    return icon.image;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'image',\n      name: \"New Image\",\n      elementType: 'image',\n      src: '',\n      ...obj\n    });\n  }\n\n  enableHasChildren() {\n    return false; \n  }\n \n\n  getDefaultTitle() {\n    return \"Image\";\n  }\n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      src: this.json.src + ''\n    }\n  }\n\n  resize() {\n    this.reset({\n      width: this.json.naturalWidth.clone(),\n      height: this.json.naturalHeight.clone()\n    })\n\n  }\n\n\n  updateFunction (currentElement, isChangeFragment = true) {\n    var {src} = this.json;     \n\n    if (isChangeFragment) {\n      currentElement.attr('src', src);\n\n      var $svg = currentElement.parent().$(`[data-id=\"${this.innerSVGId}\"]`);  \n\n      if ($svg) {\n        var $defs = $svg.$('defs');\n        $defs.html(this.toDefInnerString)          \n      } else {\n        currentElement.parent().prepend(Dom.createByHTML(this.toDefString));\n      }\n\n    }\n\n  }      \n\n  get html () {\n    var {id, src, itemType} = this.json;\n\n    return /*html*/`<img class='element-item ${itemType}' data-id=\"${id}\" src='${src}' />`\n  }\n\n  get svg () {\n    var x = this.json.x.value;\n    var y = this.json.y.value;\n    return this.toSVG(x, y);\n  }\n\n  toSVG (x, y) {\n    var {width, height, src} = this.json;\n    var css = this.toCSS();\n\n    delete css.left;\n    delete css.top;\n    if (css.position === 'absolute') {\n      delete css.position; \n    }\n\n    return /*html*/`\n    <g transform=\"translate(${x}, ${y})\">\n    ${this.toDefString}\n      <foreignObject ${OBJECT_TO_PROPERTY({ \n        width: width.value,\n        height: height.value,\n        overflow: 'visible'\n      })}>\n        <div xmlns=\"http://www.w3.org/1999/xhtml\">\n          <img style=\"${CSS_TO_STRING(css)}\" src=\"${src} \"/>\n        </div>\n      </foreignObject>    \n    </g>\n`\n  }     \n\n}\n \neditor.registerComponent('image', ImageLayer);","import PathParser from \"../../parse/PathParser\";\nimport { SVGItem } from \"./SVGItem\";\nimport { OBJECT_TO_PROPERTY, CSS_TO_STRING } from \"../../../util/functions/func\";\nimport { hasSVGProperty, hasCSSProperty} from \"../../util/Resource\";\nimport { Shape } from \"../../css-property/Shape\";\nimport { Length } from \"../../unit/Length\";\nimport { editor } from \"../../editor\";\nimport icon from \"../../../csseditor/ui/icon/icon\";\n\nexport class SVGTextItem extends SVGItem {\n\n  static getIcon () {\n    return icon.title;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'svg-text',\n      name: \"New Text\",   \n      totalLength: 0,\n      fill: 'rgba(0, 0, 0, 1)',\n      text: 'Insert a text', \n      'font-weight': Length.number(100),\n      textLength: Length.em(0),\n      lengthAdjust: 'spacingAndGlyphs',      \n      'shape-inside': '',\n      'shape-subtract': '',\n      'shape-margin': '',\n      'shape-padding': '',\n      ...obj\n    });\n  }\n\n  enableHasChildren() {\n    return false; \n  }\n\n\n\n  toShapeInsideCSS () {\n    var str = this.json['shape-inside']\n    var obj = Shape.parseStyle(str)\n\n    switch (obj.type) {\n    case 'path': \n    case 'svg': \n      str = `url(#${this.shapeInsideId})`\n      break; \n    }\n\n    return {\n      'shape-inside': str,\n      'inline-size': this.json.width\n    }\n  }  \n\n\n  updatePathItem (obj) {\n\n    // shape-inside \n    // shape-subtract \n\n    this.json.d = obj.d; \n    this.json.totalLength = obj.totalLength;\n    this.json.path = new PathParser(obj.d);\n\n    if(obj.segments) {\n      this.json.path.resetSegment(obj.segments);\n    }\n  }\n  \n  setCache () {\n    this.rect = this.clone();\n  }\n\n\n  convert(json) {\n    json = super.convert(json);\n\n    json.textLength = Length.parse(json.textLength);\n\n    return json;\n  }\n\n  toCloneObject() {\n    var json = this.json; \n    return {\n      ...super.toCloneObject(),\n      totalLength: json.totalLength,\n      text: json.text, \n      textLength: `${json.textLength}`,\n      lengthAdjust: json.lengthAdjust,      \n      'shape-inside': json['shape-inside']\n      // segments: clone(this.json.segments)\n    }\n  }\n\n  getDefaultTitle() {\n    return \"Text\";\n  }\n\n  toAnimationKeyframes (properties) {\n\n    var svgProperties = properties.filter(it => hasSVGProperty(it.property));\n    var cssProperties = properties.filter(it => hasCSSProperty(it.property));\n\n    return [\n      { selector: `[data-id=\"${this.json.id}\"]`, properties: cssProperties  },\n      { selector: `[data-id=\"${this.json.id}\"] text`, properties: svgProperties }\n    ] \n  }  \n\n\n  updateFunction (currentElement, isChangeFragment = true) {\n\n    if (isChangeFragment) {\n      var $text = currentElement.$('text'); \n      $text.text(this.json.text)\n      $text.setAttr({\n        filter: this.toFilterValue,\n        fill: this.toFillValue,\n        stroke: this.toStrokeValue,\n        y: this.json['font-size'] || '13px',        \n        textLength: this.json.textLength,\n        lengthAdjust: this.json.lengthAdjust\n      })\n\n      this.updateDefString(currentElement)\n    }\n  }    \n\n\n  toNestedCSS() {\n    \n    return [\n      { selector: '> text', css : {\n          ...this.toShapeInsideCSS()\n        }\n      }\n    ]\n  }    \n \n  toSVGCSS() {\n\n    return {\n      ...super.toSVGCSS(),\n      ...this.toShapeInsideCSS(),\n    };\n  }\n\n  get toShapeInside() {\n\n    var obj = Shape.parseStyle(this.json['shape-inside']);\n    var value = obj.value; \n    switch (obj.type) {\n    case 'path':\n      return /*html*/`<path d=\"${value}\" id=\"${this.shapeInsideId}\" />`\n    }\n\n    return ``\n  }  \n\n  get toDefInnerString () {\n    return /*html*/`\n        ${this.toFillSVG}\n        ${this.toStrokeSVG}\n        ${this.toShapeInside}\n    `\n  }\n\n  get shapeInsideId () {\n    return this.getInnerId('shape-inside')\n  }    \n\n  get html () {\n    var {id, textLength, lengthAdjust} = this.json; \n\n    return /*html*/`\n  <svg class='element-item textpath' data-id=\"${id}\">\n    ${this.toDefString}\n      <text ${OBJECT_TO_PROPERTY({\n        'class': 'svg-text-item',\n        textLength,\n        lengthAdjust,\n        y: this.json['font-size'] || '13px',        \n      })} >${this.json.text}</text>\n  </svg>`\n  }\n\n\n\n  get svg () {\n    var x = this.json.x.value;\n    var y = this.json.y.value;\n    return this.toSVG(x, y);\n  }\n  toSVG (x = 0, y = 0) { \n    var { textLength, lengthAdjust} = this.json; \n    return /*html*/`\n    <g transform=\"translate(${x}, ${y})\">    \n      ${this.toDefString}\n      <text ${OBJECT_TO_PROPERTY({\n        'class': 'svg-text-item',\n        ...this.toSVGAttribute(),        \n        textLength,\n        lengthAdjust,        \n        y: this.json['font-size'] || '13px',\n        style: CSS_TO_STRING(this.toSVGCSS())\n      })} >${this.json.text}</text>\n    </g>`\n  }\n}\n\neditor.registerComponent('svg-text', SVGTextItem);\n ","import PathParser from \"../../parse/PathParser\";\nimport { SVGItem } from \"./SVGItem\";\nimport { OBJECT_TO_PROPERTY, OBJECT_TO_CLASS, CSS_TO_STRING } from \"../../../util/functions/func\";\nimport { hasSVGProperty, hasCSSProperty, hasSVGPathProperty } from \"../../util/Resource\";\nimport { Length } from \"../../unit/Length\";\nimport Dom from \"../../../util/Dom\";\nimport { editor } from \"../../editor\";\nimport icon from \"../../../csseditor/ui/icon/icon\";\n\nexport class SVGTextPathItem extends SVGItem {\n\n  static getIcon () {\n    return icon.text_rotate;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'svg-textpath',\n      name: \"New TextPath\",   \n      d: '',\n      // segments: [],\n      totalLength: 0,\n      fill: 'rgba(0, 0, 0, 1)',\n      text: 'Insert a text', \n      textLength: Length.em(0),\n      lengthAdjust: 'spacingAndGlyphs',\n      startOffset: Length.em(0),\n      ...obj\n    });\n  }\n\n  enableHasChildren() {\n    return false; \n  }\n \n\n  updatePathItem (obj) {\n    this.json.d = obj.d; \n    this.json.totalLength = obj.totalLength;\n    this.json.path = new PathParser(obj.d);\n\n    if(obj.segments) {\n      this.json.path.resetSegment(obj.segments);\n    }\n  }\n  \n  setCache () {\n    this.rect = this.clone();\n    this.cachePath = this.json.path.clone()\n  }\n\n  recover () {\n    var sx = this.json.width.value / this.rect.width.value \n    var sy = this.json.height.value / this.rect.height.value \n\n    this.scale(sx, sy);\n  }\n\n  scale (sx, sy) {\n    this.json.d = this.cachePath.clone().scaleTo(sx, sy)\n    this.json.path.reset(this.json.d)\n  }\n\n  convert(json) {\n    json = super.convert(json);\n    // if (json.d)  {\n      json.path = new PathParser(json.d);\n    // }\n\n    json.textLength = Length.parse(json.textLength);\n    json.startOffset = Length.parse(json.startOffset);\n\n    return json;\n  }\n\n  toCloneObject() {\n    var json = this.json; \n    return {\n      ...super.toCloneObject(),\n      totalLength: json.totalLength,\n      d: json.d,\n      text: json.text, \n      textLength: `${json.textLength}`,\n      lengthAdjust: json.lengthAdjust,\n      startOffset: `${json.startOffset}`\n      // segments: clone(this.json.segments)\n    }\n  }\n\n  getDefaultTitle() {\n    return \"TextPath\";\n  }\n\n  toAnimationKeyframes (properties) {\n\n    var svgProperties = properties.filter(it => hasSVGProperty(it.property));\n    var svgPathProperties = properties.filter(it => hasSVGPathProperty(it.property));\n    var cssProperties = properties.filter(it => hasCSSProperty(it.property));\n\n    return [\n      { selector: `[data-id=\"${this.json.id}\"]`, properties: cssProperties  },\n      { selector: `[data-id=\"${this.json.id}\"] textPath`, properties: svgProperties },\n      { selector: `[data-id=\"${this.json.id}\"] path`, properties: svgPathProperties }\n    ] \n  }  \n\n\n  updateFunction (currentElement, isChangeFragment = true) {\n\n    var $path = currentElement.$('path');\n    $path.attr('d', this.json.d);\n\n    if (isChangeFragment) {\n      var $textPath = currentElement.$('textPath'); \n      $textPath.text(this.json.text)\n      $textPath.setAttr({\n        filter: this.toFilterValue,\n        fill: this.toFillValue,\n        stroke: this.toStrokeValue,\n        textLength: this.json.textLength,\n        lengthAdjust: this.json.lengthAdjust,\n        startOffset: this.json.startOffset\n      })\n\n      this.updateDefString(currentElement)\n\n    }\n\n    this.json.totalLength = $path.totalLength\n  }    \n\n  get toDefInnerString () {\n    return /*html*/`\n        ${this.toPathSVG}\n        ${this.toFillSVG}\n        ${this.toStrokeSVG}\n    `\n  }\n\n  get toPathId () {\n    return this.getInnerId('path')\n  }\n\n  get toPathSVG () {\n    return /*html*/`\n    <path ${OBJECT_TO_PROPERTY({\n      'class': 'svg-path-item',\n      id: this.toPathId,\n      d: this.json.d,\n      fill: 'none'\n    })} />\n    `\n  }\n\n  get html () {\n    var {id, textLength, lengthAdjust, startOffset} = this.json; \n\n    return /*html*/`\n  <svg class='element-item textpath' data-id=\"${id}\">\n    ${this.toDefString}\n      <text ${OBJECT_TO_PROPERTY({\n        'class': 'svg-textpath-item'\n      })} >\n        <textPath ${OBJECT_TO_PROPERTY({\n          'xlink:href' :`#${this.toPathId}`,\n          textLength,\n          lengthAdjust,\n          startOffset\n        })} >${this.json.text}</textPath>\n    </text>\n  </svg>`\n  }\n\n\n  get svg () {\n    var x = this.json.x.value;\n    var y = this.json.y.value;\n    return this.toSVG(x, y);\n  }\n  toSVG (x = 0, y = 0) {\n    var {textLength, lengthAdjust, startOffset} = this.json; \n    return /*html*/`\n    <g transform=\"translate(${x}, ${y})\">    \n      ${this.toDefString}\n      <text ${OBJECT_TO_PROPERTY({\n        'class': 'svg-textpath-item',\n        ...this.toSVGAttribute(),        \n        style: CSS_TO_STRING(this.toSVGCSS())\n      })} >\n        <textPath ${OBJECT_TO_PROPERTY({\n          'xlink:href' :`#${this.toPathId}`,\n          textLength,\n          lengthAdjust,\n          startOffset\n        })} >${this.json.text}</textPath>\n      </text>\n    </g>`\n  }\n}\n\neditor.registerComponent('svg-textpath', SVGTextPathItem); ","import { Layer } from \"../Layer\";\nimport { OBJECT_TO_PROPERTY, CSS_TO_STRING } from \"../../../util/functions/func\";\nimport { editor } from \"../../editor\";\nimport icon from \"../../../csseditor/ui/icon/icon\";\n\nexport class TextLayer extends Layer {\n\n  static getIcon () {\n    return icon.title;\n  }  \n  getDefaultObject(obj = {}) {\n    return super.getDefaultObject({\n      itemType: 'text',\n      name: \"New Text\",\n      elementType: 'p',\n      content: '',\n      ...obj\n    });\n  }\n  enableHasChildren() {\n    return false; \n  }\n\n  getDefaultTitle() {\n    return \"Text\";\n  } \n\n  toCloneObject() {\n    return {\n      ...super.toCloneObject(),\n      content: this.json.content\n    }\n  }\n\n  updateFunction (element) {\n    var {content} = this.json;\n\n    element.updateDiff(content);\n  }\n\n\n  toNestedCSS() {\n    \n    return [\n      { selector: '> *', cssText: `\n          pointer-events: none;\n        `\n      }\n    ]\n  }  \n\n  get html () {\n    var {id, itemType, content} = this.json;\n\n    return /*html*/`<p class='element-item ${itemType}' contenteditable=\"true\" data-id=\"${id}\">${content}</p>`\n  }\n\n\n  get svg () {\n    var x = this.json.x.value;\n    var y = this.json.y.value;\n    return this.toSVG(x, y);\n  }  \n\n  toSVG(x, y) {\n    var {width, height, content} = this.json;\n    var css = this.toCSS();\n\n    delete css.left;\n    delete css.top;\n    if (css.position === 'absolute') {\n      delete css.position; \n    }\n\n    css.margin = css.margin || '0px'\n\n    return /*html*/`\n    <g transform=\"translate(${x}, ${y})\">\n    ${this.toDefString}\n      <foreignObject ${OBJECT_TO_PROPERTY({ \n        width: width.value,\n        height: height.value\n      })}>\n        <div xmlns=\"http://www.w3.org/1999/xhtml\">\n          <p style=\"${CSS_TO_STRING(css)}\" >${content}</p>\n        </div>\n      </foreignObject>    \n    </g>\n`\n  }  \n\n\n}\n \neditor.registerComponent('text', TextLayer); ","\nimport CanvasView from \"../ui/view/CanvasView\";\nimport ToolMenu from \"../ui/view/ToolMenu\";\n\nimport UIElement, { EVENT } from \"../../util/UIElement\";\nimport { CLICK, DRAGOVER, DROP, PREVENT, ANIMATIONEND, TRANSITIONEND } from \"../../util/Event\";\nimport Inspector from \"../ui/control/Inspector\";\n\n\nimport popup from \"../ui/popup\";  \nimport StyleView from \"../ui/view/StyleView\";\nimport ObjectList from \"../ui/control/ObjectList\";\nimport LogoView from \"../ui/view/LogoView\";\nimport ExternalToolMenu from \"../ui/view/ExternalToolMenu\";\nimport icon from \"../ui/icon/icon\";\nimport CommandView from \"../ui/view/CommandView\";\nimport { editor } from \"../../editor/editor\";\nimport Dom from \"../../util/Dom\";\nimport Resource from \"../../editor/util/Resource\";\nimport windowList from \"../ui/window-list\";\nimport ImageFileView from \"../ui/view/ImageFileView\";\nimport TimelineProperty from \"../ui/control/TimelineProperty\";\nimport StatusBar from \"../ui/view/StatusBar\";\nimport items from \"../../editor/items\";\n\n// import Lottie from \"../../editor/parse/Lottie\";\n\n\n// var JSZip = require('jszip')\n\nexport default class CSSEditor extends UIElement {\n  \n  initialize () {\n    super.initialize()\n    Dom.create(document.body).attr('data-theme', editor.theme);\n  }\n\n  \n  [EVENT('changed.locale')] () {\n    this.rerender()\n  }\n\n  template() {\n    return this.templateForEditor();\n  }\n\n  templateForEditor() {\n    return /*html*/`\n      <div class=\"layout-main\">\n        <div class=\"layout-header\">\n            <LogoView />\n            <ToolMenu />\n            <ExternalToolMenu />\n        </div>\n        <div class=\"layout-middle\" ref='$middle'>\n          <div class=\"layout-body\">\n            <CanvasView />        \n          </div>                           \n          <div class='layout-left'>\n            <ObjectList />\n          </div>\n          <div class=\"layout-right\">\n            <Inspector />\n          </div>\n\n          <div class='layout-tools'>\n            <button ref='$toggleRight'>${icon.dahaze}</button>\n          </div>\n          <div class='layout-footer'>\n            <TimelineProperty />\n          </div>          \n        </div>\n        \n        <div class='status-bar'>\n          <StatusBar />\n        </div>\n\n        <FillPopup />\n        <ColorPickerPopup  />\n        <BoxShadowPropertyPopup />\n        <BackgroundImagePositionPopup />\n        <TextShadowPropertyPopup />\n        <AnimationPropertyPopup />\n        <TransitionPropertyPopup />\n        <KeyframePopup />\n        <ClipPathPopup />\n        <SVGPropertyPopup />\n        <SelectorPopup />\n        <ImageSelectPopup />\n        <GradientPickerPopup />\n        <FillPickerPopup />\n        <SVGFilterPopup />\n        <StyleView />    \n        <CommandView />    \n        <ExportWindow />\n        <!-- LoginWindow / -->\n        <!-- SignWindow / -->\n        <ImageFileView />\n      </div>\n    `;\n  }\n\n  components() {\n    return {\n      ...windowList,\n      ...popup,\n      ObjectList,\n      CommandView,\n      Inspector,\n      ToolMenu,\n      CanvasView,\n      StyleView,\n      LogoView,\n      ExternalToolMenu,\n      ImageFileView,\n      StatusBar,\n      TimelineProperty\n    };\n  }\n\n  [EVENT('changeTheme')] () {\n    Dom.create(document.body).attr('data-theme', editor.theme);\n  }\n\n  [CLICK('$toggleRight')] () {\n    this.trigger('toggleRightPanel');\n  }\n\n  [EVENT('toggleRightPanel')] () {\n    // editor.openRightPanel = !editor.openRightPanel\n    // this.refs.$middle.toggleClass('open-right', editor.openRightPanel);\n  }\n\n  [EVENT('toggleFooter')] (isShow) {\n    this.$el.toggleClass('show-footer', isShow);\n  }\n\n  [TRANSITIONEND('$el .layout-footer')] (e) {\n    this.emit('toggleFooterEnd');\n  }\n\n  [EVENT('refreshAll')] () {\n    // this.refs.$middle.toggleClass('open-right', editor.openRightPanel);\n\n    this.emit('refreshProjectList');\n    this.trigger('refreshAllSelectProject');\n  }\n\n  [EVENT('refreshAllSelectProject')] () {      \n    this.emit('refreshArtBoardList')    \n    this.trigger('refreshAllSelectArtBoard')\n  }\n\n  [EVENT('refreshAllSelectArtBoard')] () {      \n    this.emit('refreshLayerTreeView')    \n    this.emit('refreshAllCanvas');\n    this.emit('refreshStyleView');\n  }  \n\n  [EVENT('refreshElement')] (current) {\n    this.emit('refreshCanvas', current)\n    this.emit('refreshStyleView', current)\n  }\n\n  [DRAGOVER('$middle') + PREVENT] (e) {}\n\n  [DROP('$middle') + PREVENT] (e) {\n\n    var items = Resource.getAllDropItems(e);\n\n    this.emit('drop.items', items);\n\n  }\n\n\n  // [DRAGOVER() + PREVENT] (e) {}\n\n  // [DROP() + PREVENT] (e) {\n  //   const files = [...e.dataTransfer.files]\n\n  //   if (files.length) {\n  //     JSZip.loadAsync(files[0]).then(zip => {\n  //       console.log(zip);\n  //       var len = Object.keys(zip.files).length\n  //       var sketchData = {}\n\n  //       const loadSketch = () => {\n  //         if (Object.keys(sketchData).length === len) {\n  //           this.emit('loadSketchData', sketchData);\n  //         }\n  //       }\n\n\n  //       Object.keys(zip.files).forEach(relativePath => {\n  //         var zipEntry = zip.files[relativePath]\n\n  //         if (relativePath.includes('.json')) {\n  //             zipEntry.async('string').then((content) => {\n  //               var page = JSON.parse(content)\n  //               sketchData[relativePath] = page; \n\n  //               loadSketch()\n  //             },\n  //             function error (e) {\n  //               console.log(e)\n  //             })\n  //         } else if (relativePath.includes('.png')) {\n  //           zipEntry.async('base64').then((content) => {\n  //             var image = 'data:image/png;base64,' + content; \n  //             relativePath = relativePath.replace('.png', '')\n  //             sketchData[relativePath] = image; \n\n  //             loadSketch()              \n  //           },\n  //           function error (e) {\n  //             console.log(e)\n  //           })\n  //         }\n  //       })\n\n        \n  //     })\n  //   }\n\n\n  // }\n}\n","import { FilterClass } from \"./Filter\";\nimport { BackgroundImage } from \"./BackgroundImage\";\nimport { BoxShadow } from \"./BoxShadow\";\nimport { BorderImage } from \"./BorderImage\";\n\nexport default {\n  ...FilterClass,\n  BackgroundImage,\n  BorderImage,\n  BoxShadow\n};\n","import { Length, Position } from \"../unit/Length\";\nimport { keyMap, isNumber } from \"../../util/functions/func\";\nimport { Property } from \"../items/Property\";\nimport { StaticGradient } from \"../image-resource/StaticGradient\";\nimport { URLImageResource } from \"../image-resource/URLImageResource\";\nimport { LinearGradient } from \"../image-resource/LinearGradient\";\nimport { RepeatingLinearGradient } from \"../image-resource/RepeatingLinearGradient\";\nimport { RadialGradient } from \"../image-resource/RadialGradient\";\nimport { RepeatingRadialGradient } from \"../image-resource/RepeatingRadialGradient\";\nimport { ConicGradient } from \"../image-resource/ConicGradient\";\nimport { RepeatingConicGradient } from \"../image-resource/RepeatingConicGradient\";\nimport { Gradient } from \"../image-resource/Gradient\";\nimport { convertMatches, reverseMatches } from \"../../util/functions/parser\";\n\n\nexport class BorderImage extends Property {\n  addImageResource(imageResource) {\n    this.clear(\"image-resource\");\n    return this.addItem(\"image-resource\", imageResource);\n  }\n\n  addGradient(gradient) {\n    return this.addImageResource(gradient);\n  }\n\n  setImageUrl(data) {\n    if (!data.images) return;\n    if (!data.images.length) return;\n    this.reset({ type: \"image\", image: this.createImage(data.images[0]) });\n  }\n\n  createImage(url) {\n    return new URLImageResource({ url });\n  }\n\n  setGradient(data) {\n    this.reset({\n      type: data.type,\n      image: this.createGradient(data, this.json.image)\n    });\n  }\n\n  createGradient(data, gradient) {\n    const colorsteps = data.colorsteps;\n\n    // linear, conic 은 angle 도 같이 설정한다.\n    const angle = data.angle;\n\n    // radial 은  radialType 도 같이 설정한다.\n    const radialType = data.radialType;\n    const radialPosition = data.radialPosition;\n\n    let json = gradient.toJSON();\n    delete json.itemType;\n    delete json.type;\n\n    switch (data.type) {\n      case \"static-gradient\":\n        return new StaticGradient({ ...json, colorsteps });\n        break;\n      case \"linear-gradient\":\n        return new LinearGradient({ ...json, colorsteps, angle });\n      case \"repeating-linear-gradient\":\n        return new RepeatingLinearGradient({ ...json, colorsteps, angle });\n      case \"radial-gradient\":\n        return new RadialGradient({\n          ...json,\n          colorsteps,\n          radialType,\n          radialPosition\n        });\n      case \"repeating-radial-gradient\":\n        return new RepeatingRadialGradient({\n          ...json,\n          colorsteps,\n          radialType,\n          radialPosition\n        });\n      case \"conic-gradient\":\n        return new ConicGradient({\n          ...json,\n          colorsteps,\n          angle,\n          radialPosition\n        });\n      case \"repeating-conic-gradient\":\n        return new RepeatingConicGradient({\n          ...json,\n          colorsteps,\n          angle,\n          radialPosition\n        });\n    }\n\n    return new Gradient();\n  }\n\n  getDefaultObject() {\n    return super.getDefaultObject({\n      itemType: \"border-image\",\n      checked: false,\n      repeat: \"stretch\",\n      slice: {},\n      width: {},\n      image: StaticGradient.create(),\n    });\n  }\n\n  convert(json) {\n    Object.keys(json.slice).forEach(key => {\n      json.slice[key] = Length.parse(json.slice[key]); \n    }) \n\n    return json;\n  }\n\n  get image() {\n    return this.json.image;\n  }\n\n  set image(image) {\n    this.json.image = image;\n  }\n\n  toBorderImageOffsetCSS() {\n    return Object.keys(this.json.offset).map(key => {\n      return this.json.offset[key].toString()\n    }).join(' ')\n  }\n\n  toBorderImageCSS() {\n    if (!this.json.image) return {};\n\n    var image = this.json.image.toString();\n\n    return {\n      \"border-image-source\": `${image}`\n    };\n  }\n\n  toBorderImageRepeatCSS () {\n    if (!this.json.repeat) return {}     \n    return {\n      'border-image-repeat': `${this.json.repeat}`\n    }\n  }\n\n  toBorderImageWidthCSS () {\n\n    if (!this.json.width) return {} \n\n    var filters = Object.keys(this.json.width).filter(key => {\n      return this.json.width[key].value > 0 \n    })\n\n    if (filters.length === 0) return {} \n\n    var cssText = Object.keys(this.json.width).map(key => {\n      return this.json.width[key].toString()\n    }).join(' ')\n\n    return {\n      'border-image-width': `${cssText}`\n    }\n  }\n\n  toBorderImageSliceCSS () {\n    if (!this.json.slice) return {} \n    var cssText = Object.keys(this.json.slice).map(key => {\n      var len = this.json.slice[key];\n      return len.isPercent() ? len.toString() : len.value;\n    }).join(' ')\n\n    return {\n      'border-image-slice': `${cssText}`\n    }\n  }\n\n  toCSS() {\n    var results = {\n      ...this.toBorderImageCSS(),\n      ...this.toBorderImageRepeatCSS(),\n      ...this.toBorderImageSliceCSS(),\n      ...this.toBorderImageWidthCSS(),\n    };\n\n    return results;\n  }\n\n  toString() {\n    return keyMap(this.toCSS(), (key, value) => {\n      return `${key}: ${value}`;\n    }).join(\";\");\n  }\n\n  static parse(obj) {\n    return new BorderImage(obj);\n  }\n\n  static parseStyle(style) {\n    var borderImage = null;\n    var reg = /((linear\\-gradient|repeating\\-linear\\-gradient|radial\\-gradient|repeating\\-radial\\-gradient|conic\\-gradient|repeating\\-conic\\-gradient|url)\\(([^\\)]*)\\))/gi;\n\n    if (style[\"border-image\"]) {\n      var results = convertMatches(style[\"border-image\"]);\n\n      results.str.match(reg).forEach((value, index) => {\n        let image = null;\n        value = reverseMatches(value, results.matches);\n\n        const arr = style['border-image'].replace(value, '').split(' ').map(str => Length.parse(str))\n\n        if (value.includes(\"repeating-linear-gradient\")) {\n          // 반복을 먼저 파싱하고\n          image = RepeatingLinearGradient.parse(value);\n        } else if (value.includes(\"linear-gradient\")) {\n          // 그 다음에 파싱 하자.\n          image = LinearGradient.parse(value);\n        } else if (value.includes(\"repeating-radial-gradient\")) {\n          image = RepeatingRadialGradient.parse(value);\n        } else if (value.includes(\"radial\")) {\n          image = RadialGradient.parse(value);\n        } else if (value.includes(\"repeating-conic-gradient\")) {\n          image = RepeatingConicGradient.parse(value);\n        } else if (value.includes(\"conic\")) {\n          image = ConicGradient.parse(value);\n        } else if (value.includes(\"url\")) {\n          image = URLImageResource.parse(value);\n        }\n\n        borderImage = new BorderImage({\n          type: image.type,\n          image\n        });\n\n        var numbers = arr.filter(it => isNumber(it.value));\n\n        if (numbers.length === 1) {\n          borderImage.reset({\n            slice: {\n              top: numbers[0].clone(),\n              bottom: numbers[0].clone(),\n              left: numbers[0].clone(),\n              right: numbers[0].clone()\n            }\n          })\n        } else if (numbers.length === 2) {\n          borderImage.reset({\n            slice: {\n              top: numbers[0].clone(),\n              bottom: numbers[0].clone(),\n              left: numbers[1].clone(),\n              right: numbers[1].clone()\n            }\n          })\n        } else if (numbers.length === 3) {\n          borderImage.reset({\n            slice: {\n              top: numbers[0].clone(),\n              bottom: numbers[2].clone(),\n              left: numbers[1].clone(),\n              right: numbers[1].clone()\n            }\n          })\n        } else if (numbers.length === 4) {\n          borderImage.reset({\n            slice: {\n              top: numbers[0].clone(),\n              bottom: numbers[2].clone(),\n              left: numbers[3].clone(),\n              right: numbers[1].clone()\n            }\n          })          \n        }\n\n      });\n    }\n\n    return borderImage;\n  }\n}\n","import { ColorStep } from \"./ColorStep\";\nimport { ConicGradient } from \"./ConicGradient\";\nimport { LinearGradient } from \"./LinearGradient\";\nimport { RadialGradient } from \"./RadialGradient\";\nimport { RepeatingConicGradient } from \"./RepeatingConicGradient\";\nimport { RepeatingLinearGradient } from \"./RepeatingLinearGradient\";\nimport { RepeatingRadialGradient } from \"./RepeatingRadialGradient\";\nimport { URLImageResource } from \"./URLImageResource\";\n\nexport default {\n  ColorStep,\n  ConicGradient,\n  LinearGradient,\n  RadialGradient,\n  RepeatingConicGradient,\n  RepeatingLinearGradient,\n  RepeatingRadialGradient,\n  URLImageResource\n};\n","export default class ParserGenerator {\n  constructor(target, container) {\n    this.target = target;\n    this.container = container;\n\n    this.initialize();\n  }\n\n  initialize() {}\n\n  setSource(source) {\n    this.source = source;\n  }\n\n  parse() {}\n\n  generate() {}\n}\n","import CSSEditor from \"./editor/index\";\nimport * as App from \"../util/App\";\nimport cssProperty from \"../editor/css-property\";\nimport imageResource from \"../editor/image-resource\";\nimport parse from \"../editor/parse\";\n\nexport default {\n  createCSSEditor(opts = { type: \"white\" }) {\n    return App.start({\n      components: { CSSEditor },\n      template: `<CSSEditor ${opts.embed ? 'embed=\"true\"' : \"\"} />`,\n      ...opts\n    });\n  },\n  CSSEditor,\n  ...cssProperty,\n  ...imageResource,\n  ...parse\n};\n","import { DomParserGenerator } from \"./DomParserGenerator\";\nimport ParserGenerator from \"./ParserGenerator\";\n\nexport default {\n  ParserGenerator,\n  DomParserGenerator,\n};\n","import ParserGenerator from \"./ParserGenerator\";\nimport Dom from \"../../util/Dom\";\nimport { isFunction } from \"../../util/functions/func\";\n\nexport class DomParserGenerator extends ParserGenerator {\n  setSource(source) {\n    this.source = source;\n  }\n\n  initialize() {\n    this.container.addEventListener(\"click\", e => {\n      if (e.target) {\n        if (this.source) {\n          this.source.removeAttr(\"data-embed-editor-target\");\n        }\n\n        var $target = Dom.create(e.target);\n        $target.attr(\"data-embed-editor-target\", \"true\");\n\n        this.setSource($target);\n\n        this.parse();\n      }\n    });\n\n    this.container.addEventListener(\"input\", e => {\n      if (e.target && this.source) {\n        this.parseText();\n      }\n    });\n  }\n\n  // 이건 선택된 element 의 style 을 파싱해서 실제로 CSS Editor 가 원하는 객체로 넘겨주는 거임\n  // 흠 그런데 가만 생각해보니 이건 여기 있으면 안 될 것 같은데 .......\n  // parse 는 단순해야함.\n  // 예를 들어  obj.style.backgroundColor 라는게 있었다고 한다면\n  // { 'background-color': 'yellow' } 만 전달해야함\n  // 실제로 파싱한 객체를 저기서 가지고 있는게 아니라 흠 어렵네 ?\n  // 외부에서 쓸 때는 내부 객체를 모를꺼니 그냥 내부에 파싱을 해야겠네.....\n  parse() {\n    // $target 의 설정 가능한 값 파싱하기\n    var data = this.source.getStyleList(\n      \"width\",\n      \"height\",\n      \"margin\",\n      \"padding\",\n      \"line-height\",\n      \"font-size\",\n      'font-stretch',\n      \"letter-spacing\",\n      \"word-spacing\",\n      'text-indent'\n    );\n    data.content = this.source.text();\n\n    if (this.target && isFunction(this.target.parseEnd)) {\n      this.target.parseEnd(data);\n    }\n  }\n\n  parseText() {\n    // $target 의 설정 가능한 값 파싱하기\n    var data = {};\n    data.content = this.source.text();\n\n    if (this.target && isFunction(this.target.parseEnd)) {\n      this.target.parseEnd(data);\n    }\n  }\n\n  // 여긴 css editor 가 준 값임. css object 형태로 줌\n  // 예를 들어  { 'border-radius': '3px' } 대략 이정도로 줌\n  generate(cssObject) {\n    // 이건 Dom 기준이라 해당 소스 element에  그냥 CSS 를 넣으면 끝남\n    if (this.source) {\n      this.source.css(cssObject);\n      if (this.source.text() != cssObject.content) {\n        this.source.text(cssObject.content);\n      }\n    }\n  }\n}\n","import \"./scss/index.scss\";\n\nimport Util from \"./util/index\";\nimport ColorPicker from \"./colorpicker/index\";\nimport CSSEditor from \"./csseditor/index\";\n\nfunction startEditor() {\n  var editor = new CSSEditor.createCSSEditor();\n\n  return editor;\n}\n\nexport default {\n  ...Util,\n  ...ColorPicker,\n  ...CSSEditor,\n  startEditor\n};\n\nwindow.editor = startEditor();\n"],"sourceRoot":""}